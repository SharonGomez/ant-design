var OS=Object.defineProperty,IS=Object.defineProperties;var DS=Object.getOwnPropertyDescriptors;var _h=Object.getOwnPropertySymbols;var R0=Object.prototype.hasOwnProperty,k0=Object.prototype.propertyIsEnumerable;var Av=Math.pow,N0=(ze,G,C)=>G in ze?OS(ze,G,{enumerable:!0,configurable:!0,writable:!0,value:C}):ze[G]=C,wa=(ze,G)=>{for(var C in G||(G={}))R0.call(G,C)&&N0(ze,C,G[C]);if(_h)for(var C of _h(G))k0.call(G,C)&&N0(ze,C,G[C]);return ze},so=(ze,G)=>IS(ze,DS(G));var Ch=(ze,G)=>{var C={};for(var m in ze)R0.call(ze,m)&&G.indexOf(m)<0&&(C[m]=ze[m]);if(ze!=null&&_h)for(var m of _h(ze))G.indexOf(m)<0&&k0.call(ze,m)&&(C[m]=ze[m]);return C};var B0=(ze,G,C)=>new Promise((m,R)=>{var S=P=>{try{L(C.next(P))}catch(p){R(p)}},M=P=>{try{L(C.throw(P))}catch(p){R(p)}},L=P=>P.done?m(P.value):Promise.resolve(P.value).then(S,M);L((C=C.apply(ze,G)).next())});(self.webpackChunkantd=self.webpackChunkantd||[]).push([[4668],{62238:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var C=function(S,M){var L=S.nodes,P=S.edges,p=[],g={};if(!L)throw new Error("invalid nodes data!");return L&&L.forEach(function(w,x){g[w.id]=x;var y=[];p.push(y)}),P&&P.forEach(function(w){var x=w.source,y=w.target,T=g[x],E=g[y];!T&&T!==0||!E&&E!==0||(p[T][E]=1,M||(p[E][T]=1))}),p},m=C;G.default=m},810369:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),Object.defineProperty(G,"GADDIAsync",{enumerable:!0,get:function(){return m.GADDIAsync}}),Object.defineProperty(G,"connectedComponentAsync",{enumerable:!0,get:function(){return m.connectedComponentAsync}}),G.default=void 0,Object.defineProperty(G,"detectAllCyclesAsync",{enumerable:!0,get:function(){return m.detectAllCyclesAsync}}),Object.defineProperty(G,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return m.detectAllDirectedCycleAsync}}),Object.defineProperty(G,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return m.detectAllUndirectedCycleAsync}}),Object.defineProperty(G,"detectCycleAsync",{enumerable:!0,get:function(){return m.detectCycleAsync}}),G.detectDirectedCycleAsync=void 0,Object.defineProperty(G,"dijkstraAsync",{enumerable:!0,get:function(){return m.dijkstraAsync}}),Object.defineProperty(G,"findAllPathAsync",{enumerable:!0,get:function(){return m.findAllPathAsync}}),Object.defineProperty(G,"findShortestPathAsync",{enumerable:!0,get:function(){return m.findShortestPathAsync}}),Object.defineProperty(G,"floydWarshallAsync",{enumerable:!0,get:function(){return m.floydWarshallAsync}}),Object.defineProperty(G,"getAdjMatrixAsync",{enumerable:!0,get:function(){return m.getAdjMatrixAsync}}),Object.defineProperty(G,"getDegreeAsync",{enumerable:!0,get:function(){return m.getDegreeAsync}}),Object.defineProperty(G,"getInDegreeAsync",{enumerable:!0,get:function(){return m.getInDegreeAsync}}),Object.defineProperty(G,"getNeighborsAsync",{enumerable:!0,get:function(){return m.getNeighborsAsync}}),Object.defineProperty(G,"getOutDegreeAsync",{enumerable:!0,get:function(){return m.getOutDegreeAsync}}),Object.defineProperty(G,"labelPropagationAsync",{enumerable:!0,get:function(){return m.labelPropagationAsync}}),Object.defineProperty(G,"louvainAsync",{enumerable:!0,get:function(){return m.louvainAsync}}),Object.defineProperty(G,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return m.minimumSpanningTreeAsync}}),Object.defineProperty(G,"pageRankAsync",{enumerable:!0,get:function(){return m.pageRankAsync}});var m=C(430485),R=m.detectCycleAsync;G.detectDirectedCycleAsync=R;var S={getAdjMatrixAsync:m.getAdjMatrixAsync,connectedComponentAsync:m.connectedComponentAsync,getDegreeAsync:m.getDegreeAsync,getInDegreeAsync:m.getInDegreeAsync,getOutDegreeAsync:m.getOutDegreeAsync,detectCycleAsync:m.detectCycleAsync,detectDirectedCycleAsync:R,detectAllCyclesAsync:m.detectAllCyclesAsync,detectAllDirectedCycleAsync:m.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:m.detectAllUndirectedCycleAsync,dijkstraAsync:m.dijkstraAsync,findAllPathAsync:m.findAllPathAsync,findShortestPathAsync:m.findShortestPathAsync,floydWarshallAsync:m.floydWarshallAsync,labelPropagationAsync:m.labelPropagationAsync,louvainAsync:m.louvainAsync,minimumSpanningTreeAsync:m.minimumSpanningTreeAsync,pageRankAsync:m.pageRankAsync,getNeighborsAsync:m.getNeighborsAsync,GADDIAsync:m.GADDIAsync};G.default=S},683764:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var m=S(C(893026)),R=C(770643);function S(p){return p&&p.__esModule?p:{default:p}}function M(p){p===void 0&&(p={});var g=p,w=function(){},x=function(){var y={};return function(T){var E=T.next,D=E;return y[D]?!1:(y[D]=!0,!0)}}();return g.allowTraversal=p.allowTraversal||x,g.enter=p.enter||w,g.leave=p.leave||w,g}var L=function(g,w,x,y){y===void 0&&(y=!0);var T=M(x),E=new m.default,D=g.edges,k=D===void 0?[]:D;E.enqueue(w);for(var b="",f=function(){var X=E.dequeue();T.enter({current:X,previous:b}),(0,R.getNeighbors)(X,k,y?"target":void 0).forEach(function(z){T.allowTraversal({previous:b,current:X,next:z})&&E.enqueue(z)}),T.leave({current:X,previous:b}),b=X};!E.isEmpty();)f()},P=L;G.default=P},759527:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=M,G.detectStrongConnectComponents=G.detectConnectedComponents=void 0;var m=C(770643),R=function(P){for(var p=P.nodes,g=p===void 0?[]:p,w=P.edges,x=w===void 0?[]:w,y=[],T={},E=[],D=function W(X){E.push(X),T[X.id]=!0;for(var z=(0,m.getNeighbors)(X.id,x),U=function(J){var q=z[J];if(!T[q]){var et=g.filter(function(st){return st.id===q});et.length>0&&W(et[0])}},j=0;j<z.length;++j)U(j)},k=0;k<g.length;k++){var b=g[k];if(!T[b.id]){D(b);for(var f=[];E.length>0;)f.push(E.pop());y.push(f)}}return y};G.detectConnectedComponents=R;var S=function(P){for(var p=P.nodes,g=p===void 0?[]:p,w=P.edges,x=w===void 0?[]:w,y=[],T={},E={},D={},k=[],b=0,f=function U(j){E[j.id]=b,D[j.id]=b,b+=1,y.push(j),T[j.id]=!0;for(var V=(0,m.getNeighbors)(j.id,x,"target").filter(function(ot){return g.map(function(mt){return mt.id}).indexOf(ot)>-1}),J=function(mt){var ft=V[mt];if(!E[ft]&&E[ft]!==0){var Bt=g.filter(function(St){return St.id===ft});Bt.length>0&&U(Bt[0]),D[j.id]=Math.min(D[j.id],D[ft])}else T[ft]&&(D[j.id]=Math.min(D[j.id],E[ft]))},q=0;q<V.length;q++)J(q);if(D[j.id]===E[j.id]){for(var et=[];y.length>0;){var st=y.pop();if(T[st.id]=!1,et.push(st),st===j)break}et.length>0&&k.push(et)}},W=0,X=g;W<X.length;W++){var z=X[W];!E[z.id]&&E[z.id]!==0&&f(z)}return k};G.detectStrongConnectComponents=S;function M(L,P){return P?S(L):R(L)}},592935:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.secondReg=G.dateReg=void 0;var C=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;G.secondReg=C;var m=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/;G.dateReg=m},182556:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.getOutDegree=G.getInDegree=G.default=void 0;var C=function(L){var P={},p=L.nodes,g=p===void 0?[]:p,w=L.edges,x=w===void 0?[]:w;return g.forEach(function(y){P[y.id]={degree:0,inDegree:0,outDegree:0}}),x.forEach(function(y){P[y.source].degree++,P[y.source].outDegree++,P[y.target].degree++,P[y.target].inDegree++}),P},m=C;G.default=m;var R=function(L,P){var p=C(L);return p[P]?C(L)[P].inDegree:0};G.getInDegree=R;var S=function(L,P){var p=C(L);return p[P]?C(L)[P].outDegree:0};G.getOutDegree=S},994282:function(ze,G,C){"use strict";function m(E){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},m(E)}Object.defineProperty(G,"__esModule",{value:!0}),G.detectAllUndirectedCycle=G.detectAllDirectedCycle=G.detectAllCycles=G.default=void 0;var R=p(C(45891)),S=P(C(759527)),M=C(770643);function L(E){if(typeof WeakMap!="function")return null;var D=new WeakMap,k=new WeakMap;return(L=function(f){return f?k:D})(E)}function P(E,D){if(!D&&E&&E.__esModule)return E;if(E===null||m(E)!=="object"&&typeof E!="function")return{default:E};var k=L(D);if(k&&k.has(E))return k.get(E);var b={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in E)if(W!=="default"&&Object.prototype.hasOwnProperty.call(E,W)){var X=f?Object.getOwnPropertyDescriptor(E,W):null;X&&(X.get||X.set)?Object.defineProperty(b,W,X):b[W]=E[W]}return b.default=E,k&&k.set(E,b),b}function p(E){return E&&E.__esModule?E:{default:E}}var g=function(D){var k=null,b=D.nodes,f=b===void 0?[]:b,W={},X={},z={},U={};f.forEach(function(J){X[J.id]=J});for(var j={enter:function(q){var et=q.current,st=q.previous;if(z[et]){k={};for(var ot=et,mt=st;mt!==et;)k[ot]=mt,ot=mt,mt=W[mt];k[ot]=mt}else z[et]=et,delete X[et],W[et]=st},leave:function(q){var et=q.current;U[et]=et,delete z[et]},allowTraversal:function(q){var et=q.next;return k?!1:!U[et]}};Object.keys(X).length;){var V=Object.keys(X)[0];(0,R.default)(D,V,j)}return k},w=function(D,k,b){var f,W;b===void 0&&(b=!0);for(var X=[],z=(0,S.default)(D,!1),U=0,j=z;U<j.length;U++){var V=j[U];if(V.length)for(var J=V[0],q=J.id,et=[J],st=(f={},f[q]=J,f),ot=(W={},W[q]=new Set,W);et.length>0;)for(var mt=et.pop(),ft=mt.id,Bt=(0,M.getNeighbors)(ft,D.edges),St=function(Q){var bt,Ct=Bt[Q],nt=D.nodes.find(function(Ht){return Ht.id===Ct});if(Ct===ft)X.push((bt={},bt[Ct]=mt,bt));else if(!(Ct in ot))st[Ct]=mt,et.push(nt),ot[Ct]=new Set([mt]);else if(!ot[ft].has(nt)){for(var dt=!0,Tt=[nt,mt],At=st[ft];ot[Ct].size&&!ot[Ct].has(At)&&(Tt.push(At),At!==st[At.id]);)At=st[At.id];if(Tt.push(At),k&&b?(dt=!1,Tt.findIndex(function(Ht){return k.indexOf(Ht.id)>-1})>-1&&(dt=!0)):k&&!b&&Tt.findIndex(function(Ht){return k.indexOf(Ht.id)>-1})>-1&&(dt=!1),dt){for(var xt={},Dt=1;Dt<Tt.length;Dt+=1)xt[Tt[Dt-1].id]=Tt[Dt];Tt.length&&(xt[Tt[Tt.length-1].id]=Tt[0]),X.push(xt)}ot[Ct].add(mt)}},wt=0;wt<Bt.length;wt+=1)St(wt)}return X};G.detectAllUndirectedCycle=w;var x=function(D,k,b){b===void 0&&(b=!0);for(var f=[],W=new Set,X=[],z=[],U={},j={},V=function(At){for(var xt=[At];xt.length>0;){var Dt=xt.pop();W.has(Dt)&&(W.delete(Dt),X[Dt.id].forEach(function(Ht){xt.push(Ht)}),X[Dt.id].clear())}},J=function Tt(At,xt,Dt){var Ht=!1;if(k&&b===!1&&k.indexOf(At.id)>-1)return Ht;f.push(At),W.add(At);for(var se=Dt[At.id],re=0;re<se.length;re+=1){var It=U[se[re]];if(It===xt){for(var ne={},pe=1;pe<f.length;pe+=1)ne[f[pe-1].id]=f[pe];f.length&&(ne[f[f.length-1].id]=f[0]),z.push(ne),Ht=!0}else W.has(It)||Tt(It,xt,Dt)&&(Ht=!0)}if(Ht)V(At);else for(var re=0;re<se.length;re+=1){var It=U[se[re]];X[It.id].has(At)||X[It.id].add(At)}return f.pop(),Ht},q=D.nodes,et=q===void 0?[]:q,st=0;st<et.length;st+=1){var ot=et[st],mt=ot.id;j[mt]=st,U[st]=ot}if(k&&b)for(var ft=function(At){var xt=k[At];j[et[At].id]=j[xt],j[xt]=0,U[0]=et.find(function(Dt){return Dt.id===xt}),U[j[et[At].id]]=et[At]},st=0;st<k.length;st++)ft(st);for(var Bt=function(At){for(var xt,Dt,Ht=1/0,se=0;se<At.length;se+=1)for(var re=At[se],It=0;It<re.length;It++){var ne=j[re[It].id];ne<Ht&&(Ht=ne,Dt=se)}for(var pe=At[Dt],Wt=[],se=0;se<pe.length;se+=1){var Jt=pe[se];Wt[Jt.id]=[];for(var $t=0,Kt=(0,M.getNeighbors)(Jt.id,D.edges,"target").filter(function(Pt){return pe.map(function(Fe){return Fe.id}).indexOf(Pt)>-1});$t<Kt.length;$t++){var ue=Kt[$t];ue===Jt.id&&!(b===!1&&k.indexOf(Jt.id)>-1)?z.push((xt={},xt[Jt.id]=Jt,xt)):Wt[Jt.id].push(j[ue])}}return{component:pe,adjList:Wt,minIdx:Ht}},St=0;St<et.length;){var wt=et.filter(function(Tt){return j[Tt.id]>=St}),H=(0,S.detectStrongConnectComponents)({nodes:wt,edges:D.edges}).filter(function(Tt){return Tt.length>1});if(H.length===0)break;var Q=Bt(H),bt=Q.minIdx,Ct=Q.adjList,nt=Q.component;if(nt.length>1){nt.forEach(function(Tt){X[Tt.id]=new Set});var dt=U[bt];if(k&&b&&k.indexOf(dt.id)===-1)return z;J(dt,dt,Ct),St=bt+1}else break}return z};G.detectAllDirectedCycle=x;var y=function(D,k,b,f){return f===void 0&&(f=!0),k?x(D,b,f):w(D,b,f)};G.detectAllCycles=y;var T=g;G.default=T},45891:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=M;var m=C(770643);function R(L){L===void 0&&(L={});var P=L,p=function(){},g=function(){var w={};return function(x){var y=x.next;return w[y]?!1:(w[y]=!0,!0)}}();return P.allowTraversal=L.allowTraversal||g,P.enter=L.enter||p,P.leave=L.leave||p,P}function S(L,P,p,g){g.enter({current:P,previous:p});var w=L.edges,x=w===void 0?[]:w;(0,m.getNeighbors)(P,x,"target").forEach(function(y){g.allowTraversal({previous:p,current:P,next:y})&&S(L,y,P,g)}),g.leave({current:P,previous:p})}function M(L,P,p){S(L,P,"",R(p))}},878089:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var m=C(570655),R=C(413810),S=C(770643),M=function(w,x,y){for(var T=1/0,E,D=0;D<x.length;D++){var k=x[D].id;!y[k]&&w[k]<=T&&(T=w[k],E=x[D])}return E},L=function(w,x,y,T){var E=w.nodes,D=E===void 0?[]:E,k=w.edges,b=k===void 0?[]:k,f=[],W={},X={},z={};D.forEach(function(st,ot){var mt=st.id;f.push(mt),X[mt]=1/0,mt===x&&(X[mt]=0)});for(var U=D.length,j=function(ot){var mt=M(X,D,W),ft=mt.id;if(W[ft]=!0,X[ft]===1/0)return"continue";var Bt=[];y?Bt=(0,S.getOutEdgesNodeId)(ft,b):Bt=(0,S.getEdgesByNodeId)(ft,b),Bt.forEach(function(St){var wt=St.target,H=St.source,Q=wt===ft?H:wt,bt=T&&St[T]?St[T]:1;X[Q]>X[mt.id]+bt?(X[Q]=X[mt.id]+bt,z[Q]=[mt.id]):X[Q]===X[mt.id]+bt&&z[Q].push(mt.id)})},V=0;V<U;V++)j(V);z[x]=[x];var J={};for(var q in X)X[q]!==1/0&&p(x,q,z,J);var et={};for(var q in J)et[q]=J[q][0];return{length:X,path:et,allPath:J}},P=L;G.default=P;function p(g,w,x,y){if(g===w)return[g];if(y[w])return y[w];for(var T=[],E=0,D=x[w];E<D.length;E++){var k=D[E],b=p(g,k,x,y);if(!b)return;for(var f=0,W=b;f<W.length;f++){var X=W[f];(0,R.isArray)(X)?T.push((0,m.__spreadArray)((0,m.__spreadArray)([],X,!0),[w],!1)):T.push([X,w])}}return y[w]=T,y[w]}},241727:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.findShortestPath=G.findAllPath=void 0;var m=S(C(878089)),R=C(770643);function S(P){return P&&P.__esModule?P:{default:P}}var M=function(p,g,w,x,y){var T=(0,m.default)(p,g,x,y),E=T.length,D=T.path,k=T.allPath;return{length:E[w],path:D[w],allPath:k[w]}};G.findShortestPath=M;var L=function(p,g,w,x){var y;if(g===w)return[[g]];var T=p.edges,E=T===void 0?[]:T,D=[g],k=(y={},y[g]=!0,y),b=[],f=[],W=x?(0,R.getNeighbors)(g,E,"target"):(0,R.getNeighbors)(g,E);for(b.push(W);D.length>0&&b.length>0;){var X=b[b.length-1];if(X.length){var z=X.shift();z&&(D.push(z),k[z]=!0,W=x?(0,R.getNeighbors)(z,E,"target"):(0,R.getNeighbors)(z,E),b.push(W.filter(function(V){return!k[V]})))}else{var U=D.pop();k[U]=!1,b.pop();continue}if(D[D.length-1]===w){var j=D.map(function(J){return J});f.push(j);var U=D.pop();k[U]=!1,b.pop()}}return f};G.findAllPath=L},975033:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var m=R(C(62238));function R(L){return L&&L.__esModule?L:{default:L}}var S=function(P,p){for(var g=(0,m.default)(P,p),w=[],x=g.length,y=0;y<x;y+=1){w[y]=[];for(var T=0;T<x;T+=1)y===T?w[y][T]=0:g[y][T]===0||!g[y][T]?w[y][T]=1/0:w[y][T]=g[y][T]}for(var E=0;E<x;E+=1)for(var y=0;y<x;y+=1)for(var T=0;T<x;T+=1)w[y][T]>w[y][E]+w[E][T]&&(w[y][T]=w[y][E]+w[E][T]);return w},M=S;G.default=M},821146:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var m=C(413810),R=C(368575),S=function(){function T(E,D,k,b,f){this.fromNode=E,this.toNode=D,this.nodeEdgeNodeLabel={nodeLabel1:k||R.VACANT_NODE_LABEL,edgeLabel:b||R.VACANT_EDGE_LABEL,nodeLabel2:f||R.VACANT_NODE_LABEL}}return T.prototype.equalTo=function(E){return this.fromNode===E.formNode&&this.toNode===E.toNode&&this.nodeEdgeNodeLabel===E.nodeEdgeNodeLabel},T.prototype.notEqualTo=function(E){return!this.equalTo(E)},T}(),M=function(){function T(){this.rmpath=[],this.dfsEdgeList=[]}return T.prototype.equalTo=function(E){var D=this.dfsEdgeList.length,k=E.length;if(D!==k)return!1;for(var b=0;b<D;b++)if(this.dfsEdgeList[b]!==E[b])return!1;return!0},T.prototype.notEqualTo=function(E){return!this.equalTo(E)},T.prototype.pushBack=function(E,D,k,b,f){return this.dfsEdgeList.push(new S(E,D,k,b,f)),this.dfsEdgeList},T.prototype.toGraph=function(E,D){E===void 0&&(E=R.VACANT_GRAPH_ID),D===void 0&&(D=!1);var k=new R.Graph(E,!0,D);return this.dfsEdgeList.forEach(function(b){var f=b.fromNode,W=b.toNode,X=b.nodeEdgeNodeLabel,z=X.nodeLabel1,U=X.edgeLabel,j=X.nodeLabel2;z!==R.VACANT_NODE_LABEL&&k.addNode(f,z),j!==R.VACANT_NODE_LABEL&&k.addNode(W,j),z!==R.VACANT_NODE_LABEL&&j!==z&&k.addEdge(void 0,f,W,U)}),k},T.prototype.buildRmpath=function(){this.rmpath=[];for(var E=void 0,D=this.dfsEdgeList.length,k=D-1;k>=0;k--){var b=this.dfsEdgeList[k],f=b.fromNode,W=b.toNode;f<W&&(E===void 0||W===E)&&(this.rmpath.push(k),E=f)}return this.rmpath},T.prototype.getNodeNum=function(){var E={};return this.dfsEdgeList.forEach(function(D){E[D.fromNode]||(E[D.fromNode]=!0),E[D.toNode]||(E[D.toNode]=!0)}),Object.keys(E).length},T}(),L=function(){function T(E){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!E){for(;E;){var D=E.edge;this.edges.push(D),this.nodesUsed[D.from]=1,this.nodesUsed[D.to]=1,this.edgesUsed[D.id]=1,E=E.preNode}this.edges=this.edges.reverse()}}return T.prototype.hasNode=function(E){return this.nodesUsed[E.id]===1},T.prototype.hasEdge=function(E){return this.edgesUsed[E.id]===1},T}(),P=function(){function T(E){var D=E.graphs,k=E.minSupport,b=k===void 0?2:k,f=E.minNodeNum,W=f===void 0?1:f,X=E.maxNodeNum,z=X===void 0?4:X,U=E.top,j=U===void 0?10:U,V=E.directed,J=V===void 0?!1:V,q=E.verbose,et=q===void 0?!1:q;this.graphs=D,this.dfsCode=new M,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=b,this.top=j,this.directed=J,this.counter=0,this.maxNodeNum=z,this.minNodeNum=W,this.verbose=et,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return T.prototype.findForwardRootEdges=function(E,D){var k=this,b=[],f=E.nodeMap;return D.edges.forEach(function(W){(k.directed||D.label<=f[W.to].label)&&b.push(W)}),b},T.prototype.findBackwardEdge=function(E,D,k,b){if(!this.directed&&D===k)return null;for(var f=E.nodeMap,W=f[k.to],X=W.edges,z=X.length,U=0;U<z;U++){var j=X[U];if(!(b.hasEdge(j)||j.to!==D.from)){if(this.directed){if(f[D.from].label<f[k.to].label||f[D.from].label===f[k.to].label&&D.label<=j.label)return j}else if(D.label<j.label||D.label===j.label&&f[D.to].label<=f[k.to].label)return j}}return null},T.prototype.findForwardPureEdges=function(E,D,k,b){for(var f=[],W=D.to,X=E.nodeMap[W].edges,z=X.length,U=0;U<z;U++){var j=X[U],V=E.nodeMap[j.to];k<=V.label&&!b.hasNode(V)&&f.push(j)}return f},T.prototype.findForwardRmpathEdges=function(E,D,k,b){for(var f=[],W=E.nodeMap,X=W[D.to].label,z=W[D.from],U=z.edges,j=U.length,V=0;V<j;V++){var J=U[V],q=W[J.to].label;D.to===J.to||k>q||b.hasNode(W[J.to])||(D.label<J.label||D.label===J.label&&X<=q)&&f.push(J)}return f},T.prototype.getSupport=function(E){var D={};return E.forEach(function(k){D[k.graphId]||(D[k.graphId]=!0)}),Object.keys(D).length},T.prototype.findMinLabel=function(E){var D=void 0;return Object.keys(E).forEach(function(k){var b=E[k],f=b.nodeLabel1,W=b.edgeLabel,X=b.nodeLabel2;if(!D){D={nodeLabel1:f,edgeLabel:W,nodeLabel2:X};return}(f<D.nodeLabel1||f===D.nodeLabel1&&W<D.edgeLabel||f===D.nodeLabel1&&W===D.edgeLabel&&X<D.nodeLabel2)&&(D={nodeLabel1:f,edgeLabel:W,nodeLabel2:X})}),D},T.prototype.isMin=function(){var E=this,D=this.dfsCode;if(this.verbose&&console.log("isMin checking",D),D.dfsEdgeList.length===1)return!0;var k=this.directed,b=D.toGraph(R.VACANT_GRAPH_ID,k),f=b.nodeMap,W=new M,X={};b.nodes.forEach(function(V){var J=E.findForwardRootEdges(b,V);J.forEach(function(q){var et=f[q.to],st="".concat(V.label,"-").concat(q.label,"-").concat(et.label);X[st]||(X[st]={projected:[],nodeLabel1:V.label,edgeLabel:q.label,nodeLabel2:et.label});var ot={graphId:b.id,edge:q,preNode:null};X[st].projected.push(ot)})});var z=this.findMinLabel(X);if(z){W.dfsEdgeList.push(new S(0,1,z.nodeLabel1,z.edgeLabel,z.nodeLabel2));var U=function V(J){for(var q=W.buildRmpath(),et=W.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,st=W.dfsEdgeList[q[0]].toNode,ot={},mt=!1,ft=0,Bt=k?-1:0,St=function(se){if(mt)return"break";J.forEach(function(re){var It=new L(re),ne=E.findBackwardEdge(b,It.edges[q[se]],It.edges[q[0]],It);ne&&(ot[ne.label]||(ot[ne.label]={projected:[],edgeLabel:ne.label}),ot[ne.label].projected.push({graphId:b.id,edge:ot,preNode:re}),ft=W.dfsEdgeList[q[se]].fromNode,mt=!0)})},wt=q.length-1;wt>Bt;wt--){var H=St(wt);if(H==="break")break}if(mt){var Q=E.findMinLabel(ot);W.dfsEdgeList.push(new S(st,ft,R.VACANT_NODE_LABEL,Q.edgeLabel,R.VACANT_NODE_LABEL));var bt=W.dfsEdgeList.length-1;return E.dfsCode.dfsEdgeList[bt]!==W.dfsEdgeList[bt]?!1:V(ot[Q.edgeLabel].projected)}var Ct={};mt=!1;var nt=0;J.forEach(function(Ht){var se=new L(Ht),re=E.findForwardPureEdges(b,se.edges[q[0]],et,se);re.length>0&&(mt=!0,nt=st,re.forEach(function(It){var ne="".concat(It.label,"-").concat(f[It.to].label);Ct[ne]||(Ct[ne]={projected:[],edgeLabel:It.label,nodeLabel2:f[It.to].label}),Ct[ne].projected.push({graphId:b.id,edge:It,preNode:Ht})}))});for(var dt=q.length,Tt=function(se){if(mt)return"break";var re=q[se];J.forEach(function(It){var ne=new L(It),pe=E.findForwardRmpathEdges(b,ne.edges[re],et,ne);pe.length>0&&(mt=!0,nt=W.dfsEdgeList[re].fromNode,pe.forEach(function(Wt){var Jt="".concat(Wt.label,"-").concat(f[Wt.to].label);Ct[Jt]||(Ct[Jt]={projected:[],edgeLabel:Wt.label,nodeLabel2:f[Wt.to].label}),Ct[Jt].projected.push({graphId:b.id,edge:Wt,preNode:It})}))})},wt=0;wt<dt;wt++){var At=Tt(wt);if(At==="break")break}if(!mt)return!0;var xt=E.findMinLabel(Ct);W.dfsEdgeList.push(new S(nt,st+1,R.VACANT_NODE_LABEL,xt.edgeLabel,xt.nodeLabel2));var Dt=W.dfsEdgeList.length-1;return D.dfsEdgeList[Dt]!==W.dfsEdgeList[Dt]?!1:V(Ct["".concat(xt.edgeLabel,"-").concat(xt.nodeLabel2)].projected)},j="".concat(z.nodeLabel1,"-").concat(z.edgeLabel,"-").concat(z.nodeLabel2);return U(X[j].projected)}},T.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var E=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,m.clone)(E))}},T.prototype.subGraphMining=function(E){var D=this,k=this.getSupport(E);if(!(k<this.minSupport)&&this.isMin()){this.report();var b=this.dfsCode.getNodeNum(),f=this.dfsCode.buildRmpath(),W=this.dfsCode.dfsEdgeList[f[0]].toNode,X=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,z={},U={};E.forEach(function(j){for(var V=D.graphs[j.graphId],J=V.nodeMap,q=new L(j),et=f.length-1;et>=0;et--){var st=D.findBackwardEdge(V,q.edges[f[et]],q.edges[f[0]],q);if(st){var ot="".concat(D.dfsCode.dfsEdgeList[f[et]].fromNode,"-").concat(st.label);U[ot]||(U[ot]={projected:[],toNodeId:D.dfsCode.dfsEdgeList[f[et]].fromNode,edgeLabel:st.label}),U[ot].projected.push({graphId:j.graphId,edge:st,preNode:j})}}if(!(b>=D.maxNodeNum)){var mt=D.findForwardPureEdges(V,q.edges[f[0]],X,q);mt.forEach(function(Bt){var St="".concat(W,"-").concat(Bt.label,"-").concat(J[Bt.to].label);z[St]||(z[St]={projected:[],fromNodeId:W,edgeLabel:Bt.label,nodeLabel2:J[Bt.to].label}),z[St].projected.push({graphId:j.graphId,edge:Bt,preNode:j})});for(var ft=function(St){var wt=D.findForwardRmpathEdges(V,q.edges[f[St]],X,q);wt.forEach(function(H){var Q="".concat(D.dfsCode.dfsEdgeList[f[St]].fromNode,"-").concat(H.label,"-").concat(J[H.to].label);z[Q]||(z[Q]={projected:[],fromNodeId:D.dfsCode.dfsEdgeList[f[St]].fromNode,edgeLabel:H.label,nodeLabel2:J[H.to].label}),z[Q].projected.push({graphId:j.graphId,edge:H,preNode:j})})},et=0;et<f.length;et++)ft(et)}}),Object.keys(U).forEach(function(j){var V=U[j],J=V.toNodeId,q=V.edgeLabel;D.dfsCode.dfsEdgeList.push(new S(W,J,"-1",q,"-1")),D.subGraphMining(U[j].projected),D.dfsCode.dfsEdgeList.pop()}),Object.keys(z).forEach(function(j){var V=z[j],J=V.fromNodeId,q=V.edgeLabel,et=V.nodeLabel2;D.dfsCode.dfsEdgeList.push(new S(J,W+1,R.VACANT_NODE_LABEL,q,et)),D.subGraphMining(z[j].projected),D.dfsCode.dfsEdgeList.pop()})}},T.prototype.generate1EdgeFrequentSubGraphs=function(){var E=this.graphs,D=this.directed,k=this.minSupport,b=this.frequentSize1Subgraphs,f={},W={},X={},z={};return Object.keys(E).forEach(function(U){var j=E[U],V=j.nodeMap;j.nodes.forEach(function(J,q){var et=J.label,st="".concat(U,"-").concat(et);if(!X[st]){var ot=f[et]||0;ot++,f[et]=ot}X[st]={graphKey:U,label:et},J.edges.forEach(function(mt){var ft=et,Bt=V[mt.to].label;if(!D&&ft>Bt){var St=Bt;Bt=ft,ft=St}var wt=mt.label,H="".concat(U,"-").concat(ft,"-").concat(wt,"-").concat(Bt),Q="".concat(ft,"-").concat(wt,"-").concat(Bt);if(!W[Q]){var bt=W[Q]||0;bt++,W[Q]=bt}z[H]={graphId:U,nodeLabel1:ft,edgeLabel:wt,nodeLabel2:Bt}})})}),Object.keys(f).forEach(function(U){var j=f[U];if(!(j<k)){var V={nodes:[],edges:[]};V.nodes.push({id:"0",label:U}),b.push(V)}}),b},T.prototype.run=function(){var E=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var D=this.graphs,k=this.directed,b={};Object.keys(D).forEach(function(f){var W=D[f],X=W.nodeMap;W.nodes.forEach(function(z){var U=E.findForwardRootEdges(W,z);U.forEach(function(j){var V=X[j.to],J="".concat(z.label,"-").concat(j.label,"-").concat(V.label);b[J]||(b[J]={projected:[],nodeLabel1:z.label,edgeLabel:j.label,nodeLabel2:V.label});var q={graphId:f,edge:j,preNode:null};b[J].projected.push(q)})})}),Object.keys(b).forEach(function(f){var W=b[f],X=W.projected,z=W.nodeLabel1,U=W.edgeLabel,j=W.nodeLabel2;E.dfsCode.dfsEdgeList.push(new S(0,1,z,U,j)),E.subGraphMining(X),E.dfsCode.dfsEdgeList.pop()})}},T}(),p=function(E,D,k,b){var f={};return Object.keys(E).forEach(function(W,X){var z=E[W],U=new R.Graph(X,!0,D),j={};z.nodes.forEach(function(V,J){U.addNode(J,V[k]),j[V.id]=J}),z.edges.forEach(function(V,J){var q=j[V.source],et=j[V.target];U.addEdge(-1,q,et,V[b])}),U&&U.getNodeNum()&&(f[U.id]=U)}),f},g=function(E,D,k){var b=[];return E.forEach(function(f){var W={nodes:[],edges:[]};f.nodes.forEach(function(X){var z;W.nodes.push((z={id:"".concat(X.id)},z[D]=X.label,z))}),f.edges.forEach(function(X){var z;W.edges.push((z={source:"".concat(X.from),target:"".concat(X.to)},z[k]=X.label,z))}),b.push(W)}),b},w="cluster",x=function(E){var D=E.graphs,k=E.directed,b=k===void 0?!1:k,f=E.nodeLabelProp,W=f===void 0?w:f,X=E.edgeLabelProp,z=X===void 0?w:X,U=p(D,b,W,z),j=E.minSupport,V=E.maxNodeNum,J=E.minNodeNum,q=E.verbose,et=E.top,st={graphs:U,minSupport:j,maxNodeNum:V,minNodeNum:J,top:et,verbose:q,directed:b},ot=new P(st);ot.run();var mt=g(ot.frequentSubgraphs,W,z);return mt},y=x;G.default=y},368575:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.VACANT_NODE_LABEL=G.VACANT_NODE_ID=G.VACANT_GRAPH_ID=G.VACANT_EDGE_LABEL=G.VACANT_EDGE_ID=G.Node=G.Graph=G.Edge=G.AUTO_EDGE_ID=void 0;var C=-1;G.VACANT_EDGE_ID=C;var m=-1;G.VACANT_NODE_ID=m;var R="-1";G.VACANT_EDGE_LABEL=R;var S="-1";G.VACANT_NODE_LABEL=S;var M=-1;G.VACANT_GRAPH_ID=M;var L="-1";G.AUTO_EDGE_ID=L;var P=function(){function w(x,y,T,E){x===void 0&&(x=C),y===void 0&&(y=m),T===void 0&&(T=m),E===void 0&&(E=R),this.id=x,this.from=y,this.to=T,this.label=E}return w}();G.Edge=P;var p=function(){function w(x,y){x===void 0&&(x=m),y===void 0&&(y=S),this.id=x,this.label=y,this.edges=[],this.edgeMap={}}return w.prototype.addEdge=function(x){this.edges.push(x),this.edgeMap[x.id]=x},w}();G.Node=p;var g=function(){function w(x,y,T){x===void 0&&(x=m),y===void 0&&(y=!0),T===void 0&&(T=!1),this.id=x,this.edgeIdAutoIncrease=y,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=T}return w.prototype.getNodeNum=function(){return this.nodes.length},w.prototype.addNode=function(x,y){if(!this.nodeMap[x]){var T=new p(x,y);this.nodes.push(T),this.nodeMap[x]=T,this.nodeLabelMap[y]||(this.nodeLabelMap[y]=[]),this.nodeLabelMap[y].push(x)}},w.prototype.addEdge=function(x,y,T,E){if((this.edgeIdAutoIncrease||x===void 0)&&(x=this.counter++),!(this.nodeMap[y]&&this.nodeMap[T]&&this.nodeMap[T].edgeMap[x])){var D=new P(x,y,T,E);if(this.edges.push(D),this.edgeMap[x]=D,this.nodeMap[y].addEdge(D),this.edgeLabelMap[E]||(this.edgeLabelMap[E]=[]),this.edgeLabelMap[E].push(D),!this.directed){var k=new P(x,T,y,E);this.nodeMap[T].addEdge(k),this.edgeLabelMap[E].push(k)}}},w}();G.Graph=g},882812:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var m=C(570655),R=P(C(975033)),S=P(C(821146)),M=P(C(878089)),L=C(770643);function P(z){return z&&z.__esModule?z:{default:z}}var p=function(U,j,V,J){V===void 0&&(V="cluster"),J===void 0&&(J=2);var q=[],et=U.nodes;return j.forEach(function(st,ot){q.push(g(et,st,ot,V,J))}),q},g=function(U,j,V,J,q){var et=[V],st=[],ot={};return j.forEach(function(mt,ft){if(mt<=q&&V!==ft){et.push(ft),st.push(U[ft]);var Bt=U[ft][J];ot[Bt]?(ot[Bt].count++,ot[Bt].dists.push(mt)):ot[Bt]={count:1,dists:[mt]}}}),Object.keys(ot).forEach(function(mt){ot[mt].dists=ot[mt].dists.sort(function(ft,Bt){return ft-Bt})}),{nodeIdx:V,nodeId:U[V].id,nodeIdxs:et,neighbors:st,neighborNum:et.length-1,nodeLabelCountMap:ot}},w=function(U,j,V,J,q){var et=Math.ceil(V/j),st={},ot=0;return J.forEach(function(mt,ft){for(var Bt=0,St=0,wt=mt.nodeIdxs,H=mt.neighborNum-1;Bt<et;){for(var Q=wt[1+Math.floor(Math.random()*H)],bt=0;(st["".concat(ft,"-").concat(Q)]||st["".concat(Q,"-").concat(ft)])&&(Q=Math.floor(Math.random()*j),bt++,!(bt>2*j)););if(bt<2*j&&(st["".concat(ft,"-").concat(Q)]={start:ft,end:Q,distance:q[ft][Q]},Bt++,ot++,ot>=V))return st;if(St++,St>2*j)break}if(Bt<et){var Ct=et-Bt;et=(et+Ct)/(j-ft-1)}}),st},x=function(U,j,V,J){var q=V.nodes;return J||(J={}),Object.keys(U).forEach(function(et){var st,ot;if(!(J&&J[et])){J[et]={nodes:[],edges:[]};var mt=U[et],ft=(st=j[mt.start])===null||st===void 0?void 0:st.nodeIdxs,Bt=(ot=j[mt.end])===null||ot===void 0?void 0:ot.nodeIdxs;if(!(!ft||!Bt)){var St=new Set(Bt),wt=ft.filter(function(nt){return St.has(nt)});if(!(!wt||!wt.length)){for(var H={},Q=wt.length,bt=0;bt<Q;bt++){var Ct=q[wt[bt]];J[et].nodes.push(Ct),H[Ct.id]=!0}V.edges.forEach(function(nt){H[nt.source]&&H[nt.target]&&J[et].edges.push(nt)})}}}}),J},y=function(U,j,V,J){var q,et,st={};U.nodes.forEach(function(mt){st[mt.id]=mt});var ot=0;return!(!((q=j==null?void 0:j.edges)===null||q===void 0)&&q.length)||((et=j==null?void 0:j.nodes)===null||et===void 0?void 0:et.length)<2?0:(U.edges.forEach(function(mt){var ft=st[mt.source][V],Bt=st[mt.target][V],St=j==null?void 0:j.nodes[0][V],wt=j==null?void 0:j.nodes[1][V],H=j==null?void 0:j.edges[0][J];mt[J]===H&&(ft===St&&Bt===wt||ft===wt&&Bt===St)&&ot++}),ot)},T=function(U,j,V){for(var J=1/0,q=0,et=function(mt){var ft=U[mt],Bt=Object.keys(ft).sort(function(nt,dt){return ft[nt]-ft[dt]}),St=10,wt=[];Bt.forEach(function(nt,dt){wt[dt%St]||(wt[dt%St]={graphs:[],totalCount:0,aveCount:0}),wt[dt%St].graphs.push(nt),wt[dt%St].totalCount+=ft[nt]});var H=0,Q=[];wt.forEach(function(nt){var dt=nt.totalCount/nt.graphs.length;nt.aveCount=dt,Q.push(dt);var Tt=0,At=nt.length;nt.graphs.forEach(function(xt,Dt){var Ht=ft[xt];nt.graphs.forEach(function(se,re){Dt!==re&&(Tt+=Math.abs(Ht-ft[se]))})}),Tt/=At*(At-1)/2,H+=Tt}),H/=wt.length;var bt=0;Q.forEach(function(nt,dt){Q.forEach(function(Tt,At){dt!==At&&(bt+=Math.abs(nt-Tt))}),bt/=Q.length*(Q.length-1)/2});var Ct=bt-H;J<Ct&&(J=Ct,q=mt)},st=0;st<j;st++)et(st);return{structure:V[q],structureCountMap:U[q]}},E=function(U,j){var V={},J={};return U.forEach(function(q,et){V[q.id]={idx:et,node:q,degree:0,inDegree:0,outDegree:0};var st=q[j];J[st]||(J[st]=[]),J[st].push(q)}),{nodeMap:V,nodeLabelMap:J}},D=function(U,j,V){var J={},q={};return U.forEach(function(et,st){J["".concat(L.uniqueId)]={idx:st,edge:et};var ot=et[j];q[ot]||(q[ot]=[]),q[ot].push(et);var mt=V[et.source];mt&&(mt.degree++,mt.outDegree++);var ft=V[et.target];ft&&(ft.degree++,ft.inDegree++)}),{edgeMap:J,edgeLabelMap:q}},k=function(U,j,V){var J=j.length,q={};return j.forEach(function(et,st){for(var ot=V?0:st+1,mt=U[st].id,ft=ot;ft<J;ft++)if(st!==ft){var Bt=U[ft].id,St=et[ft];q["".concat(mt,"-").concat(Bt)]=St,V||(q["".concat(Bt,"-").concat(mt)]=St)}}),q},b=function(U,j,V,J,q,et,st,ot,mt,ft,Bt){var St,wt="".concat(j.id,"-").concat(V.id);if(ft&&ft[wt])return ft[wt];var H=Bt?Bt[wt]:void 0;if(!H){var Q=(St={},St[wt]={start:J[j.id].idx,end:J[V.id].idx,distance:q},St);Bt=x(Q,et,U,Bt),H=Bt[wt]}return y(H,st,ot,mt)},f=function(U,j,V,J){var q,et,st,ot=(q=U[j])===null||q===void 0?void 0:q.degree,mt=(et=U[j])===null||et===void 0?void 0:et.inDegree,ft=(st=U[j])===null||st===void 0?void 0:st.outDegree;return U[j]===void 0&&(ot=1/0,mt=1/0,ft=1/0,J[j].forEach(function(Bt){var St=V[Bt.id].degree;ot>St&&(ot=St);var wt=V[Bt.id].inDegree;mt>wt&&(mt=wt);var H=V[Bt.id].outDegree;ft>H&&(ft=H)}),U[j]={degree:ot,inDegree:mt,outDegree:ft}),{minPatternNodeLabelDegree:ot,minPatternNodeLabelInDegree:mt,minPatternNodeLabelOutDegree:ft}},W=function(U,j,V,J,q,et,st){var ot;if(V===void 0&&(V=!1),et===void 0&&(et="cluster"),st===void 0&&(st="cluster"),!(!U||!U.nodes)){var mt=U.nodes.length;if(mt){var ft=(0,R.default)(U,V),Bt=(0,R.default)(j,V),St=k(U.nodes,ft,V),wt=k(j.nodes,Bt,V),H=E(U.nodes,et),Q=H.nodeMap,bt=H.nodeLabelMap,Ct=E(j.nodes,et),nt=Ct.nodeMap,dt=Ct.nodeLabelMap;D(U.edges,st,Q);var Tt=D(j.edges,st,nt).edgeLabelMap,At=[];Bt==null||Bt.forEach(function(on){At=At.concat(on)}),q||(q=Math.max.apply(Math,(0,m.__spreadArray)((0,m.__spreadArray)([],At,!1),[2],!1))),J||(J=q);var xt=p(U,ft,et,J),Dt=p(j,Bt,et,J),Ht=Math.min(100,mt*(mt-1)/2),se=w(J,mt,Ht,xt,ft),re=x(se,xt,U),It=10,ne=1,pe=1,Wt=4,Jt={graphs:re,nodeLabelProp:et,edgeLabelProp:st,minSupport:ne,minNodeNum:pe,maxNodeNum:Wt,directed:V},$t=(0,S.default)(Jt).slice(0,It),Kt=$t.length,ue=[];$t.forEach(function(on,dn){ue[dn]={},Object.keys(re).forEach(function(En){var Pn=re[En],Nn=y(Pn,on,et,st);ue[dn][En]=Nn})});var Se=T(ue,Kt,$t),Pt=Se.structure,Fe=Se.structureCountMap,vr=j.nodes[0],Tr=[],Or=(ot=j.nodes[0])===null||ot===void 0?void 0:ot[et],Fr=-1/0;j.nodes.forEach(function(on){var dn=on[et],En=bt[dn];(En==null?void 0:En.length)>Fr&&(Fr=En.length,Tr=En,Or=dn,vr=on)});var nn={},an={},er={},Rr={},qr={},xr={};Object.keys(dt).forEach(function(on,dn){qr[on]=[],V&&(xr[on]=[]);var En=-1/0,Pn=dt[on],Nn={};Pn.forEach(function(Mt){var Nt=wt["".concat(vr.id,"-").concat(Mt.id)];if(Nt&&qr[on].push(Nt),En<Nt&&(En=Nt),Nn["".concat(vr.id,"-").concat(Mt.id)]={start:0,end:nt[Mt.id].idx,distance:Nt},V){var Ut=wt["".concat(Mt.id,"-").concat(vr.id)];Ut&&xr[on].push(Ut)}}),qr[on]=qr[on].sort(function(Mt,Nt){return Mt-Nt}),V&&(xr[on]=xr[on].sort(function(Mt,Nt){return Mt-Nt})),an=x(Nn,Dt,j,an);var at=[];if(Object.keys(Nn).forEach(function(Mt){if(er[Mt]){at.push(er[Mt]);return}var Nt=an[Mt];er[Mt]=y(Nt,Pt,et,st),at.push(er[Mt])}),at=at.sort(function(Mt,Nt){return Nt-Mt}),Rr["".concat(vr.id,"-").concat(on)]=at,on!==Or)for(var Xe=(Tr==null?void 0:Tr.length)||0,Zt=function(Nt){var Ut=Tr[Nt],vt=xt[Q[Ut.id].idx],Rt=vt.nodeLabelCountMap[on],ae=dt[on].length;if(!Rt||Rt.count<ae)return Tr.splice(Nt,1),"continue";for(var tt=!1,ut=0;ut<ae;ut++)if(Rt.dists[ut]>qr[on][ut]){tt=!0;break}if(tt)return Tr.splice(Nt,1),"continue";var B={};vt.neighbors.forEach(function($){var gt=St["".concat(Ut.id,"-").concat($.id)];B["".concat(Ut.id,"-").concat($.id)]={start:Q[Ut.id].idx,end:Q[$.id].idx,distance:gt}}),re=x(B,xt,U,re);var O=[];Object.keys(B).forEach(function($){if(Fe[$]){O.push(Fe[$]);return}var gt=re[$];Fe[$]=y(gt,Pt,et,st),O.push(Fe[$])}),O=O.sort(function($,gt){return gt-$});for(var _=!1,ut=0;ut<ae;ut++)if(O[ut]<at[ut]){_=!0;break}if(_)return Tr.splice(Nt,1),"continue"},Qt=Xe-1;Qt>=0;Qt--)Zt(Qt)});var Gr=[];Tr==null||Tr.forEach(function(on){for(var dn=Q[on.id].idx,En=g(U.nodes,ft[dn],dn,et,q),Pn=En.neighbors,Nn=Pn.length,at=!1,Xe=Nn-1;Xe>=0;Xe--){if(Pn.length+1<j.nodes.length){at=!0;return}var Zt=Pn[Xe],Qt=Zt[et];if(!dt[Qt]||!dt[Qt].length){Pn.splice(Xe,1);continue}if(!qr[Qt]||!qr[Qt].length){Pn.splice(Xe,1);continue}var Mt="".concat(on.id,"-").concat(Zt.id),Nt=St[Mt],Ut=qr[Qt].length-1,vt=qr[Qt][Ut];if(Nt>vt){Pn.splice(Xe,1);continue}if(V){var Rt="".concat(Zt.id,"-").concat(on.id),ae=St[Rt];Ut=xr[Qt].length-1;var tt=xr[Qt][Ut];if(ae>tt){Pn.splice(Xe,1);continue}}var ut=Fe[Mt]?Fe[Mt]:b(U,on,Zt,Q,Nt,xt,Pt,et,st,Fe,re),B="".concat(vr.id,"-").concat(Qt),O=Rr[B][Rr[B].length-1];if(ut<O){Pn.splice(Xe,1);continue}var _=f(nn,Qt,nt,dt),$=_.minPatternNodeLabelDegree,gt=_.minPatternNodeLabelInDegree,Ft=_.minPatternNodeLabelOutDegree;if(Q[Zt.id].degree<$){Pn.splice(Xe,1);continue}}at||Gr.push({nodes:[on].concat(Pn)})});var Dr=(0,M.default)(j,vr.id,!1).length,We={};V?(Object.keys(Dr).forEach(function(on){var dn=nt[on].node[et];We[dn]?We[dn].push(Dr[on]):We[dn]=[Dr[on]]}),Object.keys(We).forEach(function(on){We[on].sort(function(dn,En){return dn-En})})):We=qr;for(var Je=Gr.length,gn=function(dn){var En=Gr[dn],Pn=En.nodes[0],Nn={},at={};En.nodes.forEach(function(Mr,ce){at[Mr.id]={idx:ce,node:Mr,degree:0,inDegree:0,outDegree:0};var Xt=Mr[et];Nn[Xt]?Nn[Xt]++:Nn[Xt]=1});var Xe=[],Zt={};U.edges.forEach(function(Mr){at[Mr.source]&&at[Mr.target]&&(Xe.push(Mr),Zt[Mr[st]]?Zt[Mr[st]]++:Zt[Mr[st]]=1,at[Mr.source].degree++,at[Mr.target].degree++,at[Mr.source].outDegree++,at[Mr.target].inDegree++)});for(var Qt=Object.keys(Tt).length,Mt=!1,Nt=0;Nt<Qt;Nt++){var Ut=Object.keys(Tt)[Nt];if(!Zt[Ut]||Zt[Ut]<Tt[Ut].length){Mt=!0;break}}if(Mt)return Gr.splice(dn,1),"continue";var vt=Xe.length;if(vt<j.edges.length)return Gr.splice(dn,1),"break";for(var Rt=!1,ae=function(ce){var Xt=Xe[ce],he=Xt[st],Me=Tt[he];if(!Me||!Me.length)return Zt[he]--,Me&&Zt[he]<Me.length?(Rt=!0,"break"):(Xe.splice(ce,1),at[Xt.source].degree--,at[Xt.target].degree--,at[Xt.source].outDegree--,at[Xt.target].inDegree--,"continue");var be=at[Xt.source].node[et],Ne=at[Xt.target].node[et],ir=!1;if(Me.forEach(function(cr){var en=nt[cr.source].node,Dn=nt[cr.target].node;en[et]===be&&Dn[et]===Ne&&(ir=!0),!V&&en[et]===Ne&&Dn[et]===be&&(ir=!0)}),!ir)return Zt[he]--,Me&&Zt[he]<Me.length?(Rt=!0,"break"):(Xe.splice(ce,1),at[Xt.source].degree--,at[Xt.target].degree--,at[Xt.source].outDegree--,at[Xt.target].inDegree--,"continue")},Nt=vt-1;Nt>=0;Nt--){var tt=ae(Nt);if(tt==="break")break}if(Rt)return Gr.splice(dn,1),"continue";En.edges=Xe;var ut=(0,M.default)(En,En.nodes[0].id,!1).length;if(Object.keys(ut).reverse().forEach(function(Mr){if(!(Mr===En.nodes[0].id||Rt)){if(ut[Mr]===1/0){var ce=at[Mr].node[et];if(Nn[ce]--,Nn[ce]<dt[ce].length){Rt=!0;return}var Xt=En.nodes.indexOf(at[Mr].node);En.nodes.splice(Xt,1),at[Mr]=void 0;return}var he=Q[Mr].node[et];if(!We[he]||!We[he].length||ut[Mr]>We[he][We[he].length-1]){var ce=at[Mr].node[et];if(Nn[ce]--,Nn[ce]<dt[ce].length){Rt=!0;return}var Xt=En.nodes.indexOf(at[Mr].node);En.nodes.splice(Xt,1),at[Mr]=void 0}}}),Rt)return Gr.splice(dn,1),"continue";for(var B=!0,O=0;B&&!Rt;){B=!1;var _=V?at[Pn.id].degree<nt[vr.id].degree||at[Pn.id].inDegree<nt[vr.id].inDegree||at[Pn.id].outDegree<nt[vr.id].outDegree:at[Pn.id].degree<nt[vr.id].degree;if(_){Rt=!0;break}if(Nn[Pn[et]]<dt[Pn[et]].length){Rt=!0;break}for(var $=En.nodes.length,gt=$-1;gt>=0;gt--){var Ft=En.nodes[gt],zt=at[Ft.id].degree,te=at[Ft.id].inDegree,_e=at[Ft.id].outDegree,me=Ft[et],Ue=f(nn,me,nt,dt),fr=Ue.minPatternNodeLabelDegree,je=Ue.minPatternNodeLabelInDegree,Lr=Ue.minPatternNodeLabelOutDegree,ln=V?zt<fr||te<je||_e<Lr:zt<fr;if(ln){if(Nn[Ft[et]]--,Nn[Ft[et]]<dt[Ft[et]].length){Rt=!0;break}En.nodes.splice(gt,1),at[Ft.id]=void 0,B=!0}}if(Rt||!B&&O!==0)break;vt=Xe.length;for(var Ve=vt-1;Ve>=0;Ve--){var or=Xe[Ve];if(!at[or.source]||!at[or.target]){Xe.splice(Ve,1);var Ar=or[st];if(Zt[Ar]--,at[or.source]&&(at[or.source].degree--,at[or.source].outDegree--),at[or.target]&&(at[or.target].degree--,at[or.target].inDegree--),Tt[Ar]&&Zt[Ar]<Tt[Ar].length){Rt=!0;break}B=!0}}O++}if(Rt||Rt||En.nodes.length<j.nodes.length||Xe.length<j.edges.length)return Gr.splice(dn,1),"continue"},rr=Je-1;rr>=0;rr--){var jr=gn(rr);if(jr==="break")break}for(var Nr=Gr.length,kn=function(dn){var En=Gr[dn],Pn={};En.edges.forEach(function(Xe){var Zt="".concat(Xe.source,"-").concat(Xe.target,"-").concat(Xe.label);Pn[Zt]?Pn[Zt]++:Pn[Zt]=1});for(var Nn=function(Zt){var Qt=Gr[Zt],Mt={};Qt.edges.forEach(function(Ut){var vt="".concat(Ut.source,"-").concat(Ut.target,"-").concat(Ut.label);Mt[vt]?Mt[vt]++:Mt[vt]=1});var Nt=!0;Object.keys(Mt).length!==Object.keys(Pn).length?Nt=!1:Object.keys(Pn).forEach(function(Ut){Mt[Ut]!==Pn[Ut]&&(Nt=!1)}),Nt&&Gr.splice(Zt,1)},at=Nr-1;at>dn;at--)Nn(at);Nr=Gr.length},rr=0;rr<=Nr-1;rr++)kn(rr);return Gr}}},X=W;G.default=X},505170:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var m=S(C(62238)),R=C(770643);function S(P){return P&&P.__esModule?P:{default:P}}var M=function(p,g,w,x){g===void 0&&(g=!1),w===void 0&&(w="weight"),x===void 0&&(x=1e3);var y=p.nodes,T=y===void 0?[]:y,E=p.edges,D=E===void 0?[]:E,k={},b={};T.forEach(function(et,st){var ot=(0,R.uniqueId)();et.clusterId=ot,k[ot]={id:ot,nodes:[et]},b[et.id]={node:et,idx:st}});var f=(0,m.default)(p,g),W=[],X={};f.forEach(function(et,st){var ot=0,mt=T[st].id;X[mt]={},et.forEach(function(ft,Bt){if(ft){ot+=ft;var St=T[Bt].id;X[mt][St]=ft}}),W.push(ot)});for(var z=0,U=function(){var st=!1;if(T.forEach(function(ot){var mt={};Object.keys(X[ot.id]).forEach(function(Ct){var nt=X[ot.id][Ct],dt=b[Ct].node,Tt=dt.clusterId;mt[Tt]||(mt[Tt]=0),mt[Tt]+=nt});var ft=-1/0,Bt=[];if(Object.keys(mt).forEach(function(Ct){ft<mt[Ct]?(ft=mt[Ct],Bt=[Ct]):ft===mt[Ct]&&Bt.push(Ct)}),!(Bt.length===1&&Bt[0]===ot.clusterId)){var St=Bt.indexOf(ot.clusterId);if(St>=0&&Bt.splice(St,1),Bt&&Bt.length){st=!0;var wt=k[ot.clusterId],H=wt.nodes.indexOf(ot);wt.nodes.splice(H,1);var Q=Math.floor(Math.random()*Bt.length),bt=k[Bt[Q]];bt.nodes.push(ot),ot.clusterId=bt.id}}}),!st)return"break";z++};z<x;){var j=U();if(j==="break")break}Object.keys(k).forEach(function(et){var st=k[et];(!st.nodes||!st.nodes.length)&&delete k[et]});var V=[],J={};D.forEach(function(et){var st=et.source,ot=et.target,mt=et[w]||1,ft=b[st].node.clusterId,Bt=b[ot].node.clusterId,St="".concat(ft,"---").concat(Bt);if(J[St])J[St].weight+=mt,J[St].count++;else{var wt={source:ft,target:Bt,weight:mt,count:1};J[St]=wt,V.push(wt)}});var q=[];return Object.keys(k).forEach(function(et){q.push(k[et])}),{clusters:q,clusterEdges:V}},L=M;G.default=L},135179:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var m=C(413810),R=P(C(62238)),S=P(C(29741)),M=C(103665),L=C(526838);function P(y){return y&&y.__esModule?y:{default:y}}var p=function(T,E,D,k){for(var b=E.length,f=2*k,W=0,X=0;X<b;X++)for(var z=T[X].clusterId,U=0;U<b;U++){var j=T[U].clusterId;if(z===j){var V=E[X][U]||0,J=D[X]||0,q=D[U]||0;W+=V-J*q/f}}return W*=1/f,W},g=function(T,E){T===void 0&&(T=[]);for(var D=T.length,k=new S.default([]),b=0;b<D;b++)k=k.add(new S.default(E[b]));var f=k.avg(D);f.normalize();for(var W=0,b=0;b<D;b++){var X=new S.default(E[b]),z=X.squareEuclideanDistance(f);W+=z}var U=[];T.forEach(function(){U.push([])});for(var b=0;b<D;b++){var X=new S.default(E[b]);T[b].clusterInertial=0;for(var j=0;j<D;j++){if(b===j){U[b][j]=0;continue}var V=new S.default(E[j]);U[b][j]=X.squareEuclideanDistance(V),T[b].clusterInertial+=U[b][j]}}for(var J=0,q=2*D*W,b=0;b<D;b++)for(var et=T[b].clusterId,j=0;j<D;j++){var st=T[j].clusterId;if(!(b===j||et!==st)){var ot=T[b].clusterInertial*T[j].clusterInertial/Math.pow(q,2)-U[b][j]/q;J+=ot}}return Number(J.toFixed(4))},w=function(T,E,D,k,b,f,W,X,z){E===void 0&&(E=!1),D===void 0&&(D="weight"),k===void 0&&(k=1e-4),b===void 0&&(b=!1),f===void 0&&(f=void 0),W===void 0&&(W=[]),X===void 0&&(X=["id"]),z===void 0&&(z=1);var U=T.nodes,j=U===void 0?[]:U,V=T.edges,J=V===void 0?[]:V,q=[];if(b){j.forEach(function(re,It){re.properties=re.properties||{},re.originIndex=It});var et=[];j.every(function(re){return re.hasOwnProperty("nodeType")})&&(et=Array.from(new Set(j.map(function(re){return re.nodeType}))),j.forEach(function(re){re.properties.nodeType=et.findIndex(function(It){return It===re.nodeType})}));var st=(0,M.getAllProperties)(j,f);q=(0,L.oneHot)(st,W,X)}var ot=1,mt={},ft={};j.forEach(function(re,It){var ne=String(ot++);re.clusterId=ne,mt[ne]={id:ne,nodes:[re]},ft[re.id]={node:re,idx:It}});var Bt=(0,R.default)(T,E),St=[],wt={},H=0;Bt.forEach(function(re,It){var ne=0,pe=j[It].id;wt[pe]={},re.forEach(function(Wt,Jt){if(Wt){ne+=Wt;var $t=j[Jt].id;wt[pe][$t]=Wt,H+=Wt}}),St.push(ne)}),H/=2;for(var Q=1/0,bt=1/0,Ct=0,nt=[],dt={};;){b&&j.every(function(re){return re.hasOwnProperty("properties")})?Q=p(j,Bt,St,H)+g(j,q)*z:Q=p(j,Bt,St,H),Ct===0&&(bt=Q,nt=j,dt=mt);var Tt=Q>0&&Q>bt&&Q-bt<k;if(Q>bt&&(nt=j.map(function(re){return{node:re,clusterId:re.clusterId}}),dt=(0,m.clone)(mt),bt=Q),Tt||Ct>100)break;Ct++,Object.keys(mt).forEach(function(re){var It=0;J.forEach(function(ne){var pe=ne.source,Wt=ne.target,Jt=ft[pe].node.clusterId,$t=ft[Wt].node.clusterId;(Jt===re&&$t!==re||$t===re&&Jt!==re)&&(It=It+(ne[D]||1))}),mt[re].sumTot=It}),j.forEach(function(re,It){var ne=mt[re.clusterId],pe=0,Wt,Jt=St[It]/(2*H),$t=0,Kt=ne.nodes;Kt.forEach(function(an){var er=ft[an.id].idx;$t+=Bt[It][er]||0});var ue=$t-ne.sumTot*Jt,Se=Kt.filter(function(an){return an.id!==re.id}),Pt=[];Se.forEach(function(an,er){Pt[er]=q[an.originIndex]});var Fe=g(Se,q)*z,vr=wt[re.id];if(Object.keys(vr).forEach(function(an){var er=ft[an].node,Rr=er.clusterId;if(Rr!==re.clusterId){var qr=mt[Rr],xr=qr.nodes;if(!(!xr||!xr.length)){var Gr=0;xr.forEach(function(jr){var Nr=ft[jr.id].idx;Gr+=Bt[It][Nr]||0});var Dr=Gr-qr.sumTot*Jt,We=xr.concat([re]),Je=[];We.forEach(function(jr,Nr){Je[Nr]=q[jr.originIndex]});var gn=g(We,q)*z,rr=Dr-ue;b&&(rr=Dr+gn-(ue+Fe)),rr>pe&&(pe=rr,Wt=qr)}}}),pe>0){Wt.nodes.push(re);var Tr=re.clusterId;re.clusterId=Wt.id;var Or=ne.nodes.indexOf(re);ne.nodes.splice(Or,1);var Fr=0,nn=0;J.forEach(function(an){var er=an.source,Rr=an.target,qr=ft[er].node.clusterId,xr=ft[Rr].node.clusterId;(qr===Wt.id&&xr!==Wt.id||xr===Wt.id&&qr!==Wt.id)&&(Fr=Fr+(an[D]||1)),(qr===Tr&&xr!==Tr||xr===Tr&&qr!==Tr)&&(nn=nn+(an[D]||1))}),Wt.sumTot=Fr,ne.sumTot=nn}})}var At={},xt=0;Object.keys(dt).forEach(function(re){var It=dt[re];if(!It.nodes||!It.nodes.length){delete dt[re];return}var ne=String(xt+1);ne!==re&&(It.id=ne,It.nodes=It.nodes.map(function(pe){return{id:pe.id,clusterId:ne}}),dt[ne]=It,At[re]=ne,delete dt[re],xt++)}),nt.forEach(function(re){var It=re.node,ne=re.clusterId;It&&(It.clusterId=ne,It.clusterId&&At[It.clusterId]&&(It.clusterId=At[It.clusterId]))});var Dt=[],Ht={};J.forEach(function(re){var It=re.source,ne=re.target,pe=re[D]||1,Wt=ft[It].node.clusterId,Jt=ft[ne].node.clusterId;if(!(!Wt||!Jt)){var $t="".concat(Wt,"---").concat(Jt);if(Ht[$t])Ht[$t].weight+=pe,Ht[$t].count++;else{var Kt={source:Wt,target:Jt,weight:pe,count:1};Ht[$t]=Kt,Dt.push(Kt)}}});var se=[];return Object.keys(dt).forEach(function(re){se.push(dt[re])}),{clusters:se,clusterEdges:Dt}},x=w;G.default=x},689454:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var m=M(C(838823)),R=M(C(257085)),S=C(770643);function M(w){return w&&w.__esModule?w:{default:w}}var L=function(x,y){var T=[],E=x.nodes,D=E===void 0?[]:E,k=x.edges,b=k===void 0?[]:k;if(D.length===0)return T;var f=D[0],W=new Set;W.add(f);var X=function(q,et){return y?q.weight-et.weight:0},z=new R.default(X);for((0,S.getEdgesByNodeId)(f.id,b).forEach(function(J){z.insert(J)});!z.isEmpty();){var U=z.delMin(),j=U.source,V=U.target;W.has(j)&&W.has(V)||(T.push(U),W.has(j)||(W.add(j),(0,S.getEdgesByNodeId)(j,b).forEach(function(J){z.insert(J)})),W.has(V)||(W.add(V),(0,S.getEdgesByNodeId)(V,b).forEach(function(J){z.insert(J)})))}return T},P=function(x,y){var T=[],E=x.nodes,D=E===void 0?[]:E,k=x.edges,b=k===void 0?[]:k;if(D.length===0)return T;var f=b.map(function(j){return j});y&&f.sort(function(j,V){return j.weight-V.weight});for(var W=new m.default(D.map(function(j){return j.id}));f.length>0;){var X=f.shift(),z=X.source,U=X.target;W.connected(z,U)||(T.push(X),W.union(z,U))}return T},p=function(x,y,T){var E={prim:L,kruskal:P};return T?E[T](x,y):P(x,y)},g=p;G.default=g},274926:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var m=S(C(182556)),R=C(770643);function S(P){return P&&P.__esModule?P:{default:P}}var M=function(p,g,w){typeof g!="number"&&(g=1e-6),typeof w!="number"&&(w=.85);for(var x=1,y=0,T=1e3,E=p.nodes,D=E===void 0?[]:E,k=p.edges,b=k===void 0?[]:k,f=D.length,W,X={},z={},U=0;U<f;++U){var j=D[U],V=j.id;X[V]=1/f,z[V]=1/f}for(var J=(0,m.default)(p);T>0&&x>g;){y=0;for(var U=0;U<f;++U){var j=D[U],V=j.id;if(W=0,J[j.id].inDegree===0)X[V]=0;else{for(var q=(0,R.getNeighbors)(V,b,"source"),et=0;et<q.length;++et){var st=q[et],ot=J[st].outDegree;ot>0&&(W+=z[st]/ot)}X[V]=w*W,y+=X[V]}}y=(1-y)/f,x=0;for(var U=0;U<f;++U){var j=D[U],V=j.id;W=X[V]+y,x+=Math.abs(W-z[V]),z[V]=W}T-=1}return z},L=M;G.default=L},257085:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var C=function(M,L){return M-L},m=function(){function S(M){M===void 0&&(M=C),this.compareFn=M,this.list=[]}return S.prototype.getLeft=function(M){return 2*M+1},S.prototype.getRight=function(M){return 2*M+2},S.prototype.getParent=function(M){return M===0?null:Math.floor((M-1)/2)},S.prototype.isEmpty=function(){return this.list.length<=0},S.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},S.prototype.delMin=function(){var M=this.top(),L=this.list.pop();return this.list.length>0&&(this.list[0]=L,this.moveDown(0)),M},S.prototype.insert=function(M){if(M!==null){this.list.push(M);var L=this.list.length-1;return this.moveUp(L),!0}return!1},S.prototype.moveUp=function(M){for(var L=this.getParent(M);M&&M>0&&this.compareFn(this.list[L],this.list[M])>0;){var P=this.list[L];this.list[L]=this.list[M],this.list[M]=P,M=L,L=this.getParent(M)}},S.prototype.moveDown=function(M){var L,P=M,p=this.getLeft(M),g=this.getRight(M),w=this.list.length;p!==null&&p<w&&this.compareFn(this.list[P],this.list[p])>0?P=p:g!==null&&g<w&&this.compareFn(this.list[P],this.list[g])>0&&(P=g),M!==P&&(L=[this.list[P],this.list[M]],this.list[M]=L[0],this.list[P]=L[1],this.moveDown(P))},S}(),R=m;G.default=R},488481:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=G.LinkedListNode=void 0;var C=function(L,P){return L===P},m=function(){function M(L,P){P===void 0&&(P=null),this.value=L,this.next=P}return M.prototype.toString=function(L){return L?L(this.value):"".concat(this.value)},M}();G.LinkedListNode=m;var R=function(){function M(L){L===void 0&&(L=C),this.head=null,this.tail=null,this.compare=L}return M.prototype.prepend=function(L){var P=new m(L,this.head);return this.head=P,this.tail||(this.tail=P),this},M.prototype.append=function(L){var P=new m(L);return this.head?(this.tail.next=P,this.tail=P,this):(this.head=P,this.tail=P,this)},M.prototype.delete=function(L){if(!this.head)return null;for(var P=null;this.head&&this.compare(this.head.value,L);)P=this.head,this.head=this.head.next;var p=this.head;if(p!==null)for(;p.next;)this.compare(p.next.value,L)?(P=p.next,p.next=p.next.next):p=p.next;return this.compare(this.tail.value,L)&&(this.tail=p),P},M.prototype.find=function(L){var P=L.value,p=P===void 0?void 0:P,g=L.callback,w=g===void 0?void 0:g;if(!this.head)return null;for(var x=this.head;x;){if(w&&w(x.value)||p!==void 0&&this.compare(x.value,p))return x;x=x.next}return null},M.prototype.deleteTail=function(){var L=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,L;for(var P=this.head;P.next;)P.next.next?P=P.next:P.next=null;return this.tail=P,L},M.prototype.deleteHead=function(){if(!this.head)return null;var L=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),L},M.prototype.fromArray=function(L){var P=this;return L.forEach(function(p){return P.append(p)}),this},M.prototype.toArray=function(){for(var L=[],P=this.head;P;)L.push(P),P=P.next;return L},M.prototype.reverse=function(){for(var L=this.head,P=null,p=null;L;)p=L.next,L.next=P,P=L,L=p;this.tail=this.head,this.head=P},M.prototype.toString=function(L){return L===void 0&&(L=void 0),this.toArray().map(function(P){return P.toString(L)}).toString()},M}(),S=R;G.default=S},893026:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var m=R(C(488481));function R(L){return L&&L.__esModule?L:{default:L}}var S=function(){function L(){this.linkedList=new m.default}return L.prototype.isEmpty=function(){return!this.linkedList.head},L.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},L.prototype.enqueue=function(P){this.linkedList.append(P)},L.prototype.dequeue=function(){var P=this.linkedList.deleteHead();return P?P.value:null},L.prototype.toString=function(P){return this.linkedList.toString(P)},L}(),M=S;G.default=M},838823:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var C=function(){function R(S){this.count=S.length,this.parent={};for(var M=0,L=S;M<L.length;M++){var P=L[M];this.parent[P]=P}}return R.prototype.find=function(S){for(;this.parent[S]!==S;)S=this.parent[S];return S},R.prototype.union=function(S,M){var L=this.find(S),P=this.find(M);L!==P&&(L<P?(this.parent[M]!==M&&this.union(this.parent[M],S),this.parent[M]=this.parent[S]):(this.parent[S]!==S&&this.union(this.parent[S],M),this.parent[S]=this.parent[M]))},R.prototype.connected=function(S,M){return this.find(S)===this.find(M)},R}(),m=C;G.default=m},317892:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.DistanceType=void 0;var C;G.DistanceType=C,function(m){m.EuclideanDistance="euclideanDistance"}(C||(G.DistanceType=C={}))},770643:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.uniqueId=G.getOutEdgesNodeId=G.getNeighbors=G.getEdgesByNodeId=void 0;var C=function(L,P,p){P===void 0&&(P=[]);var g=P.filter(function(T){return T.source===L||T.target===L});if(p==="target"){var w=function(E){return E.source===L};return g.filter(w).map(function(T){return T.target})}if(p==="source"){var x=function(E){return E.target===L};return g.filter(x).map(function(T){return T.source})}var y=function(E){return E.source===L?E.target:E.source};return g.map(y)};G.getNeighbors=C;var m=function(L,P){return P.filter(function(p){return p.source===L})};G.getOutEdgesNodeId=m;var R=function(L,P){return P.filter(function(p){return p.source===L||p.target===L})};G.getEdgesByNodeId=R;var S=function(L){L===void 0&&(L=0);var P="".concat(Math.random()).split(".")[1].substr(0,5),p="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(L,"-").concat(P).concat(p)};G.uniqueId=S},526838:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.oneHot=G.getDistance=G.getAllKeyValueMap=G.default=void 0;var m=C(413810),R=C(317892),S=M(C(29741));function M(w){return w&&w.__esModule?w:{default:w}}var L=function(x,y,T){var E=[];y!=null&&y.length?E=y:(x.forEach(function(k){E=E.concat(Object.keys(k))}),E=(0,m.uniq)(E));var D={};return E.forEach(function(k){var b=[];x.forEach(function(f){f[k]!==void 0&&f[k]!==""&&b.push(f[k])}),b.length&&!(T!=null&&T.includes(k))&&(D[k]=(0,m.uniq)(b))}),D};G.getAllKeyValueMap=L;var P=function(x,y,T){var E=L(x,y,T),D=[];if(!Object.keys(E).length)return D;var k=Object.values(E),b=k.every(function(f){return f.every(function(W){return typeof W=="number"})});return x.forEach(function(f,W){var X=[];Object.keys(E).forEach(function(z){var U=f[z],j=E[z],V=j.findIndex(function(et){return U===et}),J=[];if(b)J.push(U);else for(var q=0;q<j.length;q++)q===V?J.push(1):J.push(0);X=X.concat(J)}),D[W]=X}),D};G.oneHot=P;var p=function(x,y,T,E){T===void 0&&(T=R.DistanceType.EuclideanDistance);var D=0;switch(T){case R.DistanceType.EuclideanDistance:D=new S.default(x).euclideanDistance(new S.default(y));break;default:break}return D};G.getDistance=p;var g={getAllKeyValueMap:L,oneHot:P,getDistance:p};G.default=g},103665:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.getPropertyWeight=G.getAllSortProperties=G.getAllProperties=G.default=void 0;var m=C(592935),R=function(g,w){g===void 0&&(g=[]),w===void 0&&(w=100);var x={};g.forEach(function(T){T.properties&&Object.keys(T.properties).forEach(function(E){if(E==="id"||!"".concat(T.properties[E]).match(m.secondReg)&&!"".concat(T.properties[E]).match(m.dateReg)&&isNaN(Number(T.properties[E]))){x.hasOwnProperty(E)&&delete x[E];return}x.hasOwnProperty(E)?x[E]+=1:x[E]=1})});var y=Object.keys(x).sort(function(T,E){return x[E]-x[T]});return y.length<w?y:y.slice(0,w)};G.getAllSortProperties=R;var S=function(g,w){return w.map(function(x){return g.hasOwnProperty(x)?g[x]:0})},M=function(g){for(var w=R(g),x=[],y=0;y<g.length;y++)x[y]=S(g[y].properties,w);return x};G.getPropertyWeight=M;var L=function(g,w){w===void 0&&(w=void 0);var x=[];return g.forEach(function(y){w===void 0&&x.push(y),y[w]!==void 0&&x.push(y[w])}),x};G.getAllProperties=L;var P={getAllSortProperties:R,getPropertyWeight:M,getAllProperties:L};G.default=P},29741:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var m=C(413810),R=function(){function M(L){this.arr=L}return M.prototype.getArr=function(){return this.arr||[]},M.prototype.add=function(L){var P,p=L.arr;if(!(!((P=this.arr)===null||P===void 0)&&P.length))return new M(p);if(!(p!=null&&p.length))return new M(this.arr);if(this.arr.length===p.length){var g=[];for(var w in this.arr)g[w]=this.arr[w]+p[w];return new M(g)}},M.prototype.subtract=function(L){var P,p=L.arr;if(!(!((P=this.arr)===null||P===void 0)&&P.length))return new M(p);if(!(p!=null&&p.length))return new M(this.arr);if(this.arr.length===p.length){var g=[];for(var w in this.arr)g[w]=this.arr[w]-p[w];return new M(g)}},M.prototype.avg=function(L){var P=[];if(L!==0)for(var p in this.arr)P[p]=this.arr[p]/L;return new M(P)},M.prototype.negate=function(){var L=[];for(var P in this.arr)L[P]=-this.arr[P];return new M(L)},M.prototype.squareEuclideanDistance=function(L){var P,p=L.arr;if(!(!((P=this.arr)===null||P===void 0)&&P.length)||!(p!=null&&p.length))return 0;if(this.arr.length===p.length){var g=0;for(var w in this.arr)g+=Math.pow(this.arr[w]-L.arr[w],2);return g}},M.prototype.euclideanDistance=function(L){var P,p=L.arr;if(!(!((P=this.arr)===null||P===void 0)&&P.length)||!(p!=null&&p.length))return 0;if(this.arr.length===p.length){var g=0;for(var w in this.arr)g+=Math.pow(this.arr[w]-L.arr[w],2);return Math.sqrt(g)}else console.error("The two vectors are unequal in length.")},M.prototype.normalize=function(){var L=[],P=(0,m.clone)(this.arr);P.sort(function(x,y){return x-y});var p=P[P.length-1],g=P[0];for(var w in this.arr)L[w]=(this.arr[w]-g)/(p-g);return new M(L)},M.prototype.norm2=function(){var L;if(!(!((L=this.arr)===null||L===void 0)&&L.length))return 0;var P=0;for(var p in this.arr)P+=Math.pow(this.arr[p],2);return Math.sqrt(P)},M.prototype.dot=function(L){var P,p=L.arr;if(!(!((P=this.arr)===null||P===void 0)&&P.length)||!(p!=null&&p.length))return 0;if(this.arr.length===p.length){var g=0;for(var w in this.arr)g+=this.arr[w]*L.arr[w];return g}else console.error("The two vectors are unequal in length.")},M.prototype.equal=function(L){var P,p=L.arr;if(((P=this.arr)===null||P===void 0?void 0:P.length)!==(p==null?void 0:p.length))return!1;for(var g in this.arr)if(this.arr[g]!==p[g])return!1;return!0},M}(),S=R;G.default=S},831656:function(ze,G,C){"use strict";function m(z){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},m(z)}Object.defineProperty(G,"__esModule",{value:!0}),Object.defineProperty(G,"GADDI",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(G,"breadthFirstSearch",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(G,"connectedComponent",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(G,"depthFirstSearch",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(G,"detectCycle",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(G,"dijkstra",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(G,"findAllPath",{enumerable:!0,get:function(){return w.findAllPath}}),Object.defineProperty(G,"findShortestPath",{enumerable:!0,get:function(){return w.findShortestPath}}),Object.defineProperty(G,"floydWarshall",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(G,"getAdjMatrix",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(G,"getDegree",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(G,"getInDegree",{enumerable:!0,get:function(){return L.getInDegree}}),Object.defineProperty(G,"getNeighbors",{enumerable:!0,get:function(){return b.getNeighbors}}),Object.defineProperty(G,"getOutDegree",{enumerable:!0,get:function(){return L.getOutDegree}}),Object.defineProperty(G,"labelPropagation",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(G,"louvain",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(G,"minimumSpanningTree",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(G,"pageRank",{enumerable:!0,get:function(){return D.default}});var R=X(C(62238)),S=X(C(683764)),M=X(C(759527)),L=W(C(182556)),P=X(C(994282)),p=X(C(45891)),g=X(C(878089)),w=C(241727),x=X(C(975033)),y=X(C(505170)),T=X(C(135179)),E=X(C(689454)),D=X(C(274926)),k=X(C(882812)),b=C(770643);function f(z){if(typeof WeakMap!="function")return null;var U=new WeakMap,j=new WeakMap;return(f=function(J){return J?j:U})(z)}function W(z,U){if(!U&&z&&z.__esModule)return z;if(z===null||m(z)!=="object"&&typeof z!="function")return{default:z};var j=f(U);if(j&&j.has(z))return j.get(z);var V={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in z)if(q!=="default"&&Object.prototype.hasOwnProperty.call(z,q)){var et=J?Object.getOwnPropertyDescriptor(z,q):null;et&&(et.get||et.set)?Object.defineProperty(V,q,et):V[q]=z[q]}return V.default=z,j&&j.set(z,V),V}function X(z){return z&&z.__esModule?z:{default:z}}},66044:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.MESSAGE=G.ALGORITHM=void 0;var C={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};G.ALGORITHM=C;var m={SUCCESS:"SUCCESS",FAILURE:"FAILURE"};G.MESSAGE=m},70585:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var m=C(66044),R=S(C(612067));function S(P){return P&&P.__esModule?P:{default:P}}var M=function(p){return function(){for(var g=[],w=0;w<arguments.length;w++)g[w]=arguments[w];return new Promise(function(x,y){var T=new R.default;T.postMessage({_algorithmType:p,data:g}),T.onmessage=function(E){var D=E.data,k=D.data,b=D._algorithmType;m.MESSAGE.SUCCESS===b?x(k):y(),T.terminate()}})}},L=M;G.default=L},430485:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.pageRankAsync=G.minimumSpanningTreeAsync=G.louvainAsync=G.labelPropagationAsync=G.getOutDegreeAsync=G.getNeighborsAsync=G.getInDegreeAsync=G.getDegreeAsync=G.getAdjMatrixAsync=G.floydWarshallAsync=G.findShortestPathAsync=G.findAllPathAsync=G.dijkstraAsync=G.detectCycleAsync=G.detectAllUndirectedCycleAsync=G.detectAllDirectedCycleAsync=G.detectAllCyclesAsync=G.connectedComponentAsync=G.GADDIAsync=void 0;var m=S(C(70585)),R=C(66044);function S(V){return V&&V.__esModule?V:{default:V}}var M=function(J,q){return(0,m.default)(R.ALGORITHM.getAdjMatrix).apply(void 0,[J,q])};G.getAdjMatrixAsync=M;var L=function(J,q){return(0,m.default)(R.ALGORITHM.connectedComponent).apply(void 0,[J,q])};G.connectedComponentAsync=L;var P=function(J){return(0,m.default)(R.ALGORITHM.getDegree)(J)};G.getDegreeAsync=P;var p=function(J,q){return(0,m.default)(R.ALGORITHM.getInDegree)(J,q)};G.getInDegreeAsync=p;var g=function(J,q){return(0,m.default)(R.ALGORITHM.getOutDegree)(J,q)};G.getOutDegreeAsync=g;var w=function(J){return(0,m.default)(R.ALGORITHM.detectCycle)(J)};G.detectCycleAsync=w;var x=function(J){return(0,m.default)(R.ALGORITHM.detectAllCycles)(J)};G.detectAllCyclesAsync=x;var y=function(J){return(0,m.default)(R.ALGORITHM.detectAllDirectedCycle)(J)};G.detectAllDirectedCycleAsync=y;var T=function(J){return(0,m.default)(R.ALGORITHM.detectAllUndirectedCycle)(J)};G.detectAllUndirectedCycleAsync=T;var E=function(J,q,et,st){return(0,m.default)(R.ALGORITHM.dijkstra).apply(void 0,[J,q,et,st])};G.dijkstraAsync=E;var D=function(J,q,et,st){return(0,m.default)(R.ALGORITHM.findAllPath).apply(void 0,[J,q,et,st])};G.findAllPathAsync=D;var k=function(J,q,et,st,ot){return(0,m.default)(R.ALGORITHM.findShortestPath).apply(void 0,[J,q,et,st,ot])};G.findShortestPathAsync=k;var b=function(J,q){return(0,m.default)(R.ALGORITHM.floydWarshall).apply(void 0,[J,q])};G.floydWarshallAsync=b;var f=function(J,q,et,st){return st===void 0&&(st=1e3),(0,m.default)(R.ALGORITHM.labelPropagation)(J,q,et,st)};G.labelPropagationAsync=f;var W=function(J,q,et,st){return(0,m.default)(R.ALGORITHM.louvain)(J,q,et,st)};G.louvainAsync=W;var X=function(J,q,et){return(0,m.default)(R.ALGORITHM.minimumSpanningTree).apply(void 0,[J,q,et])};G.minimumSpanningTreeAsync=X;var z=function(J,q,et){return(0,m.default)(R.ALGORITHM.pageRank).apply(void 0,[J,q,et])};G.pageRankAsync=z;var U=function(J,q,et){return(0,m.default)(R.ALGORITHM.getNeighbors).apply(void 0,[J,q,et])};G.getNeighborsAsync=U;var j=function(J,q,et,st,ot,mt,ft){return et===void 0&&(et=!1),mt===void 0&&(mt="cluster"),ft===void 0&&(ft="cluster"),(0,m.default)(R.ALGORITHM.GADDI).apply(void 0,[J,q,et,st,ot,mt,ft])};G.GADDIAsync=j},612067:function(ze,G,C){"use strict";function m(g){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},m(g)}Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var R=L(C(831656)),S=C(66044);function M(g){if(typeof WeakMap!="function")return null;var w=new WeakMap,x=new WeakMap;return(M=function(T){return T?x:w})(g)}function L(g,w){if(!w&&g&&g.__esModule)return g;if(g===null||m(g)!=="object"&&typeof g!="function")return{default:g};var x=M(w);if(x&&x.has(g))return x.get(g);var y={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in g)if(E!=="default"&&Object.prototype.hasOwnProperty.call(g,E)){var D=T?Object.getOwnPropertyDescriptor(g,E):null;D&&(D.get||D.set)?Object.defineProperty(y,E,D):y[E]=g[E]}return y.default=g,x&&x.set(g,y),y}var P=typeof self!="undefined"?self:{};P.onmessage=function(g){var w=g.data,x=w._algorithmType,y=w.data;if(x){if(typeof R[x]=="function"){var T=R[x].apply(R,y);P.postMessage({_algorithmType:S.MESSAGE.SUCCESS,data:T});return}P.postMessage({_algorithmType:S.MESSAGE.FAILURE})}};var p=null;G.default=p},901029:function(ze,G,C){"use strict";C.r(G),C.d(G,{Kernel:function(){return mt},World:function(){return Nn}});var m=C(115861),R=C(204942),S=C(215671),M=C(143144),L=C(936719),P=C.n(L),p=C(281763),g=C.n(p),w=C(701469),x=C.n(w),y=C(364687),T=C.n(y),E=null,D=1;function k(){return D++}var b=null,f=null,W;(function(at){at[at.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",at[at.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",at[at.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",at[at.POINTS=0]="POINTS",at[at.LINES=1]="LINES",at[at.LINE_LOOP=2]="LINE_LOOP",at[at.LINE_STRIP=3]="LINE_STRIP",at[at.TRIANGLES=4]="TRIANGLES",at[at.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",at[at.TRIANGLE_FAN=6]="TRIANGLE_FAN",at[at.ZERO=0]="ZERO",at[at.ONE=1]="ONE",at[at.SRC_COLOR=768]="SRC_COLOR",at[at.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",at[at.SRC_ALPHA=770]="SRC_ALPHA",at[at.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",at[at.DST_ALPHA=772]="DST_ALPHA",at[at.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",at[at.DST_COLOR=774]="DST_COLOR",at[at.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",at[at.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",at[at.FUNC_ADD=32774]="FUNC_ADD",at[at.BLEND_EQUATION=32777]="BLEND_EQUATION",at[at.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",at[at.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",at[at.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",at[at.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",at[at.MAX_EXT=32776]="MAX_EXT",at[at.MIN_EXT=32775]="MIN_EXT",at[at.BLEND_DST_RGB=32968]="BLEND_DST_RGB",at[at.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",at[at.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",at[at.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",at[at.CONSTANT_COLOR=32769]="CONSTANT_COLOR",at[at.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",at[at.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",at[at.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",at[at.BLEND_COLOR=32773]="BLEND_COLOR",at[at.ARRAY_BUFFER=34962]="ARRAY_BUFFER",at[at.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",at[at.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",at[at.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",at[at.STREAM_DRAW=35040]="STREAM_DRAW",at[at.STATIC_DRAW=35044]="STATIC_DRAW",at[at.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",at[at.BUFFER_SIZE=34660]="BUFFER_SIZE",at[at.BUFFER_USAGE=34661]="BUFFER_USAGE",at[at.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",at[at.FRONT=1028]="FRONT",at[at.BACK=1029]="BACK",at[at.FRONT_AND_BACK=1032]="FRONT_AND_BACK",at[at.CULL_FACE=2884]="CULL_FACE",at[at.BLEND=3042]="BLEND",at[at.DITHER=3024]="DITHER",at[at.STENCIL_TEST=2960]="STENCIL_TEST",at[at.DEPTH_TEST=2929]="DEPTH_TEST",at[at.SCISSOR_TEST=3089]="SCISSOR_TEST",at[at.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",at[at.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",at[at.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",at[at.NO_ERROR=0]="NO_ERROR",at[at.INVALID_ENUM=1280]="INVALID_ENUM",at[at.INVALID_VALUE=1281]="INVALID_VALUE",at[at.INVALID_OPERATION=1282]="INVALID_OPERATION",at[at.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",at[at.CW=2304]="CW",at[at.CCW=2305]="CCW",at[at.LINE_WIDTH=2849]="LINE_WIDTH",at[at.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",at[at.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",at[at.CULL_FACE_MODE=2885]="CULL_FACE_MODE",at[at.FRONT_FACE=2886]="FRONT_FACE",at[at.DEPTH_RANGE=2928]="DEPTH_RANGE",at[at.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",at[at.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",at[at.DEPTH_FUNC=2932]="DEPTH_FUNC",at[at.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",at[at.STENCIL_FUNC=2962]="STENCIL_FUNC",at[at.STENCIL_FAIL=2964]="STENCIL_FAIL",at[at.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",at[at.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",at[at.STENCIL_REF=2967]="STENCIL_REF",at[at.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",at[at.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",at[at.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",at[at.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",at[at.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",at[at.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",at[at.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",at[at.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",at[at.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",at[at.VIEWPORT=2978]="VIEWPORT",at[at.SCISSOR_BOX=3088]="SCISSOR_BOX",at[at.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",at[at.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",at[at.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",at[at.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",at[at.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",at[at.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",at[at.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",at[at.RED_BITS=3410]="RED_BITS",at[at.GREEN_BITS=3411]="GREEN_BITS",at[at.BLUE_BITS=3412]="BLUE_BITS",at[at.ALPHA_BITS=3413]="ALPHA_BITS",at[at.DEPTH_BITS=3414]="DEPTH_BITS",at[at.STENCIL_BITS=3415]="STENCIL_BITS",at[at.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",at[at.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",at[at.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",at[at.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",at[at.SAMPLES=32937]="SAMPLES",at[at.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",at[at.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",at[at.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",at[at.DONT_CARE=4352]="DONT_CARE",at[at.FASTEST=4353]="FASTEST",at[at.NICEST=4354]="NICEST",at[at.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",at[at.BYTE=5120]="BYTE",at[at.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",at[at.SHORT=5122]="SHORT",at[at.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",at[at.INT=5124]="INT",at[at.UNSIGNED_INT=5125]="UNSIGNED_INT",at[at.FLOAT=5126]="FLOAT",at[at.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",at[at.ALPHA=6406]="ALPHA",at[at.RGB=6407]="RGB",at[at.RGBA=6408]="RGBA",at[at.LUMINANCE=6409]="LUMINANCE",at[at.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",at[at.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",at[at.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",at[at.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",at[at.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",at[at.VERTEX_SHADER=35633]="VERTEX_SHADER",at[at.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",at[at.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",at[at.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",at[at.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",at[at.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",at[at.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",at[at.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",at[at.SHADER_TYPE=35663]="SHADER_TYPE",at[at.DELETE_STATUS=35712]="DELETE_STATUS",at[at.LINK_STATUS=35714]="LINK_STATUS",at[at.VALIDATE_STATUS=35715]="VALIDATE_STATUS",at[at.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",at[at.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",at[at.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",at[at.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",at[at.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",at[at.NEVER=512]="NEVER",at[at.LESS=513]="LESS",at[at.EQUAL=514]="EQUAL",at[at.LEQUAL=515]="LEQUAL",at[at.GREATER=516]="GREATER",at[at.NOTEQUAL=517]="NOTEQUAL",at[at.GEQUAL=518]="GEQUAL",at[at.ALWAYS=519]="ALWAYS",at[at.KEEP=7680]="KEEP",at[at.REPLACE=7681]="REPLACE",at[at.INCR=7682]="INCR",at[at.DECR=7683]="DECR",at[at.INVERT=5386]="INVERT",at[at.INCR_WRAP=34055]="INCR_WRAP",at[at.DECR_WRAP=34056]="DECR_WRAP",at[at.VENDOR=7936]="VENDOR",at[at.RENDERER=7937]="RENDERER",at[at.VERSION=7938]="VERSION",at[at.NEAREST=9728]="NEAREST",at[at.LINEAR=9729]="LINEAR",at[at.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",at[at.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",at[at.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",at[at.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",at[at.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",at[at.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",at[at.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",at[at.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",at[at.TEXTURE_2D=3553]="TEXTURE_2D",at[at.TEXTURE=5890]="TEXTURE",at[at.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",at[at.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",at[at.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",at[at.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",at[at.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",at[at.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",at[at.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",at[at.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",at[at.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",at[at.TEXTURE0=33984]="TEXTURE0",at[at.TEXTURE1=33985]="TEXTURE1",at[at.TEXTURE2=33986]="TEXTURE2",at[at.TEXTURE3=33987]="TEXTURE3",at[at.TEXTURE4=33988]="TEXTURE4",at[at.TEXTURE5=33989]="TEXTURE5",at[at.TEXTURE6=33990]="TEXTURE6",at[at.TEXTURE7=33991]="TEXTURE7",at[at.TEXTURE8=33992]="TEXTURE8",at[at.TEXTURE9=33993]="TEXTURE9",at[at.TEXTURE10=33994]="TEXTURE10",at[at.TEXTURE11=33995]="TEXTURE11",at[at.TEXTURE12=33996]="TEXTURE12",at[at.TEXTURE13=33997]="TEXTURE13",at[at.TEXTURE14=33998]="TEXTURE14",at[at.TEXTURE15=33999]="TEXTURE15",at[at.TEXTURE16=34e3]="TEXTURE16",at[at.TEXTURE17=34001]="TEXTURE17",at[at.TEXTURE18=34002]="TEXTURE18",at[at.TEXTURE19=34003]="TEXTURE19",at[at.TEXTURE20=34004]="TEXTURE20",at[at.TEXTURE21=34005]="TEXTURE21",at[at.TEXTURE22=34006]="TEXTURE22",at[at.TEXTURE23=34007]="TEXTURE23",at[at.TEXTURE24=34008]="TEXTURE24",at[at.TEXTURE25=34009]="TEXTURE25",at[at.TEXTURE26=34010]="TEXTURE26",at[at.TEXTURE27=34011]="TEXTURE27",at[at.TEXTURE28=34012]="TEXTURE28",at[at.TEXTURE29=34013]="TEXTURE29",at[at.TEXTURE30=34014]="TEXTURE30",at[at.TEXTURE31=34015]="TEXTURE31",at[at.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",at[at.REPEAT=10497]="REPEAT",at[at.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",at[at.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",at[at.FLOAT_VEC2=35664]="FLOAT_VEC2",at[at.FLOAT_VEC3=35665]="FLOAT_VEC3",at[at.FLOAT_VEC4=35666]="FLOAT_VEC4",at[at.INT_VEC2=35667]="INT_VEC2",at[at.INT_VEC3=35668]="INT_VEC3",at[at.INT_VEC4=35669]="INT_VEC4",at[at.BOOL=35670]="BOOL",at[at.BOOL_VEC2=35671]="BOOL_VEC2",at[at.BOOL_VEC3=35672]="BOOL_VEC3",at[at.BOOL_VEC4=35673]="BOOL_VEC4",at[at.FLOAT_MAT2=35674]="FLOAT_MAT2",at[at.FLOAT_MAT3=35675]="FLOAT_MAT3",at[at.FLOAT_MAT4=35676]="FLOAT_MAT4",at[at.SAMPLER_2D=35678]="SAMPLER_2D",at[at.SAMPLER_CUBE=35680]="SAMPLER_CUBE",at[at.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",at[at.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",at[at.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",at[at.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",at[at.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",at[at.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",at[at.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",at[at.COMPILE_STATUS=35713]="COMPILE_STATUS",at[at.LOW_FLOAT=36336]="LOW_FLOAT",at[at.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",at[at.HIGH_FLOAT=36338]="HIGH_FLOAT",at[at.LOW_INT=36339]="LOW_INT",at[at.MEDIUM_INT=36340]="MEDIUM_INT",at[at.HIGH_INT=36341]="HIGH_INT",at[at.FRAMEBUFFER=36160]="FRAMEBUFFER",at[at.RENDERBUFFER=36161]="RENDERBUFFER",at[at.RGBA4=32854]="RGBA4",at[at.RGB5_A1=32855]="RGB5_A1",at[at.RGB565=36194]="RGB565",at[at.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",at[at.STENCIL_INDEX=6401]="STENCIL_INDEX",at[at.STENCIL_INDEX8=36168]="STENCIL_INDEX8",at[at.DEPTH_STENCIL=34041]="DEPTH_STENCIL",at[at.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",at[at.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",at[at.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",at[at.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",at[at.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",at[at.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",at[at.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",at[at.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",at[at.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",at[at.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",at[at.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",at[at.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",at[at.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",at[at.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",at[at.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",at[at.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",at[at.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",at[at.NONE=0]="NONE",at[at.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",at[at.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",at[at.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",at[at.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",at[at.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",at[at.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",at[at.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",at[at.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",at[at.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",at[at.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",at[at.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",at[at.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",at[at.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",at[at.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",at[at.COPY_SRC=1]="COPY_SRC",at[at.COPY_DST=2]="COPY_DST",at[at.SAMPLED=4]="SAMPLED",at[at.STORAGE=8]="STORAGE",at[at.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(W||(W={}));var X=function(){function at(){(0,S.Z)(this,at),this.config=void 0}return(0,M.Z)(at,[{key:"get",value:function(){return this.config}},{key:"set",value:function(Zt){this.config=Zt}}]),at}(),z=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),U;(function(at){at.Void="Void",at.Boolean="Boolean",at.Float="Float",at.Uint32="Uint32",at.Int32="Int32",at.Vector="Vector",at.Vector2Float="vec2<f32>",at.Vector3Float="vec3<f32>",at.Vector4Float="vec4<f32>",at.Vector2Boolean="vec2<bool>",at.Vector3Boolean="vec3<bool>",at.Vector4Boolean="vec4<bool>",at.Vector2Uint="vec2<u32>",at.Vector3Uint="vec3<u32>",at.Vector4Uint="vec4<u32>",at.Vector2Int="vec2<i32>",at.Vector3Int="vec3<i32>",at.Vector4Int="vec4<i32>",at.Matrix="Matrix",at.Matrix3x3Float="mat3x3<f32>",at.Matrix4x4Float="mat4x4<i32>",at.Struct="Struct",at.FloatArray="Float[]",at.Vector4FloatArray="vec4<f32>[]"})(U||(U={}));var j;(function(at){at.Program="Program",at.Identifier="Identifier",at.VariableDeclaration="VariableDeclaration",at.BlockStatement="BlockStatement",at.ReturnStatement="ReturnStatement",at.FunctionDeclaration="FunctionDeclaration",at.VariableDeclarator="VariableDeclarator",at.AssignmentExpression="AssignmentExpression",at.LogicalExpression="LogicalExpression",at.BinaryExpression="BinaryExpression",at.ArrayExpression="ArrayExpression",at.UnaryExpression="UnaryExpression",at.UpdateExpression="UpdateExpression",at.FunctionExpression="FunctionExpression",at.MemberExpression="MemberExpression",at.ConditionalExpression="ConditionalExpression",at.ExpressionStatement="ExpressionStatement",at.CallExpression="CallExpression",at.NumThreadStatement="NumThreadStatement",at.StorageStatement="StorageStatement",at.DoWhileStatement="DoWhileStatement",at.WhileStatement="WhileStatement",at.ForStatement="ForStatement",at.BreakStatement="BreakStatement",at.ContinueStatement="ContinueStatement",at.IfStatement="IfStatement",at.ImportedFunctionStatement="ImportedFunctionStatement"})(j||(j={}));var V;(function(at){at.Input="Input",at.Output="Output",at.Uniform="Uniform",at.Workgroup="Workgroup",at.UniformConstant="UniformConstant",at.Image="Image",at.StorageBuffer="StorageBuffer",at.Private="Private",at.Function="Function"})(V||(V={}));var J;(function(at){at.GLSL100="GLSL100",at.GLSL450="GLSL450",at.WGSL="WGSL"})(J||(J={}));var q="__DefineValuePlaceholder__";function et(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function st(at,Xe){var Zt=Object.keys(at);if(Object.getOwnPropertySymbols){var Qt=Object.getOwnPropertySymbols(at);Xe&&(Qt=Qt.filter(function(Mt){return Object.getOwnPropertyDescriptor(at,Mt).enumerable})),Zt.push.apply(Zt,Qt)}return Zt}function ot(at){for(var Xe=1;Xe<arguments.length;Xe++){var Zt=arguments[Xe]!=null?arguments[Xe]:{};Xe%2?st(Object(Zt),!0).forEach(function(Qt){(0,R.Z)(at,Qt,Zt[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(Zt)):st(Object(Zt)).forEach(function(Qt){Object.defineProperty(at,Qt,Object.getOwnPropertyDescriptor(Zt,Qt))})}return at}var mt=function(){function at(Xe,Zt){(0,S.Z)(this,at),this.engine=Xe,this.configService=Zt,this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return(0,M.Z)(at,[{key:"init",value:function(){var Zt=this.configService.get(),Qt=Zt.canvas,Mt=Zt.engineOptions;this.initPromise=this.engine.init(ot({canvas:Qt||et(),antialiasing:!1},Mt))}},{key:"setBundle",value:function(Zt){this.compiledBundle=JSON.parse(JSON.stringify(Zt))}},{key:"setDispatch",value:function(Zt){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=Zt),this}},{key:"setMaxIteration",value:function(Zt){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=Zt),this}},{key:"setBinding",value:function(Zt,Qt){var Mt=this;if(typeof Zt=="string"){var Nt=g()(Qt)||P()(Qt)||x()(Qt);if(this.compiledBundle&&this.compiledBundle.context){var Ut=this.compiledBundle.context.defines.find(function(Rt){return Rt.name===Zt});if(Ut)return Ut.value=Qt,this;var vt=this.compiledBundle.context.uniforms.find(function(Rt){return Rt.name===Zt});vt&&(Nt?(vt.data=Qt,vt.isReferer=!1,vt.storageClass===V.Uniform?this.model&&this.model.updateUniform(Zt,Qt):this.model&&this.model.updateBuffer(Zt,Qt)):(vt.isReferer=!0,vt.data=Qt))}}else Object.keys(Zt).forEach(function(Rt){Mt.setBinding(Rt,Zt[Rt])});return this}},{key:"execute",value:function(){var Xe=(0,m.Z)(T().mark(function Qt(){var Mt=this,Nt,Ut,vt=arguments;return T().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(Nt=vt.length>0&&vt[0]!==void 0?vt[0]:1,!this.dirty){ae.next=6;break}return this.compiledBundle.context&&(Nt>1?this.compiledBundle.context.maxIteration=Nt:this.compiledBundle.context.maxIteration++),ae.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(tt){var ut=tt.isReferer;return ut}).forEach(function(tt){var ut=tt.data,B=tt.name;Mt.model.confirmInput(ut.model,B)}),Ut=0;Ut<Nt;Ut++)this.model.run();return this.engine.endFrame(),ae.abrupt("return",this);case 12:case"end":return ae.stop()}},Qt,this)}));function Zt(){return Xe.apply(this,arguments)}return Zt}()},{key:"getOutput",value:function(){var Xe=(0,m.Z)(T().mark(function Qt(){return T().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.abrupt("return",this.model.readData());case 1:case"end":return Nt.stop()}},Qt,this)}));function Zt(){return Xe.apply(this,arguments)}return Zt}()},{key:"compile",value:function(){var Xe=(0,m.Z)(T().mark(function Qt(){var Mt,Nt,Ut;return T().wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return Rt.next=2,this.initPromise;case 2:return Mt=ot({},this.compiledBundle.context),Nt=this.engine.supportWebGPU?this.engine.useWGSL?J.WGSL:J.GLSL450:J.GLSL100,Ut=this.compiledBundle.shaders[Nt],Mt.defines.filter(function(ae){return ae.runtime}).forEach(function(ae){var tt="".concat(q).concat(ae.name);Ut=Ut.replace(tt,"".concat(ae.value))}),Mt.shader=Ut,Mt.uniforms.forEach(function(ae){if(!ae.data&&ae.storageClass===V.StorageBuffer){var tt=1;ae.type===U.FloatArray?tt=1:ae.type===U.Vector4FloatArray&&(tt=4),ae.data=new Float32Array(Mt.output.length*tt).fill(0)}}),this.compiledBundle.context=Mt,Rt.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=Rt.sent;case 12:case"end":return Rt.stop()}},Qt,this)}));function Zt(){return Xe.apply(this,arguments)}return Zt}()}]),at}(),ft=C(481550),Bt=C.n(ft),St=function(){function at(Xe,Zt){(0,S.Z)(this,at),this.attribute=void 0,this.buffer=void 0;var Qt=Zt.buffer,Mt=Zt.offset,Nt=Zt.stride,Ut=Zt.normalized,vt=Zt.size,Rt=Zt.divisor;this.buffer=Qt,this.attribute={buffer:Qt.get(),offset:Mt||0,stride:Nt||0,normalized:Ut||!1,divisor:Rt||0},vt&&(this.attribute.size=vt)}return(0,M.Z)(at,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(Zt){this.buffer.subData(Zt)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),at}(),wt,H,Q,bt,Ct,nt,dt,Tt,At,xt,Dt,Ht,se,re,It=(wt={},(0,R.Z)(wt,W.POINTS,"points"),(0,R.Z)(wt,W.LINES,"lines"),(0,R.Z)(wt,W.LINE_LOOP,"line loop"),(0,R.Z)(wt,W.LINE_STRIP,"line strip"),(0,R.Z)(wt,W.TRIANGLES,"triangles"),(0,R.Z)(wt,W.TRIANGLE_FAN,"triangle fan"),(0,R.Z)(wt,W.TRIANGLE_STRIP,"triangle strip"),wt),ne=(H={},(0,R.Z)(H,W.STATIC_DRAW,"static"),(0,R.Z)(H,W.DYNAMIC_DRAW,"dynamic"),(0,R.Z)(H,W.STREAM_DRAW,"stream"),H),pe=(Q={},(0,R.Z)(Q,W.BYTE,"int8"),(0,R.Z)(Q,W.UNSIGNED_INT,"int16"),(0,R.Z)(Q,W.INT,"int32"),(0,R.Z)(Q,W.UNSIGNED_BYTE,"uint8"),(0,R.Z)(Q,W.UNSIGNED_SHORT,"uint16"),(0,R.Z)(Q,W.UNSIGNED_INT,"uint32"),(0,R.Z)(Q,W.FLOAT,"float"),Q),Wt=(bt={},(0,R.Z)(bt,W.ALPHA,"alpha"),(0,R.Z)(bt,W.LUMINANCE,"luminance"),(0,R.Z)(bt,W.LUMINANCE_ALPHA,"luminance alpha"),(0,R.Z)(bt,W.RGB,"rgb"),(0,R.Z)(bt,W.RGBA,"rgba"),(0,R.Z)(bt,W.RGBA4,"rgba4"),(0,R.Z)(bt,W.RGB5_A1,"rgb5 a1"),(0,R.Z)(bt,W.RGB565,"rgb565"),(0,R.Z)(bt,W.DEPTH_COMPONENT,"depth"),(0,R.Z)(bt,W.DEPTH_STENCIL,"depth stencil"),bt),Jt=(Ct={},(0,R.Z)(Ct,W.DONT_CARE,"dont care"),(0,R.Z)(Ct,W.NICEST,"nice"),(0,R.Z)(Ct,W.FASTEST,"fast"),Ct),$t=(nt={},(0,R.Z)(nt,W.NEAREST,"nearest"),(0,R.Z)(nt,W.LINEAR,"linear"),(0,R.Z)(nt,W.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,R.Z)(nt,W.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,R.Z)(nt,W.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,R.Z)(nt,W.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),nt),Kt=(dt={},(0,R.Z)(dt,W.REPEAT,"repeat"),(0,R.Z)(dt,W.CLAMP_TO_EDGE,"clamp"),(0,R.Z)(dt,W.MIRRORED_REPEAT,"mirror"),dt),ue=(Tt={},(0,R.Z)(Tt,W.NONE,"none"),(0,R.Z)(Tt,W.BROWSER_DEFAULT_WEBGL,"browser"),Tt),Se=(At={},(0,R.Z)(At,W.NEVER,"never"),(0,R.Z)(At,W.ALWAYS,"always"),(0,R.Z)(At,W.LESS,"less"),(0,R.Z)(At,W.LEQUAL,"lequal"),(0,R.Z)(At,W.GREATER,"greater"),(0,R.Z)(At,W.GEQUAL,"gequal"),(0,R.Z)(At,W.EQUAL,"equal"),(0,R.Z)(At,W.NOTEQUAL,"notequal"),At),Pt=(xt={},(0,R.Z)(xt,W.FUNC_ADD,"add"),(0,R.Z)(xt,W.MIN_EXT,"min"),(0,R.Z)(xt,W.MAX_EXT,"max"),(0,R.Z)(xt,W.FUNC_SUBTRACT,"subtract"),(0,R.Z)(xt,W.FUNC_REVERSE_SUBTRACT,"reverse subtract"),xt),Fe=(Dt={},(0,R.Z)(Dt,W.ZERO,"zero"),(0,R.Z)(Dt,W.ONE,"one"),(0,R.Z)(Dt,W.SRC_COLOR,"src color"),(0,R.Z)(Dt,W.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,R.Z)(Dt,W.SRC_ALPHA,"src alpha"),(0,R.Z)(Dt,W.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,R.Z)(Dt,W.DST_COLOR,"dst color"),(0,R.Z)(Dt,W.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,R.Z)(Dt,W.DST_ALPHA,"dst alpha"),(0,R.Z)(Dt,W.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,R.Z)(Dt,W.CONSTANT_COLOR,"constant color"),(0,R.Z)(Dt,W.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,R.Z)(Dt,W.CONSTANT_ALPHA,"constant alpha"),(0,R.Z)(Dt,W.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,R.Z)(Dt,W.SRC_ALPHA_SATURATE,"src alpha saturate"),Dt),vr=(Ht={},(0,R.Z)(Ht,W.NEVER,"never"),(0,R.Z)(Ht,W.ALWAYS,"always"),(0,R.Z)(Ht,W.LESS,"less"),(0,R.Z)(Ht,W.LEQUAL,"lequal"),(0,R.Z)(Ht,W.GREATER,"greater"),(0,R.Z)(Ht,W.GEQUAL,"gequal"),(0,R.Z)(Ht,W.EQUAL,"equal"),(0,R.Z)(Ht,W.NOTEQUAL,"notequal"),Ht),Tr=(se={},(0,R.Z)(se,W.ZERO,"zero"),(0,R.Z)(se,W.KEEP,"keep"),(0,R.Z)(se,W.REPLACE,"replace"),(0,R.Z)(se,W.INVERT,"invert"),(0,R.Z)(se,W.INCR,"increment"),(0,R.Z)(se,W.DECR,"decrement"),(0,R.Z)(se,W.INCR_WRAP,"increment wrap"),(0,R.Z)(se,W.DECR_WRAP,"decrement wrap"),se),Or=(re={},(0,R.Z)(re,W.FRONT,"front"),(0,R.Z)(re,W.BACK,"back"),re),Fr=function(){function at(Xe,Zt){(0,S.Z)(this,at),this.buffer=void 0;var Qt=Zt.data,Mt=Zt.usage,Nt=Zt.type;this.buffer=Xe.buffer({data:Qt,usage:ne[Mt||W.STATIC_DRAW],type:pe[Nt||W.UNSIGNED_BYTE]})}return(0,M.Z)(at,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(Zt){var Qt=Zt.data,Mt=Zt.offset;this.buffer.subdata(Qt,Mt)}}]),at}(),nn=C(974902);function an(at,Xe){var Zt=Object.keys(at);if(Object.getOwnPropertySymbols){var Qt=Object.getOwnPropertySymbols(at);Xe&&(Qt=Qt.filter(function(Mt){return Object.getOwnPropertyDescriptor(at,Mt).enumerable})),Zt.push.apply(Zt,Qt)}return Zt}function er(at){for(var Xe=1;Xe<arguments.length;Xe++){var Zt=arguments[Xe]!=null?arguments[Xe]:{};Xe%2?an(Object(Zt),!0).forEach(function(Qt){(0,R.Z)(at,Qt,Zt[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(Zt)):an(Object(Zt)).forEach(function(Qt){Object.defineProperty(at,Qt,Object.getOwnPropertyDescriptor(Zt,Qt))})}return at}var Rr=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,qr=0,xr=!1,Gr=function(){function at(Xe,Zt){var Qt=this;(0,S.Z)(this,at),this.reGl=Xe,this.context=Zt,this.entity=k(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var Mt={};this.context.uniforms.forEach(function(ae){var tt=ae.name,ut=ae.type,B=ae.data,O=ae.isReferer,_=ae.storageClass;if(_===V.StorageBuffer){if(O)Qt.textureCache[tt]={data:void 0},Mt["".concat(tt,"Size")]=function(){return B.compiledBundle.context.output.textureSize};else{Qt.textureCache[tt]=Qt.calcDataTexture(tt,ut,B);var $=Qt.textureCache[tt],gt=$.textureWidth,Ft=$.isOutput;Mt["".concat(tt,"Size")]=[gt,gt],Ft&&(Qt.outputTextureName=tt,Qt.context.needPingpong&&(Qt.outputTextureName="".concat(tt,"Output"),Qt.textureCache[Qt.outputTextureName]=Qt.calcDataTexture(tt,ut,B)))}Mt[tt]=function(){return xr&&console.log("[".concat(Qt.entity,"]: ").concat(tt," ").concat(Qt.textureCache[tt].id)),Qt.textureCache[tt].texture}}else if(_===V.Uniform){if(B&&(Array.isArray(B)||P()(B))&&B.length>16)throw new Error("invalid data type ".concat(ut));Mt[tt]=function(){return ae.data}}});var Nt=this.getOuputDataTexture(),Ut=Nt.textureWidth,vt=Nt.texelCount;Mt.u_OutputTextureSize=[Ut,Ut],Mt.u_OutputTexelCount=vt,this.context.output.textureSize=[Ut,Ut];var Rt={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:Mt,vert:Rr,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(Rt)}return(0,M.Z)(at,[{key:"run",value:function(){var Zt=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){Zt.computeCommand()}),xr&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var Xe=(0,m.Z)(T().mark(function Qt(){var Mt=this,Nt,Ut,vt,Rt,ae,tt,ut,B;return T().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){Nt=Mt.reGl.read()}),!Nt){_.next=6;break}if(Ut=this.getOuputDataTexture(),vt=Ut.originalDataLength,Rt=Ut.elementsPerTexel,ae=Ut.typedArrayConstructor,tt=ae===void 0?Float32Array:ae,ut=[],Rt!==4)for(B=0;B<Nt.length;B+=4)Rt===1?ut.push(Nt[B]):Rt===2?ut.push(Nt[B],Nt[B+1]):ut.push(Nt[B],Nt[B+1],Nt[B+2]);else ut=Nt;return _.abrupt("return",new tt(ut.slice(0,vt)));case 6:return _.abrupt("return",new Float32Array);case 7:case"end":return _.stop()}},Qt,this)}));function Zt(){return Xe.apply(this,arguments)}return Zt}()},{key:"confirmInput",value:function(Zt,Qt){var Mt;this.entity===Zt.entity?(this.dynamicPingpong=!0,Mt=this):Mt=Zt,this.textureCache[Qt].id=Mt.getOuputDataTexture().id,this.textureCache[Qt].texture=Mt.getOuputDataTexture().texture,xr&&console.log("[".concat(this.entity,"]: confirm input ").concat(Qt," from model ").concat(Mt.entity,", ").concat(Mt.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(Zt,Qt){var Mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Nt=this.context.uniforms.find(function(ae){var tt=ae.name;return tt===Zt});if(Nt){var Ut=this.calcDataTexture(Zt,Nt.type,Qt),vt=Ut.texture,Rt=Ut.data;this.textureCache[Zt].data=Rt,this.textureCache[Zt].texture=vt}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var Zt=this.context.output.name;this.textureCache[Zt].id=this.getOuputDataTexture().id,this.textureCache[Zt].texture=this.getOuputDataTexture().texture}var Qt=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=Qt,xr&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var Zt=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=Zt}},{key:"cloneDataTexture",value:function(Zt){var Qt=Zt.data,Mt=Zt.textureWidth;return er(er({},Zt),{},{id:qr++,texture:this.reGl.texture({width:Mt,height:Mt,data:Qt,type:"float"})})}},{key:"calcDataTexture",value:function(Zt,Qt,Mt){var Nt=1;Qt===U.Vector4FloatArray&&(Nt=4);for(var Ut=[],vt=0;vt<Mt.length;vt+=Nt)Nt===1?Ut.push(Mt[vt],0,0,0):Nt===2?Ut.push(Mt[vt],Mt[vt+1],0,0):Nt===3?Ut.push(Mt[vt],Mt[vt+1],Mt[vt+2],0):Nt===4&&Ut.push(Mt[vt],Mt[vt+1],Mt[vt+2],Mt[vt+3]);var Rt=Mt.length,ae=Math.ceil(Rt/Nt),tt=Math.ceil(Math.sqrt(ae)),ut=tt*tt;ae<ut&&Ut.push.apply(Ut,(0,nn.Z)(new Array((ut-ae)*4).fill(0)));var B=this.reGl.texture({width:tt,height:tt,data:Ut,type:"float"});return{id:qr++,data:Ut,originalDataLength:Rt,typedArrayConstructor:P()(Mt)?Mt.constructor:void 0,textureWidth:tt,texture:B,texelCount:ae,elementsPerTexel:Nt,isOutput:Zt===this.context.output.name}}}]),at}(),Dr=function(){function at(Xe,Zt){(0,S.Z)(this,at),this.elements=void 0;var Qt=Zt.data,Mt=Zt.usage,Nt=Zt.type,Ut=Zt.count;this.elements=Xe.elements({data:Qt,usage:ne[Mt||W.STATIC_DRAW],type:pe[Nt||W.UNSIGNED_BYTE],count:Ut})}return(0,M.Z)(at,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(Zt){var Qt=Zt.data;this.elements.subdata(Qt)}},{key:"destroy",value:function(){this.elements.destroy()}}]),at}(),We=function(){function at(Xe,Zt){(0,S.Z)(this,at),this.framebuffer=void 0;var Qt=Zt.width,Mt=Zt.height,Nt=Zt.color,Ut=Zt.colors,vt=Zt.depth,Rt=Zt.stencil,ae={width:Qt,height:Mt};Array.isArray(Ut)&&(ae.colors=Ut.map(function(tt){return tt.get()})),Nt&&typeof Nt!="boolean"&&(ae.color=Nt.get()),this.framebuffer=Xe.framebuffer(ae)}return(0,M.Z)(at,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(Zt){var Qt=Zt.width,Mt=Zt.height;this.framebuffer.resize(Qt,Mt)}}]),at}(),Je=C(671002),gn=C(968630),rr=C.n(gn);function jr(at){var Xe={};return Object.keys(at).forEach(function(Zt){Nr(Zt,at[Zt],Xe,"")}),Xe}function Nr(at,Xe,Zt,Qt){if(Xe===null||typeof Xe=="number"||typeof Xe=="boolean"||Array.isArray(Xe)&&typeof Xe[0]=="number"||P()(Xe)||Xe===""||Xe.resize!==void 0){Zt["".concat(Qt&&Qt+".").concat(at)]=Xe;return}rr()(Xe)&&Object.keys(Xe).forEach(function(Mt){Nr(Mt,Xe[Mt],Zt,"".concat(Qt&&Qt+".").concat(at))}),Array.isArray(Xe)&&Xe.forEach(function(Mt,Nt){Object.keys(Mt).forEach(function(Ut){Nr(Ut,Mt[Ut],Zt,"".concat(Qt&&Qt+".").concat(at,"[").concat(Nt,"]"))})})}function kn(at,Xe){var Zt=Object.keys(at);if(Object.getOwnPropertySymbols){var Qt=Object.getOwnPropertySymbols(at);Xe&&(Qt=Qt.filter(function(Mt){return Object.getOwnPropertyDescriptor(at,Mt).enumerable})),Zt.push.apply(Zt,Qt)}return Zt}function on(at){for(var Xe=1;Xe<arguments.length;Xe++){var Zt=arguments[Xe]!=null?arguments[Xe]:{};Xe%2?kn(Object(Zt),!0).forEach(function(Qt){(0,R.Z)(at,Qt,Zt[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(Zt)):kn(Object(Zt)).forEach(function(Qt){Object.defineProperty(at,Qt,Object.getOwnPropertyDescriptor(Zt,Qt))})}return at}var dn=function(){function at(Xe,Zt){(0,S.Z)(this,at),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=Xe;var Qt=Zt.vs,Mt=Zt.fs,Nt=Zt.defines,Ut=Zt.attributes,vt=Zt.uniforms,Rt=Zt.primitive,ae=Zt.count,tt=Zt.elements,ut=Zt.depth,B=Zt.blend,O=Zt.stencil,_=Zt.cull,$=Zt.instances,gt=Zt.scissor,Ft=Zt.viewport,zt={};vt&&(this.uniforms=jr(vt),Object.keys(vt).forEach(function(Ue){zt[Ue]=Xe.prop(Ue)}));var te={};Object.keys(Ut).forEach(function(Ue){te[Ue]=Ut[Ue].get()});var _e=Nt&&this.generateDefines(Nt)||"",me={attributes:te,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(_e,`
`).concat(Mt),uniforms:zt,vert:`
`.concat(_e,`
`).concat(Qt),primitive:It[Rt===void 0?W.TRIANGLES:Rt]};$&&(me.instances=$),ae&&(me.count=ae),tt&&(me.elements=tt.get()),gt&&(me.scissor=gt),Ft&&(me.viewport=Ft),this.initDepthDrawParams({depth:ut},me),this.initBlendDrawParams({blend:B},me),this.initStencilDrawParams({stencil:O},me),this.initCullDrawParams({cull:_},me),this.drawCommand=Xe(me)}return(0,M.Z)(at,[{key:"addUniforms",value:function(Zt){this.uniforms=on(on({},this.uniforms),jr(Zt))}},{key:"draw",value:function(Zt){var Qt=on(on({},this.uniforms),jr(Zt.uniforms||{})),Mt={};Object.keys(Qt).forEach(function(Nt){var Ut=(0,Je.Z)(Qt[Nt]);Ut==="boolean"||Ut==="number"||Array.isArray(Qt[Nt])||Qt[Nt].BYTES_PER_ELEMENT?Mt[Nt]=Qt[Nt]:Ut==="string"||(Mt[Nt]=Qt[Nt].get())}),this.drawCommand(Mt)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(Zt,Qt){var Mt=Zt.depth;Mt&&(Qt.depth={enable:Mt.enable===void 0?!0:!!Mt.enable,mask:Mt.mask===void 0?!0:!!Mt.mask,func:Se[Mt.func||W.LESS],range:Mt.range||[0,1]})}},{key:"initBlendDrawParams",value:function(Zt,Qt){var Mt=Zt.blend;if(Mt){var Nt=Mt.enable,Ut=Mt.func,vt=Mt.equation,Rt=Mt.color,ae=Rt===void 0?[0,0,0,0]:Rt;Qt.blend={enable:!!Nt,func:{srcRGB:Fe[Ut&&Ut.srcRGB||W.SRC_ALPHA],srcAlpha:Fe[Ut&&Ut.srcAlpha||W.SRC_ALPHA],dstRGB:Fe[Ut&&Ut.dstRGB||W.ONE_MINUS_SRC_ALPHA],dstAlpha:Fe[Ut&&Ut.dstAlpha||W.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Pt[vt&&vt.rgb||W.FUNC_ADD],alpha:Pt[vt&&vt.alpha||W.FUNC_ADD]},color:ae}}}},{key:"initStencilDrawParams",value:function(Zt,Qt){var Mt=Zt.stencil;if(Mt){var Nt=Mt.enable,Ut=Mt.mask,vt=Ut===void 0?-1:Ut,Rt=Mt.func,ae=Rt===void 0?{cmp:W.ALWAYS,ref:0,mask:-1}:Rt,tt=Mt.opFront,ut=tt===void 0?{fail:W.KEEP,zfail:W.KEEP,zpass:W.KEEP}:tt,B=Mt.opBack,O=B===void 0?{fail:W.KEEP,zfail:W.KEEP,zpass:W.KEEP}:B;Qt.stencil={enable:!!Nt,mask:vt,func:on(on({},ae),{},{cmp:vr[ae.cmp]}),opFront:{fail:Tr[ut.fail],zfail:Tr[ut.zfail],zpass:Tr[ut.zpass]},opBack:{fail:Tr[O.fail],zfail:Tr[O.zfail],zpass:Tr[O.zpass]}}}}},{key:"initCullDrawParams",value:function(Zt,Qt){var Mt=Zt.cull;if(Mt){var Nt=Mt.enable,Ut=Mt.face,vt=Ut===void 0?W.BACK:Ut;Qt.cull={enable:!!Nt,face:Or[vt]}}}},{key:"generateDefines",value:function(Zt){return Object.keys(Zt).map(function(Qt){return"#define ".concat(Qt," ").concat(Number(Zt[Qt]))}).join(`
`)}}]),at}(),En=function(){function at(Xe,Zt){(0,S.Z)(this,at),this.texture=void 0,this.width=void 0,this.height=void 0;var Qt=Zt.data,Mt=Zt.type,Nt=Mt===void 0?W.UNSIGNED_BYTE:Mt,Ut=Zt.width,vt=Zt.height,Rt=Zt.flipY,ae=Rt===void 0?!1:Rt,tt=Zt.format,ut=tt===void 0?W.RGBA:tt,B=Zt.mipmap,O=B===void 0?!1:B,_=Zt.wrapS,$=_===void 0?W.CLAMP_TO_EDGE:_,gt=Zt.wrapT,Ft=gt===void 0?W.CLAMP_TO_EDGE:gt,zt=Zt.aniso,te=zt===void 0?0:zt,_e=Zt.alignment,me=_e===void 0?1:_e,Ue=Zt.premultiplyAlpha,fr=Ue===void 0?!1:Ue,je=Zt.mag,Lr=je===void 0?W.NEAREST:je,ln=Zt.min,Ve=ln===void 0?W.NEAREST:ln,or=Zt.colorSpace,Ar=or===void 0?W.BROWSER_DEFAULT_WEBGL:or;this.width=Ut,this.height=vt;var Mr={width:Ut,height:vt,type:pe[Nt],format:Wt[ut],wrapS:Kt[$],wrapT:Kt[Ft],mag:$t[Lr],min:$t[Ve],alignment:me,flipY:ae,colorSpace:ue[Ar],premultiplyAlpha:fr,aniso:te};Qt&&(Mr.data=Qt),typeof O=="number"?Mr.mipmap=Jt[O]:typeof O=="boolean"&&(Mr.mipmap=O),this.texture=Xe.texture(Mr)}return(0,M.Z)(at,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(Zt){var Qt=Zt.width,Mt=Zt.height;this.texture.resize(Qt,Mt),this.width=Qt,this.height=Mt}},{key:"destroy",value:function(){this.texture.destroy()}}]),at}(),Pn=function(){function at(){var Xe=this;(0,S.Z)(this,at),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var Zt=(0,m.Z)(T().mark(function Qt(Mt){return T().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:if(!Mt.uniforms){Ut.next=3;break}return Ut.next=3,Promise.all(Object.keys(Mt.uniforms).map(function(){var vt=(0,m.Z)(T().mark(function Rt(ae){var tt;return T().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!(Mt.uniforms[ae]&&Mt.uniforms[ae].load!==void 0)){B.next=5;break}return B.next=3,Mt.uniforms[ae].load();case 3:tt=B.sent,Mt.uniforms[ae]=tt;case 5:case"end":return B.stop()}},Rt)}));return function(Rt){return vt.apply(this,arguments)}}()));case 3:return Ut.abrupt("return",new dn(Xe.gl,Mt));case 4:case"end":return Ut.stop()}},Qt)}));return function(Qt){return Zt.apply(this,arguments)}}(),this.createAttribute=function(Zt){return new St(Xe.gl,Zt)},this.createBuffer=function(Zt){return new Fr(Xe.gl,Zt)},this.createElements=function(Zt){return new Dr(Xe.gl,Zt)},this.createTexture2D=function(Zt){return new En(Xe.gl,Zt)},this.createFramebuffer=function(Zt){return new We(Xe.gl,Zt)},this.useFramebuffer=function(Zt,Qt){Xe.gl({framebuffer:Zt?Zt.get():null})(Qt)},this.createComputeModel=function(){var Zt=(0,m.Z)(T().mark(function Qt(Mt){return T().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:return Ut.abrupt("return",new Gr(Xe.gl,Mt));case 1:case"end":return Ut.stop()}},Qt)}));return function(Qt){return Zt.apply(this,arguments)}}(),this.clear=function(Zt){var Qt=Zt.color,Mt=Zt.depth,Nt=Zt.stencil,Ut=Zt.framebuffer,vt=Ut===void 0?null:Ut,Rt={color:Qt,depth:Mt,stencil:Nt};Rt.framebuffer=vt===null?vt:vt.get(),Xe.gl.clear(Rt)},this.setScissor=function(Zt){Xe.gl&&Xe.gl._gl&&(Zt.enable&&Zt.box?(Xe.gl._gl.enable(W.SCISSOR_TEST),Xe.gl._gl.scissor(Zt.box.x,Zt.box.y,Zt.box.width,Zt.box.height)):Xe.gl._gl.disable(W.SCISSOR_TEST),Xe.gl._refresh())},this.viewport=function(Zt){var Qt=Zt.x,Mt=Zt.y,Nt=Zt.width,Ut=Zt.height;Xe.gl&&Xe.gl._gl&&(Xe.gl._gl.viewport(Qt,Mt,Nt,Ut),Xe.gl._refresh())},this.readPixels=function(Zt){var Qt=Zt.framebuffer,Mt=Zt.x,Nt=Zt.y,Ut=Zt.width,vt=Zt.height,Rt={x:Mt,y:Nt,width:Ut,height:vt};return Qt&&(Rt.framebuffer=Qt.get()),Xe.gl.read(Rt)},this.getCanvas=function(){return Xe.$canvas},this.getGLContext=function(){return Xe.gl._gl},this.destroy=function(){Xe.gl&&(Xe.gl.destroy(),Xe.inited=!1)}}return(0,M.Z)(at,[{key:"init",value:function(){var Xe=(0,m.Z)(T().mark(function Qt(Mt){return T().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:if(!this.inited){Ut.next=2;break}return Ut.abrupt("return");case 2:return this.$canvas=Mt.canvas,Ut.next=5,new Promise(function(vt,Rt){Bt()({canvas:Mt.canvas,attributes:{alpha:!0,antialias:Mt.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(tt,ut){(tt||!ut)&&Rt(tt),vt(ut)}})});case 5:this.gl=Ut.sent,this.inited=!0;case 7:case"end":return Ut.stop()}},Qt,this)}));function Zt(Qt){return Xe.apply(this,arguments)}return Zt}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),at}(),Nn=function(){function at(){(0,S.Z)(this,at),this.engine=void 0,this.configService=new X}return(0,M.Z)(at,[{key:"setConfig",value:function(Zt){this.configService.set(Zt)}},{key:"setEngine",value:function(Zt){this.engine=Zt}},{key:"createEntity",value:function(){return k()}},{key:"createKernel",value:function(Zt){var Qt=new mt(this.engine,this.configService);return typeof Zt=="string"?Qt.setBundle(JSON.parse(Zt)):Qt.setBundle(Zt),Qt.init(),Qt}},{key:"destroy",value:function(){this.engine.destroy()}}],[{key:"create",value:function(){var Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Qt=new at;return Qt.setConfig(Zt),Qt.setEngine(new Pn),Qt}}]),at}()},909676:function(ze,G,C){"use strict";C.d(G,{ZP:function(){return wS}});var m={};C.r(m),C.d(m,{GADDI:function(){return gi},Stack:function(){return Po},breadthFirstSearch:function(){return ne},connectedComponent:function(){return Jt},cosineSimilarity:function(){return zt},default:function(){return Za},depthFirstSearch:function(){return vr},detectAllCycles:function(){return nn},detectAllDirectedCycle:function(){return Fr},detectAllUndirectedCycle:function(){return Or},detectCycle:function(){return an},detectDirectedCycle:function(){return bo},dijkstra:function(){return qr},findAllPath:function(){return Dr},findShortestPath:function(){return Gr},floydWarshall:function(){return Je},getAdjMatrix:function(){return Q},getDegree:function(){return Kt},getInDegree:function(){return ue},getNeighbors:function(){return xt},getOutDegree:function(){return Se},iLouvain:function(){return ut},kCore:function(){return O},kMeans:function(){return gt},labelPropagation:function(){return rr},louvain:function(){return ae},minimumSpanningTree:function(){return Ar},nodesCosineSimilarity:function(){return _e},pageRank:function(){return ce}});var R={};C.r(R),C.d(R,{Line:function(){return va},applyMatrix:function(){return Kr},compare:function(){return fe},distance:function(){return Kn},floydWarshall:function(){return ra},fractionToLine:function(){return Ri},getAdjMatrix:function(){return na},getBBoxBoundLine:function(){return di},getCircleCenterByPoints:function(){return Mn},getCircleIntersectByPoint:function(){return Sr},getDegree:function(){return Da},getEllipseIntersectByPoint:function(){return br},getLineIntersect:function(){return nr},getPointsCenter:function(){return Ii},getRectIntersectByPoint:function(){return _r},intersectBBox:function(){return Qa},invertMatrix:function(){return cn},isPointInPolygon:function(){return li},isPointsOverlap:function(){return Oo},isPolygonsIntersect:function(){return _a},itemIntersectByLine:function(){return hi},lerp:function(){return mi},lerpArray:function(){return ki},move:function(){return ua},pointLineDistance:function(){return Ra},pointLineSquareDist:function(){return Ao},pointRectSquareDist:function(){return Ni},rotate:function(){return Fa},scale:function(){return Qn},scaleMatrix:function(){return Wn},squareDist:function(){return Gi},translate:function(){return Ua}});var S={};C.r(S),C.d(S,{cloneBesidesImg:function(){return Ko},getAnimateCfgWithCallback:function(){return is},getBBox:function(){return Ia},getComboBBox:function(){return ws},getLabelPosition:function(){return eo},getLetterWidth:function(){return Yo},getLoopCfgs:function(){return vi},getTextSize:function(){return hs},plainCombosToTrees:function(){return Es},reconstructTree:function(){return As},shouldRefreshEdge:function(){return nu},traverseTree:function(){return Di},traverseTreeUp:function(){return ro},truncateLabelByLength:function(){return qo}});var M={};C.r(M),C.d(M,{catmullRomToBezier:function(){return Y},fillPath:function(){return Zi},fillPathByDiff:function(){return Wa},formatPath:function(){return ps},intersection:function(){return ga},parsePathArray:function(){return Ye},parsePathString:function(){return h},pathToAbsolute:function(){return Gt},pathToCurve:function(){return Ce},rectPath:function(){return In}});var L={};C.r(L),C.d(L,{easeBack:function(){return pl},easeBackIn:function(){return tc},easeBackInOut:function(){return pl},easeBackOut:function(){return ec},easeBounce:function(){return Ru},easeBounceIn:function(){return Bf},easeBounceInOut:function(){return Xc},easeBounceOut:function(){return Ru},easeCircle:function(){return Yc},easeCircleIn:function(){return Df},easeCircleInOut:function(){return Yc},easeCircleOut:function(){return hu},easeCubic:function(){return js},easeCubicIn:function(){return Pu},easeCubicInOut:function(){return js},easeCubicOut:function(){return du},easeElastic:function(){return rc},easeElasticIn:function(){return gl},easeElasticInOut:function(){return nc},easeElasticOut:function(){return rc},easeExp:function(){return ql},easeExpIn:function(){return Ql},easeExpInOut:function(){return ql},easeExpOut:function(){return Wc},easeLinear:function(){return Ms},easePoly:function(){return Lu},easePolyIn:function(){return Vl},easePolyInOut:function(){return Lu},easePolyOut:function(){return Hl},easeQuad:function(){return Ps},easeQuadIn:function(){return Du},easeQuadInOut:function(){return Ps},easeQuadOut:function(){return fu},easeSin:function(){return $l},easeSinIn:function(){return Nu},easeSinInOut:function(){return $l},easeSinOut:function(){return us}});var P={};C.r(P),C.d(P,{calculationItemsBBox:function(){return Ov},cloneEvent:function(){return F0},formatPadding:function(){return Ah},isNaN:function(){return Xu},isViewportChanged:function(){return z0},processParallelEdges:function(){return G0},uniqueId:function(){return Kf}});var p={};C.r(p),C.d(p,{getClosedSpline:function(){return Bh},getControlPoint:function(){return Vd},getSpline:function(){return Vv},getStarPath:function(){return om},paddedHull:function(){return $v},pathToPoints:function(){return kh},pointsToPolygon:function(){return im},roundedHull:function(){return Fh}});var g={};C.r(g),C.d(g,{defaultSubjectColors:function(){return Tm}});var w={};C.r(w),C.d(w,{isForce:function(){return sp}});var x={};C.r(x),C.d(x,{Base:function(){return mu},Circle:function(){return qm},Ellipse:function(){return ty},Image:function(){return ry},Line:function(){return ay},Marker:function(){return sy},Path:function(){return Qh},Polygon:function(){return gy},Polyline:function(){return yy},Rect:function(){return wy},Text:function(){return My}});var y={};C.r(y),C.d(y,{Base:function(){return Qs},Circle:function(){return Py},Dom:function(){return Ny},Ellipse:function(){return ky},Image:function(){return Fy},Line:function(){return Gy},Marker:function(){return Wy},Path:function(){return Xy},Polygon:function(){return Vy},Polyline:function(){return Zy},Rect:function(){return Jy},Text:function(){return a1}});var T={};C.r(T),C.d(T,{getColorSetsBySubjectColors:function(){return P1},getColorsWithSubjectColor:function(){return ev},mixColor:function(){return $o}});var E={};C.r(E),C.d(E,{arrayToTextureData:function(){return j1},attributesToTextureData:function(){return X1},buildTextureData:function(){return U1},buildTextureDataWithOneEdgeAttr:function(){return W1},buildTextureDataWithTwoEdgeAttr:function(){return Y1},proccessToFunc:function(){return G1},radialLayout:function(){return V1}});var D={};C.r(D),C.d(D,{gpuDetector:function(){return $p}});var k={};C.r(k),C.d(k,{assign:function(){return pc},default:function(){return Tg},defaultI18n:function(){return lv},format:function(){return _g},parse:function(){return Cg},setGlobalDateI18n:function(){return mg},setGlobalDateMasks:function(){return Mg}});var b=C(570655),f=C(413810),W={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(e){return Object.assign(this,e),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,r=this.events;this.graph=e,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!0),(0,f.each)(r,function(n,a){e.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(e){var t=this.events,r=e.get("canvas").get("draggable");(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!1),(0,f.each)(t,function(n,a){e.off(a,n)}),e.get("canvas").set("draggable",r)},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},X=function(){function i(){}return i.registerBehavior=function(e,t){if(!t)throw new Error("please specify handler for this behavior: ".concat(e));var r=(0,f.clone)(W);Object.assign(r,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var u=this.getEvents();this.events=null;var l={};u&&((0,f.each)(u,function(c,d){l[d]=(0,f.wrapBehavior)(s,c)}),this.events=l)};n.prototype=r,i.types[e]=n},i.hasBehavior=function(e){return!!i.types[e]},i.getBehavior=function(e){return i.types[e]},i.types={},i}(),z=X,U=z,j="*",V=function(){function i(){this._events={}}return i.prototype.on=function(e,t,r){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!r}),this},i.prototype.once=function(e,t){return this.on(e,t,!0)},i.prototype.emit=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=this._events[e]||[],o=this._events[j]||[],s=function(u){for(var l=u.length,c=0;c<l;c++)if(u[c]){var d=u[c],A=d.callback,I=d.once;I&&(u.splice(c,1),u.length===0&&delete t._events[e],l--,c--),A.apply(t,r)}};s(a),s(o)},i.prototype.off=function(e,t){if(!e)this._events={};else if(!t)delete this._events[e];else{for(var r=this._events[e]||[],n=r.length,a=0;a<n;a++)r[a].callback===t&&(r.splice(a,1),n--,a--);r.length===0&&delete this._events[e]}return this},i.prototype.getEvents=function(){return this._events},i}(),J=V,q=C(935600);function et(i,e,t){var r=[0,0,0,0,0,0,0,0,0];return q.fromTranslation(r,t),q.multiply(i,r,e)}function st(i,e,t){var r=[0,0,0,0,0,0,0,0,0];return q.fromRotation(r,t),q.multiply(i,r,e)}function ot(i,e,t){var r=[0,0,0,0,0,0,0,0,0];return q.fromScaling(r,t),q.multiply(i,r,e)}function mt(i,e,t){return q.multiply(i,t,e)}function ft(i,e){for(var t=i?[].concat(i):[1,0,0,0,1,0,0,0,1],r=0,n=e.length;r<n;r++){var a=e[r];switch(a[0]){case"t":et(t,t,[a[1],a[2]]);break;case"s":ot(t,t,[a[1],a[2]]);break;case"r":st(t,t,a[1]);break;case"m":mt(t,t,a[1]);break;default:break}}return t}function Bt(i,e){return i[0]*e[1]-e[0]*i[1]}function St(i,e,t){var r=vec2.angle(i,e),n=Bt(i,e)>=0;return t?n?Math.PI*2-r:r:n?r:Math.PI*2-r}function wt(i,e,t){return t?(i[0]=e[1],i[1]=-1*e[0]):(i[0]=-1*e[1],i[1]=e[0]),i}var H=function(e,t){var r=e.nodes,n=e.edges,a=[],o={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(s,u){o[s.id]=u;var l=[];a.push(l)}),n&&n.forEach(function(s){var u=s.source,l=s.target,c=o[u],d=o[l];!c&&c!==0||!d&&d!==0||(a[c][d]=1,t||(a[d][c]=1))}),a},Q=H,bt=function(e,t){return e===t},Ct=function(){function i(e,t){t===void 0&&(t=null),this.value=e,this.next=t}return i.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},i}(),nt=function(){function i(e){e===void 0&&(e=bt),this.head=null,this.tail=null,this.compare=e}return i.prototype.prepend=function(e){var t=new Ct(e,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(e){var t=new Ct(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var r=this.head;if(r!==null)for(;r.next;)this.compare(r.next.value,e)?(t=r.next,r.next=r.next.next):r=r.next;return this.compare(this.tail.value,e)&&(this.tail=r),t},i.prototype.find=function(e){var t=e.value,r=t===void 0?void 0:t,n=e.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||r!==void 0&&this.compare(o.value,r))return o;o=o.next}return null},i.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},i.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},i.prototype.fromArray=function(e){var t=this;return e.forEach(function(r){return t.append(r)}),this},i.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},i.prototype.reverse=function(){for(var e=this.head,t=null,r=null;e;)r=e.next,e.next=t,t=e,e=r;this.tail=this.head,this.head=t},i.prototype.toString=function(e){return e===void 0&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},i}(),dt=nt,Tt=function(){function i(){this.linkedList=new dt}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(e){this.linkedList.append(e)},i.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},i.prototype.toString=function(e){return this.linkedList.toString(e)},i}(),At=Tt,xt=function(e,t,r){t===void 0&&(t=[]);var n=t.filter(function(u){return u.source===e||u.target===e});if(r==="target"){var a=function(l){return l.source===e};return n.filter(a).map(function(u){return u.target})}if(r==="source"){var o=function(l){return l.target===e};return n.filter(o).map(function(u){return u.source})}var s=function(l){return l.source===e?l.target:l.source};return n.map(s)},Dt=function(e,t){return t.filter(function(r){return r.source===e})},Ht=function(e,t){return t.filter(function(r){return r.source===e||r.target===e})},se=function(e){e===void 0&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),r="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(r)};function re(i){i===void 0&&(i={});var e=i,t=function(){},r=function(){var n={};return function(a){var o=a.next,s=o;return n[s]?!1:(n[s]=!0,!0)}}();return e.allowTraversal=i.allowTraversal||r,e.enter=i.enter||t,e.leave=i.leave||t,e}var It=function(e,t,r,n){n===void 0&&(n=!0);var a=re(r),o=new At,s=e.edges,u=s===void 0?[]:s;o.enqueue(t);for(var l="",c=function(){var A=o.dequeue();a.enter({current:A,previous:l}),xt(A,u,n?"target":void 0).forEach(function(I){a.allowTraversal({previous:l,current:A,next:I})&&o.enqueue(I)}),a.leave({current:A,previous:l}),l=A};!o.isEmpty();)c()},ne=It,pe=function(e){for(var t=e.nodes,r=t===void 0?[]:t,n=e.edges,a=n===void 0?[]:n,o=[],s={},u=[],l=function I(F){u.push(F),s[F.id]=!0;for(var Z=xt(F.id,a),rt=function(pt){var _t=Z[pt];if(!s[_t]){var jt=r.filter(function(oe){return oe.id===_t});jt.length>0&&I(jt[0])}},lt=0;lt<Z.length;++lt)rt(lt)},c=0;c<r.length;c++){var d=r[c];if(!s[d.id]){l(d);for(var A=[];u.length>0;)A.push(u.pop());o.push(A)}}return o},Wt=function(e){for(var t=e.nodes,r=t===void 0?[]:t,n=e.edges,a=n===void 0?[]:n,o=[],s={},u={},l={},c=[],d=0,A=function rt(lt){u[lt.id]=d,l[lt.id]=d,d+=1,o.push(lt),s[lt.id]=!0;for(var ct=xt(lt.id,a,"target").filter(function(ie){return r.map(function(Ee){return Ee.id}).indexOf(ie)>-1}),pt=function(Ee){var Re=ct[Ee];if(!u[Re]&&u[Re]!==0){var Ae=r.filter(function(He){return He.id===Re});Ae.length>0&&rt(Ae[0]),l[lt.id]=Math.min(l[lt.id],l[Re])}else s[Re]&&(l[lt.id]=Math.min(l[lt.id],u[Re]))},_t=0;_t<ct.length;_t++)pt(_t);if(l[lt.id]===u[lt.id]){for(var jt=[];o.length>0;){var oe=o.pop();if(s[oe.id]=!1,jt.push(oe),oe===lt)break}jt.length>0&&c.push(jt)}},I=0,F=r;I<F.length;I++){var Z=F[I];!u[Z.id]&&u[Z.id]!==0&&A(Z)}return c};function Jt(i,e){return e?Wt(i):pe(i)}var $t=function(e){var t={},r=e.nodes,n=r===void 0?[]:r,a=e.edges,o=a===void 0?[]:a;return n.forEach(function(s){t[s.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(s){t[s.source].degree++,t[s.source].outDegree++,t[s.target].degree++,t[s.target].inDegree++}),t},Kt=$t,ue=function(e,t){var r=$t(e);return r[t]?$t(e)[t].inDegree:0},Se=function(e,t){var r=$t(e);return r[t]?$t(e)[t].outDegree:0};function Pt(i){i===void 0&&(i={});var e=i,t=function(){},r=function(){var n={};return function(a){var o=a.next;return n[o]?!1:(n[o]=!0,!0)}}();return e.allowTraversal=i.allowTraversal||r,e.enter=i.enter||t,e.leave=i.leave||t,e}function Fe(i,e,t,r){r.enter({current:e,previous:t});var n=i.edges,a=n===void 0?[]:n;xt(e,a,"target").forEach(function(o){r.allowTraversal({previous:t,current:e,next:o})&&Fe(i,o,e,r)}),r.leave({current:e,previous:t})}function vr(i,e,t){Fe(i,e,"",Pt(t))}var Tr=function(e){var t=null,r=e.nodes,n=r===void 0?[]:r,a={},o={},s={},u={};n.forEach(function(d){o[d.id]=d});for(var l={enter:function(A){var I=A.current,F=A.previous;if(s[I]){t={};for(var Z=I,rt=F;rt!==I;)t[Z]=rt,Z=rt,rt=a[rt];t[Z]=rt}else s[I]=I,delete o[I],a[I]=F},leave:function(A){var I=A.current;u[I]=I,delete s[I]},allowTraversal:function(A){var I=A.next;return t?!1:!u[I]}};Object.keys(o).length;){var c=Object.keys(o)[0];vr(e,c,l)}return t},Or=function(e,t,r){var n,a;r===void 0&&(r=!0);for(var o=[],s=Jt(e,!1),u=0,l=s;u<l.length;u++){var c=l[u];if(c.length)for(var d=c[0],A=d.id,I=[d],F=(n={},n[A]=d,n),Z=(a={},a[A]=new Set,a);I.length>0;)for(var rt=I.pop(),lt=rt.id,ct=xt(lt,e.edges),pt=function(oe){var ie,Ee=ct[oe],Re=e.nodes.find(function(pn){return pn.id===Ee});if(Ee===lt)o.push((ie={},ie[Ee]=rt,ie));else if(!(Ee in Z))F[Ee]=rt,I.push(Re),Z[Ee]=new Set([rt]);else if(!Z[lt].has(Re)){for(var Ae=!0,He=[Re,rt],ur=F[lt];Z[Ee].size&&!Z[Ee].has(ur)&&(He.push(ur),ur!==F[ur.id]);)ur=F[ur.id];if(He.push(ur),t&&r?(Ae=!1,He.findIndex(function(pn){return t.indexOf(pn.id)>-1})>-1&&(Ae=!0)):t&&!r&&He.findIndex(function(pn){return t.indexOf(pn.id)>-1})>-1&&(Ae=!1),Ae){for(var tn={},Tn=1;Tn<He.length;Tn+=1)tn[He[Tn-1].id]=He[Tn];He.length&&(tn[He[He.length-1].id]=He[0]),o.push(tn)}Z[Ee].add(rt)}},_t=0;_t<ct.length;_t+=1)pt(_t)}return o},Fr=function(e,t,r){r===void 0&&(r=!0);for(var n=[],a=new Set,o=[],s=[],u={},l={},c=function(ur){for(var tn=[ur];tn.length>0;){var Tn=tn.pop();a.has(Tn)&&(a.delete(Tn),o[Tn.id].forEach(function(pn){tn.push(pn)}),o[Tn.id].clear())}},d=function He(ur,tn,Tn){var pn=!1;if(t&&r===!1&&t.indexOf(ur.id)>-1)return pn;n.push(ur),a.add(ur);for(var Vr=Tn[ur.id],Un=0;Un<Vr.length;Un+=1){var Rn=u[Vr[Un]];if(Rn===tn){for(var Hr={},hn=1;hn<n.length;hn+=1)Hr[n[hn-1].id]=n[hn];n.length&&(Hr[n[n.length-1].id]=n[0]),s.push(Hr),pn=!0}else a.has(Rn)||He(Rn,tn,Tn)&&(pn=!0)}if(pn)c(ur);else for(var Un=0;Un<Vr.length;Un+=1){var Rn=u[Vr[Un]];o[Rn.id].has(ur)||o[Rn.id].add(ur)}return n.pop(),pn},A=e.nodes,I=A===void 0?[]:A,F=0;F<I.length;F+=1){var Z=I[F],rt=Z.id;l[rt]=F,u[F]=Z}if(t&&r)for(var lt=function(ur){var tn=t[ur];l[I[ur].id]=l[tn],l[tn]=0,u[0]=I.find(function(Tn){return Tn.id===tn}),u[l[I[ur].id]]=I[ur]},F=0;F<t.length;F++)lt(F);for(var ct=function(ur){for(var tn,Tn,pn=1/0,Vr=0;Vr<ur.length;Vr+=1)for(var Un=ur[Vr],Rn=0;Rn<Un.length;Rn++){var Hr=l[Un[Rn].id];Hr<pn&&(pn=Hr,Tn=Vr)}for(var hn=ur[Tn],An=[],Vr=0;Vr<hn.length;Vr+=1){var On=hn[Vr];An[On.id]=[];for(var jn=0,ta=xt(On.id,e.edges,"target").filter(function(_i){return hn.map(function(ii){return ii.id}).indexOf(_i)>-1});jn<ta.length;jn++){var ya=ta[jn];ya===On.id&&!(r===!1&&t.indexOf(On.id)>-1)?s.push((tn={},tn[On.id]=On,tn)):An[On.id].push(l[ya])}}return{component:hn,adjList:An,minIdx:pn}},pt=0;pt<I.length;){var _t=I.filter(function(He){return l[He.id]>=pt}),jt=Wt({nodes:_t,edges:e.edges}).filter(function(He){return He.length>1});if(jt.length===0)break;var oe=ct(jt),ie=oe.minIdx,Ee=oe.adjList,Re=oe.component;if(Re.length>1){Re.forEach(function(He){o[He.id]=new Set});var Ae=u[ie];if(t&&r&&t.indexOf(Ae.id)===-1)return s;d(Ae,Ae,Ee),pt=ie+1}else break}return s},nn=function(e,t,r,n){return n===void 0&&(n=!0),t?Fr(e,r,n):Or(e,r,n)},an=Tr,er=function(e,t,r){for(var n=1/0,a,o=0;o<t.length;o++){var s=t[o].id;!r[s]&&e[s]<=n&&(n=e[s],a=t[o])}return a},Rr=function(e,t,r,n){var a=e.nodes,o=a===void 0?[]:a,s=e.edges,u=s===void 0?[]:s,l=[],c={},d={},A={};o.forEach(function(pt,_t){var jt=pt.id;l.push(jt),d[jt]=1/0,jt===t&&(d[jt]=0)});for(var I=o.length,F=function(_t){var jt=er(d,o,c),oe=jt.id;if(c[oe]=!0,d[oe]===1/0)return"continue";var ie=[];r?ie=Dt(oe,u):ie=Ht(oe,u),ie.forEach(function(Ee){var Re=Ee.target,Ae=Ee.source,He=Re===oe?Ae:Re,ur=n&&Ee[n]?Ee[n]:1;d[He]>d[jt.id]+ur?(d[He]=d[jt.id]+ur,A[He]=[jt.id]):d[He]===d[jt.id]+ur&&A[He].push(jt.id)})},Z=0;Z<I;Z++)F(Z);A[t]=[t];var rt={};for(var lt in d)d[lt]!==1/0&&xr(t,lt,A,rt);var ct={};for(var lt in rt)ct[lt]=rt[lt][0];return{length:d,path:ct,allPath:rt}},qr=Rr;function xr(i,e,t,r){if(i===e)return[i];if(r[e])return r[e];for(var n=[],a=0,o=t[e];a<o.length;a++){var s=o[a],u=xr(i,s,t,r);if(!u)return;for(var l=0,c=u;l<c.length;l++){var d=c[l];(0,f.isArray)(d)?n.push((0,b.__spreadArray)((0,b.__spreadArray)([],d,!0),[e],!1)):n.push([d,e])}}return r[e]=n,r[e]}var Gr=function(e,t,r,n,a){var o=qr(e,t,n,a),s=o.length,u=o.path,l=o.allPath;return{length:s[r],path:u[r],allPath:l[r]}},Dr=function(e,t,r,n){var a;if(t===r)return[[t]];var o=e.edges,s=o===void 0?[]:o,u=[t],l=(a={},a[t]=!0,a),c=[],d=[],A=n?xt(t,s,"target"):xt(t,s);for(c.push(A);u.length>0&&c.length>0;){var I=c[c.length-1];if(I.length){var F=I.shift();F&&(u.push(F),l[F]=!0,A=n?xt(F,s,"target"):xt(F,s),c.push(A.filter(function(lt){return!l[lt]})))}else{var Z=u.pop();l[Z]=!1,c.pop();continue}if(u[u.length-1]===r){var rt=u.map(function(ct){return ct});d.push(rt);var Z=u.pop();l[Z]=!1,c.pop()}}return d},We=function(e,t){for(var r=Q(e,t),n=[],a=r.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:r[o][s]===0||!r[o][s]?n[o][s]=1/0:n[o][s]=r[o][s]}for(var u=0;u<a;u+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][u]+n[u][s]&&(n[o][s]=n[o][u]+n[u][s]);return n},Je=We,gn=function(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r="weight"),n===void 0&&(n=1e3);var a=e.nodes,o=a===void 0?[]:a,s=e.edges,u=s===void 0?[]:s,l={},c={};o.forEach(function(_t,jt){var oe=se();_t.clusterId=oe,l[oe]={id:oe,nodes:[_t]},c[_t.id]={node:_t,idx:jt}});var d=Q(e,t),A=[],I={};d.forEach(function(_t,jt){var oe=0,ie=o[jt].id;I[ie]={},_t.forEach(function(Ee,Re){if(Ee){oe+=Ee;var Ae=o[Re].id;I[ie][Ae]=Ee}}),A.push(oe)});for(var F=0,Z=function(){var jt=!1;if(o.forEach(function(oe){var ie={};Object.keys(I[oe.id]).forEach(function(pn){var Vr=I[oe.id][pn],Un=c[pn].node,Rn=Un.clusterId;ie[Rn]||(ie[Rn]=0),ie[Rn]+=Vr});var Ee=-1/0,Re=[];if(Object.keys(ie).forEach(function(pn){Ee<ie[pn]?(Ee=ie[pn],Re=[pn]):Ee===ie[pn]&&Re.push(pn)}),!(Re.length===1&&Re[0]===oe.clusterId)){var Ae=Re.indexOf(oe.clusterId);if(Ae>=0&&Re.splice(Ae,1),Re&&Re.length){jt=!0;var He=l[oe.clusterId],ur=He.nodes.indexOf(oe);He.nodes.splice(ur,1);var tn=Math.floor(Math.random()*Re.length),Tn=l[Re[tn]];Tn.nodes.push(oe),oe.clusterId=Tn.id}}}),!jt)return"break";F++};F<n;){var rt=Z();if(rt==="break")break}Object.keys(l).forEach(function(_t){var jt=l[_t];(!jt.nodes||!jt.nodes.length)&&delete l[_t]});var lt=[],ct={};u.forEach(function(_t){var jt=_t.source,oe=_t.target,ie=_t[r]||1,Ee=c[jt].node.clusterId,Re=c[oe].node.clusterId,Ae="".concat(Ee,"---").concat(Re);if(ct[Ae])ct[Ae].weight+=ie,ct[Ae].count++;else{var He={source:Ee,target:Re,weight:ie,count:1};ct[Ae]=He,lt.push(He)}});var pt=[];return Object.keys(l).forEach(function(_t){pt.push(l[_t])}),{clusters:pt,clusterEdges:lt}},rr=gn,jr=function(){function i(e){this.arr=e}return i.prototype.getArr=function(){return this.arr||[]},i.prototype.add=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length))return new i(r);if(!(r!=null&&r.length))return new i(this.arr);if(this.arr.length===r.length){var n=[];for(var a in this.arr)n[a]=this.arr[a]+r[a];return new i(n)}},i.prototype.subtract=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length))return new i(r);if(!(r!=null&&r.length))return new i(this.arr);if(this.arr.length===r.length){var n=[];for(var a in this.arr)n[a]=this.arr[a]-r[a];return new i(n)}},i.prototype.avg=function(e){var t=[];if(e!==0)for(var r in this.arr)t[r]=this.arr[r]/e;return new i(t)},i.prototype.negate=function(){var e=[];for(var t in this.arr)e[t]=-this.arr[t];return new i(e)},i.prototype.squareEuclideanDistance=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length)||!(r!=null&&r.length))return 0;if(this.arr.length===r.length){var n=0;for(var a in this.arr)n+=Math.pow(this.arr[a]-e.arr[a],2);return n}},i.prototype.euclideanDistance=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length)||!(r!=null&&r.length))return 0;if(this.arr.length===r.length){var n=0;for(var a in this.arr)n+=Math.pow(this.arr[a]-e.arr[a],2);return Math.sqrt(n)}else console.error("The two vectors are unequal in length.")},i.prototype.normalize=function(){var e=[],t=(0,f.clone)(this.arr);t.sort(function(o,s){return o-s});var r=t[t.length-1],n=t[0];for(var a in this.arr)e[a]=(this.arr[a]-n)/(r-n);return new i(e)},i.prototype.norm2=function(){var e;if(!(!((e=this.arr)===null||e===void 0)&&e.length))return 0;var t=0;for(var r in this.arr)t+=Math.pow(this.arr[r],2);return Math.sqrt(t)},i.prototype.dot=function(e){var t,r=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length)||!(r!=null&&r.length))return 0;if(this.arr.length===r.length){var n=0;for(var a in this.arr)n+=this.arr[a]*e.arr[a];return n}else console.error("The two vectors are unequal in length.")},i.prototype.equal=function(e){var t,r=e.arr;if(((t=this.arr)===null||t===void 0?void 0:t.length)!==(r==null?void 0:r.length))return!1;for(var n in this.arr)if(this.arr[n]!==r[n])return!1;return!0},i}(),Nr=jr,kn=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/,on=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/,dn=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=100);var r={};e.forEach(function(a){a.properties&&Object.keys(a.properties).forEach(function(o){if(o==="id"||!"".concat(a.properties[o]).match(kn)&&!"".concat(a.properties[o]).match(on)&&isNaN(Number(a.properties[o]))){r.hasOwnProperty(o)&&delete r[o];return}r.hasOwnProperty(o)?r[o]+=1:r[o]=1})});var n=Object.keys(r).sort(function(a,o){return r[o]-r[a]});return n.length<t?n:n.slice(0,t)},En=function(e,t){return t.map(function(r){return e.hasOwnProperty(r)?e[r]:0})},Pn=function(e){for(var t=dn(e),r=[],n=0;n<e.length;n++)r[n]=En(e[n].properties,t);return r},Nn=function(e,t){t===void 0&&(t=void 0);var r=[];return e.forEach(function(n){t===void 0&&r.push(n),n[t]!==void 0&&r.push(n[t])}),r},at={getAllSortProperties:dn,getPropertyWeight:Pn,getAllProperties:Nn},Xe;(function(i){i.EuclideanDistance="euclideanDistance"})(Xe||(Xe={}));var Zt=function(e,t,r){var n=[];t!=null&&t.length?n=t:(e.forEach(function(o){n=n.concat(Object.keys(o))}),n=(0,f.uniq)(n));var a={};return n.forEach(function(o){var s=[];e.forEach(function(u){u[o]!==void 0&&u[o]!==""&&s.push(u[o])}),s.length&&!(r!=null&&r.includes(o))&&(a[o]=(0,f.uniq)(s))}),a},Qt=function(e,t,r){var n=Zt(e,t,r),a=[];if(!Object.keys(n).length)return a;var o=Object.values(n),s=o.every(function(u){return u.every(function(l){return typeof l=="number"})});return e.forEach(function(u,l){var c=[];Object.keys(n).forEach(function(d){var A=u[d],I=n[d],F=I.findIndex(function(lt){return A===lt}),Z=[];if(s)Z.push(A);else for(var rt=0;rt<I.length;rt++)rt===F?Z.push(1):Z.push(0);c=c.concat(Z)}),a[l]=c}),a},Mt=function(e,t,r,n){r===void 0&&(r=Xe.EuclideanDistance);var a=0;switch(r){case Xe.EuclideanDistance:a=new Nr(e).euclideanDistance(new Nr(t));break;default:break}return a},Nt={getAllKeyValueMap:Zt,oneHot:Qt,getDistance:Mt},Ut=function(e,t,r,n){for(var a=t.length,o=2*n,s=0,u=0;u<a;u++)for(var l=e[u].clusterId,c=0;c<a;c++){var d=e[c].clusterId;if(l===d){var A=t[u][c]||0,I=r[u]||0,F=r[c]||0;s+=A-I*F/o}}return s*=1/o,s},vt=function(e,t){e===void 0&&(e=[]);for(var r=e.length,n=new Nr([]),a=0;a<r;a++)n=n.add(new Nr(t[a]));var o=n.avg(r);o.normalize();for(var s=0,a=0;a<r;a++){var u=new Nr(t[a]),l=u.squareEuclideanDistance(o);s+=l}var c=[];e.forEach(function(){c.push([])});for(var a=0;a<r;a++){var u=new Nr(t[a]);e[a].clusterInertial=0;for(var d=0;d<r;d++){if(a===d){c[a][d]=0;continue}var A=new Nr(t[d]);c[a][d]=u.squareEuclideanDistance(A),e[a].clusterInertial+=c[a][d]}}for(var I=0,F=2*r*s,a=0;a<r;a++)for(var Z=e[a].clusterId,d=0;d<r;d++){var rt=e[d].clusterId;if(!(a===d||Z!==rt)){var lt=e[a].clusterInertial*e[d].clusterInertial/Math.pow(F,2)-c[a][d]/F;I+=lt}}return Number(I.toFixed(4))},Rt=function(e,t,r,n,a,o,s,u,l){t===void 0&&(t=!1),r===void 0&&(r="weight"),n===void 0&&(n=1e-4),a===void 0&&(a=!1),o===void 0&&(o=void 0),s===void 0&&(s=[]),u===void 0&&(u=["id"]),l===void 0&&(l=1);var c=e.nodes,d=c===void 0?[]:c,A=e.edges,I=A===void 0?[]:A,F=[];if(a){d.forEach(function(Hr,hn){Hr.properties=Hr.properties||{},Hr.originIndex=hn});var Z=[];d.every(function(Hr){return Hr.hasOwnProperty("nodeType")})&&(Z=Array.from(new Set(d.map(function(Hr){return Hr.nodeType}))),d.forEach(function(Hr){Hr.properties.nodeType=Z.findIndex(function(hn){return hn===Hr.nodeType})}));var rt=Nn(d,o);F=Qt(rt,s,u)}var lt=1,ct={},pt={};d.forEach(function(Hr,hn){var An=String(lt++);Hr.clusterId=An,ct[An]={id:An,nodes:[Hr]},pt[Hr.id]={node:Hr,idx:hn}});var _t=Q(e,t),jt=[],oe={},ie=0;_t.forEach(function(Hr,hn){var An=0,On=d[hn].id;oe[On]={},Hr.forEach(function(jn,ta){if(jn){An+=jn;var ya=d[ta].id;oe[On][ya]=jn,ie+=jn}}),jt.push(An)}),ie/=2;for(var Ee=1/0,Re=1/0,Ae=0,He=[],ur={};;){a&&d.every(function(Hr){return Hr.hasOwnProperty("properties")})?Ee=Ut(d,_t,jt,ie)+vt(d,F)*l:Ee=Ut(d,_t,jt,ie),Ae===0&&(Re=Ee,He=d,ur=ct);var tn=Ee>0&&Ee>Re&&Ee-Re<n;if(Ee>Re&&(He=d.map(function(Hr){return{node:Hr,clusterId:Hr.clusterId}}),ur=(0,f.clone)(ct),Re=Ee),tn||Ae>100)break;Ae++,Object.keys(ct).forEach(function(Hr){var hn=0;I.forEach(function(An){var On=An.source,jn=An.target,ta=pt[On].node.clusterId,ya=pt[jn].node.clusterId;(ta===Hr&&ya!==Hr||ya===Hr&&ta!==Hr)&&(hn=hn+(An[r]||1))}),ct[Hr].sumTot=hn}),d.forEach(function(Hr,hn){var An=ct[Hr.clusterId],On=0,jn,ta=jt[hn]/(2*ie),ya=0,La=An.nodes;La.forEach(function(Ho){var Zo=pt[Ho.id].idx;ya+=_t[hn][Zo]||0});var _i=ya-An.sumTot*ta,ii=La.filter(function(Ho){return Ho.id!==Hr.id}),Ci=[];ii.forEach(function(Ho,Zo){Ci[Zo]=F[Ho.originIndex]});var Li=vt(ii,F)*l,oo=oe[Hr.id];if(Object.keys(oo).forEach(function(Ho){var Zo=pt[Ho].node,zs=Zo.clusterId;if(zs!==Hr.clusterId){var as=ct[zs],ys=as.nodes;if(!(!ys||!ys.length)){var ja=0;ys.forEach(function($a){var Ja=pt[$a.id].idx;ja+=_t[hn][Ja]||0});var Ei=ja-as.sumTot*ta,Ga=ys.concat([Hr]),wi=[];Ga.forEach(function($a,Ja){wi[Ja]=F[$a.originIndex]});var Bi=vt(Ga,F)*l,fa=Ei-_i;a&&(fa=Ei+Bi-(_i+Li)),fa>On&&(On=fa,jn=as)}}}),On>0){jn.nodes.push(Hr);var Vi=Hr.clusterId;Hr.clusterId=jn.id;var tu=An.nodes.indexOf(Hr);An.nodes.splice(tu,1);var Vo=0,eu=0;I.forEach(function(Ho){var Zo=Ho.source,zs=Ho.target,as=pt[Zo].node.clusterId,ys=pt[zs].node.clusterId;(as===jn.id&&ys!==jn.id||ys===jn.id&&as!==jn.id)&&(Vo=Vo+(Ho[r]||1)),(as===Vi&&ys!==Vi||ys===Vi&&as!==Vi)&&(eu=eu+(Ho[r]||1))}),jn.sumTot=Vo,An.sumTot=eu}})}var Tn={},pn=0;Object.keys(ur).forEach(function(Hr){var hn=ur[Hr];if(!hn.nodes||!hn.nodes.length){delete ur[Hr];return}var An=String(pn+1);An!==Hr&&(hn.id=An,hn.nodes=hn.nodes.map(function(On){return{id:On.id,clusterId:An}}),ur[An]=hn,Tn[Hr]=An,delete ur[Hr],pn++)}),He.forEach(function(Hr){var hn=Hr.node,An=Hr.clusterId;hn&&(hn.clusterId=An,hn.clusterId&&Tn[hn.clusterId]&&(hn.clusterId=Tn[hn.clusterId]))});var Vr=[],Un={};I.forEach(function(Hr){var hn=Hr.source,An=Hr.target,On=Hr[r]||1,jn=pt[hn].node.clusterId,ta=pt[An].node.clusterId;if(!(!jn||!ta)){var ya="".concat(jn,"---").concat(ta);if(Un[ya])Un[ya].weight+=On,Un[ya].count++;else{var La={source:jn,target:ta,weight:On,count:1};Un[ya]=La,Vr.push(La)}}});var Rn=[];return Object.keys(ur).forEach(function(Hr){Rn.push(ur[Hr])}),{clusters:Rn,clusterEdges:Vr}},ae=Rt,tt=function(e,t,r,n,a,o,s,u){return t===void 0&&(t=!1),r===void 0&&(r="weight"),n===void 0&&(n=1e-4),a===void 0&&(a=void 0),o===void 0&&(o=[]),s===void 0&&(s=["id"]),u===void 0&&(u=1),ae(e,t,r,n,!0,a,o,s,u)},ut=tt,B=function(e,t){var r;t===void 0&&(t=1);for(var n=(0,f.clone)(e),a=n.nodes,o=a===void 0?[]:a,s=n.edges,u=s===void 0?[]:s,l=function(){var A=Kt({nodes:o,edges:u}),I=Object.keys(A);I.sort(function(rt,lt){var ct,pt;return((ct=A[rt])===null||ct===void 0?void 0:ct.degree)-((pt=A[lt])===null||pt===void 0?void 0:pt.degree)});var F=I[0];if(!o.length||((r=A[F])===null||r===void 0?void 0:r.degree)>=t)return"break";var Z=o.findIndex(function(rt){return rt.id===F});o.splice(Z,1),u=u.filter(function(rt){return!(rt.source===F||rt.target===F)})};;){var c=l();if(c==="break")break}return{nodes:o,edges:u}},O=B,_=function(e,t,r){var n=[];switch(e){case Xe.EuclideanDistance:n=t[r];break;default:n=[];break}return n},$=function(e,t,r,n,a,o){t===void 0&&(t=3),r===void 0&&(r=void 0),n===void 0&&(n=[]),a===void 0&&(a=["id"]),o===void 0&&(o=Xe.EuclideanDistance);var s=e.nodes,u=s===void 0?[]:s,l=e.edges,c=l===void 0?[]:l,d={clusters:[{id:"0",nodes:u}],clusterEdges:[]};if(o===Xe.EuclideanDistance&&!u.every(function(An){return An.hasOwnProperty(r)}))return d;var A=[],I=[];if(o===Xe.EuclideanDistance&&(A=Nn(u,r),I=Qt(A,n,a)),!I.length)return d;for(var F=(0,f.uniq)(I.map(function(An){return An.join("")})),Z=Math.min(t,u.length,F.length),rt=0;rt<u.length;rt++)u[rt].originIndex=rt;for(var lt=[],ct=[],pt=[],rt=0;rt<Z;rt++)if(rt===0){var _t=Math.floor(Math.random()*u.length);switch(o){case Xe.EuclideanDistance:lt[rt]=I[_t];break;default:lt[rt]=[];break}ct.push(_t),pt[rt]=[u[_t]],u[_t].clusterId=String(rt)}else{for(var jt=-1/0,oe=0,ie=function(jn){if(!ct.includes(jn)){for(var ta=0,ya=0;ya<lt.length;ya++){var La=0;switch(o){case Xe.EuclideanDistance:La=Mt(I[u[jn].originIndex],lt[ya],o);break;default:break}ta+=La}var _i=ta/lt.length;_i>jt&&!lt.find(function(ii){return(0,f.isEqual)(ii,_(o,I,u[jn].originIndex))})&&(jt=_i,oe=jn)}},Ee=0;Ee<u.length;Ee++)ie(Ee);lt[rt]=_(o,I,oe),ct.push(oe),pt[rt]=[u[oe]],u[oe].clusterId=String(rt)}for(var Re=0;;){for(var rt=0;rt<u.length;rt++){var Ae=0,He=1/0;if(!(Re===0&&ct.includes(rt))){for(var ur=0;ur<lt.length;ur++){var tn=0;switch(o){case Xe.EuclideanDistance:tn=Mt(I[rt],lt[ur],o);break;default:break}tn<He&&(He=tn,Ae=ur)}if(u[rt].clusterId!==void 0)for(var Tn=pt[Number(u[rt].clusterId)].length-1;Tn>=0;Tn--)pt[Number(u[rt].clusterId)][Tn].id===u[rt].id&&pt[Number(u[rt].clusterId)].splice(Tn,1);u[rt].clusterId=String(Ae),pt[Ae].push(u[rt])}}for(var pn=!1,rt=0;rt<pt.length;rt++){for(var Vr=pt[rt],Un=new Nr([]),ur=0;ur<Vr.length;ur++)Un=Un.add(new Nr(I[Vr[ur].originIndex]));var Rn=Un.avg(Vr.length);Rn.equal(new Nr(lt[rt]))||(pn=!0,lt[rt]=Rn.getArr())}if(Re++,u.every(function(An){return An.clusterId!==void 0})&&pn||Re>=1e3)break}var Hr=[],hn={};return c.forEach(function(An){var On,jn,ta=An.source,ya=An.target,La=(On=u.find(function(Li){return Li.id===ta}))===null||On===void 0?void 0:On.clusterId,_i=(jn=u.find(function(Li){return Li.id===ya}))===null||jn===void 0?void 0:jn.clusterId,ii="".concat(La,"---").concat(_i);if(hn[ii])hn[ii].count++;else{var Ci={source:La,target:_i,count:1};hn[ii]=Ci,Hr.push(Ci)}}),{clusters:pt,clusterEdges:Hr}},gt=$,Ft=function(e,t){var r=new Nr(t),n=r.norm2(),a=new Nr(e),o=a.norm2(),s=r.dot(a),u=n*o,l=u?s/u:0;return l},zt=Ft,te=function(e,t,r,n,a){e===void 0&&(e=[]),r===void 0&&(r=void 0),n===void 0&&(n=[]),a===void 0&&(a=[]);var o=(0,f.clone)(e.filter(function(A){return A.id!==t.id})),s=e.findIndex(function(A){return A.id===t.id}),u=Nn(e,r),l=Qt(u,n,a),c=l[s],d=[];return o.forEach(function(A,I){if(A.id!==t.id){var F=l[I],Z=zt(F,c);d.push(Z),A.cosineSimilarity=Z}}),o.sort(function(A,I){return I.cosineSimilarity-A.cosineSimilarity}),{allCosineSimilarity:d,similarNodes:o}},_e=te,me=function(){function i(e){this.count=e.length,this.parent={};for(var t=0,r=e;t<r.length;t++){var n=r[t];this.parent[n]=n}}return i.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},i.prototype.union=function(e,t){var r=this.find(e),n=this.find(t);r!==n&&(r<n?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},i.prototype.connected=function(e,t){return this.find(e)===this.find(t)},i}(),Ue=me,fr=function(e,t){return e-t},je=function(){function i(e){e===void 0&&(e=fr),this.compareFn=e,this.list=[]}return i.prototype.getLeft=function(e){return 2*e+1},i.prototype.getRight=function(e){return 2*e+2},i.prototype.getParent=function(e){return e===0?null:Math.floor((e-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},i.prototype.insert=function(e){if(e!==null){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var r=this.list[t];this.list[t]=this.list[e],this.list[e]=r,e=t,t=this.getParent(e)}},i.prototype.moveDown=function(e){var t,r=e,n=this.getLeft(e),a=this.getRight(e),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[r],this.list[n])>0?r=n:a!==null&&a<o&&this.compareFn(this.list[r],this.list[a])>0&&(r=a),e!==r&&(t=[this.list[r],this.list[e]],this.list[e]=t[0],this.list[r]=t[1],this.moveDown(r))},i}(),Lr=je,ln=function(e,t){var r=[],n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o;if(a.length===0)return r;var u=a[0],l=new Set;l.add(u);var c=function(rt,lt){return t?rt.weight-lt.weight:0},d=new Lr(c);for(Ht(u.id,s).forEach(function(Z){d.insert(Z)});!d.isEmpty();){var A=d.delMin(),I=A.source,F=A.target;l.has(I)&&l.has(F)||(r.push(A),l.has(I)||(l.add(I),Ht(I,s).forEach(function(Z){d.insert(Z)})),l.has(F)||(l.add(F),Ht(F,s).forEach(function(Z){d.insert(Z)})))}return r},Ve=function(e,t){var r=[],n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o;if(a.length===0)return r;var u=s.map(function(I){return I});t&&u.sort(function(I,F){return I.weight-F.weight});for(var l=new Ue(a.map(function(I){return I.id}));u.length>0;){var c=u.shift(),d=c.source,A=c.target;l.connected(d,A)||(r.push(c),l.union(d,A))}return r},or=function(e,t,r){var n={prim:ln,kruskal:Ve};return r?n[r](e,t):Ve(e,t)},Ar=or,Mr=function(e,t,r){typeof t!="number"&&(t=1e-6),typeof r!="number"&&(r=.85);for(var n=1,a=0,o=1e3,s=e.nodes,u=s===void 0?[]:s,l=e.edges,c=l===void 0?[]:l,d=u.length,A,I={},F={},Z=0;Z<d;++Z){var rt=u[Z],lt=rt.id;I[lt]=1/d,F[lt]=1/d}for(var ct=Kt(e);o>0&&n>t;){a=0;for(var Z=0;Z<d;++Z){var rt=u[Z],lt=rt.id;if(A=0,ct[rt.id].inDegree===0)I[lt]=0;else{for(var pt=xt(lt,c,"source"),_t=0;_t<pt.length;++_t){var jt=pt[_t],oe=ct[jt].outDegree;oe>0&&(A+=F[jt]/oe)}I[lt]=r*A,a+=I[lt]}}a=(1-a)/d,n=0;for(var Z=0;Z<d;++Z){var rt=u[Z],lt=rt.id;A=I[lt]+a,n+=Math.abs(A-F[lt]),F[lt]=A}o-=1}return F},ce=Mr,Xt=-1,he=-1,Me="-1",be="-1",Ne=-1,ir="-1",cr=function(){function i(e,t,r,n){e===void 0&&(e=Xt),t===void 0&&(t=he),r===void 0&&(r=he),n===void 0&&(n=Me),this.id=e,this.from=t,this.to=r,this.label=n}return i}(),en=function(){function i(e,t){e===void 0&&(e=he),t===void 0&&(t=be),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return i.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},i}(),Dn=function(){function i(e,t,r){e===void 0&&(e=he),t===void 0&&(t=!0),r===void 0&&(r=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=r}return i.prototype.getNodeNum=function(){return this.nodes.length},i.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var r=new en(e,t);this.nodes.push(r),this.nodeMap[e]=r,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},i.prototype.addEdge=function(e,t,r,n){if((this.edgeIdAutoIncrease||e===void 0)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[r]&&this.nodeMap[r].edgeMap[e])){var a=new cr(e,t,r,n);if(this.edges.push(a),this.edgeMap[e]=a,this.nodeMap[t].addEdge(a),this.edgeLabelMap[n]||(this.edgeLabelMap[n]=[]),this.edgeLabelMap[n].push(a),!this.directed){var o=new cr(e,r,t,n);this.nodeMap[r].addEdge(o),this.edgeLabelMap[n].push(o)}}},i}(),un=function(){function i(e,t,r,n,a){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:r||be,edgeLabel:n||Me,nodeLabel2:a||be}}return i.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},i.prototype.notEqualTo=function(e){return!this.equalTo(e)},i}(),Fn=function(){function i(){this.rmpath=[],this.dfsEdgeList=[]}return i.prototype.equalTo=function(e){var t=this.dfsEdgeList.length,r=e.length;if(t!==r)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},i.prototype.notEqualTo=function(e){return!this.equalTo(e)},i.prototype.pushBack=function(e,t,r,n,a){return this.dfsEdgeList.push(new un(e,t,r,n,a)),this.dfsEdgeList},i.prototype.toGraph=function(e,t){e===void 0&&(e=Ne),t===void 0&&(t=!1);var r=new Dn(e,!0,t);return this.dfsEdgeList.forEach(function(n){var a=n.fromNode,o=n.toNode,s=n.nodeEdgeNodeLabel,u=s.nodeLabel1,l=s.edgeLabel,c=s.nodeLabel2;u!==be&&r.addNode(a,u),c!==be&&r.addNode(o,c),u!==be&&c!==u&&r.addEdge(void 0,a,o,l)}),r},i.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length,r=t-1;r>=0;r--){var n=this.dfsEdgeList[r],a=n.fromNode,o=n.toNode;a<o&&(e===void 0||o===e)&&(this.rmpath.push(r),e=a)}return this.rmpath},i.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach(function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)}),Object.keys(e).length},i}(),sn=function(){function i(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return i.prototype.hasNode=function(e){return this.nodesUsed[e.id]===1},i.prototype.hasEdge=function(e){return this.edgesUsed[e.id]===1},i}(),Bn=function(){function i(e){var t=e.graphs,r=e.minSupport,n=r===void 0?2:r,a=e.minNodeNum,o=a===void 0?1:a,s=e.maxNodeNum,u=s===void 0?4:s,l=e.top,c=l===void 0?10:l,d=e.directed,A=d===void 0?!1:d,I=e.verbose,F=I===void 0?!1:I;this.graphs=t,this.dfsCode=new Fn,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=n,this.top=c,this.directed=A,this.counter=0,this.maxNodeNum=u,this.minNodeNum=o,this.verbose=F,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return i.prototype.findForwardRootEdges=function(e,t){var r=this,n=[],a=e.nodeMap;return t.edges.forEach(function(o){(r.directed||t.label<=a[o.to].label)&&n.push(o)}),n},i.prototype.findBackwardEdge=function(e,t,r,n){if(!this.directed&&t===r)return null;for(var a=e.nodeMap,o=a[r.to],s=o.edges,u=s.length,l=0;l<u;l++){var c=s[l];if(!(n.hasEdge(c)||c.to!==t.from)){if(this.directed){if(a[t.from].label<a[r.to].label||a[t.from].label===a[r.to].label&&t.label<=c.label)return c}else if(t.label<c.label||t.label===c.label&&a[t.to].label<=a[r.to].label)return c}}return null},i.prototype.findForwardPureEdges=function(e,t,r,n){for(var a=[],o=t.to,s=e.nodeMap[o].edges,u=s.length,l=0;l<u;l++){var c=s[l],d=e.nodeMap[c.to];r<=d.label&&!n.hasNode(d)&&a.push(c)}return a},i.prototype.findForwardRmpathEdges=function(e,t,r,n){for(var a=[],o=e.nodeMap,s=o[t.to].label,u=o[t.from],l=u.edges,c=l.length,d=0;d<c;d++){var A=l[d],I=o[A.to].label;t.to===A.to||r>I||n.hasNode(o[A.to])||(t.label<A.label||t.label===A.label&&s<=I)&&a.push(A)}return a},i.prototype.getSupport=function(e){var t={};return e.forEach(function(r){t[r.graphId]||(t[r.graphId]=!0)}),Object.keys(t).length},i.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach(function(r){var n=e[r],a=n.nodeLabel1,o=n.edgeLabel,s=n.nodeLabel2;if(!t){t={nodeLabel1:a,edgeLabel:o,nodeLabel2:s};return}(a<t.nodeLabel1||a===t.nodeLabel1&&o<t.edgeLabel||a===t.nodeLabel1&&o===t.edgeLabel&&s<t.nodeLabel2)&&(t={nodeLabel1:a,edgeLabel:o,nodeLabel2:s})}),t},i.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),t.dfsEdgeList.length===1)return!0;var r=this.directed,n=t.toGraph(Ne,r),a=n.nodeMap,o=new Fn,s={};n.nodes.forEach(function(d){var A=e.findForwardRootEdges(n,d);A.forEach(function(I){var F=a[I.to],Z="".concat(d.label,"-").concat(I.label,"-").concat(F.label);s[Z]||(s[Z]={projected:[],nodeLabel1:d.label,edgeLabel:I.label,nodeLabel2:F.label});var rt={graphId:n.id,edge:I,preNode:null};s[Z].projected.push(rt)})});var u=this.findMinLabel(s);if(u){o.dfsEdgeList.push(new un(0,1,u.nodeLabel1,u.edgeLabel,u.nodeLabel2));var l=function d(A){for(var I=o.buildRmpath(),F=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,Z=o.dfsEdgeList[I[0]].toNode,rt={},lt=!1,ct=0,pt=r?-1:0,_t=function(Un){if(lt)return"break";A.forEach(function(Rn){var Hr=new sn(Rn),hn=e.findBackwardEdge(n,Hr.edges[I[Un]],Hr.edges[I[0]],Hr);hn&&(rt[hn.label]||(rt[hn.label]={projected:[],edgeLabel:hn.label}),rt[hn.label].projected.push({graphId:n.id,edge:rt,preNode:Rn}),ct=o.dfsEdgeList[I[Un]].fromNode,lt=!0)})},jt=I.length-1;jt>pt;jt--){var oe=_t(jt);if(oe==="break")break}if(lt){var ie=e.findMinLabel(rt);o.dfsEdgeList.push(new un(Z,ct,be,ie.edgeLabel,be));var Ee=o.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[Ee]!==o.dfsEdgeList[Ee]?!1:d(rt[ie.edgeLabel].projected)}var Re={};lt=!1;var Ae=0;A.forEach(function(Vr){var Un=new sn(Vr),Rn=e.findForwardPureEdges(n,Un.edges[I[0]],F,Un);Rn.length>0&&(lt=!0,Ae=Z,Rn.forEach(function(Hr){var hn="".concat(Hr.label,"-").concat(a[Hr.to].label);Re[hn]||(Re[hn]={projected:[],edgeLabel:Hr.label,nodeLabel2:a[Hr.to].label}),Re[hn].projected.push({graphId:n.id,edge:Hr,preNode:Vr})}))});for(var He=I.length,ur=function(Un){if(lt)return"break";var Rn=I[Un];A.forEach(function(Hr){var hn=new sn(Hr),An=e.findForwardRmpathEdges(n,hn.edges[Rn],F,hn);An.length>0&&(lt=!0,Ae=o.dfsEdgeList[Rn].fromNode,An.forEach(function(On){var jn="".concat(On.label,"-").concat(a[On.to].label);Re[jn]||(Re[jn]={projected:[],edgeLabel:On.label,nodeLabel2:a[On.to].label}),Re[jn].projected.push({graphId:n.id,edge:On,preNode:Hr})}))})},jt=0;jt<He;jt++){var tn=ur(jt);if(tn==="break")break}if(!lt)return!0;var Tn=e.findMinLabel(Re);o.dfsEdgeList.push(new un(Ae,Z+1,be,Tn.edgeLabel,Tn.nodeLabel2));var pn=o.dfsEdgeList.length-1;return t.dfsEdgeList[pn]!==o.dfsEdgeList[pn]?!1:d(Re["".concat(Tn.edgeLabel,"-").concat(Tn.nodeLabel2)].projected)},c="".concat(u.nodeLabel1,"-").concat(u.edgeLabel,"-").concat(u.nodeLabel2);return l(s[c].projected)}},i.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,f.clone)(e))}},i.prototype.subGraphMining=function(e){var t=this,r=this.getSupport(e);if(!(r<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),a=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[a[0]].toNode,s=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,u={},l={};e.forEach(function(c){for(var d=t.graphs[c.graphId],A=d.nodeMap,I=new sn(c),F=a.length-1;F>=0;F--){var Z=t.findBackwardEdge(d,I.edges[a[F]],I.edges[a[0]],I);if(Z){var rt="".concat(t.dfsCode.dfsEdgeList[a[F]].fromNode,"-").concat(Z.label);l[rt]||(l[rt]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[a[F]].fromNode,edgeLabel:Z.label}),l[rt].projected.push({graphId:c.graphId,edge:Z,preNode:c})}}if(!(n>=t.maxNodeNum)){var lt=t.findForwardPureEdges(d,I.edges[a[0]],s,I);lt.forEach(function(pt){var _t="".concat(o,"-").concat(pt.label,"-").concat(A[pt.to].label);u[_t]||(u[_t]={projected:[],fromNodeId:o,edgeLabel:pt.label,nodeLabel2:A[pt.to].label}),u[_t].projected.push({graphId:c.graphId,edge:pt,preNode:c})});for(var ct=function(_t){var jt=t.findForwardRmpathEdges(d,I.edges[a[_t]],s,I);jt.forEach(function(oe){var ie="".concat(t.dfsCode.dfsEdgeList[a[_t]].fromNode,"-").concat(oe.label,"-").concat(A[oe.to].label);u[ie]||(u[ie]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[a[_t]].fromNode,edgeLabel:oe.label,nodeLabel2:A[oe.to].label}),u[ie].projected.push({graphId:c.graphId,edge:oe,preNode:c})})},F=0;F<a.length;F++)ct(F)}}),Object.keys(l).forEach(function(c){var d=l[c],A=d.toNodeId,I=d.edgeLabel;t.dfsCode.dfsEdgeList.push(new un(o,A,"-1",I,"-1")),t.subGraphMining(l[c].projected),t.dfsCode.dfsEdgeList.pop()}),Object.keys(u).forEach(function(c){var d=u[c],A=d.fromNodeId,I=d.edgeLabel,F=d.nodeLabel2;t.dfsCode.dfsEdgeList.push(new un(A,o+1,be,I,F)),t.subGraphMining(u[c].projected),t.dfsCode.dfsEdgeList.pop()})}},i.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,r=this.minSupport,n=this.frequentSize1Subgraphs,a={},o={},s={},u={};return Object.keys(e).forEach(function(l){var c=e[l],d=c.nodeMap;c.nodes.forEach(function(A,I){var F=A.label,Z="".concat(l,"-").concat(F);if(!s[Z]){var rt=a[F]||0;rt++,a[F]=rt}s[Z]={graphKey:l,label:F},A.edges.forEach(function(lt){var ct=F,pt=d[lt.to].label;if(!t&&ct>pt){var _t=pt;pt=ct,ct=_t}var jt=lt.label,oe="".concat(l,"-").concat(ct,"-").concat(jt,"-").concat(pt),ie="".concat(ct,"-").concat(jt,"-").concat(pt);if(!o[ie]){var Ee=o[ie]||0;Ee++,o[ie]=Ee}u[oe]={graphId:l,nodeLabel1:ct,edgeLabel:jt,nodeLabel2:pt}})})}),Object.keys(a).forEach(function(l){var c=a[l];if(!(c<r)){var d={nodes:[],edges:[]};d.nodes.push({id:"0",label:l}),n.push(d)}}),n},i.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,r=this.directed,n={};Object.keys(t).forEach(function(a){var o=t[a],s=o.nodeMap;o.nodes.forEach(function(u){var l=e.findForwardRootEdges(o,u);l.forEach(function(c){var d=s[c.to],A="".concat(u.label,"-").concat(c.label,"-").concat(d.label);n[A]||(n[A]={projected:[],nodeLabel1:u.label,edgeLabel:c.label,nodeLabel2:d.label});var I={graphId:a,edge:c,preNode:null};n[A].projected.push(I)})})}),Object.keys(n).forEach(function(a){var o=n[a],s=o.projected,u=o.nodeLabel1,l=o.edgeLabel,c=o.nodeLabel2;e.dfsCode.dfsEdgeList.push(new un(0,1,u,l,c)),e.subGraphMining(s),e.dfsCode.dfsEdgeList.pop()})}},i}(),qn=function(e,t,r,n){var a={};return Object.keys(e).forEach(function(o,s){var u=e[o],l=new Dn(s,!0,t),c={};u.nodes.forEach(function(d,A){l.addNode(A,d[r]),c[d.id]=A}),u.edges.forEach(function(d,A){var I=c[d.source],F=c[d.target];l.addEdge(-1,I,F,d[n])}),l&&l.getNodeNum()&&(a[l.id]=l)}),a},sa=function(e,t,r){var n=[];return e.forEach(function(a){var o={nodes:[],edges:[]};a.nodes.forEach(function(s){var u;o.nodes.push((u={id:"".concat(s.id)},u[t]=s.label,u))}),a.edges.forEach(function(s){var u;o.edges.push((u={source:"".concat(s.from),target:"".concat(s.to)},u[r]=s.label,u))}),n.push(o)}),n},oa="cluster",Ti=function(e){var t=e.graphs,r=e.directed,n=r===void 0?!1:r,a=e.nodeLabelProp,o=a===void 0?oa:a,s=e.edgeLabelProp,u=s===void 0?oa:s,l=qn(t,n,o,u),c=e.minSupport,d=e.maxNodeNum,A=e.minNodeNum,I=e.verbose,F=e.top,Z={graphs:l,minSupport:c,maxNodeNum:d,minNodeNum:A,top:F,verbose:I,directed:n},rt=new Bn(Z);rt.run();var lt=sa(rt.frequentSubgraphs,o,u);return lt},oi=Ti,Va=function(e,t,r,n){r===void 0&&(r="cluster"),n===void 0&&(n=2);var a=[],o=e.nodes;return t.forEach(function(s,u){a.push(ti(o,s,u,r,n))}),a},ti=function(e,t,r,n,a){var o=[r],s=[],u={};return t.forEach(function(l,c){if(l<=a&&r!==c){o.push(c),s.push(e[c]);var d=e[c][n];u[d]?(u[d].count++,u[d].dists.push(l)):u[d]={count:1,dists:[l]}}}),Object.keys(u).forEach(function(l){u[l].dists=u[l].dists.sort(function(c,d){return c-d})}),{nodeIdx:r,nodeId:e[r].id,nodeIdxs:o,neighbors:s,neighborNum:o.length-1,nodeLabelCountMap:u}},zi=function(e,t,r,n,a){var o=Math.ceil(r/t),s={},u=0;return n.forEach(function(l,c){for(var d=0,A=0,I=l.nodeIdxs,F=l.neighborNum-1;d<o;){for(var Z=I[1+Math.floor(Math.random()*F)],rt=0;(s["".concat(c,"-").concat(Z)]||s["".concat(Z,"-").concat(c)])&&(Z=Math.floor(Math.random()*t),rt++,!(rt>2*t)););if(rt<2*t&&(s["".concat(c,"-").concat(Z)]={start:c,end:Z,distance:a[c][Z]},d++,u++,u>=r))return s;if(A++,A>2*t)break}if(d<o){var lt=o-d;o=(o+lt)/(t-c-1)}}),s},si=function(e,t,r,n){var a=r.nodes;return n||(n={}),Object.keys(e).forEach(function(o){var s,u;if(!(n&&n[o])){n[o]={nodes:[],edges:[]};var l=e[o],c=(s=t[l.start])===null||s===void 0?void 0:s.nodeIdxs,d=(u=t[l.end])===null||u===void 0?void 0:u.nodeIdxs;if(!(!c||!d)){var A=new Set(d),I=c.filter(function(ct){return A.has(ct)});if(!(!I||!I.length)){for(var F={},Z=I.length,rt=0;rt<Z;rt++){var lt=a[I[rt]];n[o].nodes.push(lt),F[lt.id]=!0}r.edges.forEach(function(ct){F[ct.source]&&F[ct.target]&&n[o].edges.push(ct)})}}}}),n},ui=function(e,t,r,n){var a,o,s={};e.nodes.forEach(function(l){s[l.id]=l});var u=0;return!(!((a=t==null?void 0:t.edges)===null||a===void 0)&&a.length)||((o=t==null?void 0:t.nodes)===null||o===void 0?void 0:o.length)<2?0:(e.edges.forEach(function(l){var c=s[l.source][r],d=s[l.target][r],A=t==null?void 0:t.nodes[0][r],I=t==null?void 0:t.nodes[1][r],F=t==null?void 0:t.edges[0][n];l[n]===F&&(c===A&&d===I||c===I&&d===A)&&u++}),u)},ba=function(e,t,r){for(var n=1/0,a=0,o=function(l){var c=e[l],d=Object.keys(c).sort(function(ct,pt){return c[ct]-c[pt]}),A=10,I=[];d.forEach(function(ct,pt){I[pt%A]||(I[pt%A]={graphs:[],totalCount:0,aveCount:0}),I[pt%A].graphs.push(ct),I[pt%A].totalCount+=c[ct]});var F=0,Z=[];I.forEach(function(ct){var pt=ct.totalCount/ct.graphs.length;ct.aveCount=pt,Z.push(pt);var _t=0,jt=ct.length;ct.graphs.forEach(function(oe,ie){var Ee=c[oe];ct.graphs.forEach(function(Re,Ae){ie!==Ae&&(_t+=Math.abs(Ee-c[Re]))})}),_t/=jt*(jt-1)/2,F+=_t}),F/=I.length;var rt=0;Z.forEach(function(ct,pt){Z.forEach(function(_t,jt){pt!==jt&&(rt+=Math.abs(ct-_t))}),rt/=Z.length*(Z.length-1)/2});var lt=rt-F;n<lt&&(n=lt,a=l)},s=0;s<t;s++)o(s);return{structure:r[a],structureCountMap:e[a]}},qi=function(e,t){var r={},n={};return e.forEach(function(a,o){r[a.id]={idx:o,node:a,degree:0,inDegree:0,outDegree:0};var s=a[t];n[s]||(n[s]=[]),n[s].push(a)}),{nodeMap:r,nodeLabelMap:n}},Co=function(e,t,r){var n={},a={};return e.forEach(function(o,s){n["".concat(se)]={idx:s,edge:o};var u=o[t];a[u]||(a[u]=[]),a[u].push(o);var l=r[o.source];l&&(l.degree++,l.outDegree++);var c=r[o.target];c&&(c.degree++,c.inDegree++)}),{edgeMap:n,edgeLabelMap:a}},Ba=function(e,t,r){var n=t.length,a={};return t.forEach(function(o,s){for(var u=r?0:s+1,l=e[s].id,c=u;c<n;c++)if(s!==c){var d=e[c].id,A=o[c];a["".concat(l,"-").concat(d)]=A,r||(a["".concat(d,"-").concat(l)]=A)}}),a},Ji=function(e,t,r,n,a,o,s,u,l,c,d){var A,I="".concat(t.id,"-").concat(r.id);if(c&&c[I])return c[I];var F=d?d[I]:void 0;if(!F){var Z=(A={},A[I]={start:n[t.id].idx,end:n[r.id].idx,distance:a},A);d=si(Z,o,e,d),F=d[I]}return ui(F,s,u,l)},uo=function(e,t,r,n){var a,o,s,u=(a=e[t])===null||a===void 0?void 0:a.degree,l=(o=e[t])===null||o===void 0?void 0:o.inDegree,c=(s=e[t])===null||s===void 0?void 0:s.outDegree;return e[t]===void 0&&(u=1/0,l=1/0,c=1/0,n[t].forEach(function(d){var A=r[d.id].degree;u>A&&(u=A);var I=r[d.id].inDegree;l>I&&(l=I);var F=r[d.id].outDegree;c>F&&(c=F)}),e[t]={degree:u,inDegree:l,outDegree:c}),{minPatternNodeLabelDegree:u,minPatternNodeLabelInDegree:l,minPatternNodeLabelOutDegree:c}},to=function(e,t,r,n,a,o,s){var u;if(r===void 0&&(r=!1),o===void 0&&(o="cluster"),s===void 0&&(s="cluster"),!(!e||!e.nodes)){var l=e.nodes.length;if(l){var c=Je(e,r),d=Je(t,r),A=Ba(e.nodes,c,r),I=Ba(t.nodes,d,r),F=qi(e.nodes,o),Z=F.nodeMap,rt=F.nodeLabelMap,lt=qi(t.nodes,o),ct=lt.nodeMap,pt=lt.nodeLabelMap;Co(e.edges,s,Z);var _t=Co(t.edges,s,ct).edgeLabelMap,jt=[];d==null||d.forEach(function(ja){jt=jt.concat(ja)}),a||(a=Math.max.apply(Math,(0,b.__spreadArray)((0,b.__spreadArray)([],jt,!1),[2],!1))),n||(n=a);var oe=Va(e,c,o,n),ie=Va(t,d,o,n),Ee=Math.min(100,l*(l-1)/2),Re=zi(n,l,Ee,oe,c),Ae=si(Re,oe,e),He=10,ur=1,tn=1,Tn=4,pn={graphs:Ae,nodeLabelProp:o,edgeLabelProp:s,minSupport:ur,minNodeNum:tn,maxNodeNum:Tn,directed:r},Vr=oi(pn).slice(0,He),Un=Vr.length,Rn=[];Vr.forEach(function(ja,Ei){Rn[Ei]={},Object.keys(Ae).forEach(function(Ga){var wi=Ae[Ga],Bi=ui(wi,ja,o,s);Rn[Ei][Ga]=Bi})});var Hr=ba(Rn,Un,Vr),hn=Hr.structure,An=Hr.structureCountMap,On=t.nodes[0],jn=[],ta=(u=t.nodes[0])===null||u===void 0?void 0:u[o],ya=-1/0;t.nodes.forEach(function(ja){var Ei=ja[o],Ga=rt[Ei];(Ga==null?void 0:Ga.length)>ya&&(ya=Ga.length,jn=Ga,ta=Ei,On=ja)});var La={},_i={},ii={},Ci={},Li={},oo={};Object.keys(pt).forEach(function(ja,Ei){Li[ja]=[],r&&(oo[ja]=[]);var Ga=-1/0,wi=pt[ja],Bi={};wi.forEach(function(ri){var fi=I["".concat(On.id,"-").concat(ri.id)];if(fi&&Li[ja].push(fi),Ga<fi&&(Ga=fi),Bi["".concat(On.id,"-").concat(ri.id)]={start:0,end:ct[ri.id].idx,distance:fi},r){var yo=I["".concat(ri.id,"-").concat(On.id)];yo&&oo[ja].push(yo)}}),Li[ja]=Li[ja].sort(function(ri,fi){return ri-fi}),r&&(oo[ja]=oo[ja].sort(function(ri,fi){return ri-fi})),_i=si(Bi,ie,t,_i);var fa=[];if(Object.keys(Bi).forEach(function(ri){if(ii[ri]){fa.push(ii[ri]);return}var fi=_i[ri];ii[ri]=ui(fi,hn,o,s),fa.push(ii[ri])}),fa=fa.sort(function(ri,fi){return fi-ri}),Ci["".concat(On.id,"-").concat(ja)]=fa,ja!==ta)for(var $a=(jn==null?void 0:jn.length)||0,Ja=function(fi){var yo=jn[fi],Gs=oe[Z[yo.id].idx],zo=Gs.nodeLabelCountMap[ja],af=pt[ja].length;if(!zo||zo.count<af)return jn.splice(fi,1),"continue";for(var ed=!1,bs=0;bs<af;bs++)if(zo.dists[bs]>Li[ja][bs]){ed=!0;break}if(ed)return jn.splice(fi,1),"continue";var ru={};Gs.neighbors.forEach(function(xs){var bu=A["".concat(yo.id,"-").concat(xs.id)];ru["".concat(yo.id,"-").concat(xs.id)]={start:Z[yo.id].idx,end:Z[xs.id].idx,distance:bu}}),Ae=si(ru,oe,e,Ae);var Qu=[];Object.keys(ru).forEach(function(xs){if(An[xs]){Qu.push(An[xs]);return}var bu=Ae[xs];An[xs]=ui(bu,hn,o,s),Qu.push(An[xs])}),Qu=Qu.sort(function(xs,bu){return bu-xs});for(var bc=!1,bs=0;bs<af;bs++)if(Qu[bs]<fa[bs]){bc=!0;break}if(bc)return jn.splice(fi,1),"continue"},Fi=$a-1;Fi>=0;Fi--)Ja(Fi)});var Vi=[];jn==null||jn.forEach(function(ja){for(var Ei=Z[ja.id].idx,Ga=ti(e.nodes,c[Ei],Ei,o,a),wi=Ga.neighbors,Bi=wi.length,fa=!1,$a=Bi-1;$a>=0;$a--){if(wi.length+1<t.nodes.length){fa=!0;return}var Ja=wi[$a],Fi=Ja[o];if(!pt[Fi]||!pt[Fi].length){wi.splice($a,1);continue}if(!Li[Fi]||!Li[Fi].length){wi.splice($a,1);continue}var ri="".concat(ja.id,"-").concat(Ja.id),fi=A[ri],yo=Li[Fi].length-1,Gs=Li[Fi][yo];if(fi>Gs){wi.splice($a,1);continue}if(r){var zo="".concat(Ja.id,"-").concat(ja.id),af=A[zo];yo=oo[Fi].length-1;var ed=oo[Fi][yo];if(af>ed){wi.splice($a,1);continue}}var bs=An[ri]?An[ri]:Ji(e,ja,Ja,Z,fi,oe,hn,o,s,An,Ae),ru="".concat(On.id,"-").concat(Fi),Qu=Ci[ru][Ci[ru].length-1];if(bs<Qu){wi.splice($a,1);continue}var bc=uo(La,Fi,ct,pt),xs=bc.minPatternNodeLabelDegree,bu=bc.minPatternNodeLabelInDegree,Il=bc.minPatternNodeLabelOutDegree;if(Z[Ja.id].degree<xs){wi.splice($a,1);continue}}fa||Vi.push({nodes:[ja].concat(wi)})});var tu=qr(t,On.id,!1).length,Vo={};r?(Object.keys(tu).forEach(function(ja){var Ei=ct[ja].node[o];Vo[Ei]?Vo[Ei].push(tu[ja]):Vo[Ei]=[tu[ja]]}),Object.keys(Vo).forEach(function(ja){Vo[ja].sort(function(Ei,Ga){return Ei-Ga})})):Vo=Li;for(var eu=Vi.length,Ho=function(Ei){var Ga=Vi[Ei],wi=Ga.nodes[0],Bi={},fa={};Ga.nodes.forEach(function(vo,Us){fa[vo.id]={idx:Us,node:vo,degree:0,inDegree:0,outDegree:0};var Qo=vo[o];Bi[Qo]?Bi[Qo]++:Bi[Qo]=1});var $a=[],Ja={};e.edges.forEach(function(vo){fa[vo.source]&&fa[vo.target]&&($a.push(vo),Ja[vo[s]]?Ja[vo[s]]++:Ja[vo[s]]=1,fa[vo.source].degree++,fa[vo.target].degree++,fa[vo.source].outDegree++,fa[vo.target].inDegree++)});for(var Fi=Object.keys(_t).length,ri=!1,fi=0;fi<Fi;fi++){var yo=Object.keys(_t)[fi];if(!Ja[yo]||Ja[yo]<_t[yo].length){ri=!0;break}}if(ri)return Vi.splice(Ei,1),"continue";var Gs=$a.length;if(Gs<t.edges.length)return Vi.splice(Ei,1),"break";for(var zo=!1,af=function(Us){var Qo=$a[Us],qu=Qo[s],of=_t[qu];if(!of||!of.length)return Ja[qu]--,of&&Ja[qu]<of.length?(zo=!0,"break"):($a.splice(Us,1),fa[Qo.source].degree--,fa[Qo.target].degree--,fa[Qo.source].outDegree--,fa[Qo.target].inDegree--,"continue");var O0=fa[Qo.source].node[o],I0=fa[Qo.target].node[o],Tv=!1;if(of.forEach(function(D0){var P0=ct[D0.source].node,L0=ct[D0.target].node;P0[o]===O0&&L0[o]===I0&&(Tv=!0),!r&&P0[o]===I0&&L0[o]===O0&&(Tv=!0)}),!Tv)return Ja[qu]--,of&&Ja[qu]<of.length?(zo=!0,"break"):($a.splice(Us,1),fa[Qo.source].degree--,fa[Qo.target].degree--,fa[Qo.source].outDegree--,fa[Qo.target].inDegree--,"continue")},fi=Gs-1;fi>=0;fi--){var ed=af(fi);if(ed==="break")break}if(zo)return Vi.splice(Ei,1),"continue";Ga.edges=$a;var bs=qr(Ga,Ga.nodes[0].id,!1).length;if(Object.keys(bs).reverse().forEach(function(vo){if(!(vo===Ga.nodes[0].id||zo)){if(bs[vo]===1/0){var Us=fa[vo].node[o];if(Bi[Us]--,Bi[Us]<pt[Us].length){zo=!0;return}var Qo=Ga.nodes.indexOf(fa[vo].node);Ga.nodes.splice(Qo,1),fa[vo]=void 0;return}var qu=Z[vo].node[o];if(!Vo[qu]||!Vo[qu].length||bs[vo]>Vo[qu][Vo[qu].length-1]){var Us=fa[vo].node[o];if(Bi[Us]--,Bi[Us]<pt[Us].length){zo=!0;return}var Qo=Ga.nodes.indexOf(fa[vo].node);Ga.nodes.splice(Qo,1),fa[vo]=void 0}}}),zo)return Vi.splice(Ei,1),"continue";for(var ru=!0,Qu=0;ru&&!zo;){ru=!1;var bc=r?fa[wi.id].degree<ct[On.id].degree||fa[wi.id].inDegree<ct[On.id].inDegree||fa[wi.id].outDegree<ct[On.id].outDegree:fa[wi.id].degree<ct[On.id].degree;if(bc){zo=!0;break}if(Bi[wi[o]]<pt[wi[o]].length){zo=!0;break}for(var xs=Ga.nodes.length,bu=xs-1;bu>=0;bu--){var Il=Ga.nodes[bu],T0=fa[Il.id].degree,SS=fa[Il.id].inDegree,MS=fa[Il.id].outDegree,_S=Il[o],Cv=uo(La,_S,ct,pt),A0=Cv.minPatternNodeLabelDegree,CS=Cv.minPatternNodeLabelInDegree,TS=Cv.minPatternNodeLabelOutDegree,AS=r?T0<A0||SS<CS||MS<TS:T0<A0;if(AS){if(Bi[Il[o]]--,Bi[Il[o]]<pt[Il[o]].length){zo=!0;break}Ga.nodes.splice(bu,1),fa[Il.id]=void 0,ru=!0}}if(zo||!ru&&Qu!==0)break;Gs=$a.length;for(var Sh=Gs-1;Sh>=0;Sh--){var Dl=$a[Sh];if(!fa[Dl.source]||!fa[Dl.target]){$a.splice(Sh,1);var Mh=Dl[s];if(Ja[Mh]--,fa[Dl.source]&&(fa[Dl.source].degree--,fa[Dl.source].outDegree--),fa[Dl.target]&&(fa[Dl.target].degree--,fa[Dl.target].inDegree--),_t[Mh]&&Ja[Mh]<_t[Mh].length){zo=!0;break}ru=!0}}Qu++}if(zo||zo||Ga.nodes.length<t.nodes.length||$a.length<t.edges.length)return Vi.splice(Ei,1),"continue"},Zo=eu-1;Zo>=0;Zo--){var zs=Ho(Zo);if(zs==="break")break}for(var as=Vi.length,ys=function(Ei){var Ga=Vi[Ei],wi={};Ga.edges.forEach(function($a){var Ja="".concat($a.source,"-").concat($a.target,"-").concat($a.label);wi[Ja]?wi[Ja]++:wi[Ja]=1});for(var Bi=function(Ja){var Fi=Vi[Ja],ri={};Fi.edges.forEach(function(yo){var Gs="".concat(yo.source,"-").concat(yo.target,"-").concat(yo.label);ri[Gs]?ri[Gs]++:ri[Gs]=1});var fi=!0;Object.keys(ri).length!==Object.keys(wi).length?fi=!1:Object.keys(wi).forEach(function(yo){ri[yo]!==wi[yo]&&(fi=!1)}),fi&&Vi.splice(Ja,1)},fa=as-1;fa>Ei;fa--)Bi(fa);as=Vi.length},Zo=0;Zo<=as-1;Zo++)ys(Zo);return Vi}}},gi=to,Si=function(){function i(e){e===void 0&&(e=10),this.linkedList=new dt,this.maxStep=e}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),Po=Si,bo=an,Za={getAdjMatrix:Q,breadthFirstSearch:ne,connectedComponent:Jt,getDegree:Kt,getInDegree:ue,getOutDegree:Se,detectCycle:an,detectDirectedCycle:bo,detectAllCycles:nn,detectAllDirectedCycle:Fr,detectAllUndirectedCycle:Or,depthFirstSearch:vr,dijkstra:qr,findAllPath:Dr,findShortestPath:Gr,floydWarshall:Je,labelPropagation:rr,louvain:ae,iLouvain:ut,kCore:O,kMeans:gt,cosineSimilarity:zt,nodesCosineSimilarity:_e,minimumSpanningTree:Ar,pageRank:ce,getNeighbors:xt,Stack:Po,GADDI:gi},Mi=C(277160),Hn=C(631437),ee=ft,fe=function(e){return function(t,r){return t[e]-r[e]}},Pe=function(e,t,r){return e>=t&&e<=r},nr=function(e,t,r,n){var a=1e-4,o={x:r.x-e.x,y:r.y-e.y},s={x:t.x-e.x,y:t.y-e.y},u={x:n.x-r.x,y:n.y-r.y},l=s.x*u.y-s.y*u.x,c=l*l,d=1/l,A=s.x*s.x+s.y*s.y,I=u.x*u.x+u.y*u.y;if(c>a*A*I){var F=(o.x*u.y-o.y*u.x)*d,Z=(o.x*s.y-o.y*s.x)*d;return!Pe(F,0,1)||!Pe(Z,0,1)?null:{x:e.x+F*s.x,y:e.y+F*s.y}}return null},_r=function(e,t){var r=e.x,n=e.y,a=e.width,o=e.height,s=r+a/2,u=n+o/2,l=[],c={x:s,y:u};l.push({x:r,y:n}),l.push({x:r+a,y:n}),l.push({x:r+a,y:n+o}),l.push({x:r,y:n+o}),l.push({x:r,y:n});for(var d=null,A=1;A<l.length&&(d=nr(l[A-1],l[A],c,t),!d);A++);return d},Sr=function(e,t){var r=e.x,n=e.y,a=e.r,o=t.x,s=t.y,u=o-r,l=s-n;if(u*u+l*l<a*a)return null;var c=Math.atan(l/u);return{x:r+Math.abs(a*Math.cos(c))*Math.sign(u),y:n+Math.abs(a*Math.sin(c))*Math.sign(l)}},br=function(e,t){var r=e.rx,n=e.ry,a=e.x,o=e.y,s=t.x-a,u=t.y-o,l=Math.atan2(u/n,s/r);return l<0&&(l+=2*Math.PI),{x:a+r*Math.cos(l),y:o+n*Math.sin(l)}},Kr=function(e,t,r){r===void 0&&(r=1);var n=[e.x,e.y,r];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Mi.transformMat3(n,n,t),{x:n[0],y:n[1]}},cn=function(e,t,r){r===void 0&&(r=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=q.invert([1,0,0,0,1,0,0,0,1],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[e.x,e.y,r];return Mi.transformMat3(a,a,n),{x:a[0],y:a[1]}},Mn=function(e,t,r){var n=e.x-t.x,a=e.y-t.y,o=e.x-r.x,s=e.y-r.y,u=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,l=(e.x*e.x-r.x*r.x-r.y*r.y+e.y*e.y)/2,c=a*o-n*s;return{x:-(s*u-a*l)/c,y:-(n*l-o*u)/c}},Kn=function(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)},Wn=function(e,t){var r=[];return e.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),r.push(a)}),r},ra=function(e){for(var t=[],r=e.length,n=0;n<r;n+=1){t[n]=[];for(var a=0;a<r;a+=1)n===a?t[n][a]=0:e[n][a]===0||!e[n][a]?t[n][a]=1/0:t[n][a]=e[n][a]}for(var o=0;o<r;o+=1)for(var n=0;n<r;n+=1)for(var a=0;a<r;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},na=function(e,t){var r=e.nodes,n=e.edges,a=[],o={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(s,u){o[s.id]=u;var l=[];a.push(l)}),n&&n.forEach(function(s){var u=s.source,l=s.target,c=o[u],d=o[l];a[c][d]=1,t||(a[d][c]=1)}),a},Ua=function(e,t){e.translate(t.x,t.y)},ua=function(e,t,r,n){n===void 0&&(n={duration:500});var a=e.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]);var o=e.getCanvasBBox(),s=t.x-o.minX,u=t.y-o.minY;if(r){var l=s*a[0],c=u*a[4],d=0,A=0,I=0,F=0;e.animate(function(rt){return I=l*rt,F=c*rt,a=ee(a,[["t",I-d,F-A]]),d=I,A=F,{matrix:a}},n)}else{var Z=ee(a,[["t",s,u]]);e.setMatrix(Z)}},Qn=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=t;(0,f.isArray)(t)||(n=[t,t]),(0,f.isArray)(t)&&t.length===1&&(n=[t[0],t[0]]),r=ee(r,[["s",n[0],n[1]]]),e.setMatrix(r)},Fa=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]),r=ee(r,[["r",t]]),e.setMatrix(r)},Da=function(e,t,r){for(var n=[],a=0;a<e;a++)n[a]=0;return r.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function xa(i,e,t){return(t[0]-i[0])*(e[1]-i[1])===(e[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],e[0])<=t[0]&&t[0]<=Math.max(i[0],e[0])&&Math.min(i[1],e[1])<=t[1]&&t[1]<=Math.max(i[1],e[1])}var li=function(e,t,r){var n=!1,a=e.length,o=1e-6;function s(d){return Math.abs(d)<o?0:d<0?-1:1}if(a<=2)return!1;for(var u=0;u<a;u++){var l=e[u],c=e[(u+1)%a];if(xa(l,c,[t,r]))return!0;s(l[1]-r)>0!=s(c[1]-r)>0&&s(t-(r-l[1])*(l[0]-c[0])/(l[1]-c[1])-l[0])<0&&(n=!n)}return n},Qa=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},Na=function(e,t){var r=!1;return(0,f.each)(e,function(n){if(nr(n.from,n.to,t.from,t.to))return r=!0,!1}),r},_a=function(e,t){var r=function(A){var I=A.map(function(Z){return Z[0]}),F=A.map(function(Z){return Z[1]});return{minX:Math.min.apply(null,I),maxX:Math.max.apply(null,I),minY:Math.min.apply(null,F),maxY:Math.max.apply(null,F)}},n=function(A){for(var I=[],F=A.length,Z=0;Z<F-1;Z++){var rt=A[Z],lt=A[Z+1];I.push({from:{x:rt[0],y:rt[1]},to:{x:lt[0],y:lt[1]}})}if(I.length>1){var ct=A[0],pt=A[F-1];I.push({from:{x:pt[0],y:pt[1]},to:{x:ct[0],y:ct[1]}})}return I};if(e.length<2||t.length<2)return!1;var a=r(e),o=r(t);if(!Qa(a,o))return!1;var s=!1;if((0,f.each)(t,function(d){if(li(e,d[0],d[1]))return s=!0,!1}),s||((0,f.each)(e,function(d){if(li(t,d[0],d[1]))return s=!0,!1}),s))return!0;var u=n(e),l=n(t),c=!1;return(0,f.each)(l,function(d){if(Na(u,d))return c=!0,!1}),c},va=function(){function i(e,t,r,n){this.x1=e,this.y1=t,this.x2=r,this.y2=n}return i.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),r=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:e,y:t,minX:e,minY:t,maxX:r,maxY:n,width:r-e,height:n-t};return a},i}(),di=function(e,t){var r={top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]};return r[t]},ni=function(e,t){var r=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),n=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),a=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(a){var o=r/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},hi=function(e,t){for(var r=["top","left","bottom","right"],n=e.getBBox(),a=0,o=[],s=0;s<4;s++){var u=di(n,r[s]),l=u[0],c=u[1],d=u[2],A=u[3];o[s]=nr({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:l,y:c},{x:d,y:A}),o[s]&&(a+=1)}return[o,a]},Ri=function(e,t){for(var r=["top","left","bottom","right"],n=e.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var u=di(n,r[s]),l=u[0],c=u[1],d=u[2],A=u[3],I=ni(t,new va(l,c,d,A));I=Math.abs(I-.5),I>=0&&I<=1&&(o+=1,a=I<a?I:a)}return o===0?-1:a},Ii=function(e){var t=0,r=0;if(e.length>0){for(var n=0,a=e;n<a.length;n++){var o=a[n];t+=o.x,r+=o.y}t/=e.length,r/=e.length}return{x:t,y:r}},Gi=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},Ao=function(e,t){var r=t.x1,n=t.y1,a=t.x2-r,o=t.y2-n,s=e.x-r,u=e.y-n,l=s*a+u*o,c;l<=0?c=0:(s=a-s,u=o-u,l=s*a+u*o,l<=0?c=0:c=l*l/(a*a+o*o));var d=s*s+u*u-c;return d<0&&(d=0),d},Oo=function(e,t,r){return r===void 0&&(r=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(r,2)},Ni=function(e,t){var r=e.x<t.x,n=e.x>t.x+t.width,a=e.y>t.y+t.height,o=e.y<t.y,s=r||n||a||o;if(!s)return 0;if(a&&!r&&!n)return Math.pow(t.y+t.height-e.y,2);if(o&&!r&&!n)return Math.pow(e.y-t.y,2);if(r&&!a&&!o)return Math.pow(t.x-e.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-e.x,2);var u=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),l=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return u*u+l*l},Ra=function(e,t){var r=e[0],n=e[1],a=e[2],o=e[3],s=t.x,u=t.y,l=[a-r,o-n];if(Hn.exactEquals(l,[0,0]))return NaN;var c=[-l[1],l[0]];Hn.normalize(c,c);var d=[s-r,u-n];return Math.abs(Hn.dot(d,c))},mi=function(e,t,r){return e+(t-e)*r},ki=function(e,t,r){for(var n=Math.min(e.length,t.length),a=new Array(n),o=0;o<n;o++)a[o]=mi(e[o],t[o],r);return a},Sa="rgb(95, 149, 255)",Ui="rgb(255, 255, 255)",lo="rgb(0, 0, 0)",Ai="rgb(247, 250, 255)",Lo="rgb(239, 244, 255)",yi="rgb(253, 253, 253)",co="rgb(250, 250, 250)",Go="rgb(224, 224, 224)",ts="rgb(234, 234, 234)",Wi="rgb(245, 245, 245)",Uo="rgb(191, 213, 255)",Wo="#4572d9",fs="rgb(223, 234, 255)",ha={mainStroke:Sa,mainFill:Lo,activeStroke:Sa,activeFill:Ai,inactiveStroke:Uo,inactiveFill:Ai,selectedStroke:Sa,selectedFill:Ui,highlightStroke:Wo,highlightFill:fs,disableStroke:Go,disableFill:co,edgeMainStroke:Go,edgeActiveStroke:Sa,edgeInactiveStroke:ts,edgeSelectedStroke:Sa,edgeHighlightStroke:Sa,edgeDisableStroke:Wi,comboMainStroke:Go,comboMainFill:yi,comboActiveStroke:Sa,comboActiveFill:Ai,comboInactiveStroke:Go,comboInactiveFill:yi,comboSelectedStroke:Sa,comboSelectedFill:yi,comboHighlightStroke:Wo,comboHighlightFill:yi,comboDisableStroke:ts,comboDisableFill:co},Yt={version:"0.8.8",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:ha.mainStroke,fill:Lo},size:20,color:ha.mainStroke,linkPoints:{size:8,lineWidth:1,fill:ha.activeFill,stroke:ha.activeStroke}},nodeStateStyles:{active:{fill:ha.activeFill,stroke:ha.activeStroke,lineWidth:2,shadowColor:ha.mainStroke,shadowBlur:10},selected:{fill:ha.selectedFill,stroke:ha.selectedStroke,lineWidth:4,shadowColor:ha.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:ha.highlightFill,stroke:ha.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:ha.inactiveFill,stroke:ha.inactiveStroke,lineWidth:1},disable:{fill:ha.disableFill,stroke:ha.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:lo,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:ha.edgeMainStroke,lineAppendWidth:2},color:ha.edgeMainStroke},edgeStateStyles:{active:{stroke:ha.edgeActiveStroke,lineWidth:1},selected:{stroke:ha.edgeSelectedStroke,lineWidth:2,shadowColor:ha.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ha.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:ha.edgeInactiveStroke,lineWidth:1},disable:{stroke:ha.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:lo,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:ha.comboMainFill,lineWidth:1,stroke:ha.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:ha.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:ha.comboActiveStroke,lineWidth:1,fill:ha.comboActiveFill},selected:{stroke:ha.comboSelectedStroke,lineWidth:2,fill:ha.comboSelectedFill,shadowColor:ha.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ha.comboHighlightStroke,lineWidth:2,fill:ha.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:ha.comboInactiveStroke,fill:ha.comboInactiveFill,lineWidth:1},disable:{stroke:ha.comboDisableStroke,fill:ha.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:typeof window!="undefined"&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},Le={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},qe=Math.PI,mr=Math.sin,Zr=Math.cos,fn=mr(qe/8),zn=Zr(qe/8),Ia=function(e,t){var r=e.getBBox(),n={x:r.minX,y:r.minY},a={x:r.maxX,y:r.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Kr(n,o),a=Kr(a,o)}var s=n.x,u=n.y,l=a.x,c=a.y;return{x:s,y:u,minX:s,minY:u,maxX:l,maxY:c,width:l-s,height:c-u}},vi=function(e){var t=e.sourceNode||e.targetNode,r=t.get("group"),n=r.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=e.loopCfg||{},u=s.dist||Math.max(o.width,o.height)*2,l=s.position||Yt.defaultLoopPosition,c=[(o.minX+o.maxX)/2+n[6],(o.minY+o.maxY)/2+n[7]],d=[e.startPoint.x,e.startPoint.y],A=[e.endPoint.x,e.endPoint.y],I=o.height/2,F=o.width/2,Z=I,rt=I,lt=Z*fn,ct=Z*zn,pt=rt*fn,_t=rt*zn,jt=a.get("type"),oe=Math.min(I/2,F/2),ie=Math.min(I,F),Ee=s!=null&&s.pointPadding?Math.min(ie,s==null?void 0:s.pointPadding):oe;if(d[0]===A[0]&&d[1]===A[1]){switch(l){case"top":jt==="circle"?(d=[c[0]-lt,c[1]-ct],A=[c[0]+pt,c[1]-_t]):(d=[c[0]-Ee,c[1]-I],A=[c[0]+Ee,c[1]-I]);break;case"top-right":Z=I,rt=F,jt==="circle"?(lt=Z*fn,ct=Z*zn,pt=rt*fn,_t=rt*zn,d=[c[0]+lt,c[1]-ct],A=[c[0]+_t,c[1]-pt]):(d=[c[0]+F-Ee,c[1]-I],A=[c[0]+F,c[1]-I+Ee]);break;case"right":Z=F,rt=F,jt==="circle"?(lt=Z*fn,ct=Z*zn,pt=rt*fn,_t=rt*zn,d=[c[0]+ct,c[1]-lt],A=[c[0]+_t,c[1]+pt]):(d=[c[0]+F,c[1]-Ee],A=[c[0]+F,c[1]+Ee]);break;case"bottom-right":Z=F,rt=I,jt==="circle"?(lt=Z*fn,ct=Z*zn,pt=rt*fn,_t=rt*zn,d=[c[0]+ct,c[1]+lt],A=[c[0]+pt,c[1]+_t]):(d=[c[0]+F,c[1]+I-Ee],A=[c[0]+F-Ee,c[1]+I]);break;case"bottom":Z=I,rt=I,jt==="circle"?(lt=Z*fn,ct=Z*zn,pt=rt*fn,_t=rt*zn,d=[c[0]+lt,c[1]+ct],A=[c[0]-pt,c[1]+_t]):(d=[c[0]-Ee,c[1]+I],A=[c[0]+Ee,c[1]+I]);break;case"bottom-left":Z=I,rt=F,jt==="circle"?(lt=Z*fn,ct=Z*zn,pt=rt*fn,_t=rt*zn,d=[c[0]-lt,c[1]+ct],A=[c[0]-_t,c[1]+pt]):(d=[c[0]-F,c[1]+I-Ee],A=[c[0]-F+Ee,c[1]+I]);break;case"left":Z=F,rt=F,jt==="circle"?(lt=Z*fn,ct=Z*zn,pt=rt*fn,_t=rt*zn,d=[c[0]-ct,c[1]+lt],A=[c[0]-_t,c[1]-pt]):(d=[c[0]-F,c[1]-Ee],A=[c[0]-F,c[1]+Ee]);break;case"top-left":Z=F,rt=I,jt==="circle"?(lt=Z*fn,ct=Z*zn,pt=rt*fn,_t=rt*zn,d=[c[0]-ct,c[1]-lt],A=[c[0]-pt,c[1]-_t]):(d=[c[0]-F+Ee,c[1]-I],A=[c[0]-F,c[1]-I+Ee]);break;default:Z=F,rt=F,lt=Z*fn,ct=Z*zn,pt=rt*fn,_t=rt*zn,d=[c[0]-lt,c[1]-ct],A=[c[0]+pt,c[1]-_t]}if(s.clockwise===!1){var Re=[d[0],d[1]];d=[A[0],A[1]],A=[Re[0],Re[1]]}}var Ae=[d[0]-c[0],d[1]-c[1]],He=(Z+u)/Z,ur=(rt+u)/rt;s.clockwise===!1&&(He=(rt+u)/rt,ur=(Z+u)/Z);var tn=Hn.scale([0,0],Ae,He),Tn=[c[0]+tn[0],c[1]+tn[1]],pn=[A[0]-c[0],A[1]-c[1]],Vr=Hn.scale([0,0],pn,ur),Un=[c[0]+Vr[0],c[1]+Vr[1]];return e.startPoint={x:d[0],y:d[1]},e.endPoint={x:A[0],y:A[1]},e.controlPoints=[{x:Tn[0],y:Tn[1]},{x:Un[0],y:Un[1]}],e},eo=function(e,t,r,n,a){var o=1e-4,s=[],u=e==null?void 0:e.getPoint(t);if(!u)return{x:0,y:0,angle:0};if(t<o)s=e.getStartTangent().reverse();else if(t>1-o)s=e.getEndTangent();else{var l=e==null?void 0:e.getPoint(t+o);s.push([u.x,u.y]),s.push([l.x,l.y])}var c=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(c<0&&(c+=qe*2),r&&(u.x+=Zr(c)*r,u.y+=mr(c)*r),n){var d=c-qe/2;c>1/2*qe&&c<3*1/2*qe&&(d-=qe),u.x+=Zr(d)*n,u.y+=mr(d)*n}var A={x:u.x,y:u.y,angle:c};return a?(c>.5*qe&&c<1.5*qe&&(c-=qe),(0,b.__assign)({rotate:c},A)):A},xo=function i(e,t,r,n){if(n(e,t,r)===!1)return!1;if(e&&e.children){for(var a=e.children.length-1;a>=0;a--)if(!i(e.children[a],e,a,n))return!1}return!0},ds=function i(e,t,r,n){if(e&&e.children){for(var a=e.children.length-1;a>=0;a--)if(!i(e.children[a],e,a,n))return}return n(e,t,r)!==!1},Di=function(e,t){typeof t=="function"&&xo(e,null,-1,t)},ro=function(e,t){typeof t=="function"&&ds(e,null,-1,t)},Yo=function(e,t){return t*(Le[e]||1)},hs=function(e,t){var r=0,n=new RegExp("[\u4E00-\u9FA5]+");return e.split("").forEach(function(a){n.test(a)?r+=t:r+=Yo(a,t)}),[r,t]},qo=function(e,t){return typeof t!="number"||t<=0||t>=e.length?e:e.substring(0,t)+"..."},Es=function(e,t){var r=[],n={},a={};e.forEach(function(u){a[u.id]=u}),e.forEach(function(u,l){var c=(0,f.clone)(u);c.itemType="combo",c.children=void 0,c.parentId===c.id?(console.warn("The parentId for combo ".concat(c.id," can not be the same as the combo's id")),delete c.parentId):c.parentId&&!a[c.parentId]&&(console.warn("The parent combo for combo ".concat(c.id," does not exist!")),delete c.parentId);var d=n[c.id];if(d){if(c.children=d.children,n[c.id]=c,d=c,!d.parentId){r.push(d);return}var A=n[d.parentId];if(A)A.children?A.children.push(c):A.children=[c];else{var I={id:d.parentId,children:[d]};n[d.parentId]=I,n[c.id]=c}return}if((0,f.isString)(u.parentId)){var F=n[u.parentId];if(F)F.children?F.children.push(c):F.children=[c],n[c.id]=c;else{var Z={id:u.parentId,children:[c]};n[Z.id]=Z,n[c.id]=c}}else r.push(c),n[c.id]=c});var o={};(t||[]).forEach(function(u){o[u.id]=u;var l=n[u.comboId];if(l){var c={id:u.id,comboId:u.comboId};l.children?l.children.push(c):l.children=[c],c.itemType="node",n[u.id]=c}});var s=0;return r.forEach(function(u){u.depth=s+10,Di(u,function(l){var c,d=n[l.id].itemType;d==="node"?c=n[l.comboId]:c=n[l.parentId],c&&d==="node"?l.depth=s+1:l.depth=s+10,s<l.depth&&(s=l.depth);var A=o[l.id];return A&&(A.depth=l.depth),!0})}),r},As=function(e,t,r){var n,a=e,o,s={root:{children:e}},u=!1,l="root";(e||[]).forEach(function(F){if(!u){if(F.id===t){o=F,F.itemType==="combo"?o.parentId=r:o.comboId=r,u=!0;return}Di(F,function(Z){var rt;return s[Z.id]={children:(Z==null?void 0:Z.children)||[]},a=(rt=s[Z.parentId||Z.comboId||"root"])===null||rt===void 0?void 0:rt.children,Z&&(Z.removed||t===Z.id)&&a?(l=Z.parentId||Z.comboId||"root",o=Z,Z.itemType==="combo"?o.parentId=r:o.comboId=r,u=!0,!1):!0})}}),a=(n=s[l])===null||n===void 0?void 0:n.children;var c=a?a.indexOf(o):-1;if(c>-1&&a.splice(c,1),u||(o={id:t,itemType:"node",comboId:r},s[t]={children:void 0}),t){var d=!1;if(r){var A=0;(e||[]).forEach(function(F){d||Di(F,function(Z){return r===Z.id?(d=!0,Z.children?Z.children.push(o):Z.children=[o],A=Z.depth,o.itemType==="node"?o.depth=A+2:o.depth=A+1,!1):!0})})}else(!r||!d)&&o.itemType!=="node"&&e.push(o);var I=o.depth;Di(o,function(F){return F.itemType==="node"?I+=2:I+=1,F.depth=I,!0})}return e},ws=function(e,t,r){var n={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!e||e.length===0){var a=r==null?void 0:r.getModel(),o=a||{},s=o.x,u=o.y,l=o.fixSize,c=o.collapsed,d=o.fixCollapseSize,A=c?d:l,I=(0,f.isArray)(A)?A:[A,A],F=I[0],Z=I[1],rt=[F/2,Z/2];return{minX:s-rt[0],minY:u-rt[1],maxX:s+rt[0],maxY:u+rt[1],x:s,y:u,width:F,height:Z}}return e.forEach(function(lt){var ct=t.findById(lt.id);if(!(!ct||!ct.isVisible())){ct.set("bboxCanvasCache",void 0);var pt=ct.getCanvasBBox();pt.x&&n.minX>pt.minX&&(n.minX=pt.minX),pt.y&&n.minY>pt.minY&&(n.minY=pt.minY),pt.x&&n.maxX<pt.maxX&&(n.maxX=pt.maxX),pt.y&&n.maxY<pt.maxY&&(n.maxY=pt.maxY)}}),n.x=(n.minX+n.maxX)/2,n.y=(n.minY+n.maxY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,(r==null?void 0:r.getKeyShape().get("type"))==="circle"&&(n.width=Math.hypot(n.height,n.width),n.height=n.width),Object.keys(n).forEach(function(lt){(n[lt]===1/0||n[lt]===-1/0)&&(n[lt]=void 0)}),n},nu=function(e){var t=(0,f.isNumber)(e.x)||(0,f.isNumber)(e.y)||e.type||e.anchorPoints||e.size;return e.style&&(t=t||(0,f.isNumber)(e.style.r)||(0,f.isNumber)(e.style.width)||(0,f.isNumber)(e.style.height)||(0,f.isNumber)(e.style.rx)||(0,f.isNumber)(e.style.ry)),t},Ko=function(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];if((0,f.isObject)(n)&&!(0,f.isArray)(n)){var a={};Object.keys(n).forEach(function(o){var s=n[o];o==="img"&&!(0,f.isString)(s)||(a[o]=(0,f.clone)(s))}),t[r]=a}else t[r]=(0,f.clone)(n)}),t},is=function(e){var t=e.animateCfg,r=e.callback,n;if(!t)n={duration:500,callback:r};else if(n=(0,f.clone)(t),t.callback){var a=t.callback;n.callback=function(){r(),a()}}else n.callback=r;return n},vs=function(e){if(!e)return console.error("G6 Error Tips: the data must be defined"),!1;var t=e.nodes,r=e.edges,n=e.combos,a=n===void 0?[]:n;if(!t&&!r){var o=!0;return Di(e,function(A){return(0,f.isString)(A.id)?!0:(o=!1,!1)}),o}var s=(t||[]).find(function(A){return!(0,f.isString)(A.id)});if(s)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(s.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var u=(t||[]).map(function(A){return A.id}),l=a==null?void 0:a.map(function(A){return A.id}),c=(0,b.__spreadArray)((0,b.__spreadArray)([],u,!0),l,!0),d=(r||[]).find(function(A){return!c.includes(A.source)||!c.includes(A.target)});return d?(console.warn("G6 Warning Tips: The source %c".concat(d.source,"%c or the target %c").concat(d.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1):!0},No=function(e,t){if(e==="node"||e==="combo"){if(t.id&&!(0,f.isString)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(t.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if(e==="edge"&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0},xu=function(){function i(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var e=this.modes;(0,f.each)(e,function(t){(0,f.each)(t,function(r,n){(0,f.isString)(r)&&(t[n]={type:r})})})},i.prototype.setBehaviors=function(e){var t=this.graph,r=this.modes[e],n=[],a;(0,f.each)(r||[],function(o){var s=z.getBehavior(o.type||o);s&&(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(e,t){return(0,f.each)(t,function(r){e.indexOf(r)<0&&((0,f.isString)(r)&&(r={type:r}),e.push(r))}),e},i.filterBehaviors=function(e,t){var r=[];return e.forEach(function(n){var a="";(0,f.isString)(n)?a=n:a=n.type,t.indexOf(a)<0&&r.push(n)}),r},i.prototype.setMode=function(e){var t=this,r=t.modes,n=t.graph,a=e,o=r[a];o&&(n.emit("beforemodechange",{mode:e}),(0,f.each)(this.currentBehaves,function(s){s.delegate&&s.delegate.remove(),s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:e}),this.mode=e)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(e,t,r){var n=this,a;if((0,f.isArray)(e)?a=e:a=[e],(0,f.isArray)(t))return(0,f.each)(t,function(s){n.modes[s]?r?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):r&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||r&&(this.modes[o]=a),r?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.formatModes(),this.setMode(this.mode),this},i.prototype.updateBehavior=function(e,t,r){(0,f.isString)(e)&&(e={type:e});var n=[];if(!r||r===this.mode||r==="default"){if(n=this.currentBehaves,!n||!n.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var a=n.length,o=0;o<a;o++){var s=n[o];if(s.type===e.type)return s.updateCfg(t),this;o===a-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(n=this.modes[r],!n||!n.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var u=n.length,o=0;o<u;o++){var s=n[o];if(s.type===e.type||s===e.type)return s===e.type&&(s={type:s}),Object.assign(s,t),n[o]=s,this;o===u-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),Eu=xu,Yi=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Eo=new RegExp("([a-z])["+Yi+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Yi+"]*,?["+Yi+"]*)+)","ig"),Ro=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Yi+"]*,?["+Yi+"]*","ig"),h=function(i){if(!i)return null;if((0,f.isArray)(i))return i;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(i).replace(Eo,function(r,n,a){var o=[],s=n.toLowerCase();if(a.replace(Ro,function(u,l){l&&o.push(+l)}),s==="m"&&o.length>2&&(t.push([n].concat(o.splice(0,2))),s="l",n=n==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([n,o[0]]),s==="r")t.push([n].concat(o));else for(;o.length>=e[s]&&(t.push([n].concat(o.splice(0,e[s]))),!!e[s]););return i}),t},Y=function(i,e){for(var t=[],r=0,n=i.length;n-2*!e>r;r+=2){var a=[{x:+i[r-2],y:+i[r-1]},{x:+i[r],y:+i[r+1]},{x:+i[r+2],y:+i[r+3]},{x:+i[r+4],y:+i[r+5]}];e?r?n-4===r?a[3]={x:+i[0],y:+i[1]}:n-2===r&&(a[2]={x:+i[0],y:+i[1]},a[3]={x:+i[2],y:+i[3]}):a[0]={x:+i[n-2],y:+i[n-1]}:n-4===r?a[3]=a[2]:r||(a[0]={x:+i[r],y:+i[r+1]}),t.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return t},Et=function(i,e,t,r,n){var a=[];if(n===null&&r===null&&(r=t),i=+i,e=+e,t=+t,r=+r,n!==null){var o=Math.PI/180,s=i+t*Math.cos(-r*o),u=i+t*Math.cos(-n*o),l=e+t*Math.sin(-r*o),c=e+t*Math.sin(-n*o);a=[["M",s,l],["A",t,t,0,+(n-r>180),0,u,c]]}else a=[["M",i,e],["m",0,-r],["a",t,r,0,1,1,0,2*r],["a",t,r,0,1,1,0,-2*r],["z"]];return a},Gt=function(i){if(i=h(i),!i||!i.length)return[["M",0,0]];var e=[],t=0,r=0,n=0,a=0,o=0,s,u;i[0][0]==="M"&&(t=+i[0][1],r=+i[0][2],n=t,a=r,o++,e[0]=["M",t,r]);for(var l=i.length===3&&i[0][0]==="M"&&i[1][0].toUpperCase()==="R"&&i[2][0].toUpperCase()==="Z",c=void 0,d=void 0,A=o,I=i.length;A<I;A++){if(e.push(c=[]),d=i[A],s=d[0],s!==s.toUpperCase())switch(c[0]=s.toUpperCase(),c[0]){case"A":c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=+d[6]+t,c[7]=+d[7]+r;break;case"V":c[1]=+d[1]+r;break;case"H":c[1]=+d[1]+t;break;case"R":u=[t,r].concat(d.slice(1));for(var F=2,Z=u.length;F<Z;F++)u[F]=+u[F]+t,u[++F]=+u[F]+r;e.pop(),e=e.concat(Y(u,l));break;case"O":e.pop(),u=Et(t,r,d[1],d[2]),u.push(u[0]),e=e.concat(u);break;case"U":e.pop(),e=e.concat(Et(t,r,d[1],d[2],d[3])),c=["U"].concat(e[e.length-1].slice(-2));break;case"M":n=+d[1]+t,a=+d[2]+r;break;default:for(var F=1,Z=d.length;F<Z;F++)c[F]=+d[F]+(F%2?t:r)}else if(s==="R")u=[t,r].concat(d.slice(1)),e.pop(),e=e.concat(Y(u,l)),c=["R"].concat(d.slice(-2));else if(s==="O")e.pop(),u=Et(t,r,d[1],d[2]),u.push(u[0]),e=e.concat(u);else if(s==="U")e.pop(),e=e.concat(Et(t,r,d[1],d[2],d[3])),c=["U"].concat(e[e.length-1].slice(-2));else for(var rt=0,lt=d.length;rt<lt;rt++)c[rt]=d[rt];if(s=s.toUpperCase(),s!=="O")switch(c[0]){case"Z":t=+n,r=+a;break;case"H":t=c[1];break;case"V":r=c[1];break;case"M":n=c[c.length-2],a=c[c.length-1];break;default:t=c[c.length-2],r=c[c.length-1]}}return e},qt=function(i,e,t,r){return[i,e,t,r,t,r]},de=function(i,e,t,r,n,a){var o=.3333333333333333,s=2/3;return[o*i+s*t,o*e+s*r,o*n+s*t,o*a+s*r,n,a]},ve=function(i,e,t,r,n,a,o,s,u,l){t===r&&(t+=1);var c=Math.PI*120/180,d=Math.PI/180*(+n||0),A=[],I,F,Z,rt,lt,ct=function(_i,ii,Ci){var Li=_i*Math.cos(Ci)-ii*Math.sin(Ci),oo=_i*Math.sin(Ci)+ii*Math.cos(Ci);return{x:Li,y:oo}};if(l)F=l[0],Z=l[1],rt=l[2],lt=l[3];else{I=ct(i,e,-d),i=I.x,e=I.y,I=ct(s,u,-d),s=I.x,u=I.y,i===s&&e===u&&(s+=1,u+=1);var pt=(i-s)/2,_t=(e-u)/2,jt=pt*pt/(t*t)+_t*_t/(r*r);jt>1&&(jt=Math.sqrt(jt),t=jt*t,r=jt*r);var oe=t*t,ie=r*r,Ee=(a===o?-1:1)*Math.sqrt(Math.abs((oe*ie-oe*_t*_t-ie*pt*pt)/(oe*_t*_t+ie*pt*pt)));rt=Ee*t*_t/r+(i+s)/2,lt=Ee*-r*pt/t+(e+u)/2,F=Math.asin(((e-lt)/r).toFixed(9)),Z=Math.asin(((u-lt)/r).toFixed(9)),F=i<rt?Math.PI-F:F,Z=s<rt?Math.PI-Z:Z,F<0&&(F=Math.PI*2+F),Z<0&&(Z=Math.PI*2+Z),o&&F>Z&&(F=F-Math.PI*2),!o&&Z>F&&(Z=Z-Math.PI*2)}var Re=Z-F;if(Math.abs(Re)>c){var Ae=Z,He=s,ur=u;Z=F+c*(o&&Z>F?1:-1),s=rt+t*Math.cos(Z),u=lt+r*Math.sin(Z),A=ve(s,u,t,r,n,0,o,He,ur,[Z,Ae,rt,lt])}Re=Z-F;var tn=Math.cos(F),Tn=Math.sin(F),pn=Math.cos(Z),Vr=Math.sin(Z),Un=Math.tan(Re/4),Rn=4/3*t*Un,Hr=4/3*r*Un,hn=[i,e],An=[i+Rn*Tn,e-Hr*tn],On=[s+Rn*Vr,u-Hr*pn],jn=[s,u];if(An[0]=2*hn[0]-An[0],An[1]=2*hn[1]-An[1],l)return[An,On,jn].concat(A);A=[An,On,jn].concat(A).join().split(",");for(var ta=[],ya=0,La=A.length;ya<La;ya++)ta[ya]=ya%2?ct(A[ya-1],A[ya],d).y:ct(A[ya],A[ya+1],d).x;return ta},Ce=function(i,e){var t=Gt(i),r=e&&Gt(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],s=[],u="",l="",c,d=function(pt,_t,jt){var oe,ie;if(!pt)return["C",_t.x,_t.y,_t.x,_t.y,_t.x,_t.y];switch(!(pt[0]in{T:1,Q:1})&&(_t.qx=_t.qy=null),pt[0]){case"M":_t.X=pt[1],_t.Y=pt[2];break;case"A":pt=["C"].concat(ve.apply(0,[_t.x,_t.y].concat(pt.slice(1))));break;case"S":jt==="C"||jt==="S"?(oe=_t.x*2-_t.bx,ie=_t.y*2-_t.by):(oe=_t.x,ie=_t.y),pt=["C",oe,ie].concat(pt.slice(1));break;case"T":jt==="Q"||jt==="T"?(_t.qx=_t.x*2-_t.qx,_t.qy=_t.y*2-_t.qy):(_t.qx=_t.x,_t.qy=_t.y),pt=["C"].concat(de(_t.x,_t.y,_t.qx,_t.qy,pt[1],pt[2]));break;case"Q":_t.qx=pt[1],_t.qy=pt[2],pt=["C"].concat(de(_t.x,_t.y,pt[1],pt[2],pt[3],pt[4]));break;case"L":pt=["C"].concat(qt(_t.x,_t.y,pt[1],pt[2]));break;case"H":pt=["C"].concat(qt(_t.x,_t.y,pt[1],_t.y));break;case"V":pt=["C"].concat(qt(_t.x,_t.y,_t.x,pt[1]));break;case"Z":pt=["C"].concat(qt(_t.x,_t.y,_t.X,_t.Y));break;default:break}return pt},A=function(pt,_t){if(pt[_t].length>7){pt[_t].shift();for(var jt=pt[_t];jt.length;)o[_t]="A",r&&(s[_t]="A"),pt.splice(_t++,0,["C"].concat(jt.splice(0,6)));pt.splice(_t,1),c=Math.max(t.length,r&&r.length||0)}},I=function(pt,_t,jt,oe,ie){pt&&_t&&pt[ie][0]==="M"&&_t[ie][0]!=="M"&&(_t.splice(ie,0,["M",oe.x,oe.y]),jt.bx=0,jt.by=0,jt.x=pt[ie][1],jt.y=pt[ie][2],c=Math.max(t.length,r&&r.length||0))};c=Math.max(t.length,r&&r.length||0);for(var F=0;F<c;F++){t[F]&&(u=t[F][0]),u!=="C"&&(o[F]=u,F&&(l=o[F-1])),t[F]=d(t[F],n,l),o[F]!=="A"&&u==="C"&&(o[F]="C"),A(t,F),r&&(r[F]&&(u=r[F][0]),u!=="C"&&(s[F]=u,F&&(l=s[F-1])),r[F]=d(r[F],a,l),s[F]!=="A"&&u==="C"&&(s[F]="C"),A(r,F)),I(t,r,n,a,F),I(r,t,a,n,F);var Z=t[F],rt=r&&r[F],lt=Z.length,ct=r&&rt.length;n.x=Z[lt-2],n.y=Z[lt-1],n.bx=parseFloat(Z[lt-4])||n.x,n.by=parseFloat(Z[lt-3])||n.y,a.bx=r&&(parseFloat(rt[ct-4])||a.x),a.by=r&&(parseFloat(rt[ct-3])||a.y),a.x=r&&rt[ct-2],a.y=r&&rt[ct-1]}return r?[t,r]:t},De=/,?([a-z]),?/gi,Ye=function(i){return i.join(",").replace(De,"$1")},sr=function(i,e,t,r,n){var a=-3*e+9*t-9*r+3*n,o=i*a+6*e-12*t+6*r;return i*o-3*e+3*t},Br=function(i,e,t,r,n,a,o,s,u){u===null&&(u=1),u=u>1?1:u<0?0:u;for(var l=u/2,c=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],A=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],I=0,F=0;F<c;F++){var Z=l*d[F]+l,rt=sr(Z,i,t,n,o),lt=sr(Z,e,r,a,s),ct=rt*rt+lt*lt;I+=A[F]*Math.sqrt(ct)}return l*I},Wr=function(i,e,t,r,n,a,o,s){for(var u=[],l=[[],[]],c,d,A,I,F=0;F<2;++F){if(F===0?(d=6*i-12*t+6*n,c=-3*i+9*t-9*n+3*o,A=3*t-3*i):(d=6*e-12*r+6*a,c=-3*e+9*r-9*a+3*s,A=3*r-3*e),Math.abs(c)<1e-12){if(Math.abs(d)<1e-12)continue;I=-A/d,I>0&&I<1&&u.push(I);continue}var Z=d*d-4*A*c,rt=Math.sqrt(Z);if(!(Z<0)){var lt=(-d+rt)/(2*c);lt>0&&lt<1&&u.push(lt);var ct=(-d-rt)/(2*c);ct>0&&ct<1&&u.push(ct)}}for(var pt=u.length,_t=pt,jt;pt--;)I=u[pt],jt=1-I,l[0][pt]=jt*jt*jt*i+3*jt*jt*I*t+3*jt*I*I*n+I*I*I*o,l[1][pt]=jt*jt*jt*e+3*jt*jt*I*r+3*jt*I*I*a+I*I*I*s;return l[0][_t]=i,l[1][_t]=e,l[0][_t+1]=o,l[1][_t+1]=s,l[0].length=l[1].length=_t+2,{min:{x:Math.min.apply(0,l[0]),y:Math.min.apply(0,l[1])},max:{x:Math.max.apply(0,l[0]),y:Math.max.apply(0,l[1])}}},zr=function(i,e,t,r,n,a,o,s){if(!(Math.max(i,t)<Math.min(n,o)||Math.min(i,t)>Math.max(n,o)||Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s))){var u=(i*r-e*t)*(n-o)-(i-t)*(n*s-a*o),l=(i*r-e*t)*(a-s)-(e-r)*(n*s-a*o),c=(i-t)*(a-s)-(e-r)*(n-o);if(c){var d=u/c,A=l/c,I=+d.toFixed(2),F=+A.toFixed(2);if(!(I<+Math.min(i,t).toFixed(2)||I>+Math.max(i,t).toFixed(2)||I<+Math.min(n,o).toFixed(2)||I>+Math.max(n,o).toFixed(2)||F<+Math.min(e,r).toFixed(2)||F>+Math.max(e,r).toFixed(2)||F<+Math.min(a,s).toFixed(2)||F>+Math.max(a,s).toFixed(2)))return{x:d,y:A}}}},mn=function(i,e,t){return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},In=function(i,e,t,r,n){if(n)return[["M",+i+ +n,e],["l",t-n*2,0],["a",n,n,0,0,1,n,n],["l",0,r-n*2],["a",n,n,0,0,1,-n,n],["l",n*2-t,0],["a",n,n,0,0,1,-n,-n],["l",0,n*2-r],["a",n,n,0,0,1,n,-n],["z"]];var a=[["M",i,e],["l",t,0],["l",0,r],["l",-t,0],["z"]];return a.parsePathArray=Ye,a},Qr=function(i,e,t,r){return i===null&&(i=e=t=r=0),e===null&&(e=i.y,t=i.width,r=i.height,i=i.x),{x:i,y:e,width:t,w:t,height:r,h:r,x2:i+t,y2:e+r,cx:i+t/2,cy:e+r/2,r1:Math.min(t,r)/2,r2:Math.max(t,r)/2,r0:Math.sqrt(t*t+r*r)/2,path:In(i,e,t,r),vb:[i,e,t,r].join(" ")}},Vn=function(i,e){return i=Qr(i),e=Qr(e),mn(e,i.x,i.y)||mn(e,i.x2,i.y)||mn(e,i.x,i.y2)||mn(e,i.x2,i.y2)||mn(i,e.x,e.y)||mn(i,e.x2,e.y)||mn(i,e.x,e.y2)||mn(i,e.x2,e.y2)||(i.x<e.x2&&i.x>e.x||e.x<i.x2&&e.x>i.x)&&(i.y<e.y2&&i.y>e.y||e.y<i.y2&&e.y>i.y)},Ta=function(i,e,t,r,n,a,o,s){(0,f.isArray)(i)||(i=[i,e,t,r,n,a,o,s]);var u=Wr.apply(null,i);return Qr(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Oa=function(i,e,t,r,n,a,o,s,u){var l=1-u,c=Math.pow(l,3),d=Math.pow(l,2),A=u*u,I=A*u,F=c*i+d*3*u*t+l*3*u*u*n+I*o,Z=c*e+d*3*u*r+l*3*u*u*a+I*s,rt=i+2*u*(t-i)+A*(n-2*t+i),lt=e+2*u*(r-e)+A*(a-2*r+e),ct=t+2*u*(n-t)+A*(o-2*n+t),pt=r+2*u*(a-r)+A*(s-2*a+r),_t=l*i+u*t,jt=l*e+u*r,oe=l*n+u*o,ie=l*a+u*s,Ee=90-Math.atan2(rt-ct,lt-pt)*180/Math.PI;return{x:F,y:Z,m:{x:rt,y:lt},n:{x:ct,y:pt},start:{x:_t,y:jt},end:{x:oe,y:ie},alpha:Ee}},Ea=function(i,e,t){var r=Ta(i),n=Ta(e);if(!Vn(r,n))return t?0:[];for(var a=Br.apply(0,i),o=Br.apply(0,e),s=~~(a/8),u=~~(o/8),l=[],c=[],d={},A=t?0:[],I=0;I<s+1;I++){var F=Oa.apply(0,i.concat(I/s));l.push({x:F.x,y:F.y,t:I/s})}for(var I=0;I<u+1;I++){var F=Oa.apply(0,e.concat(I/u));c.push({x:F.x,y:F.y,t:I/u})}for(var I=0;I<s;I++)for(var Z=0;Z<u;Z++){var rt=l[I],lt=l[I+1],ct=c[Z],pt=c[Z+1],_t=Math.abs(lt.x-rt.x)<.001?"y":"x",jt=Math.abs(pt.x-ct.x)<.001?"y":"x",oe=zr(rt.x,rt.y,lt.x,lt.y,ct.x,ct.y,pt.x,pt.y);if(oe){if(d[oe.x.toFixed(4)]===oe.y.toFixed(4))continue;d[oe.x.toFixed(4)]=oe.y.toFixed(4);var ie=rt.t+Math.abs((oe[_t]-rt[_t])/(lt[_t]-rt[_t]))*(lt.t-rt.t),Ee=ct.t+Math.abs((oe[jt]-ct[jt])/(pt[jt]-ct[jt]))*(pt.t-ct.t);ie>=0&&ie<=1&&Ee>=0&&Ee<=1&&(t?A+=1:A.push({x:oe.x,y:oe.y,t1:ie,t2:Ee}))}}return A},ca=function(i,e,t){i=Ce(i),e=Ce(e);for(var r,n,a,o,s,u,l,c,d,A,I=t?0:[],F=0,Z=i.length;F<Z;F++){var rt=i[F];if(rt[0]==="M")r=s=rt[1],n=u=rt[2];else{rt[0]==="C"?(d=[r,n].concat(rt.slice(1)),r=d[6],n=d[7]):(d=[r,n,r,n,s,u,s,u],r=s,n=u);for(var lt=0,ct=e.length;lt<ct;lt++){var pt=e[lt];if(pt[0]==="M")a=l=pt[1],o=c=pt[2];else{pt[0]==="C"?(A=[a,o].concat(pt.slice(1)),a=A[6],o=A[7]):(A=[a,o,a,o,l,c,l,c],a=l,o=c);var _t=Ea(d,A,t);if(t)I+=_t;else{for(var jt=0,oe=_t.length;jt<oe;jt++)_t[jt].segment1=F,_t[jt].segment2=lt,_t[jt].bez1=d,_t[jt].bez2=A;I=I.concat(_t)}}}}}return I},ga=function(i,e){return ca(i,e)};function no(i,e){var t=[],r=[];function n(a,o){if(a.length===1)t.push(a[0]),r.push(a[0]);else{for(var s=[],u=0;u<a.length-1;u++)u===0&&t.push(a[0]),u===a.length-2&&r.push(a[u+1]),s[u]=[(1-o)*a[u][0]+o*a[u+1][0],(1-o)*a[u][1]+o*a[u+1][1]];n(s,o)}}return i.length&&n(i,e),{left:t,right:r.reverse()}}function Hi(i,e,t){var r=[[i[1],i[2]]];t=t||2;var n=[];e[0]==="A"?(r.push(e[6]),r.push(e[7])):e[0]==="C"?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):e[0]==="S"||e[0]==="Q"?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var a=r,o=1/t,s=0;s<t-1;s++){var u=o/(1-o*s),l=no(a,u);n.push(l.left),a=l.right}n.push(a);var c=n.map(function(d){var A=[];return d.length===4&&(A.push("C"),A=A.concat(d[2])),d.length>=3&&(d.length===3&&A.push("Q"),A=A.concat(d[1])),d.length===2&&A.push("L"),A=A.concat(d[d.length-1]),A});return c}var Xi=function(i,e,t){if(t===1)return[[].concat(i)];var r=[];if(e[0]==="L"||e[0]==="C"||e[0]==="Q")r=r.concat(Hi(i,e,t));else{var n=[].concat(i);n[0]==="M"&&(n[0]="L");for(var a=0;a<=t-1;a++)r.push(n)}return r},Zi=function(i,e){if(i.length===1)return i;var t=i.length-1,r=e.length-1,n=t/r,a=[];if(i.length===1&&i[0][0]==="M"){for(var o=0;o<r-t;o++)i.push(i[0]);return i}for(var o=0;o<r;o++){var s=Math.floor(n*o);a[s]=(a[s]||0)+1}var u=a.reduce(function(l,c,d){return d===t?l.concat(i[t]):l.concat(Xi(i[d],i[d+1],c))},[]);return u.unshift(i[0]),(e[r]==="Z"||e[r]==="z")&&u.push("Z"),u},Ki=function(i,e){if(i.length!==e.length)return!1;var t=!0;return(0,f.each)(i,function(r,n){if(r!==e[n])return t=!1,!1}),t};function fo(i,e,t){var r=null,n=t;return e<n&&(n=e,r="add"),i<n&&(n=i,r="del"),{type:r,min:n}}var wo=function(i,e){var t=i.length,r=e.length,n,a,o=0;if(t===0||r===0)return null;for(var s=[],u=0;u<=t;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=r;l++)s[0][l]={min:l};for(var u=1;u<=t;u++){n=i[u-1];for(var l=1;l<=r;l++){a=e[l-1],Ki(n,a)?o=0:o=1;var c=s[u-1][l].min+1,d=s[u][l-1].min+1,A=s[u-1][l-1].min+o;s[u][l]=fo(c,d,A)}}return s},Wa=function(i,e){var t=wo(i,e),r=i.length,n=e.length,a=[],o=1,s=1;if(t[r][n].min!==r){for(var u=1;u<=r;u++){var l=t[u][u].min;s=u;for(var c=o;c<=n;c++)t[u][c].min<l&&(l=t[u][c].min,s=c);o=s,t[u][o].type&&a.push({index:u-1,type:t[u][o].type})}for(var u=a.length-1;u>=0;u--)o=a[u].index,a[u].type==="add"?i.splice(o,0,[].concat(i[o])):i.splice(o,1)}r=i.length;var d=n-r;if(r<n)for(var u=0;u<d;u++)i[r-1][0]==="z"||i[r-1][0]==="Z"?i.splice(r-2,0,i[r-2]):i.push(i[r-1]),r+=1;return i};function pi(i,e,t){for(var r=[].concat(i),n,a=1/(t+1),o=Os(e)[0],s=1;s<=t;s++)a*=s,n=Math.floor(i.length*a),n===0?r.unshift([o[0]*a+i[n][0]*(1-a),o[1]*a+i[n][1]*(1-a)]):r.splice(n,0,[o[0]*a+i[n][0]*(1-a),o[1]*a+i[n][1]*(1-a)]);return r}function Os(i){var e=[];switch(i[0]){case"M":e.push([i[1],i[2]]);break;case"L":e.push([i[1],i[2]]);break;case"A":e.push([i[6],i[7]]);break;case"Q":e.push([i[3],i[4]]),e.push([i[1],i[2]]);break;case"T":e.push([i[1],i[2]]);break;case"C":e.push([i[5],i[6]]),e.push([i[1],i[2]]),e.push([i[3],i[4]]);break;case"S":e.push([i[3],i[4]]),e.push([i[1],i[2]]);break;case"H":e.push([i[1],i[1]]);break;case"V":e.push([i[1],i[1]]);break;default:}return e}var ps=function(i,e){if(i.length<=1)return i;for(var t,r=0;r<e.length;r++)if(i[r][0]!==e[r][0])switch(t=Os(i[r]),e[r][0]){case"M":i[r]=["M"].concat(t[0]);break;case"L":i[r]=["L"].concat(t[0]);break;case"A":i[r]=[].concat(e[r]),i[r][6]=t[0][0],i[r][7]=t[0][1];break;case"Q":if(t.length<2)if(r>0)t=pi(t,i[r-1],1);else{i[r]=e[r];break}i[r]=["Q"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;case"T":i[r]=["T"].concat(t[0]);break;case"C":if(t.length<3)if(r>0)t=pi(t,i[r-1],2);else{i[r]=e[r];break}i[r]=["C"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;case"S":if(t.length<2)if(r>0)t=pi(t,i[r-1],1);else{i[r]=e[r];break}i[r]=["S"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;default:i[r]=e[r]}return i},es=function(){function i(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return i.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.propagationStopped=!0},i.prototype.toString=function(){var e=this.type;return"[Event (type="+e+")]"},i.prototype.save=function(){},i.prototype.restore=function(){},i}(),au=es;function xc(i,e){var t=i.indexOf(e);t!==-1&&i.splice(t,1)}var sf=typeof window!="undefined"&&typeof window.document!="undefined";function uf(i,e){if(i.isCanvas())return!0;for(var t=e.getParent(),r=!1;t;){if(t===i){r=!0;break}t=t.getParent()}return r}function Ec(i){return i.cfg.visible&&i.cfg.capture}var rd=function(i){(0,b.__extends)(e,i);function e(t){var r=i.call(this)||this;r.destroyed=!1;var n=r.getDefaultCfg();return r.cfg=(0,f.mix)(n,t),r}return e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,r){this.cfg[t]=r},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(J),wc=rd,Ju=C(734155),lf=function(i,e,t){if(t||arguments.length===2)for(var r=0,n=e.length,a;r<n;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return i.concat(a||Array.prototype.slice.call(e))},Sc=function(){function i(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"}return i}(),cf=function(){function i(e){this.version=e,this.type="node",this.name="node",this.os=Ju.platform}return i}(),nd=function(){function i(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"}return i}(),iu=function(){function i(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return i}(),ff=function(){function i(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return i}(),Yn=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,wu=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ya=3,Mc=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Yn]],Pl=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ou(i){return i?Ll(i):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new ff:typeof navigator!="undefined"?Ll(navigator.userAgent):hf()}function _c(i){return i!==""&&Mc.reduce(function(e,t){var r=t[0],n=t[1];if(e)return e;var a=n.exec(i);return!!a&&[r,a]},!1)}function Cc(i){var e=_c(i);return e?e[0]:null}function Ll(i){var e=_c(i);if(!e)return null;var t=e[0],r=e[1];if(t==="searchbot")return new iu;var n=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);n?n.length<Ya&&(n=lf(lf([],n,!0),gs(Ya-n.length),!0)):n=[];var a=n.join("."),o=df(i),s=wu.exec(i);return s&&s[1]?new nd(t,a,o,s[1]):new Sc(t,a,o)}function df(i){for(var e=0,t=Pl.length;e<t;e++){var r=Pl[e],n=r[0],a=r[1],o=a.exec(i);if(o)return n}return null}function hf(){var i=typeof Ju!="undefined"&&Ju.version;return i?new cf(Ju.version.slice(1)):null}function gs(i){for(var e=[],t=0;t<i;t++)e.push("0");return e}function Tc(i,e){var t=[],r=i[0],n=i[1],a=i[2],o=i[3],s=i[4],u=i[5],l=i[6],c=i[7],d=i[8],A=e[0],I=e[1],F=e[2],Z=e[3],rt=e[4],lt=e[5],ct=e[6],pt=e[7],_t=e[8];return t[0]=A*r+I*o+F*l,t[1]=A*n+I*s+F*c,t[2]=A*a+I*u+F*d,t[3]=Z*r+rt*o+lt*l,t[4]=Z*n+rt*s+lt*c,t[5]=Z*a+rt*u+lt*d,t[6]=ct*r+pt*o+_t*l,t[7]=ct*n+pt*s+_t*c,t[8]=ct*a+pt*u+_t*d,t}function Ws(i,e){var t=[],r=e[0],n=e[1];return t[0]=i[0]*r+i[3]*n+i[6],t[1]=i[1]*r+i[4]*n+i[7],t}function po(i){var e=[],t=i[0],r=i[1],n=i[2],a=i[3],o=i[4],s=i[5],u=i[6],l=i[7],c=i[8],d=c*o-s*l,A=-c*a+s*u,I=l*a-o*u,F=t*d+r*A+n*I;return F?(F=1/F,e[0]=d*F,e[1]=(-c*r+n*l)*F,e[2]=(s*r-n*o)*F,e[3]=A*F,e[4]=(c*t-n*u)*F,e[5]=(-s*t+n*a)*F,e[6]=I*F,e[7]=(-l*t+r*u)*F,e[8]=(o*t-r*a)*F,e):null}var Ys=ft,Is="matrix",Nl=["zIndex","capture","visible","type"],Ac=["repeat"],vf=":",pf="*";function gf(i){for(var e=[],t=0;t<i.length;t++)(0,f.isArray)(i[t])?e.push([].concat(i[t])):e.push(i[t]);return e}function Rl(i,e){var t={},r=e.attrs;for(var n in i)t[n]=r[n];return t}function mf(i,e){var t={},r=e.attr();return(0,f.each)(i,function(n,a){Ac.indexOf(a)===-1&&!(0,f.isEqual)(r[a],n)&&(t[a]=n)}),t}function kl(i,e){if(e.onFrame)return i;var t=e.startTime,r=e.delay,n=e.duration,a=Object.prototype.hasOwnProperty;return(0,f.each)(i,function(o){t+r<o.startTime+o.delay+o.duration&&n>o.delay&&(0,f.each)(e.toAttrs,function(s,u){a.call(o.toAttrs,u)&&(delete o.toAttrs[u],delete o.fromAttrs[u])})}),i}var yf=function(i){(0,b.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.attrs={};var n=r.getDefaultAttrs();return(0,f.mix)(n,t.attrs),r.attrs=n,r.initAttrs(n),r.initAnimate(),r}return e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=r[0],o=r[1];if(!a)return this.attrs;if((0,f.isObject)(a)){for(var s in a)this.setAttr(s,a[s]);return this.afterAttrsChange(a),this}return r.length===2?(this.setAttr(a,o),this.afterAttrsChange((t={},t[a]=o,t)),this):this.attrs[a]},e.prototype.isClipped=function(t,r){var n=this.getClip();return n&&!n.isHit(t,r)},e.prototype.setAttr=function(t,r){var n=this.attrs[t];n!==r&&(this.attrs[t]=r,this.onAttrChange(t,r,n))},e.prototype.onAttrChange=function(t,r,n){t==="matrix"&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var r=this.cfg.applyTo;r&&r.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var r=this.getParent();return r&&r.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var r=t.getChildren(),n=this.get("el"),a=r.indexOf(this);r.splice(a,1),r.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var r=t.getChildren(),n=this.get("el"),a=r.indexOf(this);r.splice(a,1),r.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){t===void 0&&(t=!0);var r=this.getParent();r?(xc(r.getChildren(),this),r.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(Is,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(Is)},e.prototype.setMatrix=function(t){this.attr(Is,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var r=this.attr("matrix"),n=this.cfg.parentMatrix;n&&r?t=Tc(n,r):t=r||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var r=this.attr("matrix"),n=null;t&&r?n=Tc(t,r):n=r||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var r=this.attr("matrix");return r?Ws(r,t):t},e.prototype.invertFromMatrix=function(t){var r=this.attr("matrix");if(r){var n=po(r);if(n)return Ws(n,t)}return t},e.prototype.setClip=function(t){var r=this.getCanvas(),n=null;if(t){var a=this.getShapeBase(),o=(0,f.upperFirst)(t.type),s=a[o];s&&(n=new s({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:r}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,r=this.attrs,n={};(0,f.each)(r,function(s,u){(0,f.isArray)(r[u])?n[u]=gf(r[u]):n[u]=r[u]});var a=this.constructor,o=new a({attrs:n});return(0,f.each)(Nl,function(s){o.set(s,t.get(s))}),o},e.prototype.destroy=function(){var t=this.destroyed;t||(this.attrs={},i.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var a=this.get("animations")||[];n.timer||n.initTimer();var o=t[0],s=t[1],u=t[2],l=u===void 0?"easeLinear":u,c=t[3],d=c===void 0?f.noop:c,A=t[4],I=A===void 0?0:A,F,Z,rt,lt,ct;(0,f.isFunction)(o)?(F=o,o={}):(0,f.isObject)(o)&&o.onFrame&&(F=o.onFrame,Z=o.repeat),(0,f.isObject)(s)?(ct=s,s=ct.duration,l=ct.easing||"easeLinear",I=ct.delay||0,Z=ct.repeat||Z||!1,d=ct.callback||f.noop,rt=ct.pauseCallback||f.noop,lt=ct.resumeCallback||f.noop):((0,f.isNumber)(d)&&(I=d,d=null),(0,f.isFunction)(l)?(d=l,l="easeLinear"):l=l||"easeLinear");var pt=mf(o,this),_t={fromAttrs:Rl(pt,this),toAttrs:pt,duration:s,easing:l,repeat:Z,callback:d,pauseCallback:rt,resumeCallback:lt,delay:I,startTime:n.getTime(),id:(0,f.uniqueId)(),onFrame:F,pathFormatted:!1};a.length>0?a=kl(a,_t):n.addAnimator(this),a.push(_t),this.set("animations",a),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var r=this;t===void 0&&(t=!0);var n=this.get("animations");(0,f.each)(n,function(a){t&&(a.onFrame?r.attr(a.onFrame(1)):r.attr(a.toAttrs)),a.callback&&a.callback()}),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),r=this.get("animations"),n=t.getTime();return(0,f.each)(r,function(a){a._paused=!0,a._pauseTime=n,a.pauseCallback&&a.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline"),r=t.getTime(),n=this.get("animations"),a=this.get("_pause").pauseTime;return(0,f.each)(n,function(o){o.startTime=o.startTime+(r-a),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",n),this},e.prototype.emitDelegation=function(t,r){var n=this,a=r.propagationPath,o=this.getEvents(),s;t==="mouseenter"?s=r.fromShape:t==="mouseleave"&&(s=r.toShape);for(var u=function(A){var I=a[A],F=I.get("name");if(F){if((I.isGroup()||I.isCanvas&&I.isCanvas())&&s&&uf(I,s))return"break";(0,f.isArray)(F)?(0,f.each)(F,function(Z){n.emitDelegateEvent(I,Z,r)}):l.emitDelegateEvent(I,F,r)}},l=this,c=0;c<a.length;c++){var d=u(c);if(d==="break")break}},e.prototype.emitDelegateEvent=function(t,r,n){var a=this.getEvents(),o=r+vf+n.type;(a[o]||a[pf])&&(n.name=o,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(o,n))},e.prototype.translate=function(t,r){t===void 0&&(t=0),r===void 0&&(r=0);var n=this.getMatrix(),a=Ys(n,[["t",t,r]]);return this.setMatrix(a),this},e.prototype.move=function(t,r){var n=this.attr("x")||0,a=this.attr("y")||0;return this.translate(t-n,r-a),this},e.prototype.moveTo=function(t,r){return this.move(t,r)},e.prototype.scale=function(t,r){var n=this.getMatrix(),a=Ys(n,[["s",t,r||t]]);return this.setMatrix(a),this},e.prototype.rotate=function(t){var r=this.getMatrix(),n=Ys(r,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var r=this.attr(),n=r.x,a=r.y,o=this.getMatrix(),s=Ys(o,[["t",-n,-a],["r",t],["t",n,a]]);return this.setMatrix(s),this},e.prototype.rotateAtPoint=function(t,r,n){var a=this.getMatrix(),o=Ys(a,[["t",-t,-r],["r",n],["t",t,r]]);return this.setMatrix(o),this},e}(wc),Oc=yf,tl={},Ic="_INDEX";function os(i,e){if(i.set("canvas",e),i.isGroup()){var t=i.get("children");t.length&&t.forEach(function(r){os(r,e)})}}function Dc(i,e){if(i.set("timeline",e),i.isGroup()){var t=i.get("children");t.length&&t.forEach(function(r){Dc(r,e)})}}function el(i,e){var t=i.getChildren();return t.indexOf(e)>=0}function bf(i,e,t){t===void 0&&(t=!0),t?e.destroy():(e.set("parent",null),e.set("canvas",null)),xc(i.getChildren(),e)}function ad(i){return function(e,t){var r=i(e,t);return r===0?e[Ic]-t[Ic]:r}}var Pc=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,r=-1/0,n=1/0,a=-1/0,o=[],s=[],u=this.getChildren().filter(function(c){return c.get("visible")&&(!c.isGroup()||c.isGroup()&&c.getChildren().length>0)});u.length>0?((0,f.each)(u,function(c){var d=c.getBBox();o.push(d.minX,d.maxX),s.push(d.minY,d.maxY)}),t=(0,f.min)(o),r=(0,f.max)(o),n=(0,f.min)(s),a=(0,f.max)(s)):(t=0,r=0,n=0,a=0);var l={x:t,y:n,minX:t,minY:n,maxX:r,maxY:a,width:r-t,height:a-n};return l},e.prototype.getCanvasBBox=function(){var t=1/0,r=-1/0,n=1/0,a=-1/0,o=[],s=[],u=this.getChildren().filter(function(c){return c.get("visible")&&(!c.isGroup()||c.isGroup()&&c.getChildren().length>0)});u.length>0?((0,f.each)(u,function(c){var d=c.getCanvasBBox();o.push(d.minX,d.maxX),s.push(d.minY,d.maxY)}),t=(0,f.min)(o),r=(0,f.max)(o),n=(0,f.min)(s),a=(0,f.max)(s)):(t=0,r=0,n=0,a=0);var l={x:t,y:n,minX:t,minY:n,maxX:r,maxY:a,width:r-t,height:a-n};return l},e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.children=[],t},e.prototype.onAttrChange=function(t,r,n){if(i.prototype.onAttrChange.call(this,t,r,n),t==="matrix"){var a=this.getTotalMatrix();this._applyChildrenMarix(a)}},e.prototype.applyMatrix=function(t){var r=this.getTotalMatrix();i.prototype.applyMatrix.call(this,t);var n=this.getTotalMatrix();n!==r&&this._applyChildrenMarix(n)},e.prototype._applyChildrenMarix=function(t){var r=this.getChildren();(0,f.each)(r,function(n){n.applyMatrix(t)})},e.prototype.addShape=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=t[1];(0,f.isObject)(n)?a=n:a.type=n;var o=tl[a.type];o||(o=(0,f.upperFirst)(a.type),tl[a.type]=o);var s=this.getShapeBase(),u=new s[o](a);return this.add(u),u},e.prototype.addGroup=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=t[1],o;if((0,f.isFunction)(n))a?o=new n(a):o=new n({parent:this});else{var s=n||{},u=this.getGroupBase();o=new u(s)}return this.add(o),o},e.prototype.getCanvas=function(){var t;return this.isCanvas()?t=this:t=this.get("canvas"),t},e.prototype.getShape=function(t,r,n){if(!Ec(this))return null;var a=this.getChildren(),o;if(this.isCanvas())o=this._findShape(a,t,r,n);else{var s=[t,r,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(a,s[0],s[1],n))}return o},e.prototype._findShape=function(t,r,n,a){for(var o=null,s=t.length-1;s>=0;s--){var u=t[s];if(Ec(u)&&(u.isGroup()?o=u.getShape(r,n,a):u.isHit(r,n)&&(o=u)),o)break}return o},e.prototype.add=function(t){var r=this.getCanvas(),n=this.getChildren(),a=this.get("timeline"),o=t.getParent();o&&bf(o,t,!1),t.set("parent",this),r&&os(t,r),a&&Dc(t,a),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var r=this.getTotalMatrix();r&&t.applyMatrix(r)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t=this.getChildren();(0,f.each)(t,function(r,n){return r[Ic]=n,r}),t.sort(ad(function(r,n){return r.get("zIndex")-n.get("zIndex")})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),r=t.length-1;r>=0;r--)t[r].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),i.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){var r=this.getChildren();return r[t]},e.prototype.getCount=function(){var t=this.getChildren();return t.length},e.prototype.contain=function(t){var r=this.getChildren();return r.indexOf(t)>-1},e.prototype.removeChild=function(t,r){r===void 0&&(r=!0),this.contain(t)&&t.remove(r)},e.prototype.findAll=function(t){var r=[],n=this.getChildren();return(0,f.each)(n,function(a){t(a)&&r.push(a),a.isGroup()&&(r=r.concat(a.findAll(t)))}),r},e.prototype.find=function(t){var r=null,n=this.getChildren();return(0,f.each)(n,function(a){if(t(a)?r=a:a.isGroup()&&(r=a.find(t)),r)return!1}),r},e.prototype.findById=function(t){return this.find(function(r){return r.get("id")===t})},e.prototype.findByClassName=function(t){return this.find(function(r){return r.get("className")===t})},e.prototype.findAllByName=function(t){return this.findAll(function(r){return r.get("name")===t})},e}(Oc),rl=Pc,id=C(235374),Lc=C(918698);function Nc(i,e,t){i.prototype=e.prototype=t,t.constructor=i}function xf(i,e){var t=Object.create(i.prototype);for(var r in e)t[r]=e[r];return t}function nl(){}var Su=.7,su=1/Su,Mu="\\s*([+-]?\\d+)\\s*",al="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ef=/^#([0-9a-f]{3,8})$/,_u=new RegExp("^rgb\\(".concat(Mu,",").concat(Mu,",").concat(Mu,"\\)$")),od=new RegExp("^rgb\\(".concat(Ss,",").concat(Ss,",").concat(Ss,"\\)$")),sd=new RegExp("^rgba\\(".concat(Mu,",").concat(Mu,",").concat(Mu,",").concat(al,"\\)$")),Bl=new RegExp("^rgba\\(".concat(Ss,",").concat(Ss,",").concat(Ss,",").concat(al,"\\)$")),Rc=new RegExp("^hsl\\(".concat(al,",").concat(Ss,",").concat(Ss,"\\)$")),ud=new RegExp("^hsla\\(".concat(al,",").concat(Ss,",").concat(Ss,",").concat(al,"\\)$")),il={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nc(nl,ol,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:wf,formatHex:wf,formatHex8:ld,formatHsl:Sf,formatRgb:Mf,toString:Mf});function wf(){return this.rgb().formatHex()}function ld(){return this.rgb().formatHex8()}function Sf(){return Ul(this).formatHsl()}function Mf(){return this.rgb().formatRgb()}function ol(i){var e,t;return i=(i+"").trim().toLowerCase(),(e=Ef.exec(i))?(t=e[1].length,e=parseInt(e[1],16),t===6?Cu(e):t===3?new To(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Tu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Tu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_u.exec(i))?new To(e[1],e[2],e[3],1):(e=od.exec(i))?new To(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sd.exec(i))?Tu(e[1],e[2],e[3],e[4]):(e=Bl.exec(i))?Tu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Rc.exec(i))?Gl(e[1],e[2]/100,e[3]/100,1):(e=ud.exec(i))?Gl(e[1],e[2]/100,e[3]/100,e[4]):il.hasOwnProperty(i)?Cu(il[i]):i==="transparent"?new To(NaN,NaN,NaN,0):null}function Cu(i){return new To(i>>16&255,i>>8&255,i&255,1)}function Tu(i,e,t,r){return r<=0&&(i=e=t=NaN),new To(i,e,t,r)}function Fl(i){return i instanceof nl||(i=ol(i)),i?(i=i.rgb(),new To(i.r,i.g,i.b,i.opacity)):new To}function zl(i,e,t,r){return arguments.length===1?Fl(i):new To(i,e,t,r==null?1:r)}function To(i,e,t,r){this.r=+i,this.g=+e,this.b=+t,this.opacity=+r}Nc(To,zl,xf(nl,{brighter:function(e){return e=e==null?su:Math.pow(su,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Su:Math.pow(Su,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new To(ss(this.r),ss(this.g),ss(this.b),sl(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uu,formatHex:uu,formatHex8:_f,formatRgb:lu,toString:lu}));function uu(){return"#".concat(Ds(this.r)).concat(Ds(this.g)).concat(Ds(this.b))}function _f(){return"#".concat(Ds(this.r)).concat(Ds(this.g)).concat(Ds(this.b)).concat(Ds((isNaN(this.opacity)?1:this.opacity)*255))}function lu(){var i=sl(this.opacity);return"".concat(i===1?"rgb(":"rgba(").concat(ss(this.r),", ").concat(ss(this.g),", ").concat(ss(this.b)).concat(i===1?")":", ".concat(i,")"))}function sl(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function ss(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function Ds(i){return i=ss(i),(i<16?"0":"")+i.toString(16)}function Gl(i,e,t,r){return r<=0?i=e=t=NaN:t<=0||t>=1?i=e=NaN:e<=0&&(i=NaN),new rs(i,e,t,r)}function Ul(i){if(i instanceof rs)return new rs(i.h,i.s,i.l,i.opacity);if(i instanceof nl||(i=ol(i)),!i)return new rs;if(i instanceof rs)return i;i=i.rgb();var e=i.r/255,t=i.g/255,r=i.b/255,n=Math.min(e,t,r),a=Math.max(e,t,r),o=NaN,s=a-n,u=(a+n)/2;return s?(e===a?o=(t-r)/s+(t<r)*6:t===a?o=(r-e)/s+2:o=(e-t)/s+4,s/=u<.5?a+n:2-a-n,o*=60):s=u>0&&u<1?0:o,new rs(o,s,u,i.opacity)}function kc(i,e,t,r){return arguments.length===1?Ul(i):new rs(i,e,t,r==null?1:r)}function rs(i,e,t,r){this.h=+i,this.s=+e,this.l=+t,this.opacity=+r}Nc(rs,kc,xf(nl,{brighter:function(e){return e=e==null?su:Math.pow(su,e),new rs(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Su:Math.pow(Su,e),new rs(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new To(Wl(e>=240?e-240:e+120,a,n),Wl(e,a,n),Wl(e<120?e+240:e-120,a,n),this.opacity)},clamp:function(){return new rs(ul(this.h),ll(this.s),ll(this.l),sl(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=sl(this.opacity);return"".concat(e===1?"hsl(":"hsla(").concat(ul(this.h),", ").concat(ll(this.s)*100,"%, ").concat(ll(this.l)*100,"%").concat(e===1?")":", ".concat(e,")"))}}));function ul(i){return i=(i||0)%360,i<0?i+360:i}function ll(i){return Math.max(0,Math.min(1,i||0))}function Wl(i,e,t){return(i<60?e+(t-e)*i/60:i<180?t:i<240?e+(t-e)*(240-i)/60:e)*255}function Bc(i,e,t,r,n){var a=i*i,o=a*i;return((1-3*i+3*a-o)*e+(4-6*a+3*o)*t+(1+3*i+3*a-3*o)*r+o*n)/6}function Cf(i){var e=i.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),n=i[r],a=i[r+1],o=r>0?i[r-1]:2*n-a,s=r<e-1?i[r+2]:2*a-n;return Bc((t-r/e)*e,o,n,a,s)}}function Tf(i){var e=i.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*e),n=i[(r+e-1)%e],a=i[r%e],o=i[(r+1)%e],s=i[(r+2)%e];return Bc((t-r/e)*e,n,a,o,s)}}var cl=function(i){return function(){return i}};function Yl(i,e){return function(t){return i+t*e}}function Af(i,e,t){return i=Math.pow(i,t),e=Math.pow(e,t)-i,t=1/t,function(r){return Math.pow(i+r*e,t)}}function cd(i,e){var t=e-i;return t?Yl(i,t>180||t<-180?t-360*Math.round(t/360):t):constant(isNaN(i)?e:i)}function Of(i){return(i=+i)==1?Au:function(e,t){return t-e?Af(e,t,i):cl(isNaN(e)?t:e)}}function Au(i,e){var t=e-i;return t?Yl(i,t):cl(isNaN(i)?e:i)}var Xl=function i(e){var t=Of(e);function r(n,a){var o=t((n=zl(n)).r,(a=zl(a)).r),s=t(n.g,a.g),u=t(n.b,a.b),l=Au(n.opacity,a.opacity);return function(c){return n.r=o(c),n.g=s(c),n.b=u(c),n.opacity=l(c),n+""}}return r.gamma=i,r}(1);function $e(i){return function(e){var t=e.length,r=new Array(t),n=new Array(t),a=new Array(t),o,s;for(o=0;o<t;++o)s=zl(e[o]),r[o]=s.r||0,n[o]=s.g||0,a[o]=s.b||0;return r=i(r),n=i(n),a=i(a),s.opacity=1,function(u){return s.r=r(u),s.g=n(u),s.b=a(u),s+""}}}var fd=$e(Cf),fl=$e(Tf);function dl(i,e){e||(e=[]);var t=i?Math.min(e.length,i.length):0,r=e.slice(),n;return function(a){for(n=0;n<t;++n)r[n]=i[n]*(1-a)+e[n]*a;return r}}function Fc(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function zc(i,e){return(Fc(e)?dl:Gc)(i,e)}function Gc(i,e){var t=e?e.length:0,r=i?Math.min(t,i.length):0,n=new Array(r),a=new Array(t),o;for(o=0;o<r;++o)n[o]=Xs(i[o],e[o]);for(;o<t;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=n[o](s);return a}}function If(i,e){var t=new Date;return i=+i,e=+e,function(r){return t.setTime(i*(1-r)+e*r),t}}function cu(i,e){return i=+i,e=+e,function(t){return i*(1-t)+e*t}}function jl(i,e){var t={},r={},n;(i===null||Lc(i)!=="object")&&(i={}),(e===null||Lc(e)!=="object")&&(e={});for(n in e)n in i?t[n]=Xs(i[n],e[n]):r[n]=e[n];return function(a){for(n in t)r[n]=t[n](a);return r}}var hl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ou=new RegExp(hl.source,"g");function So(i){return function(){return i}}function Iu(i){return function(e){return i(e)+""}}function Uc(i,e){var t=hl.lastIndex=Ou.lastIndex=0,r,n,a,o=-1,s=[],u=[];for(i=i+"",e=e+"";(r=hl.exec(i))&&(n=Ou.exec(e));)(a=n.index)>t&&(a=e.slice(t,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,u.push({i:o,x:cu(r,n)})),t=Ou.lastIndex;return t<e.length&&(a=e.slice(t),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?Iu(u[0].x):So(e):(e=u.length,function(l){for(var c=0,d;c<e;++c)s[(d=u[c]).i]=d.x(l);return s.join("")})}function Xs(i,e){var t=Lc(e),r;return e==null||t==="boolean"?cl(e):(t==="number"?cu:t==="string"?(r=ol(e))?(e=r,Xl):Uc:e instanceof ol?Xl:e instanceof Date?If:Fc(e)?dl:Array.isArray(e)?Gc:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?jl:cu)(i,e)}function Ms(i){return+i}function Du(i){return i*i}function fu(i){return i*(2-i)}function Ps(i){return((i*=2)<=1?i*i:--i*(2-i)+1)/2}function Pu(i){return i*i*i}function du(i){return--i*i*i+1}function js(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var Ls=3,Vl=function i(e){e=+e;function t(r){return Math.pow(r,e)}return t.exponent=i,t}(Ls),Hl=function i(e){e=+e;function t(r){return 1-Math.pow(1-r,e)}return t.exponent=i,t}(Ls),Lu=function i(e){e=+e;function t(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return t.exponent=i,t}(Ls),Zl=Math.PI,Kl=Zl/2;function Nu(i){return+i==1?1:1-Math.cos(i*Kl)}function us(i){return Math.sin(i*Kl)}function $l(i){return(1-Math.cos(Zl*i))/2}function Ns(i){return(Math.pow(2,-10*i)-.0009765625)*1.0009775171065494}function Ql(i){return Ns(1-+i)}function Wc(i){return 1-Ns(i)}function ql(i){return((i*=2)<=1?Ns(1-i):2-Ns(i-1))/2}function Df(i){return 1-Math.sqrt(1-i*i)}function hu(i){return Math.sqrt(1- --i*i)}function Yc(i){return((i*=2)<=1?1-Math.sqrt(1-i*i):Math.sqrt(1-(i-=2)*i)+1)/2}var Jl=4/11,dd=6/11,Pf=8/11,Lf=3/4,hd=9/11,Nf=10/11,Rf=15/16,vd=21/22,kf=63/64,vl=1/Jl/Jl;function Bf(i){return 1-Ru(1-i)}function Ru(i){return(i=+i)<Jl?vl*i*i:i<Pf?vl*(i-=dd)*i+Lf:i<Nf?vl*(i-=hd)*i+Rf:vl*(i-=vd)*i+kf}function Xc(i){return((i*=2)<=1?1-Ru(1-i):Ru(i-1)+1)/2}var vu=1.70158,tc=function i(e){e=+e;function t(r){return(r=+r)*r*(e*(r-1)+r)}return t.overshoot=i,t}(vu),ec=function i(e){e=+e;function t(r){return--r*r*((r+1)*e+r)+1}return t.overshoot=i,t}(vu),pl=function i(e){e=+e;function t(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return t.overshoot=i,t}(vu),Vs=2*Math.PI,ku=1,Bu=.3,gl=function i(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=Vs);function n(a){return e*Ns(- --a)*Math.sin((r-a)/t)}return n.amplitude=function(a){return i(a,t*Vs)},n.period=function(a){return i(e,a)},n}(ku,Bu),rc=function i(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=Vs);function n(a){return 1-e*Ns(a=+a)*Math.sin((a+r)/t)}return n.amplitude=function(a){return i(a,t*Vs)},n.period=function(a){return i(e,a)},n}(ku,Bu),nc=function i(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=Vs);function n(a){return((a=a*2-1)<0?e*Ns(-a)*Math.sin((r-a)/t):2-e*Ns(a)*Math.sin((r+a)/t))/2}return n.amplitude=function(a){return i(a,t*Vs)},n.period=function(a){return i(e,a)},n}(ku,Bu),ml={};function ac(i){return ml[i.toLowerCase()]||L[i]}function ic(i,e){ml[i.toLowerCase()]=e}var yl=function(i){return["fill","stroke","fillStyle","strokeStyle"].includes(i)},Fu=function(i){return/^[r,R,L,l]{1}[\s]*\(/.test(i)},zu=[1,0,0,0,1,0,0,0,1];function Gu(i,e,t){var r={},n=e.fromAttrs,a=e.toAttrs;if(!i.destroyed){var o;for(var s in a)if(!(0,f.isEqual)(n[s],a[s]))if(s==="path"){var u=a[s],l=n[s];u.length>l.length?(u=h(a[s]),l=h(n[s]),l=Wa(l,u),l=ps(l,u),e.fromAttrs.path=l,e.toAttrs.path=u):e.pathFormatted||(u=h(a[s]),l=h(n[s]),l=ps(l,u),e.fromAttrs.path=l,e.toAttrs.path=u,e.pathFormatted=!0),r[s]=[];for(var c=0;c<u.length;c++){for(var d=u[c],A=l[c],I=[],F=0;F<d.length;F++)(0,f.isNumber)(d[F])&&A&&(0,f.isNumber)(A[F])?(o=Xs(A[F],d[F]),I.push(o(t))):I.push(d[F]);r[s].push(I)}}else if(s==="matrix"){var Z=zc(n[s]||zu,a[s]||zu),rt=Z(t);r[s]=rt}else yl(s)&&Fu(a[s])?r[s]=a[s]:(0,f.isFunction)(a[s])||(o=Xs(n[s],a[s]),r[s]=o(t));i.attr(r)}}function Ff(i,e,t){var r=e.startTime,n=e.delay;if(t<r+n||e._paused)return!1;var a,o=e.duration,s=e.easing,u=ac(s);if(t=t-r-e.delay,e.repeat)a=t%o/o,a=u(a);else if(a=t/o,a<1)a=u(a);else return e.onFrame?i.attr(e.onFrame(1)):i.attr(e.toAttrs),!0;if(e.onFrame){var l=e.onFrame(a);i.attr(l)}else Gu(i,e,a);return!1}var bl=function(){function i(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return i.prototype.initTimer=function(){var e=this,t=!1,r,n,a;this.timer=id.HT(function(o){if(e.current=o,e.animators.length>0){for(var s=e.animators.length-1;s>=0;s--){if(r=e.animators[s],r.destroyed){e.removeAnimator(s);continue}if(!r.isAnimatePaused()){n=r.get("animations");for(var u=n.length-1;u>=0;u--)a=n[u],t=Ff(r,a,o),t&&(n.splice(u,1),t=!1,a.callback&&a.callback())}n.length===0&&e.removeAnimator(s)}var l=e.canvas.get("autoDraw");l||e.canvas.draw()}})},i.prototype.addAnimator=function(e){this.animators.push(e)},i.prototype.removeAnimator=function(e){this.animators.splice(e,1)},i.prototype.isAnimating=function(){return!!this.animators.length},i.prototype.stop=function(){this.timer&&this.timer.stop()},i.prototype.stopAllAnimations=function(e){e===void 0&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},i.prototype.getTime=function(){return this.current},i}(),pu=bl,zf=40,xl=0,pd=":",Gf=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Ud(i,e){for(var t in i)if(i.hasOwnProperty(t)&&t.indexOf(pd+e)>=0)return!0;return!1}function Rs(i,e,t){t.name=e,t.target=i,t.currentTarget=i,t.delegateTarget=i,i.emit(e,t)}function Uf(i,e,t){if(t.bubbles){var r=void 0,n=!1;if(e==="mouseenter"?(r=t.fromShape,n=!0):e==="mouseleave"&&(n=!0,r=t.toShape),i.isCanvas()&&n)return;if(r&&uf(i,r)){t.bubbles=!1;return}t.name=e,t.currentTarget=i,t.delegateTarget=i,i.emit(e,t)}}var Wf=function(){function i(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(r){var n=r.type;t._triggerEvent(n,r)},this._onDocumentMove=function(r){var n=t.canvas,a=n.get("el");if(a!==r.target&&(t.dragging||t.currentShape)){var o=t._getPointInfo(r);t.dragging&&t._emitEvent("drag",r,o,t.draggingShape)}},this._onDocumentMouseUp=function(r){var n=t.canvas,a=n.get("el");if(a!==r.target&&t.dragging){var o=t._getPointInfo(r);t.draggingShape&&t._emitEvent("drop",r,o,null),t._emitEvent("dragend",r,o,t.draggingShape),t._afterDrag(t.draggingShape,o,r)}},this.canvas=e.canvas}return i.prototype.init=function(){this._bindEvents()},i.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");(0,f.each)(Gf,function(r){t.addEventListener(r,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},i.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");(0,f.each)(Gf,function(r){t.removeEventListener(r,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},i.prototype._getEventObj=function(e,t,r,n,a,o){var s=new au(e,t);return s.fromShape=a,s.toShape=o,s.x=r.x,s.y=r.y,s.clientX=r.clientX,s.clientY=r.clientY,s.propagationPath.push(n),s},i.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},i.prototype._getPointInfo=function(e){var t=this.canvas,r=t.getClientByEvent(e),n=t.getPointByEvent(e);return{x:n.x,y:n.y,clientX:r.x,clientY:r.y}},i.prototype._triggerEvent=function(e,t){var r=this._getPointInfo(t),n=this._getShape(r,t),a=this["_on"+e],o=!1;if(a)a.call(this,r,n,t);else{var s=this.currentShape;e==="mouseenter"||e==="dragenter"||e==="mouseover"?(this._emitEvent(e,t,r,null,null,n),n&&this._emitEvent(e,t,r,n,null,n),e==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",t,r,null)):e==="mouseleave"||e==="dragleave"||e==="mouseout"?(o=!0,s&&this._emitEvent(e,t,r,s,s,null),this._emitEvent(e,t,r,null,s,null),e==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",t,r,null)):this._emitEvent(e,t,r,n,null,null)}if(o||(this.currentShape=n),n&&!n.get("destroyed")){var u=this.canvas,l=u.get("el");l.style.cursor=n.attr("cursor")||u.get("cursor")}},i.prototype._onmousedown=function(e,t,r){r.button===xl&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=r.timeStamp),this._emitEvent("mousedown",r,e,t,null,null)},i.prototype._emitMouseoverEvents=function(e,t,r,n){var a=this.canvas.get("el");r!==n&&(r&&(this._emitEvent("mouseout",e,t,r,r,n),this._emitEvent("mouseleave",e,t,r,r,n),(!n||n.get("destroyed"))&&(a.style.cursor=this.canvas.get("cursor"))),n&&(this._emitEvent("mouseover",e,t,n,r,n),this._emitEvent("mouseenter",e,t,n,r,n)))},i.prototype._emitDragoverEvents=function(e,t,r,n,a){n?(n!==r&&(r&&this._emitEvent("dragleave",e,t,r,r,n),this._emitEvent("dragenter",e,t,n,r,n)),a||this._emitEvent("dragover",e,t,n)):r&&this._emitEvent("dragleave",e,t,r,r,n),a&&this._emitEvent("dragover",e,t,n)},i.prototype._afterDrag=function(e,t,r){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var n=this._getShape(t,r);n!==e&&this._emitMouseoverEvents(r,t,e,n),this.currentShape=n},i.prototype._onmouseup=function(e,t,r){if(r.button===xl){var n=this.draggingShape;this.dragging?(n&&this._emitEvent("drop",r,e,t),this._emitEvent("dragend",r,e,n),this._afterDrag(n,e,r)):(this._emitEvent("mouseup",r,e,t),t===this.mousedownShape&&this._emitEvent("click",r,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},i.prototype._ondragover=function(e,t,r){r.preventDefault();var n=this.currentShape;this._emitDragoverEvents(r,e,n,t,!0)},i.prototype._onmousemove=function(e,t,r){var n=this.canvas,a=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(r,e,a,t,!1),this._emitEvent("drag",r,e,o);else{var s=this.mousedownPoint;if(s){var u=this.mousedownShape,l=r.timeStamp,c=l-this.mousedownTimeStamp,d=s.clientX-e.clientX,A=s.clientY-e.clientY,I=d*d+A*A;c>120||I>zf?u&&u.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",r,e,o),this.mousedownShape=null,this.mousedownPoint=null):!u&&n.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",r,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(r,e,a,t),this._emitEvent("mousemove",r,e,t)):(this._emitMouseoverEvents(r,e,a,t),this._emitEvent("mousemove",r,e,t))}else this._emitMouseoverEvents(r,e,a,t),this._emitEvent("mousemove",r,e,t)}},i.prototype._emitEvent=function(e,t,r,n,a,o){var s=this._getEventObj(e,t,r,n,a,o);if(n){s.shape=n,Rs(n,e,s);for(var u=n.getParent();u;)u.emitDelegation(e,s),s.propagationStopped||Uf(u,e,s),s.propagationPath.push(u),u=u.getParent()}else{var l=this.canvas;Rs(l,e,s)}},i.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},i}(),Yf=Wf,Xf="px",jc=ou(),gd=jc&&jc.name==="firefox",ko=function(i){(0,b.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.initContainer(),r.initDom(),r.initEvents(),r.initTimeline(),r}return e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},e.prototype.initContainer=function(){var t=this.get("container");(0,f.isString)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var r=this.get("container");r.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new Yf({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new pu(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,r){var n=this.get("el");sf&&(n.style.width=t+Xf,n.style.height=r+Xf)},e.prototype.changeSize=function(t,r){this.setDOMSize(t,r),this.set("width",t),this.set("height",r),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var r=this.get("el");sf&&r&&(r.style.cursor=t)},e.prototype.getPointByEvent=function(t){var r=this.get("supportCSSTransform");if(r){if(gd&&!(0,f.isNil)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,f.isNil)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var n=this.getClientByEvent(t),a=n.x,o=n.y;return this.getPointByClient(a,o)},e.prototype.getClientByEvent=function(t){var r=t;return t.touches&&(t.type==="touchend"?r=t.changedTouches[0]:r=t.touches[0]),{x:r.clientX,y:r.clientY}},e.prototype.getPointByClient=function(t,r){var n=this.get("el"),a=n.getBoundingClientRect();return{x:t-a.left,y:r-a.top}},e.prototype.getClientByPoint=function(t,r){var n=this.get("el"),a=n.getBoundingClientRect();return{x:t+a.left,y:r+a.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),i.prototype.destroy.call(this))},e}(rl),Vc=ko,Uu=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var t=i.prototype.clone.call(this),r=this.getChildren(),n=0;n<r.length;n++){var a=r[n];t.add(a.clone())}return t},e}(rl),ks=Uu,jf=function(i){(0,b.__extends)(e,i);function e(t){return i.call(this,t)||this}return e.prototype._isInBBox=function(t,r){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=r&&n.maxY>=r},e.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(t){i.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),r=this.getTotalMatrix(),n=t.minX,a=t.minY,o=t.maxX,s=t.maxY;if(r){var u=Ws(r,[t.minX,t.minY]),l=Ws(r,[t.maxX,t.minY]),c=Ws(r,[t.minX,t.maxY]),d=Ws(r,[t.maxX,t.maxY]);n=Math.min(u[0],l[0],c[0],d[0]),o=Math.max(u[0],l[0],c[0],d[0]),a=Math.min(u[1],l[1],c[1],d[1]),s=Math.max(u[1],l[1],c[1],d[1])}var A=this.attrs;if(A.shadowColor){var I=A.shadowBlur,F=I===void 0?0:I,Z=A.shadowOffsetX,rt=Z===void 0?0:Z,lt=A.shadowOffsetY,ct=lt===void 0?0:lt,pt=n-F+rt,_t=o+F+rt,jt=a-F+ct,oe=s+F+ct;n=Math.min(n,pt),o=Math.max(o,_t),a=Math.min(a,jt),s=Math.max(s,oe)}return{x:n,y:a,minX:n,minY:a,maxX:o,maxY:s,width:o-n,height:s-a}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,r){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,r){var n=this.get("startArrowShape"),a=this.get("endArrowShape"),o=[t,r,1];o=this.invertFromMatrix(o);var s=o[0],u=o[1],l=this._isInBBox(s,u);return this.isOnlyHitBox()?l:!!(l&&!this.isClipped(s,u)&&(this.isInShape(s,u)||n&&n.isHit(s,u)||a&&a.isHit(s,u)))},e}(Oc),oc=jf,El=new Map;function ms(i,e){El.set(i,e)}function Xo(i){return El.get(i)}function Bs(i){var e=i.attr(),t=e.x,r=e.y,n=e.width,a=e.height;return{x:t,y:r,width:n,height:a}}function ao(i){var e=i.attr(),t=e.x,r=e.y,n=e.r;return{x:t-n,y:r-n,width:n*2,height:n*2}}function bi(i,e,t,r){var n=i-t,a=e-r;return Math.sqrt(n*n+a*a)}function gu(i,e){return Math.abs(i-e)<.001}function Wu(i,e){var t=(0,f.min)(i),r=(0,f.min)(e),n=(0,f.max)(i),a=(0,f.max)(e);return{x:t,y:r,width:n-t,height:a-r}}function md(i,e,t,r){return{minX:(0,f.min)([i,t]),maxX:(0,f.max)([i,t]),minY:(0,f.min)([e,r]),maxY:(0,f.max)([e,r])}}function sc(i){return(i+Math.PI*2)%(Math.PI*2)}var Io={box:function(i,e,t,r){return Wu([i,t],[e,r])},length:function(i,e,t,r){return bi(i,e,t,r)},pointAt:function(i,e,t,r,n){return{x:(1-n)*i+n*t,y:(1-n)*e+n*r}},pointDistance:function(i,e,t,r,n,a){var o=(t-i)*(n-i)+(r-e)*(a-e);if(o<0)return bi(i,e,n,a);var s=(t-i)*(t-i)+(r-e)*(r-e);return o>s?bi(t,r,n,a):this.pointToLine(i,e,t,r,n,a)},pointToLine:function(i,e,t,r,n,a){var o=[t-i,r-e];if(Hn.exactEquals(o,[0,0]))return Math.sqrt((n-i)*(n-i)+(a-e)*(a-e));var s=[-o[1],o[0]];Hn.normalize(s,s);var u=[n-i,a-e];return Math.abs(Hn.dot(u,s))},tangentAngle:function(i,e,t,r){return Math.atan2(r-e,t-i)}},Vf=1e-4;function Hf(i,e,t,r,n,a){var o,s=1/0,u=[t,r],l=20;a&&a>200&&(l=a/10);for(var c=1/l,d=c/10,A=0;A<=l;A++){var I=A*c,F=[n.apply(null,i.concat([I])),n.apply(null,e.concat([I]))],Z=bi(u[0],u[1],F[0],F[1]);Z<s&&(o=I,s=Z)}if(o===0)return{x:i[0],y:e[0]};if(o===1){var rt=i.length;return{x:i[rt-1],y:e[rt-1]}}s=1/0;for(var A=0;A<32&&!(d<Vf);A++){var lt=o-d,ct=o+d,F=[n.apply(null,i.concat([lt])),n.apply(null,e.concat([lt]))],Z=bi(u[0],u[1],F[0],F[1]);if(lt>=0&&Z<s)o=lt,s=Z;else{var pt=[n.apply(null,i.concat([ct])),n.apply(null,e.concat([ct]))],_t=bi(u[0],u[1],pt[0],pt[1]);ct<=1&&_t<s?(o=ct,s=_t):d*=.5}}return{x:n.apply(null,i.concat([o])),y:n.apply(null,e.concat([o]))}}function yd(i,e){for(var t=0,r=i.length,n=0;n<r;n++){var a=i[n],o=e[n],s=i[(n+1)%r],u=e[(n+1)%r];t+=bi(a,o,s,u)}return t/2}function Hs(i,e,t,r){var n=1-r;return n*n*i+2*r*n*e+r*r*t}function Zf(i,e,t){var r=i+t-2*e;if(gu(r,0))return[.5];var n=(i-e)/r;return n<=1&&n>=0?[n]:[]}function Hc(i,e,t,r){return 2*(1-r)*(e-i)+2*r*(t-e)}function uc(i,e,t,r,n,a,o){var s=Hs(i,t,n,o),u=Hs(e,r,a,o),l=Io.pointAt(i,e,t,r,o),c=Io.pointAt(t,r,n,a,o);return[[i,e,l.x,l.y,s,u],[s,u,c.x,c.y,n,a]]}function Yu(i,e,t,r,n,a,o){if(o===0)return(bi(i,e,t,r)+bi(t,r,n,a)+bi(i,e,n,a))/2;var s=uc(i,e,t,r,n,a,.5),u=s[0],l=s[1];return u.push(o-1),l.push(o-1),Yu.apply(null,u)+Yu.apply(null,l)}var Zc={box:function(i,e,t,r,n,a){var o=Zf(i,t,n)[0],s=Zf(e,r,a)[0],u=[i,n],l=[e,a];return o!==void 0&&u.push(Hs(i,t,n,o)),s!==void 0&&l.push(Hs(e,r,a,s)),Wu(u,l)},length:function(i,e,t,r,n,a){return Yu(i,e,t,r,n,a,3)},nearestPoint:function(i,e,t,r,n,a,o,s){return Hf([i,t,n],[e,r,a],o,s,Hs)},pointDistance:function(i,e,t,r,n,a,o,s){var u=this.nearestPoint(i,e,t,r,n,a,o,s);return bi(u.x,u.y,o,s)},interpolationAt:Hs,pointAt:function(i,e,t,r,n,a,o){return{x:Hs(i,t,n,o),y:Hs(e,r,a,o)}},divide:function(i,e,t,r,n,a,o){return uc(i,e,t,r,n,a,o)},tangentAngle:function(i,e,t,r,n,a,o){var s=Hc(i,t,n,o),u=Hc(e,r,a,o),l=Math.atan2(u,s);return sc(l)}};function Zs(i,e,t,r,n){var a=1-n;return a*a*a*i+3*e*n*a*a+3*t*n*n*a+r*n*n*n}function Kc(i,e,t,r,n){var a=1-n;return 3*(a*a*(e-i)+2*a*n*(t-e)+n*n*(r-t))}function lc(i,e,t,r){var n=-3*i+9*e-9*t+3*r,a=6*i-12*e+6*t,o=3*e-3*i,s=[],u,l,c;if(gu(n,0))gu(a,0)||(u=-o/a,u>=0&&u<=1&&s.push(u));else{var d=a*a-4*n*o;gu(d,0)?s.push(-a/(2*n)):d>0&&(c=Math.sqrt(d),u=(-a+c)/(2*n),l=(-a-c)/(2*n),u>=0&&u<=1&&s.push(u),l>=0&&l<=1&&s.push(l))}return s}function wl(i,e,t,r,n,a,o,s,u){var l=Zs(i,t,n,o,u),c=Zs(e,r,a,s,u),d=Io.pointAt(i,e,t,r,u),A=Io.pointAt(t,r,n,a,u),I=Io.pointAt(n,a,o,s,u),F=Io.pointAt(d.x,d.y,A.x,A.y,u),Z=Io.pointAt(A.x,A.y,I.x,I.y,u);return[[i,e,d.x,d.y,F.x,F.y,l,c],[l,c,Z.x,Z.y,I.x,I.y,o,s]]}function Lt(i,e,t,r,n,a,o,s,u){if(u===0)return yd([i,t,n,o],[e,r,a,s]);var l=wl(i,e,t,r,n,a,o,s,.5),c=l[0],d=l[1];return c.push(u-1),d.push(u-1),Lt.apply(null,c)+Lt.apply(null,d)}var we={extrema:lc,box:function(i,e,t,r,n,a,o,s){for(var u=[i,o],l=[e,s],c=lc(i,t,n,o),d=lc(e,r,a,s),A=0;A<c.length;A++)u.push(Zs(i,t,n,o,c[A]));for(var A=0;A<d.length;A++)l.push(Zs(e,r,a,s,d[A]));return Wu(u,l)},length:function(i,e,t,r,n,a,o,s){return Lt(i,e,t,r,n,a,o,s,3)},nearestPoint:function(i,e,t,r,n,a,o,s,u,l,c){return Hf([i,t,n,o],[e,r,a,s],u,l,Zs,c)},pointDistance:function(i,e,t,r,n,a,o,s,u,l,c){var d=this.nearestPoint(i,e,t,r,n,a,o,s,u,l,c);return bi(d.x,d.y,u,l)},interpolationAt:Zs,pointAt:function(i,e,t,r,n,a,o,s,u){return{x:Zs(i,t,n,o,u),y:Zs(e,r,a,s,u)}},divide:function(i,e,t,r,n,a,o,s,u){return wl(i,e,t,r,n,a,o,s,u)},tangentAngle:function(i,e,t,r,n,a,o,s,u){var l=Kc(i,t,n,o,u),c=Kc(e,r,a,s,u);return sc(Math.atan2(c,l))}};function Ge(i,e){var t=Math.abs(i);return e>0?t:t*-1}var Pr={box:function(i,e,t,r){return{x:i-t,y:e-r,width:t*2,height:r*2}},length:function(i,e,t,r){return Math.PI*(3*(t+r)-Math.sqrt((3*t+r)*(t+3*r)))},nearestPoint:function(i,e,t,r,n,a){var o=t,s=r;if(o===0||s===0)return{x:i,y:e};for(var u=n-i,l=a-e,c=Math.abs(u),d=Math.abs(l),A=o*o,I=s*s,F=Math.PI/4,Z,rt,lt=0;lt<4;lt++){Z=o*Math.cos(F),rt=s*Math.sin(F);var ct=(A-I)*Math.pow(Math.cos(F),3)/o,pt=(I-A)*Math.pow(Math.sin(F),3)/s,_t=Z-ct,jt=rt-pt,oe=c-ct,ie=d-pt,Ee=Math.hypot(jt,_t),Re=Math.hypot(ie,oe),Ae=Ee*Math.asin((_t*ie-jt*oe)/(Ee*Re)),He=Ae/Math.sqrt(A+I-Z*Z-rt*rt);F+=He,F=Math.min(Math.PI/2,Math.max(0,F))}return{x:i+Ge(Z,u),y:e+Ge(rt,l)}},pointDistance:function(i,e,t,r,n,a){var o=this.nearestPoint(i,e,t,r,n,a);return bi(o.x,o.y,n,a)},pointAt:function(i,e,t,r,n){var a=2*Math.PI*n;return{x:i+t*Math.cos(a),y:e+r*Math.sin(a)}},tangentAngle:function(i,e,t,r,n){var a=2*Math.PI*n,o=Math.atan2(r*Math.cos(a),-t*Math.sin(a));return sc(o)}};function Jr(i,e,t,r,n,a,o,s){return-1*t*Math.cos(n)*Math.sin(s)-r*Math.sin(n)*Math.cos(s)}function Ir(i,e,t,r,n,a,o,s){return-1*t*Math.sin(n)*Math.sin(s)+r*Math.cos(n)*Math.cos(s)}function Ur(i,e,t){return Math.atan(-e/i*Math.tan(t))}function vn(i,e,t){return Math.atan(e/(i*Math.tan(t)))}function yn(i,e,t,r,n,a){return t*Math.cos(n)*Math.cos(a)-r*Math.sin(n)*Math.sin(a)+i}function wn(i,e,t,r,n,a){return t*Math.sin(n)*Math.cos(a)+r*Math.cos(n)*Math.sin(a)+e}function bn(i,e,t,r){var n=Math.atan2(r*i,t*e);return(n+Math.PI*2)%(Math.PI*2)}function _n(i,e,t){return{x:i*Math.cos(t),y:e*Math.sin(t)}}function v(i,e,t){var r=Math.cos(t),n=Math.sin(t);return[i*r-e*n,i*n+e*r]}var N={box:function(i,e,t,r,n,a,o){for(var s=Ur(t,r,n),u=1/0,l=-1/0,c=[a,o],d=-Math.PI*2;d<=Math.PI*2;d+=Math.PI){var A=s+d;a<o?a<A&&A<o&&c.push(A):o<A&&A<a&&c.push(A)}for(var d=0;d<c.length;d++){var I=yn(i,e,t,r,n,c[d]);I<u&&(u=I),I>l&&(l=I)}for(var F=vn(t,r,n),Z=1/0,rt=-1/0,lt=[a,o],d=-Math.PI*2;d<=Math.PI*2;d+=Math.PI){var ct=F+d;a<o?a<ct&&ct<o&&lt.push(ct):o<ct&&ct<a&&lt.push(ct)}for(var d=0;d<lt.length;d++){var pt=wn(i,e,t,r,n,lt[d]);pt<Z&&(Z=pt),pt>rt&&(rt=pt)}return{x:u,y:Z,width:l-u,height:rt-Z}},length:function(i,e,t,r,n,a,o){},nearestPoint:function(i,e,t,r,n,a,o,s,u){var l=v(s-i,u-e,-n),c=l[0],d=l[1],A=Pr.nearestPoint(0,0,t,r,c,d),I=bn(t,r,A.x,A.y);I<a?A=_n(t,r,a):I>o&&(A=_n(t,r,o));var F=v(A.x,A.y,n);return{x:F[0]+i,y:F[1]+e}},pointDistance:function(i,e,t,r,n,a,o,s,u){var l=this.nearestPoint(i,e,t,r,s,u);return bi(l.x,l.y,s,u)},pointAt:function(i,e,t,r,n,a,o,s){var u=(o-a)*s+a;return{x:yn(i,e,t,r,n,u),y:wn(i,e,t,r,n,u)}},tangentAngle:function(i,e,t,r,n,a,o,s){var u=(o-a)*s+a,l=Jr(i,e,t,r,n,a,o,u),c=Ir(i,e,t,r,n,a,o,u);return sc(Math.atan2(c,l))}};function K(i){for(var e=0,t=[],r=0;r<i.length-1;r++){var n=i[r],a=i[r+1],o=bi(n[0],n[1],a[0],a[1]),s={from:n,to:a,length:o};t.push(s),e+=o}return{segments:t,totalLength:e}}function it(i){if(i.length<2)return 0;for(var e=0,t=0;t<i.length-1;t++){var r=i[t],n=i[t+1];e+=bi(r[0],r[1],n[0],n[1])}return e}function ht(i,e){if(e>1||e<0||i.length<2)return null;var t=K(i),r=t.segments,n=t.totalLength;if(n===0)return{x:i[0][0],y:i[0][1]};for(var a=0,o=null,s=0;s<r.length;s++){var u=r[s],l=u.from,c=u.to,d=u.length/n;if(e>=a&&e<=a+d){var A=(e-a)/d;o=Io.pointAt(l[0],l[1],c[0],c[1],A);break}a+=d}return o}function yt(i,e){if(e>1||e<0||i.length<2)return 0;for(var t=K(i),r=t.segments,n=t.totalLength,a=0,o=0,s=0;s<r.length;s++){var u=r[s],l=u.from,c=u.to,d=u.length/n;if(e>=a&&e<=a+d){o=Math.atan2(c[1]-l[1],c[0]-l[0]);break}a+=d}return o}function Ot(i,e,t){for(var r=1/0,n=0;n<i.length-1;n++){var a=i[n],o=i[n+1],s=Io.pointDistance(a[0],a[1],o[0],o[1],e,t);s<r&&(r=s)}return r}var kt={box:function(i){for(var e=[],t=[],r=0;r<i.length;r++){var n=i[r];e.push(n[0]),t.push(n[1])}return Wu(e,t)},length:function(i){return it(i)},pointAt:function(i,e){return ht(i,e)},pointDistance:function(i,e,t){return Ot(i,e,t)},tangentAngle:function(i,e){return yt(i,e)}};function Vt(i){var e=i.slice(0);return i.length&&e.push(i[0]),e}var le={box:function(i){return kt.box(i)},length:function(i){return it(Vt(i))},pointAt:function(i,e){return ht(Vt(i),e)},pointDistance:function(i,e,t){return Ot(Vt(i),e,t)},tangentAngle:function(i,e){return yt(Vt(i),e)}};function xe(i,e){return!i||!e?i||e:{minX:Math.min(i.minX,e.minX),minY:Math.min(i.minY,e.minY),maxX:Math.max(i.maxX,e.maxX),maxY:Math.max(i.maxY,e.maxY)}}function ge(i,e){var t=i.get("startArrowShape"),r=i.get("endArrowShape"),n=null,a=null;return t&&(n=t.getCanvasBBox(),e=xe(e,n)),r&&(a=r.getCanvasBBox(),e=xe(e,a)),e}function Be(i){for(var e=i.attr(),t=e.points,r=[],n=[],a=0;a<t.length;a++){var o=t[a];r.push(o[0]),n.push(o[1])}var s=Wu(r,n),u=s.x,l=s.y,c=s.width,d=s.height,A={minX:u,minY:l,maxX:u+c,maxY:l+d};return A=ge(i,A),{x:A.minX,y:A.minY,width:A.maxX-A.minX,height:A.maxY-A.minY}}function ar(i){for(var e=i.attr(),t=e.points,r=[],n=[],a=0;a<t.length;a++){var o=t[a];r.push(o[0]),n.push(o[1])}return Wu(r,n)}var Yr=null;function dr(){if(!Yr){var i=document.createElement("canvas");i.width=1,i.height=1,Yr=i.getContext("2d")}return Yr}function pr(i,e,t){var r=1;if((0,f.isString)(i)&&(r=i.split(`
`).length),r>1){var n=gr(e,t);return e*r+n*(r-1)}return e}function gr(i,e){return e?e-i:i*.14}function xn(i,e){var t=dr(),r=0;if((0,f.isNil)(i)||i==="")return r;if(t.save(),t.font=e,(0,f.isString)(i)&&i.includes(`
`)){var n=i.split(`
`);(0,f.each)(n,function(a){var o=t.measureText(a).width;r<o&&(r=o)})}else r=t.measureText(i).width;return t.restore(),r}function Ln(i){var e=i.fontSize,t=i.fontFamily,r=i.fontWeight,n=i.fontStyle,a=i.fontVariant;return[n,a,r,e+"px",t].join(" ").trim()}function Cn(i){var e=i.attr(),t=e.x,r=e.y,n=e.text,a=e.fontSize,o=e.lineHeight,s=e.font;s||(s=Ln(e));var u=xn(n,s),l;if(!u)l={x:t,y:r,width:0,height:0};else{var c=e.textAlign,d=e.textBaseline,A=pr(n,a,o),I={x:t,y:r-A};c&&(c==="end"||c==="right"?I.x-=u:c==="center"&&(I.x-=u/2)),d&&(d==="top"?I.y+=A:d==="middle"&&(I.y+=A/2)),l={x:I.x,y:I.y,width:u,height:A}}return l}var Jn=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,$n=/[^\s\,]+/ig;function aa(i){var e=i||[];if((0,f.isArray)(e))return e;if((0,f.isString)(e))return e=e.match(Jn),(0,f.each)(e,function(t,r){if(t=t.match($n),t[0].length>1){var n=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=n}(0,f.each)(t,function(a,o){isNaN(a)||(t[o]=+a)}),e[r]=t}),e}var pa=aa;function da(i,e,t,r){var n=[],a=!!r,o,s,u,l,c,d,A;if(a){u=r[0],l=r[1];for(var I=0,F=i.length;I<F;I+=1){var Z=i[I];u=Hn.min([0,0],u,Z),l=Hn.max([0,0],l,Z)}}for(var I=0,rt=i.length;I<rt;I+=1){var Z=i[I];if(I===0&&!t)A=Z;else if(I===rt-1&&!t)d=Z,n.push(A),n.push(d);else{var lt=[I?I-1:rt-1,I-1][t?0:1];o=i[lt],s=i[t?(I+1)%rt:I+1];var ct=[0,0];ct=Hn.sub(ct,s,o),ct=Hn.scale(ct,ct,e);var pt=Hn.distance(Z,o),_t=Hn.distance(Z,s),jt=pt+_t;jt!==0&&(pt/=jt,_t/=jt);var oe=Hn.scale([0,0],ct,-pt),ie=Hn.scale([0,0],ct,_t);d=Hn.add([0,0],Z,oe),c=Hn.add([0,0],Z,ie),c=Hn.min([0,0],c,Hn.max([0,0],s,Z)),c=Hn.max([0,0],c,Hn.min([0,0],s,Z)),oe=Hn.sub([0,0],c,Z),oe=Hn.scale([0,0],oe,-pt/_t),d=Hn.add([0,0],Z,oe),d=Hn.min([0,0],d,Hn.max([0,0],o,Z)),d=Hn.max([0,0],d,Hn.min([0,0],o,Z)),ie=Hn.sub([0,0],Z,d),ie=Hn.scale([0,0],ie,_t/pt),c=Hn.add([0,0],Z,ie),a&&(d=Hn.max([0,0],d,u),d=Hn.min([0,0],d,l),c=Hn.max([0,0],c,u),c=Hn.min([0,0],c,l)),n.push(A),n.push(d),A=c}}return t&&n.push(n.shift()),n}function Pi(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=[[0,0],[1,1]]);for(var r=!!e,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=da(n,.4,r,t),u=n.length,l=[],c,d,A,a=0;a<u-1;a+=1)c=s[a*2],d=s[a*2+1],A=n[a+1],l.push(["C",c[0],c[1],d[0],d[1],A[0],A[1]]);return r&&(c=s[u],d=s[u+1],A=n[0],l.push(["C",c[0],c[1],d[0],d[1],A[0],A[1]])),l}var ma=Pi;function $i(i,e,t){var r=null,n=t;return e<n&&(n=e,r="add"),i<n&&(n=i,r="del"),{type:r,min:n}}var xi=function(i,e){var t=i.length,r=e.length,n,a,o=0;if(t===0||r===0)return null;for(var s=[],u=0;u<=t;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=r;l++)s[0][l]={min:l};for(var u=1;u<=t;u++){n=i[u-1];for(var l=1;l<=r;l++){a=e[l-1],isEqual(n,a)?o=0:o=1;var c=s[u-1][l].min+1,d=s[u][l-1].min+1,A=s[u-1][l-1].min+o;s[u][l]=$i(c,d,A)}}return s};function za(i,e){var t=xi(i,e),r=i.length,n=e.length,a=[],o=1,s=1;if(t[r][n]!==r){for(var u=1;u<=r;u++){var l=t[u][u].min;s=u;for(var c=o;c<=n;c++)t[u][c].min<l&&(l=t[u][c].min,s=c);o=s,t[u][o].type&&a.push({index:u-1,type:t[u][o].type})}for(var u=a.length-1;u>=0;u--)o=a[u].index,a[u].type==="add"?i.splice(o,0,[].concat(i[o])):i.splice(o,1)}if(r=i.length,r<n)for(var u=0;u<n-r;u++)i[r-1][0]==="z"||i[r-1][0]==="Z"?i.splice(r-2,0,i[r-2]):i.push(i[r-1]);return i}var Oi=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Qi=new RegExp("([a-z])["+Oi+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Oi+"]*,?["+Oi+"]*)+)","ig"),Mo=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Oi+"]*,?["+Oi+"]*","ig");function Do(i){if(!i)return null;if((0,f.isArray)(i))return i;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(i).replace(Qi,function(r,n,a){var o=[],s=n.toLowerCase();if(a.replace(Mo,function(u,l){l&&o.push(+l)}),s==="m"&&o.length>2&&(t.push([n].concat(o.splice(0,2))),s="l",n=n==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([n,o[0]]),s==="r")t.push([n].concat(o));else for(;o.length>=e[s]&&(t.push([n].concat(o.splice(0,e[s]))),!!e[s]););return""}),t}var go=/[a-z]/;function Ca(i,e){return[e[0]+(e[0]-i[0]),e[1]+(e[1]-i[1])]}function Bo(i){var e=Do(i);if(!e||!e.length)return[["M",0,0]];for(var t=!1,r=0;r<e.length;r++){var n=e[r][0];if(go.test(n)||["V","H","T","S"].indexOf(n)>=0){t=!0;break}}if(!t)return e;var a=[],o=0,s=0,u=0,l=0,c=0,d,A,I=e[0];(I[0]==="M"||I[0]==="m")&&(o=+I[1],s=+I[2],u=o,l=s,c++,a[0]=["M",o,s]);for(var r=c,F=e.length;r<F;r++){var Z=e[r],rt=a[r-1],lt=[],n=Z[0],ct=n.toUpperCase();if(n!==ct)switch(lt[0]=ct,ct){case"A":lt[1]=Z[1],lt[2]=Z[2],lt[3]=Z[3],lt[4]=Z[4],lt[5]=Z[5],lt[6]=+Z[6]+o,lt[7]=+Z[7]+s;break;case"V":lt[1]=+Z[1]+s;break;case"H":lt[1]=+Z[1]+o;break;case"M":u=+Z[1]+o,l=+Z[2]+s,lt[1]=u,lt[2]=l;break;default:for(var pt=1,_t=Z.length;pt<_t;pt++)lt[pt]=+Z[pt]+(pt%2?o:s)}else lt=e[r];switch(ct){case"Z":o=+u,s=+l;break;case"H":o=lt[1],lt=["L",o,s];break;case"V":s=lt[1],lt=["L",o,s];break;case"T":o=lt[1],s=lt[2];var jt=Ca([rt[1],rt[2]],[rt[3],rt[4]]);lt=["Q",jt[0],jt[1],o,s];break;case"S":o=lt[lt.length-2],s=lt[lt.length-1];var oe=rt.length,ie=Ca([rt[oe-4],rt[oe-3]],[rt[oe-2],rt[oe-1]]);lt=["C",ie[0],ie[1],lt[1],lt[2],o,s];break;case"M":u=lt[lt.length-2],l=lt[lt.length-1];break;default:o=lt[lt.length-2],s=lt[lt.length-1]}a.push(lt)}return a}var Ka=Math.PI*2,ia=function(i,e,t,r,n,a,o){var s=i.x,u=i.y;s*=e,u*=t;var l=r*s-n*u,c=n*s+r*u;return{x:l+a,y:c+o}},ka=function(i,e){var t=e===1.5707963267948966?.551915024494:e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),r=Math.cos(i),n=Math.sin(i),a=Math.cos(i+e),o=Math.sin(i+e);return[{x:r-n*t,y:n+r*t},{x:a+o*t,y:o-a*t},{x:a,y:o}]},Ha=function(i,e,t,r){var n=i*r-e*t<0?-1:1,a=i*t+e*r;return a>1&&(a=1),a<-1&&(a=-1),n*Math.acos(a)},mo=function(i,e,t,r,n,a,o,s,u,l,c,d){var A=Math.pow(n,2),I=Math.pow(a,2),F=Math.pow(c,2),Z=Math.pow(d,2),rt=A*I-A*Z-I*F;rt<0&&(rt=0),rt/=A*Z+I*F,rt=Math.sqrt(rt)*(o===s?-1:1);var lt=rt*n/a*d,ct=rt*-a/n*c,pt=l*lt-u*ct+(i+t)/2,_t=u*lt+l*ct+(e+r)/2,jt=(c-lt)/n,oe=(d-ct)/a,ie=(-c-lt)/n,Ee=(-d-ct)/a,Re=Ha(1,0,jt,oe),Ae=Ha(jt,oe,ie,Ee);return s===0&&Ae>0&&(Ae-=Ka),s===1&&Ae<0&&(Ae+=Ka),[pt,_t,Re,Ae]},Ks=function(i){var e=i.px,t=i.py,r=i.cx,n=i.cy,a=i.rx,o=i.ry,s=i.xAxisRotation,u=s===void 0?0:s,l=i.largeArcFlag,c=l===void 0?0:l,d=i.sweepFlag,A=d===void 0?0:d,I=[];if(a===0||o===0)return[{x1:0,y1:0,x2:0,y2:0,x:r,y:n}];var F=Math.sin(u*Ka/360),Z=Math.cos(u*Ka/360),rt=Z*(e-r)/2+F*(t-n)/2,lt=-F*(e-r)/2+Z*(t-n)/2;if(rt===0&&lt===0)return[{x1:0,y1:0,x2:0,y2:0,x:r,y:n}];a=Math.abs(a),o=Math.abs(o);var ct=Math.pow(rt,2)/Math.pow(a,2)+Math.pow(lt,2)/Math.pow(o,2);ct>1&&(a*=Math.sqrt(ct),o*=Math.sqrt(ct));var pt=mo(e,t,r,n,a,o,c,A,F,Z,rt,lt),_t=pt[0],jt=pt[1],oe=pt[2],ie=pt[3],Ee=Math.abs(ie)/(Ka/4);Math.abs(1-Ee)<1e-7&&(Ee=1);var Re=Math.max(Math.ceil(Ee),1);ie/=Re;for(var Ae=0;Ae<Re;Ae++)I.push(ka(oe,ie)),oe+=ie;return I.map(function(He){var ur=ia(He[0],a,o,Z,F,_t,jt),tn=ur.x,Tn=ur.y,pn=ia(He[1],a,o,Z,F,_t,jt),Vr=pn.x,Un=pn.y,Rn=ia(He[2],a,o,Z,F,_t,jt),Hr=Rn.x,hn=Rn.y;return{x1:tn,y1:Tn,x2:Vr,y2:Un,x:Hr,y:hn}})};function cc(i,e,t,r,n,a,o,s,u){var l=Ks({px:i,py:e,cx:s,cy:u,rx:t,ry:r,xAxisRotation:n,largeArcFlag:a,sweepFlag:o});return l.reduce(function(c,d){var A=d.x1,I=d.y1,F=d.x2,Z=d.y2,rt=d.x,lt=d.y;return c.push(A,I,F,Z,rt,lt),c},[])}function ke(i,e){"TQ".indexOf(i[0])<0&&(e.qx=null,e.qy=null);var t=i.slice(1),r=t[0],n=t[1];switch(i[0]){case"M":return e.x=r,e.y=n,i;case"A":return["C"].concat(arcToCubic.apply(0,[e.x1,e.y1].concat(i.slice(1))));case"Q":return e.qx=r,e.qy=n,["C"].concat(quadToCubic.apply(0,[e.x1,e.y1].concat(i.slice(1))));case"L":return["C"].concat(lineToCubic(e.x1,e.y1,i[1],i[2]));case"H":return["C"].concat(lineToCubic(e.x1,e.y1,i[1],e.y1));case"V":return["C"].concat(lineToCubic(e.x1,e.y1,e.x1,i[1]));case"Z":return["C"].concat(lineToCubic(e.x1,e.y1,e.x,e.y));default:}return i}function kr(i,e){e===void 0&&(e=!1);for(var t=path2Absolute(i),r={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},n=[],a="",o=t.length,s,u,l=[],c=0;c<o;c+=1)t[c]&&(a=t[c][0]),n[c]=a,t[c]=segmentToCubic(t[c],r),Cr(t,n,c),o=t.length,a==="Z"&&l.push(c),s=t[c],u=s.length,r.x1=+s[u-2],r.y1=+s[u-1],r.x2=+s[u-4]||r.x1,r.y2=+s[u-3]||r.y1;return e?[t,l]:t}function Cr(i,e,t){if(i[t].length>7){i[t].shift();for(var r=i[t],n=t;r.length;)e[t]="A",i.splice(n+=1,0,["C"].concat(r.splice(0,6)));i.splice(t,1)}}var Xn=function(i,e,t,r,n){var a=-3*e+9*t-9*r+3*n,o=i*a+6*e-12*t+6*r;return i*o-3*e+3*t},Pa=function(i,e,t,r,n,a,o,s,u){u===null&&(u=1),u=u>1?1:u<0?0:u;for(var l=u/2,c=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],A=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],I=0,F=0;F<c;F++){var Z=l*d[F]+l,rt=Xn(Z,i,t,n,o),lt=Xn(Z,e,r,a,s),ct=rt*rt+lt*lt;I+=A[F]*Math.sqrt(ct)}return l*I},Oe=function(i,e,t,r,n,a,o,s){for(var u=[],l=[[],[]],c,d,A,I,F=0;F<2;++F){if(F===0?(d=6*i-12*t+6*n,c=-3*i+9*t-9*n+3*o,A=3*t-3*i):(d=6*e-12*r+6*a,c=-3*e+9*r-9*a+3*s,A=3*r-3*e),Math.abs(c)<1e-12){if(Math.abs(d)<1e-12)continue;I=-A/d,I>0&&I<1&&u.push(I);continue}var Z=d*d-4*A*c,rt=Math.sqrt(Z);if(!(Z<0)){var lt=(-d+rt)/(2*c);lt>0&&lt<1&&u.push(lt);var ct=(-d-rt)/(2*c);ct>0&&ct<1&&u.push(ct)}}for(var pt=u.length,_t=pt,jt;pt--;)I=u[pt],jt=1-I,l[0][pt]=jt*jt*jt*i+3*jt*jt*I*t+3*jt*I*I*n+I*I*I*o,l[1][pt]=jt*jt*jt*e+3*jt*jt*I*r+3*jt*I*I*a+I*I*I*s;return l[0][_t]=i,l[1][_t]=e,l[0][_t+1]=o,l[1][_t+1]=s,l[0].length=l[1].length=_t+2,{min:{x:Math.min.apply(0,l[0]),y:Math.min.apply(0,l[1])},max:{x:Math.max.apply(0,l[0]),y:Math.max.apply(0,l[1])}}},ye=function(i,e,t,r,n,a,o,s){if(!(Math.max(i,t)<Math.min(n,o)||Math.min(i,t)>Math.max(n,o)||Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s))){var u=(i*r-e*t)*(n-o)-(i-t)*(n*s-a*o),l=(i*r-e*t)*(a-s)-(e-r)*(n*s-a*o),c=(i-t)*(a-s)-(e-r)*(n-o);if(c){var d=u/c,A=l/c,I=+d.toFixed(2),F=+A.toFixed(2);if(!(I<+Math.min(i,t).toFixed(2)||I>+Math.max(i,t).toFixed(2)||I<+Math.min(n,o).toFixed(2)||I>+Math.max(n,o).toFixed(2)||F<+Math.min(e,r).toFixed(2)||F>+Math.max(e,r).toFixed(2)||F<+Math.min(a,s).toFixed(2)||F>+Math.max(a,s).toFixed(2)))return{x:d,y:A}}}},Ze=function(i,e,t){return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},yr=function(i,e,t,r){return i===null&&(i=e=t=r=0),e===null&&(e=i.y,t=i.width,r=i.height,i=i.x),{x:i,y:e,width:t,w:t,height:r,h:r,x2:i+t,y2:e+r,cx:i+t/2,cy:e+r/2,r1:Math.min(t,r)/2,r2:Math.max(t,r)/2,r0:Math.sqrt(t*t+r*r)/2,path:rectPath(i,e,t,r),vb:[i,e,t,r].join(" ")}},Er=function(i,e){return i=yr(i),e=yr(e),Ze(e,i.x,i.y)||Ze(e,i.x2,i.y)||Ze(e,i.x,i.y2)||Ze(e,i.x2,i.y2)||Ze(i,e.x,e.y)||Ze(i,e.x2,e.y)||Ze(i,e.x,e.y2)||Ze(i,e.x2,e.y2)||(i.x<e.x2&&i.x>e.x||e.x<i.x2&&e.x>i.x)&&(i.y<e.y2&&i.y>e.y||e.y<i.y2&&e.y>i.y)},tr=function(i,e,t,r,n,a,o,s){isArray(i)||(i=[i,e,t,r,n,a,o,s]);var u=Oe.apply(null,i);return yr(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Qe=function(i,e,t,r,n,a,o,s,u){var l=1-u,c=Math.pow(l,3),d=Math.pow(l,2),A=u*u,I=A*u,F=c*i+d*3*u*t+l*3*u*u*n+I*o,Z=c*e+d*3*u*r+l*3*u*u*a+I*s,rt=i+2*u*(t-i)+A*(n-2*t+i),lt=e+2*u*(r-e)+A*(a-2*r+e),ct=t+2*u*(n-t)+A*(o-2*n+t),pt=r+2*u*(a-r)+A*(s-2*a+r),_t=l*i+u*t,jt=l*e+u*r,oe=l*n+u*o,ie=l*a+u*s,Ee=90-Math.atan2(rt-ct,lt-pt)*180/Math.PI;return{x:F,y:Z,m:{x:rt,y:lt},n:{x:ct,y:pt},start:{x:_t,y:jt},end:{x:oe,y:ie},alpha:Ee}},lr=function(i,e,t){var r=tr(i),n=tr(e);if(!Er(r,n))return t?0:[];for(var a=Pa.apply(0,i),o=Pa.apply(0,e),s=~~(a/8),u=~~(o/8),l=[],c=[],d={},A=t?0:[],I=0;I<s+1;I++){var F=Qe.apply(0,i.concat(I/s));l.push({x:F.x,y:F.y,t:I/s})}for(var I=0;I<u+1;I++){var F=Qe.apply(0,e.concat(I/u));c.push({x:F.x,y:F.y,t:I/u})}for(var I=0;I<s;I++)for(var Z=0;Z<u;Z++){var rt=l[I],lt=l[I+1],ct=c[Z],pt=c[Z+1],_t=Math.abs(lt.x-rt.x)<.001?"y":"x",jt=Math.abs(pt.x-ct.x)<.001?"y":"x",oe=ye(rt.x,rt.y,lt.x,lt.y,ct.x,ct.y,pt.x,pt.y);if(oe){if(d[oe.x.toFixed(4)]===oe.y.toFixed(4))continue;d[oe.x.toFixed(4)]=oe.y.toFixed(4);var ie=rt.t+Math.abs((oe[_t]-rt[_t])/(lt[_t]-rt[_t]))*(lt.t-rt.t),Ee=ct.t+Math.abs((oe[jt]-ct[jt])/(pt[jt]-ct[jt]))*(pt.t-ct.t);ie>=0&&ie<=1&&Ee>=0&&Ee<=1&&(t?A++:A.push({x:oe.x,y:oe.y,t1:ie,t2:Ee}))}}return A},Ie=function(i,e,t){i=path2Curve(i),e=path2Curve(e);for(var r,n,a,o,s,u,l,c,d,A,I=t?0:[],F=0,Z=i.length;F<Z;F++){var rt=i[F];if(rt[0]==="M")r=s=rt[1],n=u=rt[2];else{rt[0]==="C"?(d=[r,n].concat(rt.slice(1)),r=d[6],n=d[7]):(d=[r,n,r,n,s,u,s,u],r=s,n=u);for(var lt=0,ct=e.length;lt<ct;lt++){var pt=e[lt];if(pt[0]==="M")a=l=pt[1],o=c=pt[2];else{pt[0]==="C"?(A=[a,o].concat(pt.slice(1)),a=A[6],o=A[7]):(A=[a,o,a,o,l,c,l,c],a=l,o=c);var _t=lr(d,A,t);if(t)I+=_t;else{for(var jt=0,oe=_t.length;jt<oe;jt++)_t[jt].segment1=F,_t[jt].segment2=lt,_t[jt].bez1=d,_t[jt].bez2=A;I=I.concat(_t)}}}}}return I};function Ke(i,e){return Ie(i,e)}function Te(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function hr(i,e){return Te(i)*Te(e)?(i[0]*e[0]+i[1]*e[1])/(Te(i)*Te(e)):1}function wr(i,e){return(i[0]*e[1]<i[1]*e[0]?-1:1)*Math.acos(hr(i,e))}function $r(i,e){return i[0]===e[0]&&i[1]===e[1]}function rn(i,e){var t=e[1],r=e[2],n=(0,f.mod)((0,f.toRadian)(e[3]),Math.PI*2),a=e[4],o=e[5],s=i[0],u=i[1],l=e[6],c=e[7],d=Math.cos(n)*(s-l)/2+Math.sin(n)*(u-c)/2,A=-1*Math.sin(n)*(s-l)/2+Math.cos(n)*(u-c)/2,I=d*d/(t*t)+A*A/(r*r);I>1&&(t*=Math.sqrt(I),r*=Math.sqrt(I));var F=t*t*(A*A)+r*r*(d*d),Z=F?Math.sqrt((t*t*(r*r)-F)/F):1;a===o&&(Z*=-1),isNaN(Z)&&(Z=0);var rt=r?Z*t*A/r:0,lt=t?Z*-r*d/t:0,ct=(s+l)/2+Math.cos(n)*rt-Math.sin(n)*lt,pt=(u+c)/2+Math.sin(n)*rt+Math.cos(n)*lt,_t=[(d-rt)/t,(A-lt)/r],jt=[(-1*d-rt)/t,(-1*A-lt)/r],oe=wr([1,0],_t),ie=wr(_t,jt);return hr(_t,jt)<=-1&&(ie=Math.PI),hr(_t,jt)>=1&&(ie=0),o===0&&ie>0&&(ie=ie-2*Math.PI),o===1&&ie<0&&(ie=ie+2*Math.PI),{cx:ct,cy:pt,rx:$r(i,[l,c])?0:t,ry:$r(i,[l,c])?0:r,startAngle:oe,endAngle:oe+ie,xRotation:n,arcFlag:a,sweepFlag:o}}function Xr(i,e){return[e[0]+(e[0]-i[0]),e[1]+(e[1]-i[1])]}function Sn(i){i=pa(i);for(var e=[],t=null,r=null,n=null,a=0,o=i.length,s=0;s<o;s++){var u=i[s];r=i[s+1];var l=u[0],c={command:l,prePoint:t,params:u,startTangent:null,endTangent:null};switch(l){case"M":n=[u[1],u[2]],a=s;break;case"A":var d=rn(t,u);c.arcParams=d;break;default:break}if(l==="Z")t=n,r=i[a+1];else{var A=u.length;t=[u[A-2],u[A-1]]}r&&r[0]==="Z"&&(r=i[a],e[a]&&(e[a].prePoint=t)),c.currentPoint=t,e[a]&&$r(t,e[a].currentPoint)&&(e[a].prePoint=c.prePoint);var I=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=I;var F=c.prePoint;if(["L","H","V"].includes(l))c.startTangent=[F[0]-t[0],F[1]-t[1]],c.endTangent=[t[0]-F[0],t[1]-F[1]];else if(l==="Q"){var Z=[u[1],u[2]];c.startTangent=[F[0]-Z[0],F[1]-Z[1]],c.endTangent=[t[0]-Z[0],t[1]-Z[1]]}else if(l==="T"){var rt=e[s-1],Z=Xr(rt.currentPoint,F);rt.command==="Q"?(c.command="Q",c.startTangent=[F[0]-Z[0],F[1]-Z[1]],c.endTangent=[t[0]-Z[0],t[1]-Z[1]]):(c.command="TL",c.startTangent=[F[0]-t[0],F[1]-t[1]],c.endTangent=[t[0]-F[0],t[1]-F[1]])}else if(l==="C"){var lt=[u[1],u[2]],ct=[u[3],u[4]];c.startTangent=[F[0]-lt[0],F[1]-lt[1]],c.endTangent=[t[0]-ct[0],t[1]-ct[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[lt[0]-ct[0],lt[1]-ct[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[ct[0]-lt[0],ct[1]-lt[1]])}else if(l==="S"){var rt=e[s-1],lt=Xr(rt.currentPoint,F),ct=[u[1],u[2]];rt.command==="C"?(c.command="C",c.startTangent=[F[0]-lt[0],F[1]-lt[1]],c.endTangent=[t[0]-ct[0],t[1]-ct[1]]):(c.command="SQ",c.startTangent=[F[0]-ct[0],F[1]-ct[1]],c.endTangent=[t[0]-ct[0],t[1]-ct[1]])}else if(l==="A"){var pt=.001,_t=c.arcParams||{},jt=_t.cx,oe=jt===void 0?0:jt,ie=_t.cy,Ee=ie===void 0?0:ie,Re=_t.rx,Ae=Re===void 0?0:Re,He=_t.ry,ur=He===void 0?0:He,tn=_t.sweepFlag,Tn=tn===void 0?0:tn,pn=_t.startAngle,Vr=pn===void 0?0:pn,Un=_t.endAngle,Rn=Un===void 0?0:Un;Tn===0&&(pt*=-1);var Hr=Ae*Math.cos(Vr-pt)+oe,hn=ur*Math.sin(Vr-pt)+Ee;c.startTangent=[Hr-n[0],hn-n[1]];var An=Ae*Math.cos(Vr+Rn+pt)+oe,On=ur*Math.sin(Vr+Rn-pt)+Ee;c.endTangent=[F[0]-An,F[1]-On]}e.push(c)}return e}function ea(i){for(var e=[],t=i.length,r=0;r<t-1;r++){var n=i[r],a=i[r+1];e.push({from:{x:n[0],y:n[1]},to:{x:a[0],y:a[1]}})}if(e.length>1){var o=i[0],s=i[t-1];e.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return e}function Aa(i,e){var t=!1;return each(i,function(r){if(getLineIntersect(r.from,r.to,e.from,e.to))return t=!0,!1}),t}function Zn(i){var e=i.map(function(r){return r[0]}),t=i.map(function(r){return r[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function la(i,e){return!(e.minX>i.maxX||e.maxX<i.minX||e.minY>i.maxY||e.maxY<i.minY)}function Ma(i,e){if(i.length<2||e.length<2)return!1;var t=Zn(i),r=Zn(e);if(!la(t,r))return!1;var n=!1;if(each(e,function(u){if(isPointInPolygon(i,u[0],u[1]))return n=!0,!1}),n||(each(i,function(u){if(isPointInPolygon(e,u[0],u[1]))return n=!0,!1}),n))return!0;var a=ea(i),o=ea(e),s=!1;return each(o,function(u){if(Aa(a,u))return s=!0,!1}),s}function ei(i,e){for(var t=[],r=[],n=[],a=0;a<i.length;a++){var o=i[a],s=o.currentPoint,u=o.params,l=o.prePoint,c=void 0;switch(o.command){case"Q":c=Zc.box(l[0],l[1],u[1],u[2],u[3],u[4]);break;case"C":c=we.box(l[0],l[1],u[1],u[2],u[3],u[4],u[5],u[6]);break;case"A":var d=o.arcParams;c=N.box(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:t.push(s[0]),r.push(s[1]);break}c&&(o.box=c,t.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&n.push(o)}t=t.filter(function(lt){return!Number.isNaN(lt)&&lt!==1/0&&lt!==-1/0}),r=r.filter(function(lt){return!Number.isNaN(lt)&&lt!==1/0&&lt!==-1/0});var A=(0,f.min)(t),I=(0,f.min)(r),F=(0,f.max)(t),Z=(0,f.max)(r);if(n.length===0)return{x:A,y:I,width:F-A,height:Z-I};for(var a=0;a<n.length;a++){var o=n[a],s=o.currentPoint,rt=void 0;s[0]===A?(rt=ji(o,e),A=A-rt.xExtra):s[0]===F&&(rt=ji(o,e),F=F+rt.xExtra),s[1]===I?(rt=ji(o,e),I=I-rt.yExtra):s[1]===Z&&(rt=ji(o,e),Z=Z+rt.yExtra)}return{x:A,y:I,width:F-A,height:Z-I}}function ji(i,e){var t=i.prePoint,r=i.currentPoint,n=i.nextPoint,a=Math.pow(r[0]-t[0],2)+Math.pow(r[1]-t[1],2),o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),s=Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2),u=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!u||Math.sin(u)===0||(0,f.isNumberEqual)(u,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(n[1]-r[1],n[0]-r[0])),c=Math.abs(Math.atan2(n[0]-r[0],n[1]-r[1]));l=l>Math.PI/2?Math.PI-l:l,c=c>Math.PI/2?Math.PI-c:c;var d={xExtra:Math.cos(u/2-l)*(e/2*(1/Math.sin(u/2)))-e/2||0,yExtra:Math.cos(c-u/2)*(e/2*(1/Math.sin(u/2)))-e/2||0};return d}function ns(i){var e=i.attr(),t=e.path,r=e.stroke,n=r?e.lineWidth:0,a=i.get("segments")||Sn(t),o=ei(a,n),s=o.x,u=o.y,l=o.width,c=o.height,d={minX:s,minY:u,maxX:s+l,maxY:u+c};return d=ge(i,d),{x:d.minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}}function bd(i){var e=i.attr(),t=e.x1,r=e.y1,n=e.x2,a=e.y2,o=Math.min(t,n),s=Math.max(t,n),u=Math.min(r,a),l=Math.max(r,a),c={minX:o,maxX:s,minY:u,maxY:l};return c=ge(i,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function _s(i){var e=i.attr(),t=e.x,r=e.y,n=e.rx,a=e.ry;return{x:t-n,y:r-a,width:n*2,height:a*2}}ms("rect",Bs),ms("image",Bs),ms("circle",ao),ms("marker",ao),ms("polyline",Be),ms("polygon",ar),ms("text",Cn),ms("path",ns),ms("line",bd),ms("ellipse",_s);var Th="0.5.11",Fs=function(i){(0,b.__extends)(e,i);function e(t,r){var n=i.call(this,t,r)||this;return n.item=r.item,n.canvasX=r.canvasX,n.canvasY=r.canvasY,n.wheelDelta=r.wheelDelta,n.detail=r.detail,n}return e}(au),Kf=function(e){return"".concat(e,"-").concat(Math.random()).concat(Date.now())},Ah=function(e){if((0,f.isArray)(e))switch(e.length){case 4:return e;case 3:return e.push(e[1]),e;case 2:return e.concat(e);case 1:return[e[0],e[0],e[0],e[0]];default:return[0,0,0,0]}if((0,f.isNumber)(e))return[e,e,e,e];if((0,f.isString)(e)){var t=parseInt(e,10);return[t,t,t,t]}return[0,0,0,0]},F0=function(e){var t=new Fs(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},z0=function(e){if(!e)return!1;for(var t=9,r=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(e[n]!==r[n])return!0;return!1},Xu=function(e){return Number.isNaN(Number(e))},Ov=function(e){for(var t=1/0,r=-1/0,n=1/0,a=-1/0,o=0;o<e.length;o++){var s=e[o],u=s.getBBox(),l=u.minX,c=u.minY,d=u.maxX,A=u.maxY;l<t&&(t=l),c<n&&(n=c),d>r&&(r=d),A>a&&(a=A)}var I=Math.floor(t),F=Math.floor(n),Z=Math.ceil(r)-Math.floor(t),rt=Math.ceil(a)-Math.floor(n);return{x:I,y:F,width:Z,height:rt,minX:t,minY:n,maxX:r,maxY:a}},G0=function(e,t,r,n,a){t===void 0&&(t=15),r===void 0&&(r="quadratic"),n===void 0&&(n=void 0),a===void 0&&(a=void 0);for(var o=e.length,s=t*2,u=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],l={},c=[],d={},A=0;A<o;A++){var I=e[A],F=I.source,Z=I.target,rt="".concat(F,"-").concat(Z);if(!c[A]){l[rt]||(l[rt]=[]),c[A]=!0,l[rt].push(I);for(var lt=0;lt<o;lt++)if(A!==lt){var ct=e[lt],pt=ct.source,_t=ct.target;c[lt]||(F===_t&&Z===pt?(l[rt].push(ct),c[lt]=!0,d["".concat(pt,"|").concat(_t,"|").concat(l[rt].length-1)]=!0):F===pt&&Z===_t&&(l[rt].push(ct),c[lt]=!0))}}}for(var jt in l)for(var oe=l[jt],ie=oe.length,Ee=0;Ee<ie;Ee++){var Re=oe[Ee];if(Re.source===Re.target){a&&(Re.type=a),Re.loopCfg={position:u[Ee%8],dist:Math.floor(Ee/8)*20+50};continue}if(ie===1&&n&&Re.source!==Re.target){Re.type=n;continue}Re.type=r;var Ae=(Ee%2===0?1:-1)*(d["".concat(Re.source,"|").concat(Re.target,"|").concat(Ee)]?-1:1);ie%2===1?Re.curveOffset=Ae*Math.ceil(Ee/2)*s:Re.curveOffset=Ae*(Math.floor(Ee/2)*s+t)}return e},Iv=C(731278),U0=function(){function i(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return i.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,r=this.graph.get("width"),n=t.get("height");return{x:(r-e[1]-e[3])/2+e[3],y:(n-e[0]-e[2])/2+e[0]}},i.prototype.fitCenter=function(e,t){var r=this.graph,n=r.get("group"),a,o=r.getNodes();if(o.length>r.get("optimizeThreshold")){var s=1/0,u=1/0,l=-1/0,c=-1/0;o.forEach(function(_t){var jt=_t.getModel(),oe=jt.x,ie=jt.y;s>oe&&(s=oe),u>ie&&(u=ie),l<oe&&(l=oe),c<ie&&(c=ie)});var d=n.getMatrix()||[1,0,0,0,1,0,0,0,1],A=Kr({x:s,y:u},d),I=A.x,F=A.y,Z=Kr({x:l,y:c},d),rt=Z.x,lt=Z.y;a={minX:I,maxX:rt,minY:F,maxY:lt,width:rt-I,height:lt-F,x:I,y:F}}else a=n.getCanvasBBox();if(!(a.width===0||a.height===0)){var ct=this.getViewCenter(),pt={x:a.x+a.width/2,y:a.y+a.height/2};r.translate(ct.x-pt.x,ct.y-pt.y,e,t)}},i.prototype.animatedFitView=function(e,t,r,n,a,o,s,u){var l=this.graph;r=r||{duration:500,easing:"easeCubic"};var c=[1,0,0,0,1,0,0,0,1],d=n.x+a.x-o.x-n.minX,A=n.y+a.y-o.y-n.minY;if(!(Xu(d)||Xu(A))){var I=(0,Iv.vs)(c,[["t",d,A]]);if(!u){var F=is({animateCfg:r,callback:function(){l.emit("viewportchange",{action:"translate",matrix:I})}});e.animate(function(_t){return{matrix:ki(t,I,_t)}},F);return}var Z=l.get("minZoom"),rt=l.get("maxZoom"),lt=s;Z&&s<Z?(lt=Z,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph minzoom has been used instead")):rt&&s>rt&&(lt=rt,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph maxzoom has been used instead"));var ct=(0,Iv.vs)(I,[["t",-a.x,-a.y],["s",lt,lt],["t",a.x,a.y]]),pt=is({animateCfg:r,callback:function(){e.setMatrix(ct),l.emit("viewportchange",{action:"translate",matrix:I}),l.emit("viewportchange",{action:"zoom",matrix:ct})}});e.stopAnimate(),e.setMatrix(t),e.animate(function(_t){return{matrix:ki(t,ct,_t)}},pt)}},i.prototype.fitView=function(e,t){var r=this.graph,n=this.getFormatPadding(),a=r.get("width"),o=r.get("height"),s=r.get("group"),u=s.getMatrix()||[1,0,0,0,1,0,0,0,1];s.resetMatrix();var l,c=r.getNodes();if(c.length>r.get("optimizeThreshold")){var d=1/0,A=1/0,I=-1/0,F=-1/0;c.forEach(function(oe){var ie=oe.getModel(),Ee=ie.x,Re=ie.y;d>Ee&&(d=Ee),A>Re&&(A=Re),I<Ee&&(I=Ee),F<Re&&(F=Re)}),l={minX:d,maxX:I,minY:A,maxY:F,width:I-d,height:F-A,x:d,y:A}}else l=s.getCanvasBBox();if(!(l.width===0||l.height===0)){var Z=this.getViewCenter(),rt={x:l.x+l.width/2,y:l.y+l.height/2},lt=(a-n[1]-n[3])/l.width,ct=(o-n[0]-n[2])/l.height,pt=lt;if(lt>ct&&(pt=ct),e)this.animatedFitView(s,u,t,l,Z,rt,pt,!0);else{var _t=Z.x-rt.x,jt=Z.y-rt.y;if(Xu(_t)||Xu(jt))return;r.translate(_t,jt),r.zoom(pt,Z)||console.warn("zoom failed, ratio out of range, ratio: %f",pt)}}},i.prototype.fitViewByRules=function(e,t,r){var n=e.onlyOutOfViewPort,a=n===void 0?!1:n,o=e.direction,s=o===void 0?"both":o,u=e.ratioRule,l=u===void 0?"min":u,c=this.graph,d=this.getFormatPadding(),A=c.get("width"),I=c.get("height"),F=c.get("group"),Z=F.getMatrix()||[1,0,0,0,1,0,0,0,1];F.resetMatrix();var rt,lt=c.getNodes();if(lt.length>c.get("optimizeThreshold")){var ct=1/0,pt=1/0,_t=-1/0,jt=-1/0;lt.forEach(function(Tn){var pn=Tn.getModel(),Vr=pn.x,Un=pn.y;ct>Vr&&(ct=Vr),pt>Un&&(pt=Un),_t<Vr&&(_t=Vr),jt<Un&&(jt=Un)}),rt={minX:ct,maxX:_t,minY:pt,maxY:jt,width:_t-ct,height:jt-pt,x:ct,y:pt}}else rt=F.getCanvasBBox();if(!(rt.width===0||rt.height===0)){var oe=this.getViewCenter(),ie={x:rt.x+rt.width/2,y:rt.y+rt.height/2},Ee=(A-d[1]-d[3])/rt.width,Re=(I-d[0]-d[2])/rt.height,Ae;if(s==="x"?Ae=Ee:s==="y"?Ae=Re:Ae=l==="max"?Math.max(Ee,Re):Math.min(Ee,Re),a&&(Ae=Ae<1?Ae:1),t)this.animatedFitView(F,Z,r,rt,oe,ie,Ae,!0);else{var He=c.getZoom(),ur=He*Ae,tn=c.get("minZoom");ur<tn&&(ur=tn,console.warn("fitview failed, ratio out of range, ratio: %f",Ae,"graph minzoom has been used instead")),c.translate(oe.x-ie.x,oe.y-ie.y),c.zoomTo(ur,oe)}}},i.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return Ah(e)},i.prototype.focusPoint=function(e,t,r){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var u=(o.x-e.x)*s[0],l=(o.y-e.y)*s[4],c=0,d=0,A=0,I=0;this.graph.get("canvas").animate(function(F){A=u*F,I=l*F,n.graph.translate(A-c,I-d),c=A,d=I},(0,b.__assign)({},r))}else this.graph.translate((o.x-e.x)*s[0],(o.y-e.y)*s[4])},i.prototype.getPointByCanvas=function(e,t){var r=this.graph.get("group").getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=cn({x:e,y:t},r);return n},i.prototype.getPointByClient=function(e,t){var r=this.graph.get("canvas"),n=r.getPointByClient(e,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(e,t){var r=this.graph.get("canvas"),n=this.getCanvasByPoint(e,t),a=r.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(e,t){var r=this.graph.get("group").getMatrix();return r||(r=[1,0,0,0,1,0,0,0,1]),Kr({x:e,y:t},r)},i.prototype.focus=function(e,t,r){if((0,f.isString)(e)&&(e=this.graph.findById(e)),e){var n=0,a=0;if(e.getType&&e.getType()==="edge"){var o=e.getSource().get("group").getMatrix(),s=e.getTarget().get("group").getMatrix();o&&s?(n=(o[6]+s[6])/2,a=(o[7]+s[7])/2):(o||s)&&(n=o?o[6]:s[6],a=o?o[7]:s[7])}else{var u=e.get("group"),l=u.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]),n=l[6],a=l[7]}this.focusPoint({x:n,y:a},t,r)}},i.prototype.focusItems=function(e,t,r,n){if(e.length){var a=this.graph,o=this.getFormatPadding(),s=a.get("width"),u=a.get("height"),l=a.get("group"),c=l.getMatrix()||[1,0,0,0,1,0,0,0,1];l.resetMatrix();for(var d={x:0,y:0,minX:Number.MAX_SAFE_INTEGER,minY:Number.MAX_SAFE_INTEGER,maxX:Number.MIN_SAFE_INTEGER,maxY:Number.MIN_SAFE_INTEGER,width:0,height:0},A=0,I=e;A<I.length;A++){var F=I[A],Z=F.getBBox();Z.minX<d.minX&&(d.minX=Z.minX),Z.minY<d.minY&&(d.minY=Z.minY),Z.maxX>d.maxX&&(d.maxX=Z.maxX),Z.maxY>d.maxY&&(d.maxY=Z.maxY)}if(d.x=d.minX,d.y=d.minY,d.width=d.maxX-d.minX,d.height=d.maxY-d.minY,!(d.width===0||d.height===0)){var rt=this.getViewCenter(),lt={x:d.x+d.width/2,y:d.y+d.height/2},ct=(s-o[1]-o[3])/d.width,pt=(u-o[0]-o[2])/d.height,_t=ct;ct>pt&&(_t=pt),r?this.animatedFitView(l,c,n,d,rt,lt,_t,t):(a.translate(rt.x-lt.x,rt.y-lt.y),t&&!a.zoom(_t,rt)&&console.warn("zoom failed, ratio out of range, ratio: %f",_t))}}},i.prototype.changeSize=function(e,t){var r=this.graph;if(!(0,f.isNumber)(e)||!(0,f.isNumber)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");r.set({width:e,height:t});var n=r.get("canvas");n.changeSize(e,t);var a=r.get("plugins");a.forEach(function(o){o.get("gridContainer")&&o.positionInit()})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),W0=U0;function Oh(i){return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(i)}function Dv(i){if(typeof i!="string")return i;var e=function(ie){if(typeof ie!="string")return ie;try{return JSON.parse(ie.trim())}catch(Ee){return ie.trim()}},t=e(i);if(typeof t!="string")return t;for(var r=function(ie){return ie[ie.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var ie=[],Ee=0;Ee<arguments.length;Ee++)ie[Ee]=arguments[Ee];return ie.some(function(Re){return r(o)===Re})},u=function(){return r(a)},l=null,c=0,d="";c<n.length;){var A=n[c],I=s('"',"'");if(!I&&!A.trim()){c+=1;continue}var F=n[c-1]==="\\",Z=s("}"),rt=s("]"),lt=s(","),ct=u();if(I)if(r(o)===A&&!F){o.pop();var pt=e(d);ct.push(pt),l=pt,d=""}else d+=A;else if(rt&&A===",")d&&(ct.push(e(d)),d="");else if(Z&&A===":")o.push(","),d&&(ct.push(d),d="");else if(lt&&A===",")d&&(ct.push(e(d)),d=""),o.pop();else if(A==="}"&&(Z||lt)){d&&(ct.push(e(d)),d=""),lt&&o.pop();for(var _t={},jt=1;jt<ct.length;jt+=2)_t[ct[jt-1]]=ct[jt];a.pop(),a.length&&r(a).push(_t),o.pop(),l=_t}else A==="]"&&rt?(d&&(ct.push(e(d)),d=""),a.pop(),a.length&&r(a).push(ct),o.pop(),l=ct):A==="{"?(a.push([]),o.push("}")):A==="["?(a.push([]),o.push("]")):A==='"'?o.push('"'):A==="'"?o.push("'"):d+=A;c+=1}return l||d}var Y0=function(e){return e.split("-").reduce(function(t,r){return t+r.charAt(0).toUpperCase()+r.slice(1)})},X0=function(e){return function(t){for(var r=e.length,n=[],a=0,o="";a<r;)if(e[a]==="{"&&e[a+1]==="{")n.push(o),o="",a+=2;else if(e[a]==="}"&&e[a+1]==="}"){if(n.length){var s=n.pop();o=(0,f.get)(t,o,s.endsWith("=")?'"{'.concat(o,'}"'):o),n.push(s+o)}a+=2,o=""}else o+=e[a],a+=1;return n.push(o),n.map(function(u,l){return n[l-1]&&n[l-1].endsWith("=")?'"{'.concat(u,'}"'):u}).join("")}};function Pv(i,e){var t={},r=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return Pv(s,e)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(r).forEach(function(s){var u=Y0(s),l=i.getAttribute(s);try{if(u==="style"||u==="attrs"){var c=Dv(l);t=(0,b.__assign)((0,b.__assign)({},t),c)}else a[u]=Dv(l)}catch(d){if(u==="style")throw d;a[u]=l}}),a.attrs=t,e&&e.style&&a.name&&Oh(e.style[a.name])==="object"&&(a.attrs=(0,b.__assign)((0,b.__assign)({},a.attrs),e.style[a.name])),e&&e.style&&a.keyshape&&(a.attrs=(0,b.__assign)((0,b.__assign)({},a.attrs),e.style)),n.length&&(a.children=n),a}function j0(i,e,t){var r=i.attrs,n=r===void 0?{}:r,a={x:e.x||0,y:e.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=hs(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=(0,b.__assign)({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function Lv(i,e){var t;e===void 0&&(e={x:0,y:0});var r=(0,b.__assign)({x:0,y:0,width:0,height:0},e);if(!((t=i.children)===null||t===void 0)&&t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=(0,b.__assign)({},e);o&&(s.y+=o);for(var u=0;u<i.children.length;u++){i.children[u].attrs.key="".concat(a.key||"root"," -").concat(u," ");var l=Lv(i.children[u],s);if(l.bbox){var c=l.bbox;l.attrs.next==="inline"?s.x+=l.bbox.width:s.y+=l.bbox.height,c.width+c.x>r.width&&(r.width=c.width+c.x),c.height+c.y>r.height&&(r.height=c.height+c.y)}}}return i.bbox=j0(i,e,r),i.attrs=(0,b.__assign)((0,b.__assign)({},i.attrs),i.bbox),i}function Nv(i,e){var t,r,n,a,o=(i||{}).type,s=((e==null?void 0:e.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&e)return{action:"delete",val:e,type:o,key:s};if(i&&!e)return{action:"add",val:i,type:o};if(!i&&!e)return{action:"same",type:o};var u=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((r=e.children)===null||r===void 0?void 0:r.length)>0)for(var l=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=e.children)===null||a===void 0?void 0:a.length),c=e.children||[],d=i.children||[],A=0;A<l;A+=1)u.push(Nv(d[A],c[A]));var I=Object.keys(e.attrs),F=Object.keys(i.attrs);return e.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:e,key:s,children:u}:I.filter(function(Z){return Z!=="children"}).some(function(Z){return i.attrs[Z]!==e.attrs[Z]||!F.includes(Z)})?{action:"change",val:i,children:u,type:o,key:s}:{action:"same",children:u,type:o,key:s}}function Rv(i){var e={},t=function(n){var a=typeof i=="function"?i(n):i,o=X0(a)(n),s=document.createElement("div");s.innerHTML=o;var u=s.children[0],l=Lv(Pv(u,n));return s.remove(),l};return{draw:function(n,a){var o=t(n),s=a,u=function l(c){var d=c.attrs,A=d===void 0?{}:d,I=c.bbox,F=c.type,Z=c.children,rt=(0,b.__rest)(c,["attrs","bbox","type","children"]);if(c.type!=="group"){var lt=a.addShape(c.type,(0,b.__assign)({attrs:A,origin:{bbox:I,type:F,children:Z}},rt));c.keyshape&&(s=lt)}c.children&&c.children.forEach(function(ct){return l(ct)})};return u(o),e[n.id]=[o],s},update:function(n,a){e[n.id]||(e[n.id]=[]);var o=a.getContainer(),s=o.get("children"),u=t(n),l=e[n.id].pop(),c=Nv(u,l),d=function F(Z){var rt;Z.type!=="group"&&o.addShape(Z.type,{attrs:Z.attrs}),!((rt=Z.children)===null||rt===void 0)&&rt.length&&Z.children.map(function(lt){return F(lt)})},A=function F(Z){var rt,lt=s.find(function(ct){return ct.attrs.key===Z.attrs.key});lt&&o.removeChild(lt),!((rt=Z.children)===null||rt===void 0)&&rt.length&&Z.children.map(function(ct){return F(ct)})},I=function F(Z){var rt=Z.key;if(Z.type!=="group"){var lt=s.find(function(pt){return pt.attrs.key===rt});switch(Z.action){case"change":if(lt){var ct=Z.val.keyshape?a.getOriginStyle():{};lt.attr((0,b.__assign)((0,b.__assign)({},ct),Z.val.attrs))}break;case"add":d(Z.val);break;case"delete":A(Z.val);break;case"restructure":A(Z.formerTarget),d(Z.nowTarget);break;default:break}}Z.children&&Z.children.forEach(function(pt){return F(pt)})};I(c),e[n.id].push(u)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Ih={};function kv(i){return Ih[i]||(Ih[i]=(0,f.upperFirst)(i)),Ih[i]}var V0={defaultShapeType:"defaultType",className:null,getShape:function(e){var t=this,r=t[e]||t[t.defaultShapeType]||t["simple-circle"];return r},draw:function(e,t,r){var n=this.getShape(e);r.shapeMap={};var a=n.draw(t,r);return n.afterDraw&&n.afterDraw(t,r,a),a},baseUpdate:function(e,t,r,n){var a,o,s=this.getShape(e);s.update&&(s.mergeStyle=(a=s.getOptions)===null||a===void 0?void 0:a.call(s,t,n),(o=s.update)===null||o===void 0||o.call(s,t,r,n)),s.afterUpdate&&s.afterUpdate(t,r)},setState:function(e,t,r,n){var a=this.getShape(e);a.setState(t,r,n)},shouldUpdate:function(e){var t=this.getShape(e);return!!t.update},getControlPoints:function(e,t){var r=this.getShape(e);return r.getControlPoints(t)},getAnchorPoints:function(e,t){var r=this.getShape(e);return r.getAnchorPoints(t)}},Dh={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints,r=e.anchorPoints||t;return r}},Wd=function(){function i(){}return i.registerFactory=function(e,t){var r=kv(e),n=V0,a=(0,b.__assign)((0,b.__assign)({},n),t);return i[r]=a,a.className=r,a},i.getFactory=function(e){var t=kv(e);return i[t]},i.registerNode=function(e,t,r){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=Rv(t);a=(0,b.__assign)((0,b.__assign)({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=Rv(s);a=(0,b.__assign)((0,b.__assign)((0,b.__assign)({},n.getShape("single-node")),o),t)}else{n.getShape(r);var u=r?n.getShape(r):Dh;a=(0,b.__assign)((0,b.__assign)({},u),t)}return a.type=e,a.itemType="node",n[e]=a,a},i.registerEdge=function(e,t,r){var n=i.Edge,a=r?n.getShape(r):Dh,o=(0,b.__assign)((0,b.__assign)({},a),t);return o.type=e,o.itemType="edge",n[e]=o,o},i.registerCombo=function(e,t,r){var n=i.Combo,a=r?n.getShape(r):Dh,o=(0,b.__assign)((0,b.__assign)({},a),t);return o.type=e,o.itemType="combo",n[e]=o,o},i}(),Jo=Wd;Wd.registerFactory("node",{defaultShapeType:"circle"}),Wd.registerFactory("edge",{defaultShapeType:"line"}),Wd.registerFactory("combo",{defaultShapeType:"circle"});var Ph="bboxCache",Lh="bboxCanvasCache",PS=null,H0=function(){function i(e){this._cfg={},this.destroyed=!1,this.optimize=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var r=this.get("model"),n=r.id,a=this.get("type");typeof n=="undefined"?n=Kf(a):typeof n!="string"&&(n=String(n)),this.get("model").id=n,this.set("id",n);var o=e.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=r.shape||r.type||(a==="edge"?"line":"circle"),u=this.get("shapeFactory");if(u&&u[s]){var l=u[s].options;if(l&&l.stateStyles){var c=this.get("styles")||r.stateStyles;c=(0,f.deepMix)({},l.stateStyles,c),this.set("styles",c)}}}return i.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),r=Ia(e,t);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},i.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),r=Ia(e,t);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},i.prototype.drawInner=function(){var e=this,t=e.get("shapeFactory"),r=e.get("group"),n=e.get("model");r.clear();var a=n.visible;if(a!==void 0&&!a&&e.changeVisibility(a),!!t){e.updatePosition(n);var o=e.getShapeCfg(n),s=o.type,u=t.draw(s,o,r);u&&(e.set("keyShape",u),u.set("isKeyShape",!0),u.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(){var e=this.get("group"),t=e.get("children"),r=this.getKeyShape(),n=this,a=r.get("name");if(this.get("originStyle")){var I=this.get("originStyle");a&&!I[a]&&(I[a]={});for(var F=this.getCurrentStatesStyle(),Z=function(lt){var ct=t[lt],pt=ct.get("name"),_t=ct.attr();if(pt&&pt!==a){var jt=F[pt];I[pt]||(I[pt]={}),jt?Object.keys(_t).forEach(function(Ee){var Re=_t[Ee];Re!==jt[Ee]&&(I[pt][Ee]=Re)}):I[pt]=ct.get("type")!=="image"?(0,f.clone)(_t):n.getShapeStyleByName(pt)}else{var oe=ct.attr(),ie={};Object.keys(F).forEach(function(Ee){var Re=F[Ee];(Ee===a||!(0,f.isPlainObject)(Re))&&(ie[Ee]=Re)}),Object.keys(oe).forEach(function(Ee){var Re=oe[Ee];ie[Ee]!==Re&&(a?I[a][Ee]=Re:I[Ee]=Re)})}},s=0;s<t.length;s++)Z(s);delete I.path,delete I.matrix,delete I.x,delete I.y,I[a]&&(delete I[a].x,delete I[a].y,delete I[a].matrix,delete I[a].path),n.set("originStyle",I)}else{for(var o={},s=0;s<t.length;s++){var u=t[s],l=u.get("type"),c=u.get("name");if(c&&c!==a)o[c]=l!=="image"?(0,f.clone)(u.attr()):n.getShapeStyleByName(c),l==="text"&&o[c]&&(delete o[c].x,delete o[c].y,delete o[c].matrix);else{var d=n.getShapeStyleByName();if(delete d.path,delete d.matrix,!a)Object.assign(o,d);else if(c)o[a]=d;else{var A=Kf("shape");u.set("name",A),e.shapeMap[A]=u,o[A]=l!=="image"?(0,f.clone)(u.attr()):n.getShapeStyleByName(c)}}}n.set("originStyle",o)}},i.prototype.restoreStates=function(e,t){var r=this,n=r.get("states");(0,f.each)(n,function(a){e.setState(t,a,!0,r)})},i.prototype.init=function(){var e=Jo.getFactory(this.get("type"));this.set("shapeFactory",e)},i.prototype.get=function(e){return this._cfg[e]},i.prototype.set=function(e,t){(0,f.isPlainObject)(e)?this._cfg=(0,b.__assign)((0,b.__assign)({},this._cfg),e):this._cfg[e]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(Ph,null),this.set(Lh,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(e){var t=this.get("group"),r;if(e?r=t.shapeMap[e]:r=this.getKeyShape(),r){var n={};return(0,f.each)(r.attr(),function(a,o){(o!=="img"||(0,f.isString)(a))&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(e,t){var r=this.get("styles");if(r){var n=e;return n.style=(0,b.__assign)((0,b.__assign)({},r),e.style),n}return e},i.prototype.getStateStyle=function(e){var t=this.get("styles"),r=t&&t[e];return r},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var e=this,t={},r=e.getStates();return!r||!r.length?this.get("originStyle"):((0,f.each)(e.getStates(),function(n){t=Object.assign(t,e.getStateStyle(n))}),t)},i.prototype.setState=function(e,t){var r=this.get("states"),n=this.get("shapeFactory"),a=e,o=e;(0,f.isString)(t)&&(a="".concat(e,":").concat(t),o="".concat(e,":"));var s=r;if((0,f.isBoolean)(t)){var u=r.indexOf(o);if(t){if(u>-1)return;r.push(a)}else u>-1&&r.splice(u,1)}else if((0,f.isString)(t)){var l=r.filter(function(A){return A.includes(o)});l.length>0&&this.clearStates(l),s=s.filter(function(A){return!A.includes(o)}),s.push(a),this.set("states",s)}if(n){var c=this.get("model"),d=c.type;n.setState(d,e,t,this)}},i.prototype.clearStates=function(e){var t=this,r=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.type;e||(e=r),(0,f.isString)(e)&&(e=[e]);var s=r.filter(function(u){return e.indexOf(u)===-1});t.set("states",s),e.forEach(function(u){n.setState(o,u,!1,t)})},i.prototype.setOptimize=function(e){this.optimize=e},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(e){var t=this.getStates();return t.indexOf(e)>=0},i.prototype.refresh=function(e){var t=this.get("model");this.updatePosition(t),this.updateShape(e),this.afterUpdate(),this.clearCache()},i.prototype.getUpdateType=function(e){},i.prototype.update=function(e,t){t===void 0&&(t=void 0);var r=this.get("model");if(t==="move")this.updatePosition(e);else{var n=r.visible,a=e.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o={x:r.x,y:r.y};e.x=isNaN(+e.x)?r.x:+e.x,e.y=isNaN(+e.y)?r.y:+e.y;var s=this.get("styles");if(e.stateStyles){var u=e.stateStyles;(0,f.mix)(s,u),delete e.stateStyles}Object.assign(r,e),(o.x!==e.x||o.y!==e.y)&&this.updatePosition(e),this.updateShape(t)}this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(e){var t=this.get("shapeFactory"),r=this.get("model"),n=r.type;if(t.shouldUpdate(n)&&n===this.get("currentShape")){var a=this.getShapeCfg(r,e);t.baseUpdate(n,a,this,e),e!=="move"&&this.setOriginStyle()}else this.draw();this.restoreStates(t,n)},i.prototype.updatePosition=function(e){var t=this.get("model"),r=isNaN(+e.x)?+t.x:+e.x,n=isNaN(+e.y)?+t.y:+e.y,a=this.get("group");if(isNaN(r)||isNaN(n))return!1;t.x=r,t.y=n;var o=a.getMatrix();return o&&o[6]===r&&o[7]===n?!1:(a.resetMatrix(),Ua(a,{x:r,y:n}),this.clearCache(),!0)},i.prototype.getBBox=function(){var e=this.get(Ph);return e||(e=this.calculateBBox(),this.set(Ph,e)),e},i.prototype.getCanvasBBox=function(){var e=this.get(Lh);return e||(e=this.calculateCanvasBBox(),this.set(Lh,e)),e},i.prototype.toFront=function(){var e=this.get("group");e.toFront()},i.prototype.toBack=function(){var e=this.get("group");e.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},i.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),Bv=H0,Yd={source:"start",target:"end"},ju="Node",$f="Point",Z0="Anchor",K0=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,r){var n=Yd[t]+$f,a=t+ju,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,f.isPlainObject)(r)?(this.set(n,r),this.set(a,null)):r&&(r.addEdge(this),this.set(a,r),this.set(n,null))},e.prototype.getLinkPoint=function(t,r,n){var a=Yd[t]+$f,o=t+ju,s=this.get(a);if(!s){var u=this.get(o),l=t+Z0,c=this.getPrePoint(t,n),d=r[l];(0,f.isNil)(d)||(s=u.getLinkPointByAnchor(d)),s=s||u.getLinkPoint(c),(0,f.isNil)(s.index)||this.set("".concat(t,"AnchorIndex"),s.index)}return s},e.prototype.getPrePoint=function(t,r){if(r&&r.length){var n=t==="source"?0:r.length-1;return r[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},e.prototype.getEndPoint=function(t){var r=t+ju,n=Yd[t]+$f,a=this.get(r);return a&&!a.destroyed?a.get("model"):this.get(n)},e.prototype.getControlPointsByCenter=function(t){var r=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.type;return a.getControlPoints(o,{startPoint:r,endPoint:n})},e.prototype.getEndCenter=function(t){var r=t+ju,n=Yd[t]+$f,a=this.get(r);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},e.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(t,r){var n=this,a=n.get("linkCenter"),o=r!=null&&r.includes("move")?t:i.prototype.getShapeCfg.call(this,t);if(a)o.startPoint=n.getEndCenter("source"),o.endPoint=n.getEndCenter("target");else{var s=o.controlPoints||n.getControlPointsByCenter(o);o.startPoint=n.getLinkPoint("source",t,s),o.endPoint=n.getLinkPoint("target",t,s)}return o.sourceNode=n.get("sourceNode"),o.targetNode=n.get("targetNode"),o},e.prototype.getModel=function(){var t=this.get("model"),r=this.get("source".concat(ju)),n=this.get("target".concat(ju));return r?delete t["source".concat(ju)]:t.source=this.get("start".concat($f)),n?delete t["target".concat(ju)]:t.target=this.get("end".concat($f)),!(0,f.isString)(t.source)&&!(0,f.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,f.isString)(t.target)&&!(0,f.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){return!1},e.prototype.update=function(t,r){r===void 0&&(r=void 0);var n=this.get("model"),a=n.visible,o=t.visible;a!==o&&o!==void 0&&this.changeVisibility(o);var s=this.get("source"),u=this.get("target");if(!(!s||s.destroyed||!u||u.destroyed)){var l=this.get("styles");if(t.stateStyles){var c=t.stateStyles;(0,f.mix)(l,c),delete t.stateStyles}Object.assign(n,t),this.updateShape(r),this.afterUpdate(),this.clearCache()}},e.prototype.destroy=function(){var t=this.get("source".concat(ju)),r=this.get("target".concat(ju));t&&!t.destroyed&&t.removeEdge(this),r&&!r.destroyed&&r.removeEdge(this),i.prototype.destroy.call(this)},e}(Bv),Fv=K0,Nh="anchorPointsCache",$0="bboxCache",Q0=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getNearestPoint=function(t,r){for(var n=0,a=t[0],o=Kn(t[0],r),s=0;s<t.length;s++){var u=t[s],l=Kn(u,r);l<o&&(a=u,o=l,n=s)}return a.anchorIndex=n,a},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(r){return r.get("target")===t})},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(r){return r.get("source")===t})},e.prototype.getNeighbors=function(t){var r=this,n=this.get("edges");if(t==="target"){var a=function(l){return l.getSource()===r};return n.filter(a).map(function(u){return u.getTarget()})}if(t==="source"){var o=function(l){return l.getTarget()===r};return n.filter(o).map(function(u){return u.getSource()})}var s=function(l){return l.getSource()===r?l.getTarget():l.getSource()};return n.map(s)},e.prototype.getLinkPointByAnchor=function(t){var r=this.getAnchorPoints();return r[t]},e.prototype.getLinkPoint=function(t){var r=this.get("keyShape"),n=r.get("type"),a=this.get("type"),o,s,u=this.getBBox();a==="combo"?(o=u.centerX||(u.maxX+u.minX)/2,s=u.centerY||(u.maxY+u.minY)/2):(o=u.centerX,s=u.centerY);var l=this.getAnchorPoints(),c;switch(n){case"circle":c=Sr({x:o,y:s,r:u.width/2},t);break;case"ellipse":c=br({x:o,y:s,rx:u.width/2,ry:u.height/2},t);break;default:c=_r(u,t)}var d=c;return l.length&&(d||(d=t),d=this.getNearestPoint(l,d)),d||(d={x:o,y:s}),d},e.prototype.getAnchorPoints=function(){var t=this.get(Nh);if(!t){t=[];var r=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.type,u=r.getAnchorPoints(s,o)||[];(0,f.each)(u,function(l,c){var d={x:n.minX+l[0]*n.width,y:n.minY+l[1]*n.height,anchorIndex:c};t.push(d)}),this.set(Nh,t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var r=this.getEdges(),n=r.indexOf(t);n>-1&&r.splice(n,1)},e.prototype.clearCache=function(){this.set($0,null),this.set(Nh,null)},e.prototype.getUpdateType=function(t){var r,n,a,o,s;if(t){var u=!(0,f.isNil)(t.x),l=!(0,f.isNil)(t.y),c=Object.keys(t);if(c.length===1&&(u||l)||c.length===2&&u&&l)return"move";if((0,f.isNumber)(t.x)||(0,f.isNumber)(t.y)||t.type||t.anchorPoints||t.size||t!=null&&t.style&&(!((r=t==null?void 0:t.style)===null||r===void 0)&&r.r||!((n=t==null?void 0:t.style)===null||n===void 0)&&n.width||!((a=t==null?void 0:t.style)===null||a===void 0)&&a.height||!((o=t==null?void 0:t.style)===null||o===void 0)&&o.rx||!((s=t==null?void 0:t.style)===null||s===void 0)&&s.ry))return"bbox|label";var d=c.includes("label")||c.includes("labelCfg");return d?"style|label":"style"}},e.prototype.setState=function(t,r){var n=this;if(this.optimize){i.prototype.setState.call(this,t,r);return}this.runWithBBoxAffected(function(){return i.prototype.setState.call(n,t,r)})},e.prototype.clearStates=function(t){var r=this;if(this.optimize){i.prototype.clearStates.call(this,t);return}this.runWithBBoxAffected(function(){return i.prototype.clearStates.call(r,t)})},e.prototype.runWithBBoxAffected=function(t){var r=["r","width","height","rx","ry","lineWidth"],n=this.getKeyShape().attr(),a={};Object.keys(this.getKeyShape().attr()).forEach(function(l){r.includes(l)&&(a[l]=n[l])}),t();for(var o=this.getKeyShape().attr(),s=0;s<r.length;s++){var u=r[s];if(o[u]!==a[u]){this.clearCache(),this.getEdges().forEach(function(l){return l.refresh()});break}}},e}(Bv),Rh=Q0,zv="bboxCache",Gv="bboxCanvasCache",Uv="sizeCache",Wv="anchorPointsCache",q0=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var r=this.get("styles"),n=this.get("bbox");if(r&&n){var a=t,o=(0,f.isNumber)(t.size)?[t.size,t.size]:t.size,s=(0,f.isNumber)(t.fixSize)?[t.fixSize,t.fixSize]:t.fixSize,u=o||s||Yt.defaultCombo.size,l={r:(Math.max(n.width,n.height)||Math.max(u[0],u[1]))/2,width:n.width||u[0],height:n.height||u[1]};a.style=(0,b.__assign)((0,b.__assign)((0,b.__assign)({},r),t.style),l);var c=t.padding||Yt.defaultCombo.padding;return(0,f.isNumber)(c)?(l.r+=c,l.width+=c*2,l.height+=c*2):(l.r=l.r+Math.max.apply(Math,c),l.width+=c[1]+c[3]||c[1]*2,l.height+=c[0]+c[2]||c[0]*2),this.set(Uv,l),a}return t},e.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),r=this.get("group"),n=Ia(t,r);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(zv)||{},o=a.x,s=a.x;return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n.x=n.minX,n.y=n.minY,(n.x!==o||n.y!==s)&&this.set(Wv,null),n}},e.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},e.prototype.getNodes=function(){var t=this;return t.get("nodes")},e.prototype.getCombos=function(){var t=this;return t.get("combos")},e.prototype.addChild=function(t){var r=this,n=t.getType();switch(n){case"node":r.addNode(t);break;case"combo":r.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){var r=this;return r.get("combos").push(t),!0},e.prototype.addNode=function(t){var r=this;return r.get("nodes").push(t),!0},e.prototype.removeChild=function(t){var r=this,n=t.getType();switch(n){case"node":r.removeNode(t);break;case"combo":r.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(t){var r=this.getCombos(),n=r.indexOf(t);return n>-1?(r.splice(n,1),!0):!1}},e.prototype.removeNode=function(t){if(t){var r=this.getNodes(),n=r.indexOf(t);return n>-1?(r.splice(n,1),!0):!1}},e.prototype.getUpdateType=function(t){},e.prototype.getBBox=function(){this.set(Gv,null);var t=this.calculateCanvasBBox();return t},e.prototype.clearCache=function(){this.set(zv,null),this.set(Gv,null),this.set(Wv,null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),r=this.get("group");t&&r.stopAnimate(),r.shapeMap={},this.clearCache(),this.set(Uv,null),this.set("bbox",null),r.remove(),this._cfg=null,this.destroyed=!0}},e}(Rh),Yv=q0,Xd="node",jd="edge",Xv="vedge",xd="combo",J0="default",jv="Mapper",Sl="stateStyles",tm=function(){function i(e){var t=this;this.edgeToBeUpdateMap={},this.throttleRefresh=(0,f.throttle)(function(r){var n=t.graph;if(!(!n||n.get("destroyed"))){var a=t.edgeToBeUpdateMap;if(a){var o=Object.values(a);o.length&&(o.forEach(function(s){var u=s.edge;if(!(!u||u.destroyed)){var l=u.getSource(),c=u.getTarget();!l||l.destroyed||!c||c.destroyed||u.refresh(s.updateType)}}),t.edgeToBeUpdateMap={})}}},16,{trailing:!0,leading:!0}),this.graph=e,this.destroyed=!1}return i.prototype.addItem=function(e,t){var r=this.graph,n=e===Xv?jd:e,a=r.get("".concat(n,"Group"))||r.get("group"),o=(0,f.upperFirst)(n),s=null,u=r.get(n+(0,f.upperFirst)(Sl))||{},l=r.get(J0+o);t[Sl]&&(u=t[Sl]),l&&(0,f.each)(l,function(oe,ie){(0,f.isObject)(oe)&&!(0,f.isArray)(oe)?t[ie]=(0,f.deepMix)({},oe,t[ie]):(0,f.isArray)(oe)?t[ie]=t[ie]||(0,f.clone)(l[ie]):t[ie]=t[ie]||l[ie]});var c=r.get(n+jv);if(c){var d=c(t);d[Sl]&&(u=d[Sl],delete d[Sl]),(0,f.each)(d,function(oe,ie){(0,f.isObject)(oe)&&!(0,f.isArray)(oe)?t[ie]=(0,f.deepMix)({},t[ie],oe):t[ie]=d[ie]||t[ie]})}if(r.emit("beforeadditem",{type:e,model:t}),e===jd||e===Xv){var A=void 0,I=void 0;if(A=t.source,I=t.target,A&&(0,f.isString)(A)&&(A=r.findById(A)),I&&(0,f.isString)(I)&&(I=r.findById(I)),!A||!I){console.warn("The source or target node of edge ".concat(t.id," does not exist!"));return}A.getType&&A.getType()==="combo"&&(t.isComboEdge=!0),I.getType&&I.getType()==="combo"&&(t.isComboEdge=!0),s=new Fv({model:t,source:A,target:I,styles:u,linkCenter:r.get("linkCenter"),group:a.addGroup()})}else if(e===Xd)s=new Rh({model:t,styles:u,group:a.addGroup()});else if(e===xd){var F=t.children,Z=ws(F,r),rt=void 0,lt=void 0;if(isNaN(Z.x)?isNaN(t.x)&&(rt=Math.random()*100):rt=Z.x,isNaN(Z.y)?isNaN(t.y)&&(lt=Math.random()*100):lt=Z.y,isNaN(t.x)||isNaN(t.y))t.x=rt,t.y=lt;else{var ct=t.x-rt,pt=t.y-lt;this.updateComboSucceeds(t.id,ct,pt,F)}var _t=a.addGroup();_t.setZIndex(t.depth),s=new Yv({model:t,styles:u,animate:r.get("animate"),bbox:t.collapsed?ws([],r):Z,group:_t}),!t.collapsed&&s.getKeyShape().get("type")==="circle"&&(Z.width=Math.hypot(Z.height,Z.width),Z.height=Z.width,s.set("bbox",Z),s.refresh());var jt=s.getModel();(F||[]).forEach(function(oe){var ie=r.findById(oe.id);s.addChild(ie),oe.depth=jt.depth+2})}if(s)return s.setOptimize(r.getNodes().length>r.get("optimizeThreshold")),r.get("".concat(e,"s")).push(s),r.get("itemMap")[s.get("id")]=s,r.emit("afteradditem",{item:s,model:t}),s},i.prototype.updateItem=function(e,t){var r=this,n,a,o=this.graph;if((0,f.isString)(e)&&(e=o.findById(e)),!(!e||e.destroyed)){var s="";e.getType&&(s=e.getType());var u=o.get(s+jv),l=e.getModel(),c=l.x,d=l.y,A=e.getUpdateType(t);if(u){var I=(0,f.deepMix)({},l,t),F=u(I),Z=(0,f.deepMix)({},l,F,t);F[Sl]&&(e.set("styles",Z[Sl]),delete Z[Sl]),(0,f.each)(Z,function(Ae,He){t[He]=Ae})}else(0,f.each)(t,function(Ae,He){l[He]&&(0,f.isObject)(Ae)&&!(0,f.isArray)(Ae)&&(t[He]=(0,b.__assign)((0,b.__assign)({},l[He]),t[He]))});if(o.emit("beforeupdateitem",{item:e,cfg:t}),s===jd){if(t.source){var rt=t.source;(0,f.isString)(rt)&&(rt=o.findById(rt)),e.setSource(rt)}if(t.target){var lt=t.target;(0,f.isString)(lt)&&(lt=o.findById(lt)),e.setTarget(lt)}e.update(t)}else if(s===Xd){e.update(t,A);var ct=e.getEdges();A==="move"?(0,f.each)(ct,function(Ae){r.edgeToBeUpdateMap[Ae.getID()]={edge:Ae,updateType:A},r.throttleRefresh()}):A!=null&&A.includes("bbox")&&(0,f.each)(ct,function(Ae){Ae.refresh(A)})}else if(s===xd){if(e.update(t,A),!isNaN(t.x)||!isNaN(t.y)){var pt=t.x-c||0,_t=t.y-d||0;this.updateComboSucceeds(l.id,pt,_t)}var jt=e.getEdges(),oe=(A==null?void 0:A.includes("bbox"))||A==="move";if(oe&&s===xd){var ie=e.get("shapeFactory"),Ee=l.type||"circle",Re=l.animate===void 0||t.animate===void 0?(a=(n=ie[Ee])===null||n===void 0?void 0:n.options)===null||a===void 0?void 0:a.animate:l.animate||t.animate;Re?setTimeout(function(){if(!(!e||e.destroyed)){var Ae=e.getKeyShape();!Ae||Ae.destroyed||(0,f.each)(jt,function(He){He&&!He.destroyed&&He.refresh()})}},201):(0,f.each)(jt,function(Ae){Ae.refresh()})}}e.setOptimize(o.getNodes().length>o.get("optimizeThreshold")),o.emit("afterupdateitem",{item:e,cfg:t})}},i.prototype.updateCombo=function(e,t,r){var n=this,a,o,s=this.graph;if((0,f.isString)(e)&&(e=s.findById(e)),!(!e||e.destroyed)){var u=e.getModel(),l=ws(t,s,e),c=l.x,d=l.y;e.set("bbox",l);var A=c,I=d;r?(A=isNaN(u.x)?c:u.x,I=isNaN(u.y)?d:u.y):(A=isNaN(c)?u.x:c,I=isNaN(d)?u.y:d),e.update({x:A,y:I});var F=e.get("shapeFactory"),Z=u.type||"circle",rt=u.animate===void 0?(o=(a=F[Z])===null||a===void 0?void 0:a.options)===null||o===void 0?void 0:o.animate:u.animate;rt?setTimeout(function(){if(!(!e||e.destroyed)){var lt=e.getKeyShape();!lt||lt.destroyed||(e.getShapeCfg(u),n.updateComboEdges(e))}},201):this.updateComboEdges(e)}},i.prototype.updateComboEdges=function(e){for(var t,r,n=e.getEdges()||[],a=0;a<n.length;a++){var o=n[a];!(o!=null&&o.destroyed)&&!(!((t=o==null?void 0:o.getSource())===null||t===void 0)&&t.destroyed)&&!(!((r=o==null?void 0:o.getTarget())===null||r===void 0)&&r.destroyed)&&o.refresh()}},i.prototype.collapseCombo=function(e,t){t===void 0&&(t=!0);var r=this.graph;(0,f.isString)(e)&&(e=r.findById(e));var n=e.getChildren();n.nodes.forEach(function(a){r.hideItem(a,t)}),n.combos.forEach(function(a){r.hideItem(a,t)})},i.prototype.updateComboSucceeds=function(e,t,r,n){var a=this;n===void 0&&(n=[]);var o=this.graph;if(!(!t&&!r)){var s=n;if(!(s!=null&&s.length)){var u=o.get("comboTrees");u==null||u.forEach(function(l){Di(l,function(c){return c.id===e?(s=c.children,!1):!0})})}s==null||s.forEach(function(l){var c=o.findById(l.id);if(c){var d=c.getModel();a.updateItem(l.id,{x:(d.x||0)+t,y:(d.y||0)+r})}})}},i.prototype.expandCombo=function(e,t){t===void 0&&(t=!0);var r=this.graph;(0,f.isString)(e)&&(e=r.findById(e));var n=e.getChildren(),a=new Set;n.nodes.forEach(function(o){r.showItem(o,t),o.getEdges().forEach(function(s){return a.add(s)})}),n.combos.forEach(function(o){o.getModel().collapsed?o.show():r.showItem(o,t),o.getEdges().forEach(function(s){return a.add(s)})}),a.forEach(function(o){return o.refresh()})},i.prototype.removeItem=function(e){var t=this,r=this.graph;if((0,f.isString)(e)&&(e=r.findById(e)),!(!e||e.destroyed)){var n=(0,f.clone)(e.getModel()),a="";e.getType&&(a=e.getType()),r.emit("beforeremoveitem",{item:n,type:a});var o=r.get("".concat(a,"s")),s=o.indexOf(e);if(s>-1&&o.splice(s,1),a===jd){var u=r.get("v".concat(a,"s")),l=u.indexOf(e);l>-1&&u.splice(l,1)}var c=e.get("id"),d=r.get("itemMap");delete d[c];var A=r.get("comboTrees"),I=e.get("id");if(a===Xd){var F=e.getModel().comboId;if(A&&F){var Z=A,rt=!1;A.forEach(function(oe){rt||Di(oe,function(ie){if(ie.id===I&&Z){var Ee=Z.indexOf(ie);return Z.splice(Ee,1),rt=!0,!1}return Z=ie.children,!0})})}for(var lt=e.getEdges(),ct=lt.length-1;ct>=0;ct--)r.removeItem(lt[ct],!1);F&&r.updateCombo(F)}else if(a===xd){var pt=e.getModel().parentId,_t,jt=!1;(A||[]).forEach(function(ie){jt||Di(ie,function(Ee){return Ee.id===I?(_t=Ee,jt=!0,!1):!0})}),_t.removed=!0,_t&&_t.children&&_t.children.forEach(function(ie){t.removeItem(ie.id)});for(var lt=e.getEdges(),ct=lt.length;ct>=0;ct--)r.removeItem(lt[ct],!1);pt&&r.updateCombo(pt)}e.destroy(),r.emit("afterremoveitem",{item:n,type:a})}},i.prototype.setItemState=function(e,t,r){var n=this.graph,a=t;(0,f.isString)(r)&&(a="".concat(t,":").concat(r)),!(e.hasState(a)===r&&r||(0,f.isString)(r)&&e.hasState(a))&&(n.emit("beforeitemstatechange",{item:e,state:a,enabled:r}),e.setState(t,r),n.autoPaint(),n.emit("afteritemstatechange",{item:e,state:a,enabled:r}))},i.prototype.priorityState=function(e,t){var r=this.graph,n=e;(0,f.isString)(e)&&(n=r.findById(e)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(e,t){var r=this.graph;(0,f.isString)(e)&&(e=r.findById(e)),r.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),r.emit("afteritemstatesclear",{item:e,states:t})},i.prototype.refreshItem=function(e){var t=this.graph;(0,f.isString)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},i.prototype.addCombos=function(e,t){var r=this,n=this.graph;(e||[]).forEach(function(o){ro(o,function(s){var u;return t.forEach(function(l){l.id===s.id&&(l.children=s.children,l.depth=s.depth,u=l)}),u&&r.addItem("combo",u),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(e,t){var r=this,n=this.graph;if((0,f.isString)(e)&&(e=n.findById(e)),!e){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()===Xd){var a=e.getEdges();(0,f.each)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||r.changeItemVisibility(c,t)})}else if(e.getType&&e.getType()===xd){var o=n.get("comboTrees"),s=e.get("id"),u=[],l=!1;(o||[]).forEach(function(d){l||!d.children||d.children.length===0||Di(d,function(A){return A.id===s?(u=A.children,l=!0,!1):!0})}),u&&(!t||t&&!e.getModel().collapsed)&&u.forEach(function(d){var A=n.findById(d.id);r.changeItemVisibility(A,t)});var a=e.getEdges();(0,f.each)(a,function(d){t&&!(d.get("source").isVisible()&&d.get("target").isVisible())||r.changeItemVisibility(d,t)})}return n.emit("afteritemvisibilitychange",{item:e,visible:t}),e},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),em=tm,rm=function(){function i(e){this.graph=e,this.destroyed=!1}return i.prototype.updateState=function(e,t,r){var n=this.graph.get("states"),a=t;(0,f.isString)(r)&&(a="".concat(t,":").concat(r)),n[a]||(n[a]=[]),r?n[a].push(e):n[a]=n[a].filter(function(o){return o!==e}),this.graph.set("states",n),this.graph.emit("graphstatechange",{states:n})},i.prototype.updateStates=function(e,t,r){var n=this.graph.get("states"),a=(0,f.isString)(t)?[t]:t;a.forEach(function(o){var s=o;n[s]||(n[s]=[]),(0,f.isString)(r)&&(s="".concat(o,":").concat(r)),r?n[s].push(e):n[s]=n[s].filter(function(u){return u!==e})}),this.graph.set("states",n),this.graph.emit("graphstatechange",{states:t})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),nm=rm,am=function(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(r,n){if(r.charAt(0)==="\\")return r.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},Vv=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));for(var r=0,n=e;r<n.length;r++){var a=n[r],o=a.x,s=a.y;t.push(o),t.push(s)}var u=ma(t);return u.unshift(["M",e[0].x,e[0].y]),u},Vd=function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var a={x:(1-r)*e.x+r*t.x,y:(1-r)*e.y+r*t.y},o=[0,0];Hn.normalize(o,[t.x-e.x,t.y-e.y]),(!o||!o[0]&&!o[1])&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},im=function(e,t){var r=e.length;if(!r)return"";for(var n="",a="",o=0;o<r;o++){var s=e[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=am(a,s)}return t&&(n+="Z"),n},kh=function(e){var t=[];return e.forEach(function(r){var n=r[0];if(n!=="A")for(var a=1;a<r.length;a=a+2)t.push([r[a],r[a+1]]);else{var o=r.length;t.push([r[o-2],r[o-1]])}}),t},Bh=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));var t=e[0],r=e[1],n=e[e.length-1],a=e[e.length-2];e.unshift(n),e.unshift(a),e.push(t),e.push(r);for(var o=[],s=1;s<e.length-2;s+=1){var u=e[s-1].x,l=e[s-1].y,c=e[s].x,d=e[s].y,A=e[s+1].x,I=e[s+1].y,F=s!==e.length-2?e[s+2].x:A,Z=s!==e.length-2?e[s+2].y:I,rt=c+(A-u)/6,lt=d+(I-l)/6,ct=A-(F-c)/6,pt=I-(Z-d)/6;o.push(["C",rt,lt,ct,pt,A,I])}return o.unshift(["M",n.x,n.y]),o},Hv=function(e,t){return Hn.scale([0,0],Hn.normalize([0,0],e),t)},Zv=function(e,t){var r=[e[1]-t[1],t[0]-e[0]],n=Math.sqrt(r[0]*r[0]+r[1]*r[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[r[0]/n,r[1]/n]},Kv=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function Fh(i,e){var t=function(d){var A=[d[0][0],d[0][1]-e],I=[d[0][0],d[0][1]+e];return"M ".concat(A," A ").concat(e,",").concat(e,",0,0,0,").concat(I," A ").concat(e,",").concat(e,",0,0,0,").concat(A)},r=function(d){var A=Hn.scale([0,0],Zv(d[0],d[1]),e),I=Hn.scale([0,0],A,-1),F=Hn.add([0,0],d[0],A),Z=Hn.add([0,0],d[1],A),rt=Hn.add([0,0],d[1],I),lt=Hn.add([0,0],d[0],I);return"M ".concat(F," L ").concat(Z," A ").concat([e,e,"0,0,0",rt].join(",")," L ").concat(lt," A ").concat([e,e,"0,0,0",F].join(","))};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return r(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],u=Hn.scale([0,0],Zv(o,s),e);n[a]=[Hn.add([0,0],o,u),Hn.add([0,0],s,u)]}var l="A ".concat([e,e,"0,0,0,"].join(","));return n=n.map(function(c,d){var A="";return d===0&&(A="M ".concat(n[n.length-1][1]," ")),A+="".concat(l+c[0]," L ").concat(c[1]),A}),n.join(" ")}function $v(i,e){var t=i.length,r=function(c){var d=[c[0][0],c[0][1]-e],A=[c[0][0],c[0][1]+e];return"M ".concat(d," A ").concat([e,e,"0,0,0",A].join(",")," A ").concat([e,e,"0,0,0",d].join(","))},n=function(c){var d=Kv(c[0],c[1]),A=Hv(d,e),I=Hn.add([0,0],c[0],Hn.scale([0,0],A,-1)),F=Hn.add([0,0],c[1],A),Z=1.2*e,rt=Hv(Hn.normalize([0,0],d),Z),lt=Hn.scale([0,0],rt,-1),ct=Hn.add([0,0],I,lt),pt=Hn.add([0,0],F,lt),_t=Hn.add([0,0],I,rt);return"M ".concat(I," C ").concat([ct,pt,F].join(",")," S ").concat([_t,I].join(",")," Z")};if(!i||t<1)return"";if(t===1)return r(i);if(t===2)return n(i);for(var a=i.map(function(l,c){var d=i[(c+1)%t];return{p:l,v:Hn.normalize([0,0],Kv(l,d))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,u=Hn.normalize([0,0],Hn.add([0,0],a[s].v,Hn.scale([0,0],a[o].v,-1)));a[o].p=Hn.add([0,0],a[o].p,Hn.scale([0,0],u,e))}return a.map(function(l){var c=l.p;return{x:c[0],y:c[1]}})}var om=function(e,t){for(var r=[],n=0;n<5;n++){var a=Math.cos((18+72*n)/180*Math.PI)*e,o=Math.sin((18+72*n)/180*Math.PI)*e,s=Math.cos((54+72*n)/180*Math.PI)*t,u=Math.sin((54+72*n)/180*Math.PI)*t;n===0?r.push(["M",a,-o]):r.push(["L",a,-o]),r.push(["L",s,-u])}return r.push(["Z"]),r},Qv=function(e,t,r){return(e.y-r.y)*(t.x-r.x)-(e.x-r.x)*(t.y-r.y)},qv=function(e){var t=e.map(function(d){return{x:d.getModel().x,y:d.getModel().y}});t.sort(function(d,A){return d.x===A.x?d.y-A.y:d.x-A.x});for(var r={},n=t.length-1;n>=0;n--){var a=t[n],o=a.x,s=a.y;r["".concat(o,"-").concat(s)]&&t.splice(n,1),r["".concat(o,"-").concat(s)]=!0}if(t.length===1)return t;for(var u=[],n=0;n<t.length;n++){for(;u.length>=2&&Qv(u[u.length-2],u[u.length-1],t[n])<=0;)u.pop();u.push(t[n])}for(var l=[],n=t.length-1;n>=0;n--){for(;l.length>=2&&Qv(l[l.length-2],l[l.length-1],t[n])<=0;)l.pop();l.push(t[n])}l.pop(),u.pop();var c=u.concat(l);return c},sm={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function um(i,e,t){var r=!1,n=function(u,l){return e.cells[u+l*e.width]},a=function(u,l){var c=0;return n(u-1,l-1)>=t&&(c+=1),n(u,l-1)>t&&(c+=2),n(u-1,l)>t&&(c+=4),n(u,l)>t&&(c+=8),c},o=function(u,l){for(var c=u,d=l,A,I,F=0;F<e.width*e.height;F++){if(A=c,I=d,i.findIndex(function(rt){return rt.x===c&&rt.y===d})>-1){if(!(i[0].x!==c||i[0].y!==d))return!0}else i.push({x:c,y:d});var Z=a(c,d);switch(Z){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:c++;break;case 12:case 14:case 4:c--;break;case 6:A===0&&(I===-1?c-=1:c+=1);break;case 1:case 13:case 5:d--;break;case 9:A===1&&(I===0?d-=1:d+=1);break;case 10:case 8:case 11:d++;break;default:return console.warn("Marching squares invalid state: ".concat(Z)),!0}}};this.march=function(){for(var s=0;s<e.width&&!r;s+=1)for(var u=0;u<e.height&&!r;u+=1)n(s,u)>t&&a(s,u)!==15&&(r=o(s,u));return r}}var lm=function(e,t,r){var n=Math.ceil(e/r),a=Math.ceil(t/r),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},cm=function(e,t,r){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:e.getModel().x,y:e.getModel().y},u={x:o.getModel().x,y:o.getModel().y},l=Gi(s,u),c=new va(s.x,s.y,u.x,u.y),d=r.reduce(function(A,I){return Ri(I,c)>0?A+1:A},0);l*Math.pow(d+1,2)<a&&(n=o,a=l*Math.pow(d+1,2))}),n},Jv=function(e,t){var r=Number.POSITIVE_INFINITY,n=null;return e.forEach(function(a){var o=Ri(a,t);o>=0&&o<r&&(n=a,r=o)}),n},fm=function(e,t,r,n){var a=[],o=[];o.push(e);for(var s=!0,u=0,l=function(I,F){var Z=!1;return F.forEach(function(rt){Z||(Oo(I,{x:rt.x1,y:rt.y1})||Oo(I,{x:rt.x2,y:rt.y2}))&&(Z=!0)}),Z},c=function(I,F){for(var Z=0,rt=F;Z<rt.length;Z++){var lt=rt[Z],ct=lt.getBBox(),pt=[[ct.x,ct.y],[ct.x+ct.width,ct.y],[ct.x,ct.y+ct.height],[ct.x+ct.width,ct.y+ct.height]];if(li(pt,I.x,I.y))return!0}return!1};s&&u<r;){s=!1;for(var d=function(){var I=o.pop(),F=Jv(t,I);if(F){var Z=hi(F,I),rt=Z[0],lt=Z[1];if(lt===2){var ct=function(_t){for(var jt=n,oe=tp(F,jt,rt,_t),ie=l(oe,o)||l(oe,a),Ee=c(oe,t);!ie&&Ee&&jt>=1;)jt/=1.5,oe=tp(F,jt,rt,_t),ie=l(oe,o)||l(oe,a),Ee=c(oe,t);oe&&!ie&&(!_t||!Ee)&&(o.push(new va(I.x1,I.y1,oe.x,oe.y)),o.push(new va(oe.x,oe.y,I.x2,I.y2)),s=!0)};ct(!0),s||ct(!1)}}s||a.push(I),u+=1};!s&&o.length;)d()}for(;o.length;)a.push(o.pop());return a};function dm(i,e,t,r,n){var a=cm(i,t,e);if(a===null)return[];var o=function(d){for(var A=[];d.length>0;){var I=d.pop();if(d.length===0){A.push(I);break}var F=d.pop(),Z=new va(I.x1,I.y1,F.x2,F.y2),rt=Jv(e,Z);rt?(A.push(I),d.push(F)):d.push(Z)}return A},s=new va(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),u=fm(s,e,r,n),l=o(u);return l}var hm=function(e,t,r){var n=Object.assign(sm,r),a=Ii(e.map(function(ct){return{x:ct.getModel().x,y:ct.getModel().y}}));e=e.sort(function(ct,pt){return Gi({x:ct.getModel().x,y:ct.getModel().y},a)-Gi({x:pt.getModel().x,y:pt.getModel().y},a)});var o=[],s=[];e.forEach(function(ct){var pt=dm(ct,t,o,n.maxRoutingIterations,n.morphBuffer);pt.forEach(function(_t){s.push(_t)}),o.push(ct)});for(var u=vm(e,s,n.nodeR0),l=lm(u.width,u.height,n.pixelGroupSize),c=[],d=[],A=0;A<n.maxMarchingIterations;A++)if(pm(e,t,s,u,l,n),c=[],d=[],!!new um(c,l,n.threshold).march()){var I=c.map(function(ct){return{x:Math.round(ct.x*n.pixelGroupSize+u.minX),y:Math.round(ct.y*n.pixelGroupSize+u.minY)}});if(I){var F=I.length;if(n.skip>1)for(F=Math.floor(I.length/n.skip);F<3&&n.skip>1;)n.skip-=1,F=Math.floor(I.length/n.skip);for(var Z=0,rt=0;rt<F;rt+=1,Z+=n.skip)d.push({x:I[Z].x,y:I[Z].y})}var lt=function(){for(var pt=0,_t=e;pt<_t.length;pt++){var jt=_t[pt],oe=d.map(function(ie){return[ie.x,ie.y]});if(!li(oe,jt.getBBox().centerX,jt.getBBox().centerY))return!1}return!0};if(d&&lt())return d;if(n.threshold*=.9,A<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return d};function vm(i,e,t){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(u){n.push(u.getBBox())}),e.forEach(function(u){n.push(u.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];r.minX=(s.minX<r.minX?s.minX:r.minX)-t,r.minY=(s.minY<r.minY?s.minY:r.minY)-t,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+t,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+t}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}function pm(i,e,t,r,n,a){function o(I,F){var Z=Math.floor((I-F)/a.pixelGroupSize);return Z<0?0:Z}function s(I,F){return I*a.pixelGroupSize+F}var u=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),l=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),c=function(F,Z){var rt=Math.min(o(F.minX,Z+r.minX),n.width),lt=Math.min(o(F.minY,Z+r.minY),n.height),ct=Math.min(o(F.maxX,-Z+r.minX),n.width),pt=Math.min(o(F.maxY,-Z+r.minY),n.height);return[rt,lt,ct,pt]},d=function(F,Z){for(var rt=F.getBBox(),lt=c(rt,a.nodeR1),ct=lt[0],pt=lt[1],_t=lt[2],jt=lt[3],oe=pt;oe<jt;oe+=1)for(var ie=ct;ie<_t;ie+=1)if(!(Z<0&&n[ie+oe*n.width]<=0)){var Ee=s(ie,r.minX),Re=s(oe,r.minY),Ae=Ni({x:Ee,y:Re},{x:rt.minX,y:rt.minY,width:rt.width,height:rt.height});if(Ae<Math.pow(a.nodeR1,2)){var He=Math.sqrt(Ae)-a.nodeR1;n.cells[ie+oe*n.width]+=Z*He*He}}},A=function(F,Z){for(var rt=F.getBBox(),lt=c(rt,a.edgeR1),ct=lt[0],pt=lt[1],_t=lt[2],jt=lt[3],oe=pt;oe<jt;oe+=1)for(var ie=ct;ie<_t;ie+=1)if(!(Z<0&&n.cells[ie+oe*n.width]<=0)){var Ee=s(ie,r.minX),Re=s(oe,r.minY),Ae=Ao({x:Ee,y:Re},F);if(Ae<Math.pow(a.edgeR1,2)){var He=Math.sqrt(Ae)-a.edgeR1;n.cells[ie+oe*n.width]+=Z*He*He}}};a.nodeInfluenceFactor&&i.forEach(function(I){d(I,a.nodeInfluenceFactor/u)}),a.edgeInfluenceFactor&&t.forEach(function(I){A(I,a.edgeInfluenceFactor/l)}),a.negativeNodeInfluenceFactor&&e.forEach(function(I){d(I,a.negativeNodeInfluenceFactor/u)})}function tp(i,e,t,r){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],u=t[3],l={topLeft:{x:n.minX-e,y:n.minY-e},topRight:{x:n.maxX+e,y:n.minY-e},bottomLeft:{x:n.minX-e,y:n.maxY+e},bottomRight:{x:n.maxX+e,y:n.maxY+e}},c=n.height*n.width;function d(F,Z){return n.width*((F.y-n.minY+(Z.y-n.minY))*.5)}if(o){if(a)return r?l.topLeft:l.bottomRight;if(s)return r?l.bottomLeft:l.topRight;var A=d(o,u);return A<c*.5?o.y>u.y?r?l.topLeft:l.bottomRight:r?l.topRight:l.bottomLeft:o.y<u.y?r?l.bottomLeft:l.topRight:r?l.bottomRight:l.topLeft}if(u){if(a)return r?l.topRight:l.bottomLeft;if(s)return r?l.bottomRight:l.topLeft}var I=d(a,s);return I<c*.5?a.x>s.x?r?l.topLeft:l.bottomRight:r?l.bottomLeft:l.topRight:a.x<s.x?r?l.topRight:l.bottomLeft:r?l.bottomRight:l.topLeft}var gm=function(){function i(e,t){this.cfg=(0,f.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(r){return(0,f.isString)(r)?e.findById(r):r}),this.nonMembers=this.cfg.nonMembers.map(function(r){return(0,f.isString)(r)?e.findById(r):r}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(e,t){var r,n,a;switch(this.type){case"round-convex":r=qv(e),a=Fh(r.map(function(o){return[o.x,o.y]}),this.padding),n=Do(a);break;case"smooth-convex":r=qv(e),r.length===2?(a=Fh(r.map(function(o){return[o.x,o.y]}),this.padding),n=Do(a)):r.length>2&&(a=$v(r.map(function(o){return[o.x,o.y]}),this.padding),n=Bh(a));break;case"bubble":r=hm(e,t,this.cfg.bubbleCfg),n=r.length>=2&&Bh(r);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:(0,b.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},i.prototype.addMember=function(e){if(e){(0,f.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(e){if(e){(0,f.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(e){if(e){(0,f.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(e){if(e){(0,f.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(e,t){var r=this;this.group.findById(this.id).remove(),e&&(this.members=e.map(function(n){return(0,f.isString)(n)?r.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,f.isString)(n)?r.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(e){var t=this.group.findById(this.id);t.attr((0,b.__assign)({},e))},i.prototype.updateCfg=function(e){var t=this;this.cfg=(0,f.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map(function(r){return(0,f.isString)(r)?t.graph.findById(r):r})),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(r){return(0,f.isString)(r)?t.graph.findById(r):r})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(e){var t=this,r;(0,f.isString)(e)?r=this.graph.findById(e):r=e;var n,a=r.getKeyShape();if(r.get("type")==="path")n=kh(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var u=t.graph.getPointByCanvas(s[0],s[1]);return[u.x,u.y]}),_a(n,kh(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),ep=gm,Ed=ft,mm="node",ym=function(i){(0,b.__extends)(e,i);function e(t){var r=i.call(this)||this;return r.sortCombos=(0,f.debounce)(function(){var n=r.get("comboSorted");if(!(!r||r.destroyed||n)){r.set("comboSorted",!0);var a=[],o={},s=r.get("comboTrees");(s||[]).forEach(function(l){Di(l,function(c){return a[c.depth]?a[c.depth].push(c.id):a[c.depth]=[c.id],o[c.id]=c.depth,!0})});var u=r.getEdges().concat(r.get("vedges"));(u||[]).forEach(function(l){var c=l.getModel(),d=o[c.source]||0,A=o[c.target]||0,I=Math.max(d,A);a[I]?a[I].push(c.id):a[I]=[c.id]}),a.forEach(function(l){if(!(!l||!l.length))for(var c=l.length-1;c>=0;c--){var d=r.findById(l[c]);d&&d.toFront()}})}},500,!1),r.cfg=(0,f.deepMix)(r.getDefaultCfg(),t),r.init(),r.animating=!1,r.destroyed=!1,r.cfg.enabledStack&&(r.undoStack=new Po(r.cfg.maxStep),r.redoStack=new Po(r.cfg.maxStep)),r}return e.prototype.init=function(){this.initCanvas();var t=new W0(this),r=new Eu(this),n=new em(this),a=new nm(this);this.set({viewController:t,modeController:r,itemController:n,stateController:a}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},e.prototype.initGroups=function(){var t=this.get("canvas");if(t){var r=t.get("el"),n=(r||{}).id,a=n===void 0?"g6":n,o=t.addGroup({id:"".concat(a,"-root"),className:Yt.rootContainerClassName});if(this.get("groupByTypes")){var s=o.addGroup({id:"".concat(a,"-edge"),className:Yt.edgeContainerClassName}),u=o.addGroup({id:"".concat(a,"-node"),className:Yt.nodeContainerClassName}),l=o.addGroup({id:"".concat(a,"-combo"),className:Yt.comboContainerClassName});l.toBack(),this.set({nodeGroup:u,edgeGroup:s,comboGroup:l})}var c=o.addGroup({id:"".concat(a,"-delegate"),className:Yt.delegateContainerClassName});this.set({delegateGroup:c}),this.set("group",o)}},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.02,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[],optimizeThreshold:1e3}},e.prototype.set=function(t,r){return(0,f.isPlainObject)(t)?this.cfg=(0,b.__assign)((0,b.__assign)({},this.cfg),t):this.cfg[t]=r,t==="enabledStack"&&r&&!this.undoStack&&!this.redoStack&&(this.undoStack=new Po(this.cfg.maxStep),this.redoStack=new Po(this.cfg.maxStep)),this},e.prototype.get=function(t){var r;return(r=this.cfg)===null||r===void 0?void 0:r[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,r){(0,f.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");r||(r=t.get("states")),n.clearItemStates(t,r);var a=this.get("stateController");a.updateStates(t,r,!1)},e.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},e.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},e.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,r){var n,a=this.get("".concat(t,"s"));return(0,f.each)(a,function(o,s){if(r(o,s))return n=o,n}),n},e.prototype.findAll=function(t,r){var n=[];return(0,f.each)(this.get("".concat(t,"s")),function(a,o){r(a,o)&&n.push(a)}),n},e.prototype.findAllByState=function(t,r,n){return n?this.findAll(t,function(a){return a.hasState(r)&&n(a)}):this.findAll(t,function(a){return a.hasState(r)})},e.prototype.translate=function(t,r,n,a){var o=this,s=this.get("group"),u=(0,f.clone)(s.getMatrix());if(u||(u=[1,0,0,0,1,0,0,0,1]),n){var l=is({animateCfg:a,callback:function(){return o.emit("viewportchange",{action:"translate",matrix:s.getMatrix()})}});ua(s,{x:s.getCanvasBBox().x+t,y:s.getCanvasBBox().y+r},n,l||{duration:500,easing:"easeCubic"})}else u=Ed(u,[["t",t,r]]),s.setMatrix(u),this.emit("viewportchange",{action:"translate",matrix:u}),this.autoPaint()},e.prototype.moveTo=function(t,r,n,a){var o=this.get("group");ua(o,{x:t,y:r},n,a||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:o.getMatrix()})},e.prototype.fitView=function(t,r,n,a){t&&this.set("fitViewPadding",t);var o=this.get("viewController");r?o.fitViewByRules(r,n,a):o.fitView(n,a),this.autoPaint()},e.prototype.fitCenter=function(t,r){var n=this.get("viewController");n.fitCenter(t,r),this.autoPaint()},e.prototype.addBehaviors=function(t,r){var n=this.get("modeController");return n.manipulateBehaviors(t,r,!0),this},e.prototype.removeBehaviors=function(t,r){var n=this.get("modeController");return n.manipulateBehaviors(t,r,!1),this},e.prototype.updateBehavior=function(t,r,n){var a=this.get("modeController");return a.updateBehavior(t,r,n),this},e.prototype.zoom=function(t,r,n,a){var o=this,s=this.get("group"),u=(0,f.clone)(s.getMatrix())||[1,0,0,0,1,0,0,0,1],l=this.get("minZoom"),c=this.get("maxZoom"),d=this.getZoom()||1,A=d*t,I=t,F=!1;if(l&&A<l?(I=l/d,F=!0):c&&A>c&&(I=c/d,F=!0),r?u=Ed(u,[["t",-r.x,-r.y],["s",I,I],["t",r.x,r.y]]):u=Ed(u,[["s",I,I]]),n){var Z=(0,f.clone)(s.getMatrix());Z||(Z=[1,0,0,0,1,0,0,0,1]);var rt=Z[0],lt=rt*I,ct=is({animateCfg:a,callback:function(){return o.emit("viewportchange",{action:"zoom",matrix:s.getMatrix()})}});s.animate(function(pt){if(pt===1)Z=u;else{var _t=mi(rt,lt,pt)/Z[0];r?Z=Ed(Z,[["t",-r.x,-r.y],["s",_t,_t],["t",r.x,r.y]]):Z=Ed(Z,[["s",_t,_t]])}return{matrix:Z}},ct)}else s.setMatrix(u),this.emit("viewportchange",{action:"zoom",matrix:u}),this.autoPaint();return!F},e.prototype.zoomTo=function(t,r,n,a){var o=t/this.getZoom();return this.zoom(o,r,n,a)},e.prototype.focusItem=function(t,r,n){var a=this.get("viewController"),o=!1;r?o=!0:r===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},e.prototype.focusItems=function(t,r,n,a){var o=this.get("viewController");o.focusItems(t,r,n,a)},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,r){var n=this.get("viewController");return n.getPointByClient(t,r)},e.prototype.getClientByPoint=function(t,r){var n=this.get("viewController");return n.getClientByPoint(t,r)},e.prototype.getPointByCanvas=function(t,r){var n=this.get("viewController");return n.getPointByCanvas(t,r)},e.prototype.getCanvasByPoint=function(t,r){var n=this.get("viewController");return n.getCanvasByPoint(t,r)},e.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},e.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},e.prototype.showItem=function(t,r){r===void 0&&(r=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(r&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),u={},l={};switch(s){case"node":u.nodes=[{id:o,visible:!1}],l.nodes=[{id:o,visible:!0}];break;case"edge":u.nodes=[{id:o,visible:!1}],l.edges=[{id:o,visible:!0}];break;case"combo":u.nodes=[{id:o,visible:!1}],l.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:u,after:l})}},e.prototype.hideItem=function(t,r){r===void 0&&(r=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(r&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),u={},l={};switch(s){case"node":u.nodes=[{id:o,visible:!0}],l.nodes=[{id:o,visible:!1}];break;case"edge":u.nodes=[{id:o,visible:!0}],l.edges=[{id:o,visible:!1}];break;case"combo":u.nodes=[{id:o,visible:!0}],l.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:u,after:l})}},e.prototype.refreshItem=function(t){var r=this.get("itemController");r.refreshItem(t)},e.prototype.setAutoPaint=function(t){var r=this;r.set("autoPaint",t);var n=r.get("canvas");n.set("autoDraw",t)},e.prototype.remove=function(t,r){r===void 0&&(r=!0),this.removeItem(t,r)},e.prototype.removeItem=function(t,r){r===void 0&&(r=!0);var n=t;if((0,f.isString)(t)&&(n=this.findById(t)),!n&&(0,f.isString)(t))console.warn("The item ".concat(t," to be removed does not exist!"));else if(n){var a="";if(n.getType&&(a=n.getType()),r&&this.get("enabledStack")){var o=(0,b.__assign)((0,b.__assign)({},n.getModel()),{itemType:a}),s={};switch(a){case"node":{s.nodes=[o],s.edges=[];for(var u=n.getEdges(),l=u.length-1;l>=0;l--)s.edges.push((0,b.__assign)((0,b.__assign)({},u[l].getModel()),{itemType:"edge"}));break}case"edge":s.edges=[o];break;case"combo":s.combos=[o];break;default:break}this.pushStack("delete",{before:s,after:{}})}if(a==="node"){var c=n.getModel();c.comboId&&this.updateComboTree(n,void 0,!1)}var d=this.get("itemController");if(d.removeItem(n),a==="combo"){var A=As(this.get("comboTrees"));this.set("comboTrees",A)}}},e.prototype.innerAddItem=function(t,r,n){if(!No(t,r))return!1;if(r.id&&this.findById(r.id)){console.warn("This item exists already. Be sure the id %c".concat(r.id,"%c is unique."),"font-size: 20px; color: red;","");return}var a,o=this.get("comboTrees")||[];if(t==="combo"){var s=this.get("itemMap"),u=!1;if(o.forEach(function(F){u||ro(F,function(Z){if(r.parentId===Z.id){u=!0;var rt=(0,b.__assign)({id:r.id,depth:Z.depth+2},r);Z.children?Z.children.push(rt):Z.children=[rt],r.depth=rt.depth,a=n.addItem(t,r)}var lt=s[Z.id];return u&&lt&&lt.getType&&lt.getType()==="combo"&&n.updateCombo(lt,Z.children),!0})}),!u){var l=(0,b.__assign)({id:r.id,depth:0},r);r.depth=l.depth,o.push(l),a=n.addItem(t,r)}this.set("comboTrees",o),r.collapsed&&(this.collapseCombo(a,!1),this.updateCombo(a))}else if(t==="node"&&(0,f.isString)(r.comboId)&&o){var c=this.findById(r.comboId);c&&c.getType&&c.getType()!=="combo"&&console.warn("'".concat(r.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),a=n.addItem(t,r);var d=this.get("itemMap"),A=!1,I=!1;o.forEach(function(F){I||A||ro(F,function(Z){if(Z.id===r.id)return I=!0,!1;if(r.comboId===Z.id&&!I){A=!0;var rt=(0,f.clone)(r);rt.itemType="node",Z.children?Z.children.push(rt):Z.children=[rt],rt.depth=Z.depth+1}return A&&d[Z.id].getType&&d[Z.id].getType()==="combo"&&n.updateCombo(d[Z.id],Z.children),!0})})}else a=n.addItem(t,r);if(t==="node"&&r.comboId||t==="combo"&&r.parentId){var c=this.findById(r.comboId||r.parentId);c&&c.getType&&c.getType()==="combo"&&c.addChild(a)}return a},e.prototype.addItem=function(t,r,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController"),u=this.innerAddItem(t,r,s);if(u===!1||u===!0)return u;var l=this.get("combos");if(l&&l.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var c=(0,b.__assign)((0,b.__assign)({},u.getModel()),{itemType:t}),d={};switch(t){case"node":d.nodes=[c];break;case"edge":d.edges=[c];break;case"combo":d.combos=[c];break;default:break}this.pushStack("add",{before:{},after:d})}return u},e.prototype.addItems=function(t,r,n){t===void 0&&(t=[]),r===void 0&&(r=!0),n===void 0&&(n=!0);var a=this.get("comboSorted");this.set("comboSorted",a&&!n);for(var o=this.get("itemController"),s=[],u=0;u<t.length;u++){var l=t[u];l.type!=="edge"&&l.type!=="vedge"?s.push(this.innerAddItem(l.type,l.model,o)):s.push(void 0)}for(var u=0;u<t.length;u++){var l=t[u];(l.type==="edge"||l.type==="vedge")&&(s[u]=this.innerAddItem(l.type,l.model,o))}if(n){var c=this.get("combos");c&&c.length>0&&this.sortCombos()}if(this.autoPaint(),r&&this.get("enabledStack")){for(var d={nodes:[],edges:[],combos:[]},u=0;u<t.length;u++){var A=t[u].type,I=s[u];if(I&&I!==!0){var F=(0,b.__assign)((0,b.__assign)({},I.getModel()),{itemType:A});switch(A){case"node":d.nodes.push(F);break;case"edge":d.edges.push(F);break;case"combo":d.combos.push(F);break;default:break}}}this.pushStack("addItems",{before:{},after:d})}return s},e.prototype.add=function(t,r,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,r,n,a)},e.prototype.updateItem=function(t,r,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,f.isString)(t)?s=this.findById(t):s=t;var u=n&&this.get("enabledStack"),l;u&&(l=(0,f.clone)(s.getModel()));var c="";s.getType&&(c=s.getType());var d=(0,b.__spreadArray)([],s.getStates(),!0);if(c==="combo"&&(0,f.each)(d,function(Z){return a.setItemState(s,Z,!1)}),o.updateItem(s,r),c==="combo"&&(0,f.each)(d,function(Z){return a.setItemState(s,Z,!0)}),u){var A={nodes:[],edges:[],combos:[]},I={nodes:[],edges:[],combos:[]},F=(0,b.__assign)({id:l.id},r);switch(c){case"node":A.nodes.push(l),I.nodes.push(F);break;case"edge":A.edges.push(l),I.edges.push(F);break;case"combo":A.combos.push(l),I.combos.push(F);break;default:break}this.pushStack("update",{before:A,after:I})}},e.prototype.update=function(t,r,n){n===void 0&&(n=!0),this.updateItem(t,r,n)},e.prototype.setItemState=function(t,r,n){(0,f.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,r,n);var o=this.get("stateController");o.updateState(t,r,n)},e.prototype.priorityState=function(t,r){var n=this.get("itemController");n.priorityState(t,r)},e.prototype.data=function(t){vs(t),this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var r=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!r)throw new Error("data must be defined first");var n=r.nodes,a=n===void 0?[]:n,o=r.edges,s=o===void 0?[]:o,u=r.combos,l=u===void 0?[]:u;if(this.clear(!0),this.emit("beforerender"),t.addItems(a.map(function(rt){return{type:"node",model:rt}}),!1,!1),(l==null?void 0:l.length)!==0){var c=Es(l,a);this.set("comboTrees",c),t.addCombos(l)}t.addItems(s.map(function(rt){return{type:"edge",model:rt}}),!1,!1);var d=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var A=t.get("layoutController");if(A){if(A.layout(I),this.destroyed)return}else I();function I(){(t.get("comboTrees")||[]).forEach(function(rt){ro(rt,function(lt){var ct=t.findById(lt.id);return ct.getType()==="combo"&&lt.collapsed&&(t.collapseCombo(lt.id,!1),t.updateCombo(ct)),!0})}),t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",d),setTimeout(function(){var rt;(rt=t.getCombos())===null||rt===void 0||rt.forEach(function(lt){lt.set("animate",!0)})},0)}if(!this.get("groupByTypes"))if(l&&l.length!==0)this.sortCombos();else if(r.nodes&&r.edges&&r.nodes.length<r.edges.length){var F=this.getNodes();F.forEach(function(rt){rt.toFront()})}else{var Z=this.getEdges();Z.forEach(function(rt){rt.toBack()})}},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,r,n){var a=this,o,s=this.get("itemMap");(0,f.each)(n,function(u){if(o=s[u.id],o){if(a.get("animate")&&t===mm){var l=o.getContainer().getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:l[6],y:l[7]})}a.updateItem(o,u,!1)}else o=a.addItem(t,u,!1);o&&r["".concat(t,"s")].push(o)})},e.prototype.changeData=function(t,r){var n=this,a;r===void 0&&(r=!0);var o=this,s=t||o.get("data");if(!vs(s))return this;this.emit("beforechangedata"),r&&this.get("enabledStack")&&this.pushStack("changedata",{before:o.save(),after:s}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(ct){return o.clearItemStates(ct)}),this.getEdges().map(function(ct){return o.clearItemStates(ct)});var u=this.get("canvas"),l=u.get("localRefresh");u.set("localRefresh",!1),o.get("data")||(o.data(s),o.render());var c=this.get("itemMap"),d={nodes:[],edges:[]},A=s.combos;if(A){var I=Es(A,s.nodes);this.set("comboTrees",I)}else this.set("comboTrees",[]);this.diffItems("node",d,s.nodes),(0,f.each)(c,function(ct,pt){c[pt].getModel().depth=0,!(ct.getType&&ct.getType()==="edge")&&(ct.getType&&ct.getType()==="combo"?(delete c[pt],ct.destroy()):d.nodes.indexOf(ct)<0&&(delete c[pt],o.remove(ct,!1)))});for(var F=this.getCombos(),Z=F.length,rt=Z-1;rt>=0;rt--)F[rt].destroyed&&F.splice(rt,1);A&&(o.addCombos(A),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",d,s.edges),(0,f.each)(c,function(ct,pt){ct.getType&&(ct.getType()==="node"||ct.getType()==="combo")||d.edges.indexOf(ct)<0&&(delete c[pt],o.remove(ct,!1))}),(this.get("comboTrees")||[]).forEach(function(ct){ro(ct,function(pt){var _t=n.findById(pt.id);return _t.getType()==="combo"&&pt.collapsed&&n.collapseCombo(pt.id,!1),!0})}),this.set({nodes:d.nodes,edges:d.edges});var lt=this.get("layoutController");return lt&&(lt.changeData(function(){setTimeout(function(){var ct;(ct=o.getCombos())===null||ct===void 0||ct.forEach(function(pt){pt.set("animate",!0)})},0)}),o.get("animate")&&!lt.getLayoutType()?(o.positionsAnimate(),(a=o.getCombos())===null||a===void 0||a.forEach(function(ct){return ct.set("animate",!0)})):o.autoPaint()),setTimeout(function(){u.set("localRefresh",l)},16),this.set("data",s),this.emit("afterchangedata"),this},e.prototype.addCombos=function(t){var r=this,n=r.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},e.prototype.createCombo=function(t,r,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController");this.set("comboSorted",!1);var s="",u;if(t){if((0,f.isString)(t))s=t,u={id:t};else{if(s=t.id,!s){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}u=t}var l=n&&this.get("enabledStack"),c={nodes:[],combos:[]};l&&r.forEach(function(lt){var ct=a.findById(lt),pt=ct.getType();if(!(pt!=="node"&&pt!=="combo")){var _t=ct.getModel();c["".concat(pt,"s")].push({id:lt,parentId:pt==="node"?_t.comboId:_t.parentId})}});var d=this.get("comboTrees"),A=new Set(r),I=new Map;d&&(d.forEach(function(lt){ro(lt,function(ct,pt,_t){if(A.has(ct.id)){if(pt){var jt=a.findById(pt.id),oe=a.findById(ct.id);pt.children.splice(_t,1),jt.removeChild(oe),o.updateCombo(jt,pt.children)}ct.itemType==="combo"&&I.set(ct.id,ct)}return!0})}),d=d.filter(function(lt){return!A.has(lt.id)}),this.set("comboTrees",d));var F={nodes:[],combos:[]},Z=r.map(function(lt){var ct=a.findById(lt),pt=ct.getModel(),_t="";ct.getType&&(_t=ct.getType());var jt=I.get(lt)||{id:ct.getID(),itemType:_t};return _t==="combo"?(jt.parentId=s,pt.parentId=s):_t==="node"&&(jt.comboId=s,pt.comboId=s),l&&F["".concat(_t,"s")].push({id:pt.id,parentId:s}),jt});u.children=Z,this.addItem("combo",u,!1),this.set("comboSorted",!1),d&&(d.forEach(function(lt){Di(lt,function(ct){return ct.id===s?(ct.itemType="combo",ct.children=Z,!1):!0})}),this.sortCombos()),l&&(F.combos.push(u),this.pushStack("createCombo",{before:c,after:F}));var rt=this.findById(s);!rt.getModel().parentId&&rt.getChildren().combos.length&&this.updateComboTree(rt,void 0,!1)}},e.prototype.uncombo=function(t,r){var n=this,a,o;r===void 0&&(r=!0);var s=this,u=t;if((0,f.isString)(t)&&(u=this.findById(t)),!u||u.getType&&u.getType()!=="combo"){console.warn("The item is not a combo!");return}var l=u.getModel(),c=u.getModel().parentId,d=s.get("comboTrees");d||(d=[]);var A=this.get("itemMap"),I=u.get("id"),F,Z=[],rt=this.get("combos"),lt=this.findById(c),ct=r&&this.get("enabledStack"),pt={};if(ct&&(pt=(0,f.clone)(l),pt.children=[]),d.forEach(function(ie){F||ro(ie,function(Ee){var Re;if(Ee.id===I){F=Ee;var Ae=u.getEdges().map(function(tn){return tn.getID()});Ae.forEach(function(tn){n.removeItem(tn,!1)});var He=rt.indexOf(u);rt.splice(He,1),delete A[I];var ur=(0,f.clone)(u.getModel());u.destroy(),n.emit("afterremoveitem",{item:ur,type:"combo"})}if(c&&F&&Ee.id===c){lt.removeCombo(u),Z=Ee.children;var He=Z.indexOf(F);return He!==-1&&Z.splice(He,1),(Re=F.children)===null||Re===void 0||Re.forEach(function(Tn){var pn=n.findById(Tn.id),Vr=pn.getModel();pn.getType&&pn.getType()==="combo"?(Tn.parentId=c,delete Tn.comboId,Vr.parentId=c,delete Vr.comboId):pn.getType&&pn.getType()==="node"&&(Tn.comboId=c,Vr.comboId=c),lt.addChild(pn),Z.push(Tn)}),n.updateCombo(lt),!1}return!0})}),!c&&F){var _t=d.indexOf(F);d.splice(_t,1),(a=F.children)===null||a===void 0||a.forEach(function(ie){ie.parentId=void 0;var Ee=n.findById(ie.id).getModel();delete Ee.parentId,delete Ee.comboId,ie.itemType!=="node"&&d.push(ie)})}if(ct){var jt={nodes:[],combos:[]},oe={nodes:[],combos:[]};(o=F.children)===null||o===void 0||o.forEach(function(ie){var Ee=n.findById(ie.id),Re=Ee.getType();Re!=="node"&&Re!=="combo"||(jt["".concat(Re,"s")].push({id:ie.id,parentId:I}),oe["".concat(Re,"s")].push({id:ie.id,parentId:c}))}),jt.combos.push(pt),this.pushStack("uncombo",{before:jt,after:oe})}},e.prototype.updateCombos=function(t){var r=this;t===void 0&&(t=!1);var n=this,a=this.get("comboTrees"),o=n.get("itemController"),s=n.get("itemMap");(a||[]).forEach(function(u){ro(u,function(l){var c;if(!l)return!0;var d=s[l.id];if(((c=d==null?void 0:d.getType)===null||c===void 0?void 0:c.call(d))==="combo"){var A=(0,b.__spreadArray)([],d.getStates(),!0);(0,f.each)(A,function(I){return r.setItemState(d,I,!1)}),o.updateCombo(d,l.children,t),(0,f.each)(A,function(I){return r.setItemState(d,I,!0)})}return!0})}),n.sortCombos()},e.prototype.updateCombo=function(t){var r=this,n=this,a=t,o;if((0,f.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),u=n.get("itemController"),l=n.get("itemMap");(s||[]).forEach(function(c){ro(c,function(d){if(!d)return!0;var A=l[d.id];if(o===d.id&&A&&A.getType&&A.getType()==="combo"){var I=(0,b.__spreadArray)([],A.getStates(),!0);(0,f.each)(I,function(F){A.getStateStyle(F)&&r.setItemState(A,F,!1)}),u.updateCombo(A,d.children),(0,f.each)(I,function(F){A.getStateStyle(F)&&r.setItemState(A,F,!0)}),o&&(o=d.parentId)}return!0})})},e.prototype.updateComboTree=function(t,r,n){n===void 0&&(n=!0);var a=this;this.set("comboSorted",!1);var o;(0,f.isString)(t)?o=a.findById(t):o=t;var s=o.getModel(),u=s.comboId||s.parentId,l="";if(o.getType&&(l=o.getType()),r&&l==="combo"){var c=this.get("comboTrees"),d=!0,A;if((c||[]).forEach(function(ct){A||Di(ct,function(pt){if(!A)return pt.id===o.getID()&&(A=pt),!0})}),Di(A,function(ct){return ct.id===r?(d=!1,!1):!0}),!d){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(n&&this.get("enabledStack")){var I={},F={};l==="combo"?(I.combos=[{id:s.id,parentId:s.parentId}],F.combos=[{id:s.id,parentId:r}]):l==="node"&&(I.nodes=[{id:s.id,parentId:s.comboId}],F.nodes=[{id:s.id,parentId:r}]),this.pushStack("updateComboTree",{before:I,after:F})}if(s.parentId||s.comboId){var Z=this.findById(s.parentId||s.comboId);Z&&Z.removeChild(o)}if(l==="combo"?s.parentId=r:l==="node"&&(s.comboId=r),r){var rt=this.findById(r);rt&&rt.addChild(o)}if(u){var rt=this.findById(u);rt&&rt.removeChild(o)}var lt=As(this.get("comboTrees"),s.id,r);this.set("comboTrees",lt),this.updateCombos()},e.prototype.save=function(){var t=[],r=[],n=[];return(0,f.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,f.each)(this.get("edges"),function(a){r.push(a.getModel())}),(0,f.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:r,combos:n}},e.prototype.changeSize=function(t,r){var n=this.get("viewController");return n.changeSize(t,r),this},e.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var r=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,f.each)(r,function(o){o.refresh()}),(0,f.each)(n,function(o){o.refresh()}),(0,f.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},e.prototype.positionsAnimate=function(t){var r=this;r.emit("beforeanimate");var n=r.get("animateCfg"),a=n.onFrame,o=t?r.getNodes().concat(r.getCombos()):r.getNodes(),s=o.map(function(l){var c=l.getModel();return{id:c.id,x:c.x,y:c.y}});r.stopAnimate();var u=r.get("canvas");r.animating=!0,u.animate(function(l){(0,f.each)(s,function(c){var d=r.findById(c.id);if(!(!d||d.destroyed)){var A=d.get("originAttrs"),I=d.get("model"),F=d.getContainer().getMatrix();if(A==null&&(F&&(A={x:F[6],y:F[7]}),d.set("originAttrs",A||0)),a){var Z=a(d,l,c,A||{x:0,y:0});d.set("model",Object.assign(I,Z))}else A?(I.x=A.x+(c.x-A.x)*l,I.y=A.y+(c.y-A.y)*l):(I.x=c.x,I.y=c.y)}}),r.refreshPositions(t)},{duration:n.duration,easing:n.easing,callback:function(){(0,f.each)(o,function(c){c.set("originAttrs",null)}),n.callback&&n.callback(),r.emit("afteranimate"),r.animating=!1}})},e.prototype.refreshPositions=function(t){var r=this;r.emit("beforegraphrefreshposition");var n=r.get("nodes"),a=r.get("edges"),o=r.get("vedges"),s=r.get("combos"),u,l={},c=function(A){(0,f.each)(A,function(I){u=I.getModel();var F=I.get("originAttrs");if(!(F&&u.x===F.x&&u.y===F.y)){var Z=I.updatePosition({x:u.x,y:u.y});l[u.id]=Z,u.comboId&&(l[u.comboId]=l[u.comboId]||Z),u.parentId&&(l[u.parentId]=l[u.parentId]||Z)}})};c(s),c(n),s&&s.length!==0&&(t&&c(s),r.updateCombos()),(0,f.each)(a,function(d){var A=d.getSource().getModel(),I=d.getTarget();if(!(0,f.isPlainObject)(I)){var F=I.getModel();(l[A.id]||l[F.id]||d.getModel().isComboEdge)&&d.refresh()}}),(0,f.each)(o,function(d){d.refresh()}),r.emit("aftergraphrefreshposition"),r.autoPaint()},e.prototype.stopAnimate=function(){this.isAnimating()&&this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},e.prototype.setMode=function(t){var r=this.get("modeController");return r.setMode(t),this},e.prototype.clear=function(t){var r;return t===void 0&&(t=!1),(r=this.get("canvas"))===null||r===void 0||r.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],vedges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},e.prototype.updateLayout=function(t,r,n,a){var o=this;t===void 0&&(t={}),a===void 0&&(a=!0);var s=this.get("layoutController");if((0,f.isString)(t)&&(t={type:t}),r){var u=n;u||(r==="begin"?u={x:0,y:0}:u={x:this.getWidth()/2,y:this.getHeight()/2}),u=this.getPointByCanvas(u.x,u.y);var l=["force","gForce","fruchterman","force2"];l.includes(t.type)||!t.type&&l.includes(s==null?void 0:s.layoutType)?t.center=[u.x,u.y]:this.once("afterlayout",function(A){var I=o.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];u.x=u.x*I[0]+I[6],u.y=u.y*I[0]+I[7];var F=o.getGroup().getCanvasBBox(),Z=F.minX,rt=F.maxX,lt=F.minY,ct=F.maxY,pt={x:(Z+rt)/2,y:(lt+ct)/2};r==="begin"&&(pt.x=Z,pt.y=lt),o.translate(u.x-pt.x,u.y-pt.y)})}var c=(0,b.__assign)({},this.get("layout")),d={};Object.assign(d,c,t),t.pipes&&!t.type?delete d.type:!t.pipes&&d.type&&delete d.pipes,this.set("layout",d),s&&(s.isLayoutTypeSame(d)&&d.gpuEnabled===c.gpuEnabled?s.updateLayoutCfg(d):s.changeLayout(d),a&&this.get("enabledStack")&&this.pushStack("layout",{before:c,after:d}))},e.prototype.destroyLayout=function(){var t=this.get("layoutController");t==null||t.destroyLayout()},e.prototype.layout=function(){var t,r=this.get("layoutController"),n=this.get("layout");if(!(!n||!r)){if(n.workerEnabled){r.layout();return}!((t=r.layoutMethods)===null||t===void 0)&&t.length?r.relayout(!0):r.layout()}},e.prototype.collapseCombo=function(t,r){var n=this;if(r===void 0&&(r=!0),!this.destroyed){if((0,f.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var a=t.getModel(),o=this.get("itemController");o.collapseCombo(t,r),a.collapsed=!0;var s=this.getEdges().concat(this.get("vedges")),u=[],l=this.get("comboTrees"),c=!1;(l||[]).forEach(function(A){c||Di(A,function(I){if(c&&I.depth<=a.depth)return!1;if(a.id===I.id&&(c=!0),c){var F=n.findById(I.id);F&&F.getType&&F.getType()==="combo"&&(u=u.concat(F.getNodes()),u=u.concat(F.getCombos()))}return!0})});var d={};s.forEach(function(A){var I=A.getModel(),F=I.isVEdge,Z=I.size,rt=Z===void 0?1:Z;if(!(A.isVisible()&&!F)){var lt=A.getSource(),ct=A.getTarget(),pt=null,_t;if(lt.getModel().id===a.id||u.includes(lt)&&!u.includes(ct)?(pt=ct,_t=!1):(ct.getModel().id===a.id||!u.includes(lt)&&u.includes(ct))&&(pt=lt,_t=!0),pt){if(F){n.removeItem(A,!1);return}for(var jt=pt.getModel();!pt.isVisible();){var oe=jt.parentId,ie=jt.comboId,Ee=oe||ie;if(pt=n.findById(Ee),!pt||!Ee)return;jt=pt.getModel()}var Re=jt.id,Ae=_t?{source:Re,target:a.id,size:rt,isVEdge:!0}:{source:a.id,target:Re,size:rt,isVEdge:!0},He="".concat(Ae.source,"-").concat(Ae.target);if(d[He]){d[He].size+=rt;return}d[He]=Ae}}}),this.addItems(Object.values(d).map(function(A){return{type:"vedge",model:A}}),!1),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})}},e.prototype.expandCombo=function(t,r){var n=this;if(r===void 0&&(r=!0),(0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var a=t.getModel(),o=this.get("itemController");o.expandCombo(t,r),a.collapsed=!1;var s=this.getEdges().concat(this.get("vedges")),u=[],l=this.get("comboTrees"),c=!1;(l||[]).forEach(function(A){c||Di(A,function(I){if(c&&I.depth<=a.depth)return!1;if(a.id===I.id&&(c=!0),c){var F=n.findById(I.id);F&&F.getType&&F.getType()==="combo"&&(u=u.concat(F.getNodes()),u=u.concat(F.getCombos()))}return!0})});var d={};s.forEach(function(A){if(!(A.isVisible()&&!A.getModel().isVEdge)){var I=A.getSource(),F=A.getTarget(),Z=I.get("id"),rt=F.get("id"),lt=null,ct;if(Z===a.id||u.includes(I)&&!u.includes(F)?(lt=F,ct=!1):rt===a.id||!u.includes(I)&&u.includes(F)?(lt=I,ct=!0):u.includes(I)&&u.includes(F)&&I.isVisible()&&F.isVisible()&&A.show(),lt){var pt=A.getModel(),_t=pt.isVEdge,jt=pt.size,oe=jt===void 0?1:jt;if(_t){n.removeItem(A,!1);return}for(var ie=lt.getModel();!lt.isVisible();){var Ee=ie.parentId,Re=ie.comboId,Ae=Ee||Re;if(lt=n.findById(Ae),!lt||!Ae)return;ie=lt.getModel()}for(var He=ie.id,ur=ct?F:I,tn=ur.getModel();!ur.isVisible();){var Tn=tn.parentId,pn=tn.comboId,Vr=Tn||pn;if(ur=n.findById(Vr),!ur||!Vr)return;if(tn.comboId===a.id||tn.parentId===a.id)break;tn=ur.getModel()}var Un=tn.id;if(He){var Rn=ct?{source:He,target:Un,isVEdge:!0,size:oe}:{source:Un,target:He,isVEdge:!0,size:oe},Hr="".concat(Rn.source,"-").concat(Rn.target);if(d[Hr]){d[Hr].size+=oe;return}d[Hr]=Rn}}}}),this.addItems(Object.values(d).map(function(A){return{type:"vedge",model:A}}),!1),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})},e.prototype.collapseExpandCombo=function(t,r){if(r===void 0&&(r=!0),(0,f.isString)(t)&&(t=this.findById(t)),!(!t||t.getType&&t.getType()!=="combo")){for(var n=t.getModel(),a=this.findById(n.parentId);a;){var o=a.getModel();if(o.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),a=void 0;return}a=this.findById(o.parentId)}var s=n.collapsed;s?this.expandCombo(t,r):this.collapseCombo(t,r),this.updateCombo(t)}},e.prototype.getNeighbors=function(t,r){var n=t;return(0,f.isString)(t)&&(n=this.findById(t)),n.getNeighbors(r)},e.prototype.getNodeDegree=function(t,r,n){r===void 0&&(r=void 0),n===void 0&&(n=!1);var a=t;(0,f.isString)(t)&&(a=this.findById(t));var o=this.get("degrees");(!o||n)&&(o=Kt(this.save()),this.set("degrees",o));var s=o[a.getID()],u=0;if(!s)return 0;switch(r){case"in":u=s.inDegree;break;case"out":u=s.outDegree;break;case"all":u=s;break;default:u=s.degree;break}return u},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear(),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack}))},e.prototype.pushStack=function(t,r,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=r?(0,f.clone)(r):{before:{},after:(0,f.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{action:t,stackType:n,undoStack:this.undoStack,redoStack:this.redoStack})},e.prototype.getAdjMatrix=function(t,r){t===void 0&&(t=!0),r===void 0&&(r=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=Q(this.save(),r),this.set("adjMatrix",n)),n},e.prototype.getShortestPathMatrix=function(t,r){t===void 0&&(t=!0),r===void 0&&(r=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=Q(this.save(),r),this.set("adjMatrix",n)),(!a||!t)&&(a=Je(this.save(),r),this.set("shortestPathMatrix",a)),a},e.prototype.on=function(t,r,n){return i.prototype.on.call(this,t,r,n)},e.prototype.destroy=function(){var t,r,n,a,o;this.clear(),this.clearStack(),(t=this.get("itemController"))===null||t===void 0||t.destroy(),(r=this.get("modeController"))===null||r===void 0||r.destroy(),(n=this.get("viewController"))===null||n===void 0||n.destroy(),(a=this.get("stateController"))===null||a===void 0||a.destroy(),(o=this.get("canvas"))===null||o===void 0||o.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){if(!t.members||t.members.length<1){console.warn("Create hull failed! The members is empty.");return}var r=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),(!r||r.get("destroyed"))&&(r=this.get("group").addGroup({id:"hullGroup"}),r.toBack(),this.set("hullGroup",r)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=r.addGroup({id:"".concat(t.id,"-container")}),o=new ep(this,(0,b.__assign)((0,b.__assign)({},t),{group:a})),s=o.id;return n[s]=o,o},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var r,n;(0,f.isString)(t)?n=this.getHullById(t):n=t,(r=this.get("hullMap"))===null||r===void 0||delete r[n.id],n.destroy()},e.prototype.removeHulls=function(){var t=this.getHulls();!t||!Object.keys(t).length||(Object.keys(t).forEach(function(r){var n=t[r];n.destroy()}),this.set("hullMap",{}))},e}(J),rp=ym;function zh(i){return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(i)}var Qf=ft,np="-shape",Gh="-label",Hd=["startArrow","endArrow"],ap={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},bm={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Zd={edge:bm,node:ap,combo:ap},Uh="-label-bg",Wh={options:{labelCfg:{style:{fontFamily:Yt.windowFontFamily}},descriptionCfg:{style:{fontFamily:Yt.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e,t){return t==="move"||t!=null&&t.includes("bbox")?e:(0,f.deepMix)({},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){t.shapeMap={},this.mergeStyle=this.getOptions(e);var r=this.drawShape(e,t);if(r.set("className",this.itemType+np),t.shapeMap[this.itemType+np]=r,e.label){var n=this.drawLabel(e,t);n.set("className",this.itemType+Gh),t.shapeMap[this.itemType+Gh]=n}return r},afterDraw:function(e,t,r){},drawShape:function(e,t){return null},drawLabel:function(e,t){var r=(this.mergeStyle||this.getOptions(e)||{}).labelCfg,n=r||{},a=this.getLabelStyle(e,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=s,!isNaN(o)&&o!==""){var u=s.getBBox(),l=[1,0,0,0,1,0,0,0,1];if(a.rotateCenter)switch(a.rotateCenter){case"center":l=Qf(l,[["t",-u.width/2,-u.height/2],["r",o],["t",u.width/2,u.height/2]]);break;case"lefttop":l=Qf(l,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":l=Qf(l,[["t",-a.x,-a.y-u.height/2],["r",o],["t",a.x,a.y+u.height/2]]);break;default:l=Qf(l,[["t",-u.width/2,-u.height/2],["r",o],["t",u.width/2,u.height/2]]);break}else l=Qf(l,[["t",-a.x,-a.y-u.height/2],["r",o],["t",a.x,a.y+u.height/2]]);s.setMatrix(l)}if(a.background){var c=this.drawLabelBg(e,t,s),d=this.itemType+Uh;c.set("classname",d),t.shapeMap[d]=c,s.toFront()}return s},drawLabelBg:function(e,t,r){var n=this.options.labelCfg,a=(0,f.mix)({},n,e.labelCfg),o=this.getLabelBgStyleByPosition(r,a),s=t.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return t.shapeMap["text-bg-shape"]=s,s},getLabelStyleByPosition:function(e,t,r){return{text:e.label}},getLabelBgStyleByPosition:function(e,t){return{}},getLabelStyle:function(e,t,r){var n=this.getLabelStyleByPosition(e,t,r),a="".concat(this.itemType,"Label"),o=Yt[a]?Yt[a].style:null;return(0,b.__assign)((0,b.__assign)((0,b.__assign)({},o),n),t.style)},getShapeStyle:function(e){return e.style},update:function(e,t,r){this.updateShapeStyle(e,t,r),this.updateLabel(e,t,r)},updateShapeStyle:function(e,t,r){var n,a=t.getContainer(),o=t.getKeyShape(),s=(0,f.mix)({},o.attr(),e.style),u=function(d){var A,I=s[d];if((0,f.isPlainObject)(I)){var F=((n=a.shapeMap)===null||n===void 0?void 0:n[d])||a.find(function(Z){return Z.get("name")===d});F==null||F.attr(I)}else o.attr((A={},A[d]=I,A))};for(var l in s)u(l)},updateLabel:function(e,t,r){var n,a;if(e.label||e.label===""){var o=t.getContainer(),s=(this.mergeStyle||this.getOptions({},r)||{}).labelCfg,u=s===void 0?{}:s,l=this.itemType+Gh,c=o.shapeMap[l]||o.find(function(_t){return _t.get("className")===l}),d=this.itemType+Uh,A=o.shapeMap[d]||o.find(function(_t){return _t.get("className")===d});if(c){(!r||r==="bbox|label"||this.itemType==="edge"&&r!=="style")&&(u=(0,f.deepMix)(u,e.labelCfg));var F=this.getLabelStyleByPosition(e,u,o),Z=(n=e.labelCfg)===null||n===void 0?void 0:n.style,rt=(0,b.__assign)((0,b.__assign)({},F),Z),lt=rt.rotate;if(delete rt.rotate,!isNaN(lt)&&lt!==""){var ct=[1,0,0,0,1,0,0,0,1];ct=Qf(ct,[["t",-rt.x,-rt.y],["r",lt],["t",rt.x,rt.y]]),rt.matrix=ct,c.attr(rt)}else((a=c.getMatrix())===null||a===void 0?void 0:a[4])!==1&&c.resetMatrix(),c.attr(rt);if(!A)rt.background&&(A=this.drawLabelBg(e,o,c),A.set("classname",d),o.shapeMap[d]=A,c.toFront());else if(rt.background){var pt=this.getLabelBgStyleByPosition(c,u);A.attr(pt)}else o.removeChild(A)}else{var I=this.drawLabel(e,o);I.set("className",l),o.shapeMap[l]=I}}},afterUpdate:function(e,t){},setState:function(e,t,r){var n,a,o,s=r.get("keyShape");if(!(!s||s.destroyed)){var u=r.getType(),l=(0,f.isBoolean)(t)?e:"".concat(e,":").concat(t),c=this.getStateStyle(l,r),d=r.getStateStyle(l);if(!(!d&&!c)){var A=(0,f.mix)({},d||c),I=r.getContainer(),F={x:1,y:1,cx:1,cy:1,matrix:1};if(u==="combo"&&(F.r=1,F.width=1,F.height=1),t){var Z=function(Vr){var Un,Rn=A[Vr];if((0,f.isPlainObject)(Rn)&&!Hd.includes(Vr)){var Hr=((o=I.shapeMap)===null||o===void 0?void 0:o[Vr])||I.find(function(hn){return hn.get("name")===Vr});Hr==null||Hr.attr(Rn)}else s.attr((Un={},Un[Vr]=Rn,Un))};for(var rt in A)Z(rt)}else{var lt=Ko(r.getCurrentStatesStyle()),ct=r.getModel(),pt=(0,f.mix)({},ct.style,Ko(r.getOriginStyle())),_t=s.get("name"),jt=s.attr(),oe={};Object.keys(jt).forEach(function(pn){if(pn!=="img"){var Vr=jt[pn];Vr&&zh(Vr)==="object"?oe[pn]=(0,f.clone)(Vr):oe[pn]=Vr}});var ie={},Ee=function(Vr){var Un=A[Vr];if((0,f.isPlainObject)(Un)&&!Hd.includes(Vr)){var Rn=I.shapeMap[Vr]||I.find(function(An){return An.get("name")===Vr});if(Rn){var Hr=Ko(Rn.attr());(0,f.each)(Un,function(An,On){if(Vr===_t&&oe[On]&&!F[On]){delete oe[On];var jn=pt[Vr][On]||Zd[u][On];s.attr(On,jn)}else if(Hr[On]||Hr[On]===0){delete Hr[On];var ta=pt[Vr][On]||Zd[u][On];Rn.attr(On,ta)}}),ie[Vr]=Hr}}else if(oe[Vr]&&!F[Vr]){delete oe[Vr];var hn=pt[Vr]||(pt[_t]?pt[_t][Vr]:void 0)||Zd[u][Vr];s.attr(Vr,hn)}};for(var Re in A)Ee(Re);_t?ie[_t]=oe:(0,f.mix)(ie,oe);for(var rt in lt)if(!F[rt]){var Ae=lt[rt];(!(0,f.isPlainObject)(Ae)||Hd.includes(rt))&&(_t?((0,f.mix)(pt[_t],(a={},a[rt]=Ae,a)),delete pt[rt]):(0,f.mix)(pt,(n={},n[rt]=Ae,n)),delete lt[rt])}var He={};(0,f.deepMix)(He,pt,ie,lt);var ur=!1,tn=function(Vr){var Un,Rn,Hr=He[Vr];if((0,f.isPlainObject)(Hr)&&!Hd.includes(Vr)){var hn=I.shapeMap[Vr]||I.find(function(On){return On.get("name")===Vr});hn&&((hn.get("type")==="text"||hn.get("labelRelated"))&&(delete Hr.x,delete Hr.y,delete Hr.matrix),Vr===_t&&(u==="combo"&&(delete Hr.r,delete Hr.width,delete Hr.height),ur=!0),hn.attr(Hr))}else if(!ur){var An=Hr||Zd[u][Vr];u==="combo"?_t||s.attr((Un={},Un[Vr]=An,Un)):s.attr((Rn={},Rn[Vr]=An,Rn))}};for(var Tn in He)tn(Tn)}}}},getStateStyle:function(e,t){var r=t.getModel(),n=t.getType(),a=this.getOptions(r),o=a.stateStyles,s=a.style,u=s===void 0?{}:s,l=r.stateStyles?r.stateStyles[e]:o&&o[e];return n==="combo"?(0,f.clone)(l):(0,f.mix)({},u,l)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t,r,n=(e==null?void 0:e.anchorPoints)||((t=this.getCustomConfig(e))===null||t===void 0?void 0:t.anchorPoints)||((r=this.options)===null||r===void 0?void 0:r.anchorPoints);return n}},xm={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Yt.nodeLabel.offset,getSize:function(e){var t,r=((t=this.mergeStyle)===null||t===void 0?void 0:t.size)||e.size||this.getOptions({}).size||Yt.defaultNode.size;return(0,f.isArray)(r)&&r.length===1&&(r=[r[0],r[0]]),(0,f.isArray)(r)||(r=[r,r]),r},getLabelStyleByPosition:function(e,t){var r=t.maxLength,n=e.label;r&&(n=qo(n,r));var a=t.position||this.labelPosition;if(a==="center")return{x:0,y:0,text:n,textBaseline:"middle",textAlign:"center"};var o=t.offset;(0,f.isNil)(o)&&(o=this.offset);var s=this.getSize(e),u;switch(a){case"top":u={x:0,y:-s[1]/2-o,textBaseline:"bottom",textAlign:"center"};break;case"bottom":u={x:0,y:s[1]/2+o,textBaseline:"top",textAlign:"center"};break;case"left":u={x:-s[0]/2-o,y:0,textBaseline:"middle",textAlign:"right"};break;default:u={x:s[0]/2+o,y:0,textBaseline:"middle",textAlign:"left"};break}return u.text=n,u},getLabelBgStyleByPosition:function(e,t){var r;if(!e)return{};var n=(r=t.style)===null||r===void 0?void 0:r.background;if(!n)return{};var a=e.getBBox(),o=Ah(n.padding),s=a.width+o[1]+o[3],u=a.height+o[0]+o[2];return(0,b.__assign)((0,b.__assign)({x:a.minX-o[3],y:a.minY-o[0]},n),{width:s,height:u})},drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(r,{attrs:n,draggable:!0,name:"node-shape"});return t.shapeMap["node-shape"]=a,a},updateLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=t.shapeMap["link-point-left"]||t.find(function(He){return He.get("className")==="link-point-left"}),a=t.shapeMap["link-point-right"]||t.find(function(He){return He.get("className")==="link-point-right"}),o=t.shapeMap["link-point-top"]||t.find(function(He){return He.get("className")==="link-point-top"}),s=t.shapeMap["link-point-bottom"]||t.find(function(He){return He.get("className")==="link-point-bottom"}),u;n&&(u=n.attr()),a&&!u&&(u=a.attr()),o&&!u&&(u=o.attr()),s&&!u&&(u=s.attr()),u||(u=r);var l=(0,f.mix)({},u,e.linkPoints),c=l.fill,d=l.stroke,A=l.lineWidth,I=l.size/2;I||(I=l.r);var F=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},Z=F.left,rt=F.right,lt=F.top,ct=F.bottom,pt=this.getSize(e),_t=pt[0],jt=pt[1],oe={r:I,fill:c,stroke:d,lineWidth:A};if(n)!Z&&Z!==void 0?(n.remove(),delete t.shapeMap["link-point-left"]):n.attr((0,b.__assign)((0,b.__assign)({},oe),{x:-_t/2,y:0}));else if(Z){var ie="link-point-left";t.shapeMap[ie]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},oe),{x:-_t/2,y:0}),className:ie,name:ie,isAnchorPoint:!0})}if(a)!rt&&rt!==void 0&&(a.remove(),delete t.shapeMap["link-point-right"]),a.attr((0,b.__assign)((0,b.__assign)({},oe),{x:_t/2,y:0}));else if(rt){var Ee="link-point-right";t.shapeMap[Ee]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},oe),{x:_t/2,y:0}),className:Ee,name:Ee,isAnchorPoint:!0})}if(o)!lt&&lt!==void 0&&(o.remove(),delete t.shapeMap["link-point-top"]),o.attr((0,b.__assign)((0,b.__assign)({},oe),{x:0,y:-jt/2}));else if(lt){var Re="link-point-top";t.shapeMap[Re]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},oe),{x:0,y:-jt/2}),className:Re,name:Re,isAnchorPoint:!0})}if(s)!ct&&ct!==void 0?(s.remove(),delete t.shapeMap["link-point-bottom"]):s.attr((0,b.__assign)((0,b.__assign)({},oe),{x:0,y:jt/2}));else if(ct){var Ae="link-point-bottom";t.shapeMap[Ae]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},oe),{x:0,y:jt/2}),className:Ae,name:Ae,isAnchorPoint:!0})}},updateShape:function(e,t,r,n,a){var o=t.get("keyShape");o.attr((0,b.__assign)({},r)),this.updateLabel(e,t,a),n&&this.updateIcon(e,t)},updateIcon:function(e,t){var r=this,n=t.getContainer(),a=(this.mergeStyle||this.getOptions(e)).icon,o=e.icon?e.icon:{show:void 0,text:void 0},s=o.show,u=o.text,l=n.shapeMap["".concat(this.type,"-icon")]||n.find(function(lt){return lt.get("name")==="".concat(r.type,"-icon")});if(l)if(s||s===void 0){var c=(0,f.mix)({},l.attr(),a),d=c.width,A=d===void 0?20:d,I=c.height,F=I===void 0?20:I;(c.fontFamily==="iconfont"||c.hasOwnProperty("text"))&&(A=0,F=0),l.attr((0,b.__assign)((0,b.__assign)({},c),{x:-A/2,y:-F/2}))}else l.remove(),delete n.shapeMap["".concat(this.type,"-icon")];else if(s){var Z="".concat(this.type,"-icon");if(u)n.shapeMap[Z]=n.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:Z,name:Z});else{var A=a.width,F=a.height;n.shapeMap[Z]=n.addShape("image",{attrs:(0,b.__assign)((0,b.__assign)({},a),{x:-A/2,y:-F/2}),className:Z,name:Z})}var rt=n.shapeMap["node-label"]||n.find(function(lt){return lt.get("name")==="node-label"});rt&&rt.toFront()}}},Em=(0,b.__assign)((0,b.__assign)({},Wh),xm);Jo.registerNode("single-node",Em);var Kd="edge-shape";function wm(i){var e=i;return i==="start"?e="end":i==="end"&&(e="start"),e}var Sm={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Yt.defaultEdge.size,style:{x:0,y:0,stroke:Yt.defaultEdge.style.stroke,lineAppendWidth:Yt.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Yt.edgeLabel.style.fill,fontSize:Yt.edgeLabel.style.fontSize,fontFamily:Yt.windowFontFamily}},stateStyles:(0,b.__assign)({},Yt.edgeStateStyles)},getPath:function(e){var t=[];return(0,f.each)(e,function(r,n){n===0?t.push(["M",r.x,r.y]):t.push(["L",r.x,r.y])}),t},getShapeStyle:function(e){var t=this.options.style,r={stroke:e.color},n=(0,f.mix)({},t,r,e.style),a=e.size||Yt.defaultEdge.size;e=this.getPathPoints(e);var o=e.startPoint,s=e.endPoint,u=this.getControlPoints(e),l=[o];u&&(l=l.concat(u)),l.push(s);var c=this.getPath(l),d=(0,f.mix)({},Yt.defaultEdge.style,{stroke:Yt.defaultEdge.color,lineWidth:a,path:c},n);return d},updateShapeStyle:function(e,t,r){var n,a=t.getContainer(),o=((n=t.getKeyShape)===null||n===void 0?void 0:n.call(t))||a.shapeMap["edge-shape"],s=e.size;e=this.getPathPoints(e);var u=e.startPoint,l=e.endPoint,c=this.getControlPoints(e),d=[u];c&&(d=d.concat(c)),d.push(l);var A=o.attr(),I=e.style||{};I.stroke===void 0&&(I.stroke=e.color);var F=e.sourceNode,Z=e.targetNode,rt={radius:I.radius};c||(rt={source:F,target:Z,offset:I.offset,radius:I.radius});var lt=this.getPath(d,rt),ct={};r==="move"?ct={path:lt}:(A.endArrow&&I.endArrow===!1&&(e.style.endArrow={path:""}),A.startArrow&&I.startArrow===!1&&(e.style.startArrow={path:""}),ct=(0,b.__assign)({},e.style),ct.lineWidth===void 0&&(ct.lineWdith=((0,f.isNumber)(s)?s:s==null?void 0:s[0])||A.lineWidth),ct.path===void 0&&(ct.path=lt),ct.stroke===void 0&&(ct.stroke=A.stroke||e.color)),o&&o.attr(ct)},getLabelStyleByPosition:function(e,t,r){var n=t.position||this.labelPosition,a={},o=r==null?void 0:r.shapeMap[Kd],s;n==="start"?s=0:n==="end"?s=1:s=.5;var u=t.refX||this.refX,l=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return a.x=e.startPoint.x+u,a.y=e.startPoint.y+l,a.text=e.label,a;var c;(0,f.isNil)(t.autoRotate)?c=this.labelAutoRotate:c=t.autoRotate;var d=eo(o,s,u,l,c);return a.x=d.x,a.y=d.y,a.rotate=d.rotate,a.textAlign=this._getTextAlign(n,d.angle),a.text=e.label,a},getLabelBgStyleByPosition:function(e,t){if(!e)return{};var r=e.getBBox(),n=t.style&&t.style.background;if(!n)return{};var a=n.padding,o=r.width+a[1]+a[3],s=r.height+a[0]+a[2],u=(0,b.__assign)((0,b.__assign)({},n),{width:o,height:s,x:r.minX-a[3],y:r.minY-a[0],matrix:[1,0,0,0,1,0,0,0,1]}),l;return(0,f.isNil)(t.autoRotate)?l=this.labelAutoRotate:l=t.autoRotate,l&&(u.matrix=e.attr("matrix")||[1,0,0,0,1,0,0,0,1]),u},_getTextAlign:function(e,t){var r="center";return t?(t=t%(Math.PI*2),e!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?r=e:r=wm(e)),r):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("path",{className:Kd,name:Kd,attrs:r});return t.shapeMap[Kd]=n,n},drawLabel:function(e,t){var r=this.options.labelCfg,n=(0,f.deepMix)({},r,e.labelCfg),a=this.getLabelStyle(e,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=s,!isNaN(o)&&o!==""&&s.rotateAtStart(o),a.background){var u=this.drawLabelBg(e,t,s,a,o),l=this.itemType+Uh;u.set("classname",l),t.shapeMap[l]=u,s.toFront()}return s},drawLabelBg:function(e,t,r,n,a){var o=this.options.labelCfg,s=(0,f.deepMix)({},o,e.labelCfg),u=this.getLabelBgStyleByPosition(r,s),l=t.addShape("rect",{name:"text-bg-shape",attrs:u,labelRelated:!0});return t.shapeMap["text-bg-shape"]=l,l}},Mm=(0,b.__assign)((0,b.__assign)({},Wh),Sm);Jo.registerEdge("single-edge",Mm),Jo.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Jo.registerEdge("spline",{getPath:function(e){var t=Vv(e);return t}},"single-edge"),Jo.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint,n={x:(t.x+r.x)/2,y:(t.y+r.y)/2},a,o;if(e.controlPoints!==void 0){if(o=e.controlPoints[0],a=Mn(t,o,r),t.x<=r.x&&t.y>r.y?this.clockwise=a.x>o.x?0:1:t.x<=r.x&&t.y<r.y?this.clockwise=a.x>o.x?1:0:t.x>r.x&&t.y<=r.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)===(r.x-t.x)/(r.y-t.y))return[]}else{e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),(0,f.isArray)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:r.x-t.x,y:r.y-t.y},u=Math.atan2(s.y,s.x);o={x:e.curveOffset*Math.cos(-Math.PI/2+u)+n.x,y:e.curveOffset*Math.sin(-Math.PI/2+u)+n.y},a=Mn(t,o,r)}var l=Kn(t,a),c=[{x:l,y:l}];return c},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),e.length===2?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),Jo.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var r=e.startPoint,n=e.endPoint;e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,f.isArray)(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),(0,f.isArray)(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]);var a=Vd(r,n,e.curvePosition,e.curveOffset);t=[a]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),Jo.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,f.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,f.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var r=e.startPoint,n=e.endPoint,a=Vd(r,n,e.curvePosition[0],e.curveOffset[0]),o=Vd(r,n,e.curvePosition[1],e.curveOffset[1]);t=[a,o]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),Jo.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint;e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.minCurveOffset===void 0&&(e.minCurveOffset=this.minCurveOffset),(0,f.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,f.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,f.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var n=r.y-t.y,a=[0,0];e.curveOffset?a=e.curveOffset:Math.abs(n)<Math.abs(e.minCurveOffset[0])&&(a=e.minCurveOffset);var o={x:t.x,y:t.y+n*this.curvePosition[0]+a[0]},s={x:r.x,y:r.y-n*this.curvePosition[1]+a[1]};return[o,s]}},"cubic"),Jo.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint;e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.minCurveOffset===void 0&&(e.minCurveOffset=this.minCurveOffset),(0,f.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,f.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,f.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var n=r.x-t.x,a=[0,0];e.curveOffset?a=e.curveOffset:Math.abs(n)<Math.abs(e.minCurveOffset[0])&&(a=e.minCurveOffset);var o={x:t.x+n*this.curvePosition[0]+a[0],y:t.y},s={x:r.x-n*this.curvePosition[1]+a[1],y:r.y},u=[o,s];return u}},"cubic"),Jo.registerEdge("loop",{getPathPoints:function(e){return vi(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var _m={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Yt.comboLabel.refX,refY:Yt.comboLabel.refY,options:{style:{stroke:Yt.defaultCombo.style.stroke,fill:Yt.defaultCombo.style.fill,lineWidth:Yt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Yt.comboLabel.style.fill,fontSize:Yt.comboLabel.style.fontSize,fontFamily:Yt.windowFontFamily}},stateStyles:(0,b.__assign)({},Yt.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},getSize:function(e){var t=(0,f.clone)(e.size||this.options.size||Yt.defaultCombo.size);return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition,n=e.style,a=e.padding||this.options.padding;(0,f.isArray)(a)&&(a=Math.max.apply(Math,a));var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var u=this.getSize(e),l=Math.max(n.r,u[0]/2)||u[0]/2,c=l+a,d;switch(r){case"top":d={x:0,y:-c-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":d={x:0,y:c+s,textBaseline:"bottom",textAlign:"center"};break;case"left":d={x:-c+o,y:0,textAlign:"left"};break;case"center":d={x:0,y:0,text:e.label,textAlign:"center"};break;default:d={x:c+o,y:0,textAlign:"right"};break}return d.text=e.label,d},drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(r,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateCollapsedIcon:function(e,t,r){var n=e.collapsed,a=e.collapsedSubstituteIcon,o=a===void 0?{}:a,s=Object.assign({},this.options.collapsedSubstituteIcon,o),u=s.show,l=s.img,c=s.width,d=s.height,A=t.getContainer(),I=A.find(function(lt){return lt.get("name")==="combo-collapsed-substitute-icon"}),F=I&&!I.destroyed,Z=t.get("keyShape");if(n&&u){if(F)I.show();else{var rt={width:c||r.r*2||r.width,height:d||r.r*2||r.height};I=A.addShape("image",{attrs:(0,b.__assign)({img:l,x:-rt.width/2,y:-rt.height/2},rt),name:"combo-collapsed-substitute-icon",draggable:!0})}Z.hide()}else F&&(I.hide(),Z.show())},updateShape:function(e,t,r){var n=this,a=t.get("keyShape"),o=t.get("animate"),s=o&&(e.animate===void 0?this.options.animate:e.animate);s&&a.animate?(e.collapsed||this.updateCollapsedIcon(e,t,r),a.animate(r,{duration:200,easing:"easeLinear",callback:function(){e.collapsed&&n.updateCollapsedIcon(e,t,r)}})):(a.attr((0,b.__assign)({},r)),this.updateCollapsedIcon(e,t,r)),this.updateLabel(e,t)}},Cm=(0,b.__assign)((0,b.__assign)({},Wh),_m);Jo.registerCombo("single-combo",Cm),Jo.registerCombo("circle",{options:{size:[Yt.defaultCombo.size[0],Yt.defaultCombo.size[0]],padding:Math.max.apply(Math,Yt.defaultCombo.padding),animate:!0,style:{stroke:Yt.defaultCombo.style.stroke,fill:Yt.defaultCombo.style.fill,lineWidth:Yt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Yt.comboLabel.style.fill,fontSize:Yt.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,b.__assign)({},Yt.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var r=this.getShapeStyle(e);delete r.height,delete r.width;var n=t.addShape("circle",{attrs:r,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(e){var t=this.options.style,r=e.padding||this.options.padding;(0,f.isArray)(r)&&(r=Math.max.apply(Math,r));var n={stroke:e.color},a=(0,f.mix)({},t,n,e.style),o=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize,s;if(o)s=(0,f.isNumber)(o)?o/2:o[0]/2;else{var u=this.getSize(e);!(0,f.isNumber)(a.r)||isNaN(a.r)?s=u[0]/2||Yt.defaultCombo.style.r:s=Math.max(a.r,u[0]/2)||u[0]/2}a.r=s+r;var l=(0,b.__assign)({x:0,y:0},a);return e.style?e.style.r=s:e.style={r:s},l},update:function(e,t){var r=this.getSize(e),n=e.padding||this.options.padding;(0,f.isArray)(n)&&(n=Math.max.apply(Math,n));var a=(0,f.clone)(e.style),o=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize,s;o?s=(0,f.isNumber)(o)?o/2:o[0]/2:s=Math.max(a.r,r[0]/2)||r[0]/2,a.r=s+n;var u=t.get("sizeCache");u&&(u.r=a.r);var l={stroke:e.color},c=t.get("keyShape"),d=(0,f.mix)({},c.attr(),l,a);e.style?e.style.r=s:e.style={r:s},this.updateShape(e,t,d,!0)}},"single-combo"),Jo.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Yt.defaultCombo.style.stroke,fill:Yt.defaultCombo.style.fill,lineWidth:Yt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Yt.comboLabel.style.fill,fontSize:Yt.comboLabel.style.fontSize,fontFamily:Yt.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,b.__assign)({},Yt.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition,n=e.style,a=e.padding||this.options.padding;(0,f.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var u=-n.width/2-a[3],l=n.width/2+a[1],c=-n.height/2-a[0],d=n.height/2+a[2],A;switch(r){case"top":A={x:u+o,y:c+s,textBaseline:"top",textAlign:"left"};break;case"bottom":A={x:0,y:d+s,textBaseline:"top",textAlign:"center"};break;case"left":A={x:u+s,y:0,textAlign:"left"};break;case"center":A={x:0,y:0,text:e.label,textAlign:"center"};break;case"top-center":A={x:0,y:c+s,textBaseline:"top",textAlign:"center"};break;default:A={x:l+o,y:0,textAlign:"right"};break}return A.text=e.label,A},getShapeStyle:function(e){var t=this.options.style,r=e.padding||this.options.padding;(0,f.isNumber)(r)&&(r=[r,r,r,r]);var n={stroke:e.color},a=(0,f.mix)({},t,n,e.style),o=this.getSize(e),s,u,l=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;l?(0,f.isNumber)(l)?(s=l,u=l):(s=l[0],u=l[1]):(!(0,f.isNumber)(a.width)||isNaN(a.width)?s=o[0]||Yt.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,f.isNumber)(a.height)||isNaN(a.height)?u=o[1]||Yt.defaultCombo.style.height:u=Math.max(a.height,o[1])||o[1]);var c=-s/2-r[3],d=-u/2-r[0];a.width=s+r[1]+r[3],a.height=u+r[0]+r[2];var A=(0,b.__assign)({x:c,y:d},a);return e.style?(e.style.width=s,e.style.height=u):e.style={width:s,height:u},A},update:function(e,t){var r=this.getSize(e),n=e.padding||this.options.padding;(0,f.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,f.clone)(e.style),o,s,u=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;u?(0,f.isNumber)(u)?(o=u,s=u):(o=u[0],s=u[1]):(o=Math.max(a.width,r[0])||r[0],s=Math.max(a.height,r[1])||r[1]),a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var c={stroke:e.color},d=t.get("keyShape"),A=(0,f.mix)({},d.attr(),c,a);e.style?(e.style.width=o,e.style.height=s):e.style={width:o,height:s},this.updateShape(e,t,A,!1)}},"single-combo"),Jo.registerNode("simple-circle",{options:{size:Yt.defaultNode.size,style:{x:0,y:0,stroke:Yt.defaultNode.style.stroke,fill:Yt.defaultNode.style.fill,lineWidth:Yt.defaultNode.style.lineWidth},labelCfg:{style:{fill:Yt.nodeLabel.style.fill,fontSize:Yt.nodeLabel.style.fontSize,fontFamily:Yt.windowFontFamily}},stateStyles:(0,b.__assign)({},Yt.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(e,t){var r=this.getShapeStyle(e),n="".concat(this.type,"-keyShape"),a=t.addShape("circle",{attrs:r,className:"".concat(this.type,"-keyShape"),name:n,draggable:!0});return t.shapeMap[n]=a,a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.deepMix)({},t,r),a=this.getSize(e),o=a[0]/2,s=(0,b.__assign)({x:0,y:0,r:o},n);return s},update:function(e,t,r){var n=this.getSize(e),a={stroke:e.color,r:n[0]/2},o=t.get("keyShape"),s=(0,f.deepMix)({},o.attr(),a,e.style);this.updateShape(e,t,s,!0,r)}},"single-node"),Jo.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:Yt.defaultNode.style.stroke,fill:Yt.defaultNode.style.fill,lineWidth:Yt.defaultNode.style.lineWidth},labelCfg:{style:{fill:Yt.nodeLabel.style.fill,fontSize:Yt.nodeLabel.style.fontSize,fontFamily:Yt.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,b.__assign)({},Yt.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return n},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],u=(0,b.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return u},update:function(e,t,r){var n=t.getContainer(),a=(this.mergeStyle||this.getOptions(e)).style,o=this.getSize(e),s=t.get("keyShape");e.size||(o[0]=s.attr("width")||a.width,o[1]=s.attr("height")||a.height);var u={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},l=(0,f.mix)({},a,s.attr(),u);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!1,r)}},"single-node"),Jo.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:Yt.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e);delete n.fill;var a=t.addShape(r,{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(e,a),a},drawClip:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).clipCfg;if(r.show){var n=r.type,a=r.x,o=r.y,s=r.style;if(n==="circle"){var u=r.r;t.setClip({type:"circle",attrs:(0,b.__assign)({r:u,x:a,y:o},s)})}else if(n==="rect"){var l=r.width,c=r.height,d=a-l/2,A=o-c/2;t.setClip({type:"rect",attrs:(0,b.__assign)({x:d,y:A,width:l,height:c},s)})}else if(n==="ellipse"){var I=r.rx,F=r.ry;t.setClip({type:"ellipse",attrs:(0,b.__assign)({x:a,y:o,rx:I,ry:F},s)})}else if(n==="polygon"){var Z=r.points;t.setClip({type:"polygon",attrs:(0,b.__assign)({points:Z},s)})}else if(n==="path"){var rt=r.path;t.setClip({type:"path",attrs:(0,b.__assign)({path:rt},s)})}}},getShapeStyle:function(e){var t=this.mergeStyle||this.getOptions(e),r=t.style,n=t.img,a=this.getSize(e),o=a[0],s=a[1];r&&(o=r.width||a[0],s=r.height||a[1]);var u=(0,b.__assign)({x:-o/2,y:-s/2,width:o,height:s,img:n},r);return u},updateShapeStyle:function(e,t){var r=t.getContainer(),n="".concat(this.itemType,"-shape"),a=r.shapeMap[n]||r.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(e);a&&!a.destroyed&&a.attr(o)}},"single-node");var ip={triangle:function(e,t,r){e===void 0&&(e=10),t===void 0&&(t=15),r===void 0&&(r=0);var n=r*2,a="M ".concat(n,",0 L ").concat(n+t,",-").concat(e/2," L ").concat(n+t,",").concat(e/2," Z");return a},vee:function(e,t,r){e===void 0&&(e=15),t===void 0&&(t=20),r===void 0&&(r=0);var n=r*2,a="M ".concat(n,",0 L ").concat(n+t,",-").concat(e/2,`
        L `).concat(n+2*t/3,",0 L ").concat(n+t,",").concat(e/2," Z");return a},circle:function(e,t){e===void 0&&(e=5),t===void 0&&(t=0);var r=t*2,n="M ".concat(r,`, 0
            a `).concat(e,",").concat(e," 0 1,0 ").concat(e*2,`,0
            a `).concat(e,",").concat(e," 0 1,0 ").concat(-e*2,",0");return n},rect:function(e,t,r){e===void 0&&(e=10),t===void 0&&(t=10),r===void 0&&(r=0);var n=r*2,a="M ".concat(n,",").concat(-e/2,` 
        L `).concat(n+t,",").concat(-e/2,` 
        L `).concat(n+t,",").concat(e/2,` 
        L `).concat(n,",").concat(e/2," Z");return a},diamond:function(e,t,r){e===void 0&&(e=15),t===void 0&&(t=15),r===void 0&&(r=0);var n=r*2,a="M ".concat(n,`,0 
        L `).concat(n+t/2,",").concat(-e/2,` 
        L `).concat(n+t,`,0 
        L `).concat(n+t/2,",").concat(e/2," Z");return a},triangleRect:function(e,t,r,n,a,o){e===void 0&&(e=15),t===void 0&&(t=15),r===void 0&&(r=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,u=s+t+a,l="M ".concat(s,",0 L ").concat(s+t,",-").concat(e/2," L ").concat(s+t,",").concat(e/2,` Z
            M `).concat(u,", -").concat(r/2,`
            L `).concat(u+n," -").concat(r/2,`
            L `).concat(u+n," ").concat(r/2,`
            L `).concat(u," ").concat(r/2,`
            Z`);return l}},op={collapse:function(e,t,r){return[["M",e-r,t],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0],["M",e-r+4,t],["L",e+r-4,t]]},expand:function(e,t,r){return[["M",e-r,t],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0],["M",e-r+4,t],["L",e-r+2*r-4,t],["M",e-r+r,t-r+4],["L",e,t+r-4]]},upTriangle:function(e,t,r){var n=r*Math.cos(Math.PI/6),a=r*Math.sin(Math.PI/6);return[["M",e-n,t+a],["L",e+n,t+a],["L",e,t-r],["Z"]]},downTriangle:function(e,t,r){var n=r*Math.cos(Math.PI/6),a=r*Math.sin(Math.PI/6);return[["M",e-n,t-a],["L",e+n,t-a],["L",e,t+r],["Z"]]}},fc=Jo,Tm=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],sp=function(e){return e==="force"||e==="g6force"||e==="gForce"||e==="force2"},Am=ft,Om=(0,b.__assign)((0,b.__assign)((0,b.__assign)((0,b.__assign)((0,b.__assign)((0,b.__assign)((0,b.__assign)({},P),S),p),R),g),w),{transform:Am,mat3:q}),ls=Om,Im=function(){function i(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},i.prototype.getLayoutCfgType=function(e){var t=e.type;if(t)return t;var r=e.pipes;return Array.isArray(r)?r.map(function(n){return(n==null?void 0:n.type)||""}):null},i.prototype.isLayoutTypeSame=function(e){var t=this.getLayoutCfgType(e),r=Array.isArray(this.layoutType),n=Array.isArray(t);return r&&n?this.layoutType.every(function(a,o){return a===t[o]}):Array.isArray(t)||Array.isArray(this.layoutType)?!1:(e==null?void 0:e.type)===this.layoutType},i.prototype.refreshLayout=function(){var e=this,t=e.graph,r=e.layoutType,n=e.layoutCfg,a=n===void 0?{}:n;if(t){var o=a.animate,s=o===void 0&&(r==="force"||r==="force2"),u=sp(r)&&(o||s);t.get("animate")&&!u?t.positionsAnimate(r==="comboCombined"):t.refreshPositions(r==="comboCombined")}},i.prototype.changeLayout=function(e){var t=e.disableTriggerLayout,r=(0,b.__rest)(e,["disableTriggerLayout"]);this.layoutCfg=r,this.layoutType=r.type||this.layoutType,!t&&this.layout()},i.prototype.changeData=function(e){this.layout(e)},i.prototype.destoryLayoutMethods=function(){var e=this.layoutMethods,t=[];return e==null||e.forEach(function(r){var n,a=(n=r.getType)===null||n===void 0?void 0:n.call(r);a&&t.push(a),r.destroy()}),this.layoutMethods=[],t},i.prototype.destroyLayout=function(){this.destoryLayoutMethods();var e=this.graph;e&&!e.get("destroyed")&&e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},i.prototype.setDataFromGraph=function(){for(var e,t=[],r=[],n=[],a=[],o=[],s=[],u=[],l=this.graph.getNodes(),c=this.graph.getEdges(),d=this.graph.getCombos(),A=l.length,I=0;I<A;I++){var F=l[I];if(!(!F||F.destroyed)){var Z=F.getModel();if(!F.isVisible()){r.push(Z);continue}t.push(Z)}}for(var rt=c.length,I=0;I<rt;I++){var lt=c[I];if(!(!lt||lt.destroyed)){var Z=lt.getModel();if(!lt.isVisible()){a.push(Z);continue}Z.isComboEdge?o.push(Z):n.push(Z)}}for(var ct=d.length,I=0;I<ct;I++){var pt=d[I];if(!pt.destroyed){var Z=pt.getModel();if(!pt.isVisible()){u.push(Z);continue}s.push(Z)}}return{nodes:t,hiddenNodes:r,edges:n,hiddenEdges:a,combos:s,hiddenCombos:u,comboEdges:o,vedges:(e=this.graph.get("vedges"))===null||e===void 0?void 0:e.map(function(_t){return _t.getModel()})}},i.prototype.relayout=function(e){var t=this,r=this,n=r.graph,a=r.layoutMethods,o=r.layoutCfg;if(!(!n||n.get("destroyed"))){var s=Promise.resolve();if(e){this.data=this.setDataFromGraph();var u=this.data.nodes;if(!u)return!1;s=this.initPositions(o.center,u)}n.emit("beforelayout"),a==null||a.forEach(function(l,c){var d=o[c]||o;s=s.then(function(){var A,I=t.execLayoutMethod(d,c);return c===a.length-1&&((A=o.onAllLayoutEnd)===null||A===void 0||A.call(o)),I})})}},i.prototype.filterLayoutData=function(e,t){var r=e.nodes,n=e.edges,a=(0,b.__rest)(e,["nodes","edges"]);if(!r)return e;var o,s;(0,f.isFunction)(t==null?void 0:t.nodesFilter)?o=t.nodesFilter:o=function(){return!0};var u=r.filter(o);if((0,f.isFunction)(t==null?void 0:t.edgesFilter))s=t.edgesFilter;else{var l=u.reduce(function(c,d){return c[d.id]=!0,c},{});s=function(d){return l[d.source]&&l[d.target]}}return(0,b.__assign)({nodes:u,edges:n.filter(s)},a)},i.prototype.getLayoutBBox=function(e){var t=this.graph,r=(0,f.groupBy)(t.getNodes(),function(o){return o.getModel().layoutOrder}),n=Object.values(r).map(function(o){var s=Ov(o);return s.size=[s.width,s.height],s}),a=Object.values((0,f.groupBy)(e,"layoutOrder"));return{groupNodes:a,layoutNodes:n}},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var e=this.graph,t=e.get("data"),r=t.nodes;if(!(r[0].x===void 0||r[0].x===null||Xu(r[0].x))){for(var n=[0,0],a=r.length,o=0;o<a;o++){var s=r[o];n[0]+=s.x,n[1]+=s.y}n[0]/=r.length,n[1]/=r.length;for(var o=0;o<a;o++){var s=r[o];s.x-=n[0],s.y-=n[1]}}},i.prototype.initPositions=function(e,t){var r;return(0,b.__awaiter)(this,void 0,void 0,function(){var n,a,o;return(0,b.__generator)(this,function(s){return n=this.graph,t!=null&&t.length?(a=t.filter(function(u){return Xu(u.x)||Xu(u.y)}),o=a?a.length:0,o?[2,(r=this.initWithPreset)===null||r===void 0?void 0:r.call(this,function(){},function(){var u=n.get("width")*.85,l=n.get("height")*.85,c=Math.ceil(Math.sqrt(o)*(u/l)),d=Math.ceil(o/c),A=u/(c-1),I=l/(d-1);(!isFinite(A)||!A)&&(A=0),(!isFinite(I)||!A)&&(I=0);for(var F=e[0]-u/2,Z=e[1]-l/2,rt=!0,lt=0;lt<o;lt++){var ct=a[lt];Xu(+ct.x)&&(rt=!1,ct.x=lt%c*A+F),Xu(+ct.y)&&(rt=!1,ct.y=Math.floor(lt/c)*I+Z)}})]:[2]):[2,Promise.resolve()]})})},i.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},i}(),up=Im,Dm=function(){function i(e){this.graph=e,this.destroyed=!1,this.initEvents()}return i}(),lp=Dm,Ml=fc.registerNode,cp=fc.registerEdge,Pm=fc.registerCombo,fp=U.registerBehavior,Gn=Yt,LS={version:Yt.version,AbstractGraph:rp,BaseGlobal:Gn,Util:ls,Shape:fc,Node:Rh,Edge:Fv,Combo:Yv,Hull:ep,registerNode:fc.registerNode,registerEdge:fc.registerEdge,registerCombo:fc.registerCombo,registerBehavior:U.registerBehavior,Arrow:ip,Marker:op,AbstractLayout:up,AbstractEvent:lp},Lm=C(810369);function Nm(){return window?window.devicePixelRatio:1}function dp(i,e,t,r){var n=i-t,a=e-r;return Math.sqrt(n*n+a*a)}function $c(i,e,t,r,n,a){return n>=i&&n<=i+t&&a>=e&&a<=e+r}function wd(i,e){return!(e.minX>i.maxX||e.maxX<i.minX||e.minY>i.maxY||e.maxY<i.minY)}function Rm(i,e){return!i||!e?i||e:{minX:Math.min(i.minX,e.minX),minY:Math.min(i.minY,e.minY),maxX:Math.max(i.maxX,e.maxX),maxY:Math.max(i.maxY,e.maxY)}}function hp(i,e){return i[0]===e[0]&&i[1]===e[1]}var km=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Bm=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Fm=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,vp=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function pp(i,e){var t=i.match(vp);(0,f.each)(t,function(r){var n=r.split(":");e.addColorStop(n[0],n[1])})}function zm(i,e,t){var r=km.exec(t),n=parseFloat(r[1])%360*(Math.PI/180),a=r[2],o=e.getBBox(),s,u;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},u={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},u={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},u={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},u={x:o.maxX,y:o.minY});var l=Math.tan(n),c=l*l,d=(u.x-s.x+l*(u.y-s.y))/(c+1)+s.x,A=l*(u.x-s.x+l*(u.y-s.y))/(c+1)+s.y,I=i.createLinearGradient(s.x,s.y,d,A);return pp(a,I),I}function Gm(i,e,t){var r=Bm.exec(t),n=parseFloat(r[1]),a=parseFloat(r[2]),o=parseFloat(r[3]),s=r[4];if(o===0){var u=s.match(vp);return u[u.length-1].split(":")[1]}var l=e.getBBox(),c=l.maxX-l.minX,d=l.maxY-l.minY,A=Math.sqrt(c*c+d*d)/2,I=i.createRadialGradient(l.minX+c*n,l.minY+d*a,0,l.minX+c/2,l.minY+d/2,o*A);return pp(s,I),I}function Um(i,e,t){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var r,n,a=Fm.exec(t),o=a[1],s=a[2];function u(){r=i.createPattern(n,o),e.set("pattern",r),e.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?u():(n.onload=u,n.src=n.src),r}function Wm(i,e,t){var r=e.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return t;if((0,f.isString)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return zm(i,e,t);if(t[0]==="r")return Gm(i,e,t);if(t[0]==="p")return Um(i,e,t)}return t}if(t instanceof CanvasPattern)return t}function Ym(i){var e=0,t=0,r=0,n=0;return(0,f.isArray)(i)?i.length===1?e=t=r=n=i[0]:i.length===2?(e=r=i[0],t=n=i[1]):i.length===3?(e=i[0],t=n=i[1],r=i[2]):(e=i[0],t=i[1],r=i[2],n=i[3]):e=t=r=n=i,[e,t,r,n]}function $d(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Yh(i,e){return $d(i)*$d(e)?(i[0]*e[0]+i[1]*e[1])/($d(i)*$d(e)):1}function gp(i,e){return(i[0]*e[1]<i[1]*e[0]?-1:1)*Math.acos(Yh(i,e))}function mp(i,e){var t=e[1],r=e[2],n=(0,f.mod)((0,f.toRadian)(e[3]),Math.PI*2),a=e[4],o=e[5],s=i[0],u=i[1],l=e[6],c=e[7],d=Math.cos(n)*(s-l)/2+Math.sin(n)*(u-c)/2,A=-1*Math.sin(n)*(s-l)/2+Math.cos(n)*(u-c)/2,I=d*d/(t*t)+A*A/(r*r);I>1&&(t*=Math.sqrt(I),r*=Math.sqrt(I));var F=t*t*(A*A)+r*r*(d*d),Z=F?Math.sqrt((t*t*(r*r)-F)/F):1;a===o&&(Z*=-1),isNaN(Z)&&(Z=0);var rt=r?Z*t*A/r:0,lt=t?Z*-r*d/t:0,ct=(s+l)/2+Math.cos(n)*rt-Math.sin(n)*lt,pt=(u+c)/2+Math.sin(n)*rt+Math.cos(n)*lt,_t=[(d-rt)/t,(A-lt)/r],jt=[(-1*d-rt)/t,(-1*A-lt)/r],oe=gp([1,0],_t),ie=gp(_t,jt);return Yh(_t,jt)<=-1&&(ie=Math.PI),Yh(_t,jt)>=1&&(ie=0),o===0&&ie>0&&(ie=ie-2*Math.PI),o===1&&ie<0&&(ie=ie+2*Math.PI),{cx:ct,cy:pt,rx:hp(i,[l,c])?0:t,ry:hp(i,[l,c])?0:r,startAngle:oe,endAngle:oe+ie,xRotation:n,arcFlag:a,sweepFlag:o}}var Qd=Math.sin,qd=Math.cos,Xh=Math.atan2,Jd=Math.PI;function yp(i,e,t,r,n,a,o){var s=e.stroke,u=e.lineWidth,l=t-n,c=r-a,d=Xh(c,l),A=new Qh({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*qd(Jd/6)+","+10*Qd(Jd/6)+" L0,0 L"+10*qd(Jd/6)+",-"+10*Qd(Jd/6),stroke:s,lineWidth:u}});A.translate(n,a),A.rotateAtPoint(n,a,d),i.set(o?"startArrowShape":"endArrowShape",A)}function bp(i,e,t,r,n,a,o){var s=e.startArrow,u=e.endArrow,l=e.stroke,c=e.lineWidth,d=o?s:u,A=d.d,I=d.fill,F=d.stroke,Z=d.lineWidth,rt=(0,b.__rest)(d,["d","fill","stroke","lineWidth"]),lt=t-n,ct=r-a,pt=Xh(ct,lt);A&&(n=n-qd(pt)*A,a=a-Qd(pt)*A);var _t=new Qh({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,b.__assign)((0,b.__assign)({},rt),{stroke:F||l,lineWidth:Z||c,fill:I})});_t.translate(n,a),_t.rotateAtPoint(n,a,pt),i.set(o?"startArrowShape":"endArrowShape",_t)}function Qc(i,e,t,r,n){var a=Xh(r-e,t-i);return{dx:qd(a)*n,dy:Qd(a)*n}}function jh(i,e,t,r,n,a){typeof e.startArrow=="object"?bp(i,e,t,r,n,a,!0):e.startArrow?yp(i,e,t,r,n,a,!0):i.set("startArrowShape",null)}function Vh(i,e,t,r,n,a){typeof e.endArrow=="object"?bp(i,e,t,r,n,a,!1):e.endArrow?yp(i,e,t,r,n,a,!1):i.set("startArrowShape",null)}var xp={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function qf(i,e){var t=e.attr();for(var r in t){var n=t[r],a=xp[r]?xp[r]:r;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,f.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=Wm(i,e,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function Hh(i,e,t){for(var r=0;r<e.length;r++){var n=e[r];n.cfg.visible?n.draw(i,t):n.skipDraw()}}function Xm(i,e,t){var r=i.get("refreshElements");(0,f.each)(r,function(n){if(n!==i)for(var a=n.cfg.parent;a&&a!==i&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),r[0]===i?Kh(e,t):Zh(e,t)}function Zh(i,e){for(var t=0;t<i.length;t++){var r=i[t];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&Kh(r.cfg.children,e);else if(r.cfg.refresh)r.isGroup()&&Zh(r.cfg.children,e);else{var n=jm(r,e);r.cfg.refresh=n,n&&r.isGroup()&&Zh(r.cfg.children,e)}}}function Ep(i){for(var e=0;e<i.length;e++){var t=i[e];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&Ep(t.cfg.children)}}function Kh(i,e){for(var t=0;t<i.length;t++){var r=i[t];r.cfg.refresh=!0,r.isGroup()&&Kh(r.get("children"),e)}}function jm(i,e){var t=i.cfg.cacheCanvasBBox,r=i.cfg.isInView&&t&&wd(t,e);return r}function wp(i,e,t,r){var n=t.path,a=t.startArrow,o=t.endArrow;if(n){var s=[0,0],u=[0,0],l={dx:0,dy:0};e.beginPath();for(var c=0;c<n.length;c++){var d=n[c],A=d[0];if(c===0&&a&&a.d){var I=i.getStartTangent();l=Qc(I[0][0],I[0][1],I[1][0],I[1][1],a.d)}else if(c===n.length-2&&n[c+1][0]==="Z"&&o&&o.d){var F=n[c+1];if(F[0]==="Z"){var I=i.getEndTangent();l=Qc(I[0][0],I[0][1],I[1][0],I[1][1],o.d)}}else if(c===n.length-1&&o&&o.d&&n[0]!=="Z"){var I=i.getEndTangent();l=Qc(I[0][0],I[0][1],I[1][0],I[1][1],o.d)}var Z=l.dx,rt=l.dy;switch(A){case"M":e.moveTo(d[1]-Z,d[2]-rt),u=[d[1],d[2]];break;case"L":e.lineTo(d[1]-Z,d[2]-rt);break;case"Q":e.quadraticCurveTo(d[1],d[2],d[3]-Z,d[4]-rt);break;case"C":e.bezierCurveTo(d[1],d[2],d[3],d[4],d[5]-Z,d[6]-rt);break;case"A":{var lt=void 0;r?(lt=r[c],lt||(lt=mp(s,d),r[c]=lt)):lt=mp(s,d);var ct=lt.cx,pt=lt.cy,_t=lt.rx,jt=lt.ry,oe=lt.startAngle,ie=lt.endAngle,Ee=lt.xRotation,Re=lt.sweepFlag;if(e.ellipse)e.ellipse(ct,pt,_t,jt,Ee,oe,ie,1-Re);else{var Ae=_t>jt?_t:jt,He=_t>jt?1:_t/jt,ur=_t>jt?jt/_t:1;e.translate(ct,pt),e.rotate(Ee),e.scale(He,ur),e.arc(0,0,Ae,oe,ie,1-Re),e.scale(1/He,1/ur),e.rotate(-Ee),e.translate(-ct,-pt)}break}case"Z":e.closePath();break;default:break}if(A==="Z")s=u;else{var tn=d.length;s=[d[tn-2],d[tn-1]]}}}}function Sp(i,e){var t=i.get("canvas");t&&(e==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(i.set("hasChanged",!0),i.cfg.parent&&i.cfg.parent.get("hasChanged")||(t.refreshElement(i,e,t),t.get("autoDraw")&&t.draw())))}function Vm(i){var e;if(i.destroyed)e=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),r=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);r&&a?e=Rm(t,n):r?e=t:a&&(e=n)}return e}function Hm(i){if(!i.length)return null;var e=[],t=[],r=[],n=[];return(0,f.each)(i,function(a){var o=Vm(a);o&&(e.push(o.minX),t.push(o.minY),r.push(o.maxX),n.push(o.maxY))}),{minX:(0,f.min)(e),minY:(0,f.min)(t),maxX:(0,f.max)(r),maxY:(0,f.max)(n)}}function Zm(i,e){return!i||!e||!wd(i,e)?null:{minX:Math.max(i.minX,e.minX),minY:Math.max(i.minY,e.minY),maxX:Math.min(i.maxX,e.maxX),maxY:Math.min(i.maxY,e.maxY)}}var Km=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onCanvasChange=function(t){Sp(this,t)},e.prototype.getShapeBase=function(){return x},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,r){r&&(t.save(),qf(t,r),r.createPath(t),t.restore(),t.clip(),r._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,r=[],n=[];(0,f.each)(t,function(A){var I=A.cfg.cacheCanvasBBox;I&&A.cfg.isInView&&(r.push(I.minX,I.maxX),n.push(I.minY,I.maxY))});var a=null;if(r.length){var o=(0,f.min)(r),s=(0,f.max)(r),u=(0,f.min)(n),l=(0,f.max)(n);a={minX:o,minY:u,x:o,y:u,maxX:s,maxY:l,width:s-o,height:l-u};var c=this.cfg.canvas;if(c){var d=c.getViewRange();this.set("isInView",wd(a,d))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",a)},e.prototype.draw=function(t,r){var n=this.cfg.children,a=r?this.cfg.refresh:!0;n.length&&a&&(t.save(),qf(t,this),this._applyClip(t,this.getClip()),Hh(t,n,r),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(ks),Mp=Km,$m=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return x},e.prototype.getGroupBase=function(){return Mp},e.prototype.onCanvasChange=function(t){Sp(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),r=this.getHitLineWidth(),n=Xo(t),a=n(this),o=r/2,s=a.x-o,u=a.y-o,l=a.x+a.width+o,c=a.y+a.height+o;return{x:s,minX:s,y:u,minY:u,width:a.width+r,height:a.height+r,maxX:l,maxY:c}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,r){r&&(t.save(),qf(t,r),r.createPath(t),t.restore(),t.clip(),r._afterDraw())},e.prototype.draw=function(t,r){var n=this.cfg.clipShape;if(r){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var a=this.getCanvasBBox();if(!wd(r,a)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),qf(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var r=this.getCanvasBBox(),n=wd(r,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",r):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var r=this.attrs,n=r.lineWidth,a=r.opacity,o=r.strokeOpacity,s=r.fillOpacity;this.isFill()&&(!(0,f.isNil)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,f.isNil)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,r){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,r,n,a,o)},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(oc),mu=$m,Qm=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),u=s.x,l=s.y,c=s.r,d=o/2,A=dp(u,l,t,r);return a&&n?A<=c+d:a?A<=c:n?A>=c-d&&A<=c+d:!1},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},e}(mu),qm=Qm;function th(i,e,t,r){return i/(t*t)+e/(r*r)}var Jm=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),u=o/2,l=s.x,c=s.y,d=s.rx,A=s.ry,I=(t-l)*(t-l),F=(r-c)*(r-c);return a&&n?th(I,F,d+u,A+u)<=1:a?th(I,F,d,A)<=1:n?th(I,F,d-u,A-u)>=1&&th(I,F,d+u,A+u)<=1:!1},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.rx,s=r.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var u=o>s?o:s,l=o>s?1:o/s,c=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(l,c),t.arc(0,0,u,0,Math.PI*2),t.restore(),t.closePath()}},e}(mu),ty=Jm;function _p(i){return i instanceof HTMLElement&&(0,f.isString)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var ey=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var r=this,n=this.attrs;if((0,f.isString)(t)){var a=new Image;a.onload=function(){if(r.destroyed)return!1;r.attr("img",a),r.set("loading",!1),r._afterLoading();var o=r.get("callback");o&&o.call(r)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):_p(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t==="img"&&this._setImage(r)},e.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var r=this.attr(),n=r.x,a=r.y,o=r.width,s=r.height,u=r.sx,l=r.sy,c=r.swidth,d=r.sheight,A=r.img;(A instanceof Image||_p(A))&&(!(0,f.isNil)(u)&&!(0,f.isNil)(l)&&!(0,f.isNil)(c)&&!(0,f.isNil)(d)?t.drawImage(A,u,l,c,d,n,a,o,s):t.drawImage(A,n,a,o,s))},e}(mu),ry=ey;function dc(i,e,t,r,n,a,o){var s=Math.min(i,t),u=Math.max(i,t),l=Math.min(e,r),c=Math.max(e,r),d=n/2;return a>=s-d&&a<=u+d&&o>=l-d&&o<=c+d?Io.pointToLine(i,e,t,r,a,o)<=n/2:!1}var ny=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,u=t.endArrow;s&&jh(this,t,a,o,r,n),u&&Vh(this,t,r,n,a,o)},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){if(!n||!o)return!1;var s=this.attr(),u=s.x1,l=s.y1,c=s.x2,d=s.y2;return dc(u,l,c,d,o,t,r)},e.prototype.createPath=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2,u=r.startArrow,l=r.endArrow,c={dx:0,dy:0},d={dx:0,dy:0};u&&u.d&&(c=Qc(n,a,o,s,r.startArrow.d)),l&&l.d&&(d=Qc(n,a,o,s,r.endArrow.d)),t.beginPath(),t.moveTo(n+c.dx,a+c.dy),t.lineTo(o-d.dx,s-d.dy)},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2;return Io.length(r,n,a,o)},e.prototype.getPoint=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2;return Io.pointAt(n,a,o,s,t)},e}(mu),ay=ny,iy={circle:function(i,e,t){return[["M",i-t,e],["A",t,t,0,1,0,i+t,e],["A",t,t,0,1,0,i-t,e]]},square:function(i,e,t){return[["M",i-t,e-t],["L",i+t,e-t],["L",i+t,e+t],["L",i-t,e+t],["Z"]]},diamond:function(i,e,t){return[["M",i-t,e],["L",i,e-t],["L",i+t,e],["L",i,e+t],["Z"]]},triangle:function(i,e,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,e+r],["L",i,e-r],["L",i+t,e+r],["Z"]]},"triangle-down":function(i,e,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,e-r],["L",i+t,e-r],["L",i,e+r],["Z"]]}},oy=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return(0,f.isNil)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t=this.attr(),r=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,u;if((0,f.isFunction)(a))s=a,u=s(r,n,o),u=Bo(u);else{if(s=e.Symbols[a],!s)return console.warn(a+" marker is not supported."),null;u=s(r,n,o)}return u},e.prototype.createPath=function(t){var r=this._getPath(),n=this.get("paramsCache");wp(this,t,{path:r},n)},e.Symbols=iy,e}(mu),sy=oy;function Cp(i,e,t){var r=dr();return i.createPath(r),r.isPointInPath(e,t)}var uy=1e-6;function $h(i){return Math.abs(i)<uy?0:i<0?-1:1}function ly(i,e,t){return(t[0]-i[0])*(e[1]-i[1])===(e[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],e[0])<=t[0]&&t[0]<=Math.max(i[0],e[0])&&Math.min(i[1],e[1])<=t[1]&&t[1]<=Math.max(i[1],e[1])}function Tp(i,e,t){var r=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(ly(o,s,[e,t]))return!0;$h(o[1]-t)>0!=$h(s[1]-t)>0&&$h(e-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}function Sd(i,e,t,r,n,a,o,s){var u=(Math.atan2(s-e,o-i)+Math.PI*2)%(Math.PI*2);if(u<r||u>n)return!1;var l={x:i+t*Math.cos(u),y:e+t*Math.sin(u)};return dp(l.x,l.y,o,s)<=a/2}var cy=ft;function fy(i){for(var e=!1,t=i.length,r=0;r<t;r++){var n=i[r],a=n[0];if(a==="C"||a==="A"||a==="Q"){e=!0;break}}return e}function dy(i,e,t,r,n){for(var a=!1,o=e/2,s=0;s<i.length;s++){var u=i[s],l=u.currentPoint,c=u.params,d=u.prePoint,A=u.box;if(!(A&&!$c(A.x-o,A.y-o,A.width+e,A.height+e,t,r))){switch(u.command){case"L":case"Z":a=dc(d[0],d[1],l[0],l[1],e,t,r);break;case"Q":var I=Zc.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],t,r);a=I<=e/2;break;case"C":var F=we.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],c[5],c[6],t,r,n);a=F<=e/2;break;case"A":var Z=u.arcParams,rt=Z.cx,lt=Z.cy,ct=Z.rx,pt=Z.ry,_t=Z.startAngle,jt=Z.endAngle,oe=Z.xRotation,ie=[t,r,1],Ee=ct>pt?ct:pt,Re=ct>pt?1:ct/pt,Ae=ct>pt?pt/ct:1,He=cy(null,[["t",-rt,-lt],["r",-oe],["s",1/Re,1/Ae]]);Mi.transformMat3(ie,ie,He),a=Sd(0,0,Ee,_t,jt,e,ie[0],ie[1]);break;default:break}if(a)break}}return a}function hy(i){for(var e=i.length,t=[],r=[],n=[],a=0;a<e;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(r.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&r.push(n),{polygons:t,polylines:r}}var eh=(0,b.__assign)({hasArc:fy,extractPolygons:hy,isPointInStroke:dy},M);function Ap(i,e,t){for(var r=!1,n=0;n<i.length;n++){var a=i[n];if(r=Tp(a,e,t),r)break}return r}var vy=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t==="path"&&this._setPathArr(r),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=Bo(t);var r=eh.hasArc(t);this.set("hasArc",r),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Sn(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),r=t.startArrow,n=t.endArrow;if(r){var a=this.getStartTangent();jh(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();Vh(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.getSegments(),u=this.get("hasArc"),l=!1;if(n){var c=this.getTotalLength();l=eh.isPointInStroke(s,o,t,r,c)}if(!l&&a)if(u)l=Cp(this,t,r);else{var d=this.attr("path"),A=eh.extractPolygons(d);l=Ap(A.polygons,t,r)||Ap(A.polylines,t,r)}return l},e.prototype.createPath=function(t){var r=this.attr(),n=this.get("paramsCache");wp(this,t,r,n)},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,f.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var n,a,o=this.get("curve");if(!r||r.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,f.each)(r,function(c,d){t>=c[0]&&t<=c[1]&&(n=(t-c[0])/(c[1]-c[0]),a=d)});var s=o[a];if((0,f.isNil)(s)||(0,f.isNil)(a))return null;var u=s.length,l=o[a+1];return we.pointAt(s[u-2],s[u-1],l[1],l[2],l[3],l[4],l[5],l[6],n)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",eh.pathToCurve(t))},e.prototype._setTcache=function(){var t=0,r=0,n=[],a,o,s,u,l=this.get("curve");if(l){if((0,f.each)(l,function(c,d){s=l[d+1],u=c.length,s&&(t+=we.length(c[u-2],c[u-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,f.each)(l,function(c,d){s=l[d+1],u=c.length,s&&(a=[],a[0]=r/t,o=we.length(c[u-2],c[u-1],s[1],s[2],s[3],s[4],s[5],s[6]),r+=o||0,a[1]=r/t,n.push(a))}),this.set("tCache",n)}},e.prototype.getStartTangent=function(){var t=this.getSegments(),r;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;r=[],o?(r.push([n[0]-o[0],n[1]-o[1]]),r.push([n[0],n[1]])):(r.push([a[0],a[1]]),r.push([n[0],n[1]]))}return r},e.prototype.getEndTangent=function(){var t=this.getSegments(),r=t.length,n;if(r>1){var a=t[r-2].currentPoint,o=t[r-1].currentPoint,s=t[r-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},e}(mu),Qh=vy;function Op(i,e,t,r,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],u=i[o][1],l=i[o+1][0],c=i[o+1][1];if(dc(s,u,l,c,e,t,r))return!0}if(n){var d=i[0],A=i[a-1];if(dc(d[0],d[1],A[0],A[1],e,t,r))return!0}return!1}var py=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr().points,u=!1;return n&&(u=Op(s,o,t,r,!0)),!u&&a&&(u=Tp(s,t,r)),u},e.prototype.createPath=function(t){var r=this.attr(),n=r.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},e}(mu),gy=py,my=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),r=this.attrs,n=r.points,a=r.startArrow,o=r.endArrow,s=n.length,u=n[0][0],l=n[0][1],c=n[s-1][0],d=n[s-1][1];a&&jh(this,t,n[1][0],n[1][1],u,l),o&&Vh(this,t,n[s-2][0],n[s-2][1],c,d)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return Op(s,o,t,r,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var r=this.attr(),n=r.points,a=r.startArrow,o=r.endArrow,s=n.length;if(!(n.length<2)){var u=n[0][0],l=n[0][1],c=n[s-1][0],d=n[s-1][1];if(a&&a.d){var A=Qc(u,l,n[1][0],n[1][1],a.d);u+=A.dx,l+=A.dy}if(o&&o.d){var A=Qc(n[s-2][0],n[s-2][1],c,d,o.d);c-=A.dx,d-=A.dy}t.beginPath(),t.moveTo(u,l);for(var I=0;I<s-1;I++){var F=n[I];t.lineTo(F[0],F[1])}t.lineTo(c,d)}},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,r=this.get("totalLength");return(0,f.isNil)(r)?(this.set("totalLength",kt.length(t)),this.get("totalLength")):r},e.prototype.getPoint=function(t){var r=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,u){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=u)}),Io.pointAt(r[o][0],r[o][1],r[o+1][0],r[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var r=this.getTotalLength();if(!(r<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(u,l){t[l+1]&&(o=[],o[0]=n/r,s=Io.length(u[0],u[1],t[l+1][0],t[l+1][1]),n+=s,o[1]=n/r,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,r=[];return r.push([t[1][0],t[1][1]]),r.push([t[0][0],t[0][1]]),r},e.prototype.getEndTangent=function(){var t=this.attr().points,r=t.length-1,n=[];return n.push([t[r-1][0],t[r-1][1]]),n.push([t[r][0],t[r][1]]),n},e}(mu),yy=my;function by(i,e,t,r,n,a,o){var s=n/2;return $c(i-s,e-s,t,n,a,o)||$c(i+t-s,e-s,n,r,a,o)||$c(i+s,e+r-s,t,n,a,o)||$c(i-s,e+s,n,r,a,o)}function xy(i,e,t,r,n,a,o,s){var u=a/2;return dc(i+n,e,i+t-n,e,a,o,s)||dc(i+t,e+n,i+t,e+r-n,a,o,s)||dc(i+t-n,e+r,i+n,e+r,a,o,s)||dc(i,e+r-n,i,e+n,a,o,s)||Sd(i+t-n,e+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||Sd(i+t-n,e+r-n,n,0,.5*Math.PI,a,o,s)||Sd(i+n,e+r-n,n,.5*Math.PI,Math.PI,a,o,s)||Sd(i+n,e+n,n,Math.PI,1.5*Math.PI,a,o,s)}var Ey=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),u=s.x,l=s.y,c=s.width,d=s.height,A=s.radius;if(A){var F=!1;return n&&(F=xy(u,l,c,d,A,o,t,r)),!F&&a&&(F=Cp(this,t,r)),F}else{var I=o/2;if(a&&n)return $c(u-I,l-I,c+I,d+I,t,r);if(a)return $c(u,l,c,d,t,r);if(n)return by(u,l,c,d,o,t,r)}},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.width,s=r.height,u=r.radius;if(t.beginPath(),u===0)t.rect(n,a,o,s);else{var l=Ym(u),c=l[0],d=l[1],A=l[2],I=l[3];t.moveTo(n+c,a),t.lineTo(n+o-d,a),d!==0&&t.arc(n+o-d,a+d,d,-Math.PI/2,0),t.lineTo(n+o,a+s-A),A!==0&&t.arc(n+o-A,a+s-A,A,0,Math.PI/2),t.lineTo(n+I,a+s),I!==0&&t.arc(n+I,a+s-I,I,Math.PI/2,Math.PI),t.lineTo(n,a+c),c!==0&&t.arc(n+c,a+c,c,Math.PI,Math.PI*1.5),t.closePath()}},e}(mu),wy=Ey,Sy=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=Ln(t)},e.prototype._setText=function(t){var r=null;(0,f.isString)(t)&&t.indexOf(`
`)!==-1&&(r=t.split(`
`)),this.set("textArr",r)},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(r)},e.prototype._getSpaceingY=function(){var t=this.attrs,r=t.lineHeight,n=t.fontSize*1;return r?r-n:n*.14},e.prototype._drawTextArr=function(t,r,n){var a=this.attrs,o=a.textBaseline,s=a.x,u=a.y,l=a.fontSize*1,c=this._getSpaceingY(),d=pr(a.text,a.fontSize,a.lineHeight),A;(0,f.each)(r,function(I,F){A=u+F*(c+l)-d+l,o==="middle"&&(A+=d-l-(d-l)/2),o==="top"&&(A+=d-l),(0,f.isNil)(I)||(n?t.fillText(I,s,A):t.strokeText(I,s,A))})},e.prototype._drawText=function(t,r){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,r);else{var u=n.text;(0,f.isNil)(u)||(r?t.fillText(u,a,o):t.strokeText(u,a,o))}},e.prototype.strokeAndFill=function(t){var r=this.attrs,n=r.lineWidth,a=r.opacity,o=r.strokeOpacity,s=r.fillOpacity;this.isStroke()&&n>0&&(!(0,f.isNil)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,f.isNil)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(mu),My=Sy;function _y(i,e){if(e){var t=po(e);return Ws(t,i)}return i}function Ip(i,e,t){var r=i.getTotalMatrix();if(r){var n=_y([e,t,1],r),a=n[0],o=n[1];return[a,o]}return[e,t]}function Dp(i,e,t){if(i.isCanvas&&i.isCanvas())return!0;if(!Ec(i)||i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var r=Ip(i,e,t),n=r[0],a=r[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox||i.getCanvasBBox();return e>=o.minX&&e<=o.maxX&&t>=o.minY&&t<=o.maxY}function Pp(i,e,t){if(!Dp(i,e,t))return null;for(var r=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())r=Pp(s,e,t);else if(Dp(s,e,t)){var u=s,l=Ip(s,e,t),c=l[0],d=l[1];u.isInShape(c,d)&&(r=s)}if(r)break}return r}var Cy=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},e.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return x},e.prototype.getGroupBase=function(){return Mp},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Nm();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),r=t.getContext("2d");return this.set("context",r),t},e.prototype.setDOMSize=function(t,r){i.prototype.setDOMSize.call(this,t,r);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*r,o>1&&n.scale(o,o)},e.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),r=this.get("el");t.clearRect(0,0,r.width,r.height)},e.prototype.getShape=function(t,r){var n;return this.get("quickHit")?n=Pp(this,t,r):n=i.prototype.getShape.call(this,t,r,null),n},e.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),r=this.getViewRange(),n;if(t.length&&t[0]===this)n=r;else if(n=Hm(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY),n.maxY+=1;var a=this.get("clipView");a&&(n=Zm(n,r))}return n},e.prototype.refreshElement=function(t){var r=this.get("refreshElements");r.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,f.clearAnimationFrame)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),r=this.get("el"),n=this.getChildren();t.clearRect(0,0,r.width,r.height),qf(t,this),Hh(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),r=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a?(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),qf(t,this),Xm(this,n,a),Hh(t,n,a),t.restore()):r.length&&Ep(r),(0,f.each)(r,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,r=this.get("drawFrame");r||(r=(0,f.requestAnimationFrame)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",r))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(Vc),_l=Cy,NS="0.5.12",qh={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},ci={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},RS=null;function $s(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Lp(i){var e=qh[i.type],t=i.getParent();if(!e)throw new Error("the type "+i.type+" is not supported by svg");var r=$s(e);if(i.get("id")&&(r.id=i.get("id")),i.set("el",r),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(r)}return r}function Np(i,e){var t=i.get("el"),r=(0,f.toArray)(t.children).sort(e),n=document.createDocumentFragment();r.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function Ty(i,e){var t=i.parentNode,r=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=r[e],a=r.indexOf(i);if(n){if(a>e)t.insertBefore(i,n);else if(a<e){var o=r[e+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function Ay(i,e){var t=i.cfg.el,r=i.attr(),n={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=e.find("filter",n);a||(a=e.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function Md(i){var e=i.attr().matrix;if(e){for(var t=i.cfg.el,r=[],n=0;n<9;n+=3)r.push(e[n]+","+e[n+1]);r=r.join(","),r.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}}function _d(i,e){var t=i.getClip(),r=i.get("el");if(!t)r.removeAttribute("clip-path");else if(t&&!r.hasAttribute("clip-path")){Lp(t),t.createPath(e);var n=e.addClip(t);r.setAttribute("clip-path","url(#"+n+")")}}function Rp(i,e){e.forEach(function(t){t.draw(i)})}function kp(i,e){var t=i.get("canvas");if(t&&t.get("autoDraw")){var r=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(e==="remove"){var s=i.get("isClipShape");if(s){var u=o&&o.parentNode,l=u&&u.parentNode;u&&l&&l.removeChild(u)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(e==="show")o.setAttribute("visibility","visible");else if(e==="hide")o.setAttribute("visibility","hidden");else if(e==="zIndex")Ty(o,a.indexOf(i));else if(e==="sort"){var c=i.get("children");c&&c.length&&Np(i,function(d,A){return c.indexOf(d)-c.indexOf(A)?1:0})}else e==="clear"?o&&(o.innerHTML=""):e==="matrix"?Md(i):e==="clip"?_d(i,r):e==="attr"||e==="add"&&i.draw(r)}}var Oy=function(i){(0,b.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=$s("g");this.set("el",t);var r=this.getParent();if(r){var n=r.get("el");n||(n=r.createDom(),r.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var r=this.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context");this.createPath(n,t)}},e.prototype.onCanvasChange=function(t){kp(this,t)},e.prototype.getShapeBase=function(){return y},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var r=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),_d(this,t),this.createPath(t),r.length&&Rp(t,r))},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){ci[s]&&a.setAttribute(ci[s],o)}),Md(this)},e}(ks),Bp=Oy,Iy=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var r=this.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context");this.draw(n,t)}},e.prototype.getShapeBase=function(){return y},e.prototype.getGroupBase=function(){return Bp},e.prototype.onCanvasChange=function(t){kp(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),r=null;if(t)r=t.getBBox();else{var n=Xo(this.get("type"));n&&(r=n(this))}if(r){var a=r.x,o=r.y,s=r.width,u=r.height,l=this.getHitLineWidth(),c=l/2,d=a-c,A=o-c,I=a+s+c,F=o+u+c;return{x:d,y:A,minX:d,minY:A,maxX:I,maxY:F,width:s+l,height:u+l}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),r=t.fill,n=t.fillStyle;return(r||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),r=t.stroke,n=t.strokeStyle;return(r||n)&&this.canStroke},e.prototype.draw=function(t,r){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Lp(this),_d(this,t),this.createPath(t,r),this.shadow(t,r),this.strokeAndFill(t,r),this.transform(r))},e.prototype.createPath=function(t,r){},e.prototype.strokeAndFill=function(t,r){var n=r||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,u=n.strokeStyle,l=n.fillOpacity,c=n.strokeOpacity,d=n.lineWidth,A=this.get("el");this.canFill&&(r?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),l&&A.setAttribute(ci.fillOpacity,l)),this.canStroke&&d>0&&(r?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",u):this._setColor(t,"stroke",s||u),c&&A.setAttribute(ci.strokeOpacity,c),d&&A.setAttribute(ci.lineWidth,d))},e.prototype._setColor=function(t,r,n){var a=this.get("el");if(!n){a.setAttribute(ci[r],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(ci[r],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(ci[r],"url(#"+o+")")}else a.setAttribute(ci[r],n)},e.prototype.shadow=function(t,r){var n=this.attr(),a=r||n,o=a.shadowOffsetX,s=a.shadowOffsetY,u=a.shadowBlur,l=a.shadowColor;(o||s||u||l)&&Ay(this,t)},e.prototype.transform=function(t){var r=this.attr(),n=(t||r).matrix;n&&Md(this)},e.prototype.isInShape=function(t,r){return this.isPointInPath(t,r)},e.prototype.isPointInPath=function(t,r){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,u=r+o.top,l=document.elementFromPoint(s,u);return!!(l&&l.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,r=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?r+n:0},e}(oc),Qs=Iy,Dy=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{x:0,y:0,r:0})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):ci[s]&&a.setAttribute(ci[s],o)})},e}(Qs),Py=Dy,Ly=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");if((0,f.each)(r||n,function(l,c){ci[c]&&a.setAttribute(ci[c],l)}),typeof n.html=="function"){var o=n.html.call(this,n);if(o instanceof Element||o instanceof HTMLDocument){for(var s=a.childNodes,u=s.length-1;u>=0;u--)a.removeChild(s[u]);a.appendChild(o)}else a.innerHTML=o}else a.innerHTML=n.html},e}(Qs),Ny=Ly,Ry=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):ci[s]&&a.setAttribute(ci[s],o)})},e}(Qs),ky=Ry,By=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(r||a,function(s,u){u==="img"?n._setImage(a.img):ci[u]&&o.setAttribute(ci[u],s)})},e.prototype.setAttr=function(t,r){this.attrs[t]=r,t==="img"&&this._setImage(r)},e.prototype._setImage=function(t){var r=this.attr(),n=this.get("el");if((0,f.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)r.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),r.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,f.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),r.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),r.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},e}(Qs),Fy=By,zy=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var u=(0,f.isObject)(o)?t.addArrow(n,ci[s]):t.getDefaultArrow(n,ci[s]);a.setAttribute(ci[s],"url(#"+u+")")}else a.removeAttribute(ci[s]);else ci[s]&&a.setAttribute(ci[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2;return Io.length(r,n,a,o)},e.prototype.getPoint=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2;return Io.pointAt(n,a,o,s,t)},e}(Qs),Gy=zy,rh={circle:function(i,e,t){return[["M",i,e],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,e,t){return[["M",i-t,e-t],["L",i+t,e-t],["L",i+t,e+t],["L",i-t,e+t],["Z"]]},diamond:function(i,e,t){return[["M",i-t,e],["L",i,e-t],["L",i+t,e],["L",i,e+t],["Z"]]},triangle:function(i,e,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,e+r],["L",i,e-r],["L",i+t,e+r],["z"]]},triangleDown:function(i,e,t){var r=t*Math.sin(.3333333333333333*Math.PI);return[["M",i-t,e-r],["L",i+t,e-r],["L",i,e+r],["Z"]]}},Fp={get:function(i){return rh[i]},register:function(i,e){rh[i]=e},remove:function(i){delete rh[i]},getAll:function(){return rh}},Uy=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t){var r=this.get("el");r.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return(0,f.isArray)(t)?t.map(function(r){return r.join(" ")}).join(""):t},e.prototype._getPath=function(){var t=this.attr(),r=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,f.isFunction)(o)?s=o:s=Fp.get(o),s?s(r,n,a):(console.warn(s+" symbol is not exist."),null)},e.symbolsFactory=Fp,e}(Qs),Wy=Uy,Yy=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(r||a,function(s,u){if(u==="path"&&(0,f.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(u==="startArrow"||u==="endArrow")if(s){var l=(0,f.isObject)(s)?t.addArrow(a,ci[u]):t.getDefaultArrow(a,ci[u]);o.setAttribute(ci[u],"url(#"+l+")")}else o.removeAttribute(ci[u]);else ci[u]&&o.setAttribute(ci[u],s)})},e.prototype._formatPath=function(t){var r=t.map(function(n){return n.join(" ")}).join("");return~r.indexOf("NaN")?"":r},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var r=this.get("el"),n=this.getTotalLength();if(n===0)return null;var a=r?r.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},e}(Qs),Xy=Yy,jy=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):ci[s]&&a.setAttribute(ci[s],o)})},e}(Qs),Vy=jy,Hy=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,f.each)(r||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):ci[s]&&a.setAttribute(ci[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr().points,r=this.get("totalLength");return(0,f.isNil)(r)?(this.set("totalLength",kt.length(t)),this.get("totalLength")):r},e.prototype.getPoint=function(t){var r=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,u){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=u)}),Io.pointAt(r[o][0],r[o][1],r[o+1][0],r[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var r=this.getTotalLength();if(!(r<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(u,l){t[l+1]&&(o=[],o[0]=n/r,s=Io.length(u[0],u[1],t[l+1][0],t[l+1][1]),n+=s,o[1]=n/r,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,r=[];return r.push([t[1][0],t[1][1]]),r.push([t[0][0],t[0][1]]),r},e.prototype.getEndTangent=function(){var t=this.attr().points,r=t.length-1,n=[];return n.push([t[r-1][0],t[r-1][1]]),n.push([t[r][0],t[r][1]]),n},e}(Qs),Zy=Hy,Ky=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,$y=/[^\s,]+/gi;function Qy(i){var e=0,t=0,r=0,n=0;return(0,f.isArray)(i)?i.length===1?e=t=r=n=i[0]:i.length===2?(e=r=i[0],t=n=i[1]):i.length===3?(e=i[0],t=n=i[1],r=i[2]):(e=i[0],t=i[1],r=i[2],n=i[3]):e=t=r=n=i,{r1:e,r2:t,r3:r,r4:n}}function kS(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(Ky),each(i,function(e,t){if(e=e.match($y),e[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}each(e,function(n,a){isNaN(n)||(e[a]=+n)}),i[t]=e}),i}var qy=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el"),s=!1,u=["x","y","width","height","radius"];(0,f.each)(r||a,function(l,c){u.indexOf(c)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):u.indexOf(c)===-1&&ci[c]&&o.setAttribute(ci[c],l)})},e.prototype._assembleRect=function(t){var r=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+r+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var u=Qy(s);(0,f.isArray)(s)?s.length===1?u.r1=u.r2=u.r3=u.r4=s[0]:s.length===2?(u.r1=u.r3=s[0],u.r2=u.r4=s[1]):s.length===3?(u.r1=s[0],u.r2=u.r4=s[1],u.r3=s[2]):(u.r1=s[0],u.r2=s[1],u.r3=s[2],u.r4=s[3]):u.r1=u.r2=u.r3=u.r4=s;var l=[["M "+(r+u.r1)+","+n],["l "+(a-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(o-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-a)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-o)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]];return l.join(" ")},e}(Qs),Jy=qy,zp=.3,t1={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},e1={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},r1={left:"left",start:"left",center:"middle",right:"end",end:"end"},n1=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,b.__assign)((0,b.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,f.each)(r||a,function(s,u){u==="text"?n._setText(""+s):u==="matrix"&&s?Md(n):ci[u]&&o.setAttribute(ci[u],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),r=this.attr(),n=r.textBaseline,a=r.textAlign,o=ou();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",e1[n]||"alphabetic"):t.setAttribute("alignment-baseline",t1[n]||"baseline"),t.setAttribute("text-anchor",r1[a]||"left")},e.prototype._setText=function(t){var r=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)r.innerHTML="";else if(~t.indexOf(`
`)){var u=t.split(`
`),l=u.length-1,c="";(0,f.each)(u,function(d,A){A===0?s==="alphabetic"?c+='<tspan x="'+a+'" dy="'+-l+'em">'+d+"</tspan>":s==="top"?c+='<tspan x="'+a+'" dy="0.9em">'+d+"</tspan>":s==="middle"?c+='<tspan x="'+a+'" dy="'+-(l-1)/2+'em">'+d+"</tspan>":s==="bottom"?c+='<tspan x="'+a+'" dy="-'+(l+zp)+'em">'+d+"</tspan>":s==="hanging"&&(c+='<tspan x="'+a+'" dy="'+(-(l-1)-zp)+'em">'+d+"</tspan>"):c+='<tspan x="'+a+'" dy="1em">'+d+"</tspan>"}),r.innerHTML=c}else r.innerHTML=t},e}(Qs),a1=n1,i1=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o1=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,s1=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function Gp(i){var e=i.match(s1);if(!e)return"";var t="";return e.sort(function(r,n){return r=r.split(":"),n=n.split(":"),Number(r[0])-Number(n[0])}),(0,f.each)(e,function(r){r=r.split(":"),t+='<stop offset="'+r[0]+'" stop-color="'+r[1]+'"></stop>'}),t}function u1(i,e){var t=i1.exec(i),r=(0,f.mod)((0,f.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;r>=0&&r<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=r&&r<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=r&&r<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(r),u=s*s,l=(o.x-a.x+s*(o.y-a.y))/(u+1)+a.x,c=s*(o.x-a.x+s*(o.y-a.y))/(u+1)+a.y;e.setAttribute("x1",a.x),e.setAttribute("y1",a.y),e.setAttribute("x2",l),e.setAttribute("y2",c),e.innerHTML=Gp(n)}function l1(i,e){var t=o1.exec(i),r=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];e.setAttribute("cx",r),e.setAttribute("cy",n),e.setAttribute("r",a),e.innerHTML=Gp(o)}var c1=function(){function i(e){this.cfg={};var t=null,r=(0,f.uniqueId)("gradient_");return e.toLowerCase()[0]==="l"?(t=$s("linearGradient"),u1(e,t)):(t=$s("radialGradient"),l1(e,t)),t.setAttribute("id",r),this.el=t,this.id=r,this.cfg=e,this}return i.prototype.match=function(e,t){return this.cfg===t},i}(),f1=c1,d1={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},h1={x:"-40%",y:"-40%",width:"200%",height:"200%"},v1=function(){function i(e){this.type="filter",this.cfg={},this.type="filter";var t=$s("filter");return(0,f.each)(h1,function(r,n){t.setAttribute(n,r)}),this.el=t,this.id=(0,f.uniqueId)("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return i.prototype.match=function(e,t){if(this.type!==e)return!1;var r=!0,n=this.cfg;return(0,f.each)(Object.keys(n),function(a){if(n[a]!==t[a])return r=!1,!1}),r},i.prototype.update=function(e,t){var r=this.cfg;return r[d1[e]]=t,this._parseShadow(r,this.el),this},i.prototype._parseShadow=function(e,t){var r=`<feDropShadow
      dx="`+(e.dx||0)+`"
      dy="`+(e.dy||0)+`"
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;t.innerHTML=r},i}(),p1=v1,g1=function(){function i(e,t){this.cfg={};var r=$s("marker"),n=(0,f.uniqueId)("marker_");r.setAttribute("id",n);var a=$s("path");a.setAttribute("stroke",e.stroke||"none"),a.setAttribute("fill",e.fill||"none"),r.appendChild(a),r.setAttribute("overflow","visible"),r.setAttribute("orient","auto-start-reverse"),this.el=r,this.child=a,this.id=n;var o=e[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(e.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(e,t){var r=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),r.setAttribute("refX",""+10*Math.cos(Math.PI/6)),r.setAttribute("refY",""+5)},i.prototype._setMarker=function(e,t){var r=this.el,n=this.cfg.path,a=this.cfg.d;(0,f.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),r.appendChild(t),a&&r.setAttribute("refX",""+a/e)},i.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},i}(),Up=g1,m1=function(){function i(e){this.type="clip",this.cfg={};var t=$s("clipPath");this.el=t,this.id=(0,f.uniqueId)("clip_"),t.id=this.id;var r=e.cfg.el;return t.appendChild(r),this.cfg=e,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},i}(),y1=m1,b1=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,x1=function(){function i(e){this.cfg={};var t=$s("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var r=$s("image");t.appendChild(r);var n=(0,f.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=e;var a=b1.exec(e),o=a[2];r.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function u(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?u():(s.onload=u,s.src=s.src),this}return i.prototype.match=function(e,t){return this.cfg===t},i}(),E1=x1,w1=function(){function i(e){var t=$s("defs"),r=(0,f.uniqueId)("defs_");t.id=r,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return i.prototype.find=function(e,t){for(var r=this.children,n=null,a=0;a<r.length;a++)if(r[a].match(e,t)){n=r[a].id;break}return n},i.prototype.findById=function(e){for(var t=this.children,r=null,n=0;n<t.length;n++)if(t[n].id===e){r=t[n];break}return r},i.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},i.prototype.getDefaultArrow=function(e,t){var r=e.stroke||e.strokeStyle;if(this.defaultArrow[r])return this.defaultArrow[r].id;var n=new Up(e,t);return this.defaultArrow[r]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(e){var t=new f1(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(e,t){var r=new Up(e,t);return this.el.appendChild(r.el),this.add(r),r.id},i.prototype.addShadow=function(e){var t=new p1(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(e){var t=new E1(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(e){var t=new y1(e);return this.el.appendChild(t.el),this.add(t),t.id},i}(),S1=w1,M1=function(i){(0,b.__extends)(e,i);function e(t){return i.call(this,(0,b.__assign)((0,b.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return e.prototype.getShapeBase=function(){return y},e.prototype.getGroupBase=function(){return Bp},e.prototype.getShape=function(t,r,n){var a=n.target||n.srcElement;if(!qh[a.tagName]){for(var o=a.parentNode;o&&!qh[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},e.prototype.createDom=function(){var t=$s("svg"),r=new S1(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",r),t},e.prototype.onCanvasChange=function(t){var r=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Np(this,function(s,u){return a.indexOf(s)-a.indexOf(u)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=r.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?Md(this):t==="clip"?_d(this,r):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),r=this.getChildren();_d(this,t),r.length&&Rp(t,r)},e}(Vc),Cd=M1,BS="0.5.6",_1=C(6767),Td=C.n(_1),nh=C(697234),ah=2,Wp=.16,C1=.05,T1=.05,A1=.15,Yp=5,Xp=4,O1=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function jp(i,e,t){var r;return Math.round(i.h)>=60&&Math.round(i.h)<=240?r=t?Math.round(i.h)-ah*e:Math.round(i.h)+ah*e:r=t?Math.round(i.h)+ah*e:Math.round(i.h)-ah*e,r<0?r+=360:r>=360&&(r-=360),r}function Vp(i,e,t){if(i.h===0&&i.s===0)return i.s;var r;return t?r=i.s-Wp*e:e===Xp?r=i.s+Wp:r=i.s+C1*e,r>1&&(r=1),t&&e===Yp&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function Hp(i,e,t){var r;return t?r=i.v+T1*e:r=i.v-A1*e,r>1&&(r=1),Number(r.toFixed(2))}function ih(i){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=(0,nh.Z)(i),n=Yp;n>0;n-=1){var a=r.toHsv(),o=(0,nh.Z)({h:jp(a,n,!0),s:Vp(a,n,!0),v:Hp(a,n,!0)}).toHexString();t.push(o)}t.push(r.toHexString());for(var s=1;s<=Xp;s+=1){var u=r.toHsv(),l=(0,nh.Z)({h:jp(u,s),s:Vp(u,s),v:Hp(u,s)}).toHexString();t.push(l)}return e.theme==="dark"?O1.map(function(c){var d=c.index,A=c.opacity,I=nh.Z.mix(e.backgroundColor||"#141414",t[d],A*100).toHexString();return I}):t}var Jh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},cs={},tv={};Object.keys(Jh).forEach(function(i){cs[i]=ih(Jh[i]),cs[i].primary=cs[i][5],tv[i]=ih(Jh[i],{theme:"dark",backgroundColor:"#141414"}),tv[i].primary=tv[i][5]});var FS=cs.red,zS=cs.volcano,GS=cs.gold,US=cs.orange,WS=cs.yellow,YS=cs.lime,XS=cs.green,jS=cs.cyan,VS=cs.blue,HS=cs.geekblue,ZS=cs.purple,KS=cs.magenta,$S=cs.grey,$o=function(e,t,r){var n=Td()(e),a=Td()(t);return Td()([(1-r)*n.red()+r*a.red(),(1-r)*n.green()+r*a.green(),(1-r)*n.blue()+r*a.blue()]).rgb()},I1=function(e,t,r){t===void 0&&(t="#fff"),r===void 0&&(r="rgb(150, 150, 150)");var n=$o(t,e,.05).rgb().toString(),a=$o(t,e,.1).rgb().toString(),o=$o(t,e,.2).rgb().toString(),s=$o(t,e,.4).rgb().toString(),u=$o(t,r,.02).rgb().toString(),l=$o(t,r,.05).rgb().toString(),c=$o(t,r,.1).rgb().toString(),d=$o(t,r,.2).rgb().toString(),A=$o(t,r,.3).rgb().toString(),I=ih(e,{theme:"default",backgroundColor:t}),F=Td()(e).hex().toLowerCase(),Z=I.indexOf(F),rt=e;return Z!==-1&&(rt=I[Z+1]),{mainStroke:e,mainFill:a,activeStroke:e,activeFill:n,inactiveStroke:s,inactiveFill:n,selectedStroke:e,selectedFill:t,highlightStroke:rt,highlightFill:o,disableStroke:A,disableFill:l,edgeMainStroke:A,edgeActiveStroke:e,edgeInactiveStroke:d,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:c,comboMainStroke:A,comboMainFill:u,comboActiveStroke:e,comboActiveFill:n,comboInactiveStroke:A,comboInactiveFill:u,comboSelectedStroke:e,comboSelectedFill:u,comboHighlightStroke:rt,comboHighlightFill:u,comboDisableStroke:d,comboDisableFill:l}},D1=function(e,t,r){t===void 0&&(t="#fff"),r===void 0&&(r="#777");var n=$o(t,e,.2).rgb().toString(),a=$o(t,e,.3).rgb().toString(),o=$o(t,e,.6).rgb().toString(),s=$o(t,e,.8).rgb().toString(),u=$o(t,r,.2).rgb().toString(),l=$o(t,r,.25).rgb().toString(),c=$o(t,r,.3).rgb().toString(),d=$o(t,r,.4).rgb().toString(),A=$o(t,r,.5).rgb().toString(),I=ih(e,{theme:"dark",backgroundColor:t}),F=Td()(e).hex().toLowerCase(),Z=I.indexOf(F),rt=e;return Z!==-1&&(rt=I[Z+1]),{mainStroke:s,mainFill:n,activeStroke:e,activeFill:a,inactiveStroke:s,inactiveFill:n,selectedStroke:e,selectedFill:n,highlightStroke:e,highlightFill:o,disableStroke:A,disableFill:l,edgeMainStroke:r,edgeActiveStroke:e,edgeInactiveStroke:r,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:c,comboMainStroke:d,comboMainFill:l,comboActiveStroke:e,comboActiveFill:u,comboInactiveStroke:d,comboInactiveFill:l,comboSelectedStroke:e,comboSelectedFill:u,comboHighlightStroke:rt,comboHighlightFill:l,comboDisableStroke:d,comboDisableFill:u}},ev=function(e,t,r,n){return t===void 0&&(t="#fff"),r===void 0&&(r="default"),n===void 0&&(n="rgb(150, 150, 150)"),r==="default"?I1(e,t,"rgb(150, 150, 150)"):D1(e,t,"#777")},P1=function(e,t,r,n){t===void 0&&(t="#fff"),r===void 0&&(r="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=[];return e.forEach(function(o){a.push(ev(o,t,r,n))}),a},L1="rgb(95, 149, 255)",N1="rgb(255, 255, 255)",Zp="rgb(0, 0, 0)",ai=ev(L1,N1),qc={version:"0.8.8",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:ai.mainStroke,fill:ai.mainFill},size:20,color:ai.mainStroke,linkPoints:{size:8,lineWidth:1,fill:ai.activeFill,stroke:ai.activeStroke}},nodeStateStyles:{active:{fill:ai.activeFill,stroke:ai.activeStroke,lineWidth:2,shadowColor:ai.mainStroke,shadowBlur:10},selected:{fill:ai.selectedFill,stroke:ai.selectedStroke,lineWidth:4,shadowColor:ai.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:ai.highlightFill,stroke:ai.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:ai.inactiveFill,stroke:ai.inactiveStroke,lineWidth:1},disable:{fill:ai.disableFill,stroke:ai.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Zp,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:ai.edgeMainStroke,lineAppendWidth:2},color:ai.edgeMainStroke},edgeStateStyles:{active:{stroke:ai.edgeActiveStroke,lineWidth:1},selected:{stroke:ai.edgeSelectedStroke,lineWidth:2,shadowColor:ai.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ai.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:ai.edgeInactiveStroke,lineWidth:1},disable:{stroke:ai.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Zp,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:ai.comboMainFill,lineWidth:1,stroke:ai.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:ai.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:ai.comboActiveStroke,lineWidth:1,fill:ai.comboActiveFill},selected:{stroke:ai.comboSelectedStroke,lineWidth:2,fill:ai.comboSelectedFill,shadowColor:ai.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ai.comboHighlightStroke,lineWidth:2,fill:ai.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:ai.comboInactiveStroke,fill:ai.comboInactiveFill,lineWidth:1},disable:{stroke:ai.comboDisableStroke,fill:ai.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function oh(i,e,t){if(i){if(typeof i.addEventListener=="function")return i.addEventListener(e,t,!1),{remove:function(){i.removeEventListener(e,t,!1)}};if(typeof i.attachEvent=="function")return i.attachEvent("on"+e,t),{remove:function(){i.detachEvent("on"+e,t)}}}}var R1=ls.cloneEvent,k1=ls.isViewportChanged,B1=function(i){(0,b.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.extendEvents=[],r.dragging=!1,r.mousedown=!1,r.preItem=null,r.destroy(),r.graph=t,r.destroyed=!1,r.initEvents(),r}return e.prototype.initEvents=function(){var t=this,r=t.graph,n=t.extendEvents,a=n===void 0?[]:n,o=r.get("canvas"),s=o.get("el"),u=(0,f.wrapBehavior)(this,"onCanvasEvents"),l=(0,f.wrapBehavior)(this,"onExtendEvents"),c=(0,f.wrapBehavior)(this,"onWheelEvent");o.off("*").on("*",u),this.canvasHandler=u,a.push(oh(s,"wheel",c)),typeof window!="undefined"&&(a.push(oh(window,"keydown",l)),a.push(oh(window,"keyup",l)),a.push(oh(window,"focus",l))),this.resetHandler&&r.off("afterchangedata",this.resetHandler),this.resetHandler=(0,f.wrapBehavior)(this,"resetStatus"),r.on("afterchangedata",this.resetHandler)},e.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},e.prototype.onCanvasEvents=function(t){var r=this,n=this.graph,a=n.get("canvas"),o=t.target,s=t.type;switch(s){case"drag":this.onCanvasEvents(Object.assign({},t,{type:"mousemove"}));break;case"dragend":this.onCanvasEvents(Object.assign({},t,{type:"mouseup"}));break;case"mousedown":this.mousedown=!0;break;case"dragend":case"mouseup":setTimeout(function(){return r.mousedown=!1});break;case"click":if(!this.mousedown)return;break;default:break}t.canvasX=t.x,t.canvasY=t.y;var u={x:t.canvasX,y:t.canvasY},l=n.get("group"),c=l.getMatrix();if(c||(c=[1,0,0,0,1,0,0,0,1]),k1(c)&&(u=n.getPointByClient(t.clientX,t.clientY)),t.x=u.x,t.y=u.y,t.currentTarget=n,o===a){(s==="mousemove"||s==="mouseleave")&&this.handleMouseMove(t,"canvas"),t.target=a,t.item=null,n.emit(s,t),n.emit("canvas:".concat(s),t);return}var d=e.getItemRoot(o);if(!d){n.emit(s,t);return}var A=d.get("item");if(!A.destroyed){var I=A.getType();if(t.target=o,t.item=A,t.canvasX===t.x&&t.canvasY===t.y){var F=n.getCanvasByPoint(t.x,t.y);t.canvasX=F.x,t.canvasY=F.y}t.name&&!t.name.includes(":")?(n.emit("".concat(I,":").concat(s),t),n.emit(s,t)):t.name&&n.emit(t.name,t),s==="dragstart"&&(this.dragging=!0),s==="dragend"&&(this.dragging=!1),s==="mousemove"&&this.handleMouseMove(t,I)}},e.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},e.prototype.onWheelEvent=function(t){(0,f.isNil)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},e.prototype.handleMouseMove=function(t,r){var n=this,a=n.graph,o=n.preItem,s=a.get("canvas"),u=t.target===s?null:t.item;t=R1(t),o&&o!==u&&!o.destroyed&&(t.item=o,this.emitCustomEvent(o.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(o.getType(),"dragleave",t)),u&&o!==u&&(t.item=u,this.emitCustomEvent(r,"mouseenter",t),this.dragging&&this.emitCustomEvent(r,"dragenter",t)),this.preItem=u},e.prototype.emitCustomEvent=function(t,r,n){n.type=r,this.graph.emit("".concat(t,":").concat(r),n)},e.prototype.resetStatus=function(){this.mousedown=!1,this.dragging=!1,this.preItem=null},e.prototype.destroy=function(){var t=this,r=t.graph,n=t.canvasHandler,a=t.extendEvents,o=r.get("canvas");o.off("*",n),(0,f.each)(a,function(s){s.remove()}),this.resetStatus(),this.extendEvents.length=0,this.canvasHandler=null,this.resetHandler=null,this.destroyed=!0},e}(lp),F1=B1,qa=C(483360),z1=C(981746),sh=C.n(z1),Kp=ls.traverseTree,G1=function(e,t){var r;return e?(0,f.isNumber)(e)?r=function(a){return e}:r=e:r=function(a){return t||1},r},U1=function(e,t){var r=[],n=[],a={},o=0;for(o=0;o<e.length;o++){var s=e[o];a[s.id]=o,r.push(s.x),r.push(s.y),r.push(0),r.push(0),n.push([])}for(o=0;o<t.length;o++){var u=t[o];n[a[u.source]].push(a[u.target]),n[a[u.target]].push(a[u.source])}var l=0;for(o=0;o<e.length;o++){var c=r.length,d=n[o],A=d.length;r[o*4+2]=c,r[o*4+3]=d.length,l=Math.max(l,d.length);for(var I=0;I<A;++I){var F=d[I];r.push(+F)}}for(;r.length%4!==0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:l}},W1=function(e,t,r){var n=[],a=[],o={},s=0;for(s=0;s<e.length;s++){var u=e[s];o[u.id]=s,n.push(u.x),n.push(u.y),n.push(0),n.push(0),a.push([])}for(s=0;s<t.length;s++){var l=t[s];a[o[l.source]].push(o[l.target]),a[o[l.source]].push(r(l)),a[o[l.target]].push(o[l.source]),a[o[l.target]].push(r(l))}var c=0;for(s=0;s<e.length;s++){var d=n.length,A=a[s],I=A.length;n[s*4+2]=d,n[s*4+3]=I/2,c=Math.max(c,I/2);for(var F=0;F<I;++F){var Z=A[F];n.push(+Z)}}for(;n.length%4!==0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:c}},Y1=function(e,t,r,n){var a=[],o=[],s={},u=0;for(u=0;u<e.length;u++){var l=e[u];s[l.id]=u,a.push(l.x),a.push(l.y),a.push(0),a.push(0),o.push([])}for(u=0;u<t.length;u++){var c=t[u];o[s[c.source]].push(s[c.target]),o[s[c.source]].push(r(c)),o[s[c.source]].push(n(c)),o[s[c.source]].push(0),o[s[c.target]].push(s[c.source]),o[s[c.target]].push(r(c)),o[s[c.target]].push(n(c)),o[s[c.target]].push(0)}var d=0;for(u=0;u<e.length;u++){var A=a.length,I=o[u],F=I.length;a[u*4+2]=A+1048576*F/4,a[u*4+3]=0,d=Math.max(d,F/4);for(var Z=0;Z<F;++Z){var rt=I[Z];a.push(+rt)}}for(;a.length%4!==0;)a.push(0);return{array:new Float32Array(a),maxEdgePerVetex:d}},X1=function(e,t){var r=[],n=e.length,a={};return t.forEach(function(o){e.forEach(function(s,u){if(a[o[s]]===void 0&&(a[o[s]]=Object.keys(a).length),r.push(a[o[s]]),u===n-1)for(;r.length%4!==0;)r.push(0)})}),{array:new Float32Array(r),count:Object.keys(a).length}},j1=function(e){for(var t=[],r=e.length,n=e[0].length,a=function(u){e.forEach(function(l,c){if(t.push(l[u]),c===r-1)for(;t.length%4!==0;)t.push(0)})},o=0;o<n;o++)a(o);return new Float32Array(t)},V1=function(e,t){var r=["V","TB","BT"],n={x:1/0,y:1/0},a={x:-1/0,y:-1/0},o="x",s="y";t&&r.indexOf(t)>=0&&(s="x",o="y");var u=0;Kp(e,function(d){return u++,d.x>a.x&&(a.x=d.x),d.x<n.x&&(n.x=d.x),d.y>a.y&&(a.y=d.y),d.y<n.y&&(n.y=d.y),!0});var l=Math.PI*2/u,c=a[s]-n[s];return c===0||Kp(e,function(d){var A=(d[s]-n[s])/c*(Math.PI*2-l)+l,I=Math.abs(o==="x"?d.x-e.x:d.y-e.y);return d.x=I*Math.cos(A),d.y=I*Math.sin(A),!0}),e},$p=function i(){return typeof window=="undefined"||typeof document=="undefined"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),t},addGetWebGLMessage:function(t){t=t||{};var r=t.parent!==void 0?t.parent:document.body,n=t.id!==void 0?t.id:"oldie",a=i().getWebGLErrorMessage();a.id=n,r.appendChild(a)}}},H1=(0,b.__assign)((0,b.__assign)((0,b.__assign)((0,b.__assign)({},ls),T),E),D),Cl=H1,Z1=Cl.radialLayout,K1=function(){function i(e){this.type=e.type,this.radial=e.radial,this.config=e}return i.prototype.init=function(e){var t=this;if(this.data=e,this.radial){this.layoutMethod=function(r){var n=sh()[t.type](r,t.config);return Z1(n),n};return}this.layoutMethod=function(r){return sh()[t.type](r,t.config)}},i.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},i.prototype.layout=function(e){return this.init(e),this.execute()},i}(),$1=K1;(0,qa.registerLayout)("grid",qa.GridLayout),(0,qa.registerLayout)("random",qa.RandomLayout),(0,qa.registerLayout)("force",qa.ForceLayout),(0,qa.registerLayout)("circular",qa.CircularLayout),(0,qa.registerLayout)("dagre",qa.DagreLayout),(0,qa.registerLayout)("dagreCompound",qa.DagreCompoundLayout),(0,qa.registerLayout)("radial",qa.RadialLayout),(0,qa.registerLayout)("concentric",qa.ConcentricLayout),(0,qa.registerLayout)("mds",qa.MDSLayout),(0,qa.registerLayout)("fruchterman",qa.FruchtermanLayout),(0,qa.registerLayout)("fruchterman-gpu",qa.FruchtermanGPULayout),(0,qa.registerLayout)("gForce",qa.GForceLayout),(0,qa.registerLayout)("force2",qa.Force2Layout),(0,qa.registerLayout)("gForce-gpu",qa.GForceGPULayout),(0,qa.registerLayout)("comboForce",qa.ComboForceLayout),(0,qa.registerLayout)("comboCombined",qa.ComboCombinedLayout),(0,qa.registerLayout)("forceAtlas2",qa.ForceAtlas2Layout);var Q1=function(e,t){t.isCustomLayout=!0,qa.Layouts[e]=(0,qa.registerLayout)(e,t)},q1=function(){function i(e,t){var r=e.toString(),n=new Blob(["importScripts('".concat(t,"');(").concat(r,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(n))}return i}(),J1=q1,tb=function(e){e===void 0&&(e="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");function t(){var n={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout);function a(s){var u=s.data.type;return u===n.RUN||u===n.GPURUN}function o(s){var u=this,l=s.data.type;switch(l){case n.RUN:{var c=s.data,d=c.nodes,A=c.edges,I=c.layoutCfg,F=I===void 0?{}:I,Z=F.type,rt=layout.getLayoutByName(Z);if(!rt){this.postMessage({type:n.ERROR,message:"layout ".concat(Z," not found")});break}var lt;F.onLayoutEnd=function(){u.postMessage({type:n.END,nodes:d}),lt==null||lt.destroy()},lt=new rt(F),lt.init({nodes:d,edges:A}),lt.execute();break}case n.GPURUN:{var ct=s.data,pt=ct.nodes,A=ct.edges,_t=ct.layoutCfg,F=_t===void 0?{}:_t,jt=ct.canvas,Z=F.type,rt=layout.getLayoutByName(Z);if(!rt){this.postMessage({type:n.ERROR,message:"layout ".concat(Z," not found")});break}if(Z.split("-")[1]!=="gpu"){this.postMessage({type:n.ERROR,message:"layout ".concat(Z," does not support GPU")});break}var oe=new rt(F);oe.init({nodes:pt,edges:A}),oe.executeWithWorker(jt,this);break}default:break}}onmessage=function(u){a(u)&&o(u)}}var r=new J1(t,e);return r},Jf={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};function rv(i){return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(i)}var Qp=function(e){return setTimeout(e,16)},qp=function(e){return clearTimeout(e)},uh={requestAnimationFrame:function(e){var t=typeof window!="undefined"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||Qp;return t(e)},cancelAnimationFrame:function(e){var t=typeof window!="undefined"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||qp;return t(e)}},eb=["fruchterman","gForce"],rb=["force","grid","circular"],nb=function(i){(0,b.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.graph=t,r.layoutCfg=t.get("layout")||{},r.layoutType=r.getLayoutType(),r.worker=null,r.workerData={},r.initLayout(),r}return e.prototype.initLayout=function(){},e.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=tb(this.layoutCfg.workerScriptURL),this.worker)},e.prototype.stopWorker=function(){var t=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,t.requestId&&(uh.cancelAnimationFrame(t.requestId),t.requestId=null),t.requestId2&&(uh.cancelAnimationFrame(t.requestId2),t.requestId2=null))},e.prototype.execLayoutMethod=function(t,r){var n=this;return new Promise(function(a,o){return(0,b.__awaiter)(n,void 0,void 0,function(){var s,u,l,c,d,Z,A,I,F,Z,rt;return(0,b.__generator)(this,function(lt){switch(lt.label){case 0:if(s=this.graph,!s||s.get("destroyed"))return[2];u=t.type,t.onLayoutEnd=function(){s.emit("aftersublayout",{type:u}),a()},u&&this.isGPU&&(Jp(u)?u="".concat(u,"-gpu"):console.warn("The '".concat(u,"' layout does not support GPU calculation for now, it will run in CPU."))),ls.isForce(u)?(l=t.onTick,c=t.animate,d=c===void 0&&(u==="force"||u==="force2"),Z=function(){l&&l(),(c||d)&&s.refreshPositions()},t.tick=Z):(u==="comboForce"||u==="comboCombined")&&(t.comboTrees=s.get("comboTrees")),A=!1;try{I=new qa.Layouts[u](t),this.layoutMethods[r]&&this.layoutMethods[r].destroy(),this.layoutMethods[r]=I}catch(ct){console.warn("The layout method: '".concat(u,"' does not exist! Please specify it first.")),o()}return A=I.enableTick,A&&(F=t.onTick,Z=function(){F&&F(),s.refreshPositions()},I.tick=Z),rt=this.filterLayoutData(this.data,t),sb(rt,r),I.init(rt),s.emit("beforesublayout",{type:u}),[4,I.execute()];case 1:return lt.sent(),I.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),[2]}})})})},e.prototype.updateLayoutMethod=function(t,r){var n=this;return new Promise(function(a,o){return(0,b.__awaiter)(n,void 0,void 0,function(){var s,u,l;return(0,b.__generator)(this,function(c){switch(c.label){case 0:return s=this.graph,u=r==null?void 0:r.type,r.onLayoutEnd=function(){s.emit("aftersublayout",{type:u}),a()},l=this.filterLayoutData(this.data,r),t.init(l),t.updateCfg(r),s.emit("beforesublayout",{type:u}),[4,t.execute()];case 1:return c.sent(),t.isCustomLayout&&r.onLayoutEnd&&r.onLayoutEnd(),[2]}})})})},e.prototype.layout=function(t){var r=this,n,a=this.graph;if(!(!a||a.get("destroyed"))){this.data=this.setDataFromGraph();var o=this.data,s=o.nodes,u=o.hiddenNodes;if(!s)return!1;var l=a.get("width"),c=a.get("height"),d={};Object.assign(d,{width:l,height:c,center:[l/2,c/2]},this.layoutCfg),this.layoutCfg=d;var A=d.type,I=!1;(n=this.layoutMethods)===null||n===void 0||n.forEach(function(jt){var oe;return I=!!(!((oe=jt.nodes)===null||oe===void 0)&&oe.length)||I});var F=this.destoryLayoutMethods();a.emit("beforelayout");var Z=Promise.resolve();I&&A&&(F==null?void 0:F.length)===1&&F[0]===A?this.tweakInit():Z=this.initPositions(d.center,s);var rt=this.initPositions(d.center,u);rt.then(),this.isGPU=tg(d,A);var lt=d.onLayoutEnd,ct=d.layoutEndFormatted,pt=d.adjust;if(ct||(d.layoutEndFormatted=!0,d.onAllLayoutEnd=function(){return(0,b.__awaiter)(r,void 0,void 0,function(){return(0,b.__generator)(this,function(jt){switch(jt.label){case 0:return lt&&lt(s),this.refreshLayout(),pt&&d.pipes?[4,this.adjustPipesBox(this.data,pt)]:[3,2];case 1:jt.sent(),this.refreshLayout(),jt.label=2;case 2:return a.emit("afterlayout"),[2]}})})}),this.stopWorker(),d.workerEnabled&&this.layoutWithWorker(this.data,t))return!0;var _t=!1;return d.type?(_t=!0,Z=Z.then(function(){return(0,b.__awaiter)(r,void 0,void 0,function(){return(0,b.__generator)(this,function(jt){switch(jt.label){case 0:return[4,this.execLayoutMethod(d,0)];case 1:return[2,jt.sent()]}})})})):d.pipes&&(_t=!0,d.pipes.forEach(function(jt,oe){Z=Z.then(function(){return(0,b.__awaiter)(r,void 0,void 0,function(){return(0,b.__generator)(this,function(ie){switch(ie.label){case 0:return[4,this.execLayoutMethod(jt,oe)];case 1:return[2,ie.sent()]}})})})})),_t?Z.then(function(){d.onAllLayoutEnd&&d.onAllLayoutEnd(),t&&t()}).catch(function(jt){console.warn("graph layout failed,",jt)}):(a.refreshPositions(),t==null||t()),!1}},e.prototype.tweakInit=function(){var t=this,r=t.data,n=t.graph,a=r.nodes,o=r.edges;if(a!=null&&a.length){var s={};a.forEach(function(c){var d=c.x,A=c.y;!isNaN(d)&&!isNaN(A)&&(s[c.id]={x:d,y:A},c.mass=c.mass||2)}),o.forEach(function(c){var d=c.source,A=c.target,I=s[d],F=s[A];!I&&F?s[d]={x:F.x+(Math.random()-.5)*80,y:F.y+(Math.random()-.5)*80}:!F&&I&&(s[A]={x:I.x+(Math.random()-.5)*80,y:I.y+(Math.random()-.5)*80})});var u=n.get("width"),l=n.get("height");a.forEach(function(c){var d=s[c.id]||{x:u/2+(Math.random()-.5)*20,y:l/2+(Math.random()-.5)*20};c.x=d.x,c.y=d.y})}},e.prototype.initWithPreset=function(t,r){var n=this;return new Promise(function(a,o){return(0,b.__awaiter)(n,void 0,void 0,function(){var s,u,l,c,d,A,I;return(0,b.__generator)(this,function(F){switch(F.label){case 0:return s=this,u=s.layoutCfg,l=s.data,c=u.preset,!(c!=null&&c.type)||!qa.Layouts[c==null?void 0:c.type]?(r==null||r(),a(),[2,!1]):(d=tg(c,c.type),A=d?"".concat(c.type,"-gpu"):c.type,I=new qa.Layouts[A](c),delete u.preset,I.init(l),[4,I.execute()]);case 1:return F.sent(),t==null||t(),a(),[2,!0]}})})})},e.prototype.layoutWithWorker=function(t,r){var n=this,a=this,o=a.layoutCfg,s=a.graph,u=this.getWorker(),l=this.workerData;if(!u)return!1;l.requestId=null,l.requestId2=null,l.currentTick=null,l.currentTickData=null,s.emit("beforelayout");var c=Promise.resolve(),d=!1;if(o.type)d=!0,c=c.then(function(){return n.runWebworker(u,t,o)});else if(o.pipes){d=!0;for(var A=function(lt){c=c.then(function(){return n.runWebworker(u,t,lt)})},I=0,F=o.pipes;I<F.length;I++){var Z=F[I];A(Z)}}return d&&c.then(function(){o.onAllLayoutEnd&&o.onAllLayoutEnd(),r==null||r()}).catch(function(rt){console.error("layout failed",rt)}),!0},e.prototype.runWebworker=function(t,r,n){var a=this,o=this.isGPU,s=this.filterLayoutData(r,n),u=s.nodes,l=s.edges,c=document.createElement("canvas"),d=o&&typeof window!="undefined"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in c,A=ib(n,function(F){return typeof F!="function"});if(!d)t.postMessage({type:Jf.RUN,nodes:u,edges:l,layoutCfg:A});else{var I=c.transferControlToOffscreen();A.type="".concat(A.type,"-gpu"),t.postMessage({type:Jf.GPURUN,nodes:u,edges:l,layoutCfg:A,canvas:I},[I])}return new Promise(function(F,Z){t.onmessage=function(rt){a.handleWorkerMessage(F,Z,rt,s,n)}})},e.prototype.handleWorkerMessage=function(t,r,n,a,o){var s=this,u=s.graph,l=s.workerData,c=n.data,d=c.type,A=function(){o.onTick&&o.onTick()};switch(d){case Jf.TICK:l.currentTick=c.currentTick,l.currentTickData=c,l.requestId||(l.requestId=uh.requestAnimationFrame(function(){nv(a,c),u.refreshPositions(),A(),c.currentTick===c.totalTicks?t():l.currentTick===c.totalTicks&&(l.requestId2=uh.requestAnimationFrame(function(){nv(a,l.currentTickData),u.refreshPositions(),l.requestId2=null,A(),t()})),l.requestId=null}));break;case Jf.END:l.currentTick==null&&(nv(a,c),t());break;case Jf.GPUEND:l.currentTick==null&&(ob(a,c),t());break;case Jf.ERROR:console.warn("Web-Worker layout error!",c.message),r();break;default:r();break}},e.prototype.updateLayoutCfg=function(t){var r=this,n=this,a=n.graph,o=n.layoutMethods;if(!(!a||a.get("destroyed"))){var s=t.disableTriggerLayout,u=(0,b.__rest)(t,["disableTriggerLayout"]),l=(0,f.mix)({},this.layoutCfg,u);if(this.layoutCfg=l,!s){if(!(o!=null&&o.length)){this.layout();return}if(this.data=this.setDataFromGraph(),this.stopWorker(),!(u.workerEnabled&&this.layoutWithWorker(this.data,null))){a.emit("beforelayout");var c=Promise.resolve(),d=!1;(o==null?void 0:o.length)===1?(d=!0,c=c.then(function(){return(0,b.__awaiter)(r,void 0,void 0,function(){return(0,b.__generator)(this,function(A){switch(A.label){case 0:return[4,this.updateLayoutMethod(o[0],l)];case 1:return[2,A.sent()]}})})})):o!=null&&o.length&&(d=!0,o.forEach(function(A,I){var F=l.pipes[I];c=c.then(function(){return(0,b.__awaiter)(r,void 0,void 0,function(){return(0,b.__generator)(this,function(Z){switch(Z.label){case 0:return[4,this.updateLayoutMethod(A,F)];case 1:return[2,Z.sent()]}})})})})),d&&c.then(function(){l.onAllLayoutEnd&&l.onAllLayoutEnd()}).catch(function(A){console.warn("layout failed",A)})}}}},e.prototype.adjustPipesBox=function(t,r){var n=this;return new Promise(function(a){var o=t.nodes;o!=null&&o.length||a(),rb.includes(r)||(console.warn("The adjust type ".concat(r," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),a());var s={center:n.layoutCfg.center,nodeSize:function(F){return Math.max(F.height,F.width)},preventOverlap:!0,onLayoutEnd:function(){}},u=n.getLayoutBBox(o),l=u.groupNodes,c=u.layoutNodes,d=(0,f.clone)(c);s.onLayoutEnd=function(){c==null||c.forEach(function(I,F){var Z,rt,lt,ct=I.x-((Z=d[F])===null||Z===void 0?void 0:Z.x),pt=I.y-((rt=d[F])===null||rt===void 0?void 0:rt.y);(lt=l[F])===null||lt===void 0||lt.forEach(function(_t){_t.x+=ct,_t.y+=pt})}),a()};var A=new qa.Layouts[r](s);A.layout({nodes:c})})},e.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},e}(up),ab=nb;function nv(i,e){for(var t=i.nodes,r=e.nodes,n=t.length,a=0;a<n;a++){var o=t[a];o.x=r[a].x,o.y=r[a].y}}function ib(i,e){var t={};return i&&rv(i)==="object"?(Object.keys(i).forEach(function(r){i.hasOwnProperty(r)&&e(i[r])&&(t[r]=i[r])}),t):i}function ob(i,e){for(var t=i.nodes,r=e.vertexEdgeData,n=t.length,a=0;a<n;a++){var o=t[a],s=r[4*a],u=r[4*a+1];o.x=s,o.y=u}}function sb(i,e){var t;if(!((t=i==null?void 0:i.nodes)===null||t===void 0)&&t.length){var r=i.nodes;r.forEach(function(n){n.layoutOrder=e})}}function Jp(i){return eb.includes(i)}function tg(i,e){var t=e;e&&e.split("-")[1]==="gpu"&&(t=e.split("-")[0],i.gpuEnabled=!0);var r=!1;return i.gpuEnabled&&(r=!0,$p().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),r=!1)),r&&!Jp(t)&&(console.warn("The '".concat(t,"' layout does not support GPU calculation for now, it will run in CPU.")),r=!1),r}var Ad,av,eg,iv;function ub(){Ad=document.createElement("table"),av=document.createElement("tr"),eg=/^\s*<(\w+|!)[^>]*>/,iv={tr:document.createElement("tbody"),tbody:Ad,thead:Ad,tfoot:Ad,td:av,th:av,"*":document.createElement("div")}}function ho(i){Ad||ub();var e=eg.test(i)&&RegExp.$1;(!e||!(e in iv))&&(e="*");var t=iv[e];i=typeof i=="string"?i.replace(/(^\s*)|(\s*$)/g,""):i,t.innerHTML=""+i;var r=t.childNodes[0];return r&&t.contains(r)&&t.removeChild(r),r}var lb=function(e){var t=e.clone();return cb(e,t),t},cb=function i(e,t){var r;e.isGroup()&&t.isGroup()&&((r=e.get("children"))===null||r===void 0||r.forEach(function(s,u){var l=t.get("children")[u];i(s,l)}));var n=e.get("type"),a=t.get("type");if(!(n!=="image"||a!=="image")){var o=e.get("clipShape");o&&t.setClip({type:o.get("type"),attrs:o.attr()})}},rg=ft,fb="svg",db=function(i){(0,b.__extends)(e,i);function e(t){var r=i.call(this,t)||this,n=r.get("defaultNode");return n||r.set("defaultNode",{type:"circle"}),n.type||(n.type="circle",r.set("defaultNode",n)),r.destroyed=!1,r}return e.prototype.initLayoutController=function(){var t=new ab(this);this.set({layoutController:t})},e.prototype.initEventController=function(){var t=new F1(this);this.set({eventController:t})},e.prototype.initCanvas=function(){var t=this.get("container");if(typeof t=="string"&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var r=t.clientWidth,n=t.clientHeight,a=this.get("width")||r,o=this.get("height")||n;!this.get("width")&&!this.get("height")&&(this.set("width",r),this.set("height",n));var s=this.get("renderer"),u;if(s===fb)u=new Cd({container:t,width:a,height:o});else{var l={container:t,width:a,height:o},c=this.get("pixelRatio");c&&(l.pixelRatio=c,window.devicePixelRatio=c),u=new _l(l)}this.set("canvas",u)},e.prototype.initPlugins=function(){var t=this;(0,f.each)(t.get("plugins"),function(r){!r.destroyed&&r.initPlugin&&r.initPlugin(t)})},e.prototype.downloadImageWatermark=function(t,r,n,a){return(0,b.__awaiter)(this,void 0,void 0,function(){var o,s,u;return(0,b.__generator)(this,function(l){switch(l.label){case 0:return o=t.style.backgroundImage,s=o.slice(5,o.length-2),u=new Image,u.src=s,[4,new Promise(function(c){u.onload=function(){var d=r.createPattern(u,"repeat");r.rect(0,0,n,a),r.fillStyle=d,r.fill(),c("")}})];case 1:return l.sent(),[2]}})})},e.prototype.asyncToDataUrl=function(t,r,n,a,o,s){var u=this,l=document.querySelector(".g6-graph-watermarker"),c=this.get("canvas"),d=c.getRenderer(),A=s||c.get("el"),I="";t||(t="image/png"),setTimeout(function(){return(0,b.__awaiter)(u,void 0,void 0,function(){var F,Z,rt,lt,ct,pt,_t,jt,oe,ie;return(0,b.__generator)(this,function(Ee){switch(Ee.label){case 0:return d!=="svg"?[3,1]:(F=A.cloneNode(!0),Z=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),rt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Z),rt.replaceChild(F,rt.documentElement),lt=new XMLSerializer().serializeToString(rt),I="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(lt)),[3,4]);case 1:return ct=void 0,pt=A.getContext("2d"),_t=a||this.get("width"),jt=o||this.get("height"),oe=void 0,l?[4,this.downloadImageWatermark(l,pt,_t,jt)]:[3,3];case 2:Ee.sent(),Ee.label=3;case 3:if(r){ie=typeof window!="undefined"?window.devicePixelRatio:1;try{ct=pt.getImageData(0,0,_t*ie,jt*ie),oe=pt.globalCompositeOperation,pt.globalCompositeOperation="destination-over",pt.fillStyle=r,pt.fillRect(0,0,_t,jt)}catch(Re){console.error("Download image failed. Out of memory at ImageData creation")}}I=A.toDataURL(t),r&&(pt.clearRect(0,0,_t,jt),pt.putImageData(ct,0,0),pt.globalCompositeOperation=oe),Ee.label=4;case 4:return n&&n(I),[2]}})})},16)},e.prototype.toDataURL=function(t,r){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var u=o.cloneNode(!0),l=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),c=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",l);c.replaceChild(u,c.documentElement);var d=new XMLSerializer().serializeToString(c);s="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d))}else{var A=void 0,I=o.getContext("2d"),F=Math.max(this.get("width"),500),Z=Math.max(this.get("height"),500),rt=void 0;if(r){var lt=typeof window!="undefined"&&window.devicePixelRatio||1;try{A=I.getImageData(0,0,F*lt,Z*lt),rt=I.globalCompositeOperation,I.globalCompositeOperation="destination-over",I.fillStyle=r,I.fillRect(0,0,F,Z)}catch(ct){console.error("Download image failed. Out of memory at ImageData creation")}}s=o.toDataURL(t),r&&(I.clearRect(0,0,F,Z),I.putImageData(A,0,0),I.globalCompositeOperation=rt)}return s},e.prototype.toFullDataURL=function(t,r,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,u=this.get("renderer"),l=ho('<div id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,d=n?n.padding:void 0;d?(0,f.isNumber)(d)&&(d=[d,d,d,d]):d=[0,0,0,0];var A=o+d[0]+d[2],I=s+d[1]+d[3],F={container:l,height:A,width:I,quickHit:!0},Z=u==="svg"?new Cd(F):new _l(F),rt=this.get("group"),lt=rt.clone(),ct=(0,f.clone)(lt.getMatrix());ct||(ct=[1,0,0,0,1,0,0,0,1]);var pt=(a.maxX+a.minX)/2,_t=(a.maxY+a.minY)/2;ct=rg(ct,[["t",-pt,-_t],["t",s/2+d[3],o/2+d[0]]]),lt.resetMatrix(),lt.setMatrix(ct),Z.add(lt);var jt=Z.get("el"),oe="";r||(r="image/png"),setTimeout(function(){if(u==="svg"){var ie=jt.cloneNode(!0),Ee=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Re=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Ee);Re.replaceChild(ie,Re.documentElement);var Ae=new XMLSerializer().serializeToString(Re);oe="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(Ae))}else{var He=void 0,ur=jt.getContext("2d"),tn=void 0;if(c){var Tn=typeof window!="undefined"?window.devicePixelRatio:1;try{He=ur.getImageData(0,0,I*Tn,A*Tn),tn=ur.globalCompositeOperation,ur.globalCompositeOperation="destination-over",ur.fillStyle=c,ur.fillRect(0,0,I,A)}catch(pn){console.error("Download image failed. Out of memory at ImageData creation")}}oe=jt.toDataURL(r),c&&(ur.clearRect(0,0,I,A),ur.putImageData(He,0,0),ur.globalCompositeOperation=tn)}t&&t(oe)},16)},e.prototype.downloadFullImage=function(t,r,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,u=o.width,l=this.get("renderer"),c=ho('<div id="virtual-image"></div>'),d=document.querySelector(".g6-graph-watermarker"),A=n?n.backgroundColor:void 0,I=n?n.padding:void 0;I?(0,f.isNumber)(I)&&(I=[I,I,I,I]):I=[0,0,0,0];var F=s+I[0]+I[2],Z=u+I[1]+I[3];if(d){var rt=this.get("graphWaterMarker").cfg||{},lt=rt.width,ct=rt.height;F=Math.ceil(F/ct)*ct,Z=Math.ceil(Z/lt)*lt}var pt={container:c,height:F,width:Z},_t=l==="svg"?new Cd(pt):new _l(pt),jt=this.get("group"),oe=lb(jt),ie=(0,f.clone)(oe.getMatrix());ie||(ie=[1,0,0,0,1,0,0,0,1]);var Ee=(o.maxX+o.minX)/2,Re=(o.maxY+o.minY)/2;ie=rg(ie,[["t",-Ee,-Re],["t",u/2+I[3],s/2+I[0]]]),oe.resetMatrix(),oe.setMatrix(ie),_t.add(oe);var Ae=_t.get("el");r||(r="image/png"),this.asyncToDataUrl(r,A,function(He){var ur=document.createElement("a"),tn=(t||"graph")+(l==="svg"?".svg":".".concat(r.split("/")[1]));a.dataURLToImage(He,l,ur,tn);var Tn=document.createEvent("MouseEvents");Tn.initEvent("click",!1,!1),ur.dispatchEvent(Tn)},Z,F,Ae)},e.prototype.downloadImage=function(t,r,n){var a=this,o=this;o.stopAnimate();var s=o.get("canvas"),u=s.getRenderer();r||(r="image/png");var l=(t||"graph")+(u==="svg"?".svg":r.split("/")[1]),c=document.createElement("a");o.asyncToDataUrl(r,n,function(d){a.dataURLToImage(d,u,c,l);var A=document.createEvent("MouseEvents");A.initEvent("click",!1,!1),c.dispatchEvent(A)})},e.prototype.dataURLToImage=function(t,r,n,a){if(!t||t==="data:"){console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items");return}if(typeof window!="undefined")if(window.Blob&&window.URL&&r!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var u=o[0].match(/:(.*?);/);u&&u.length>=2&&(s=u[1])}for(var l=atob(o[1]),c=l.length,d=new Uint8Array(c);c--;)d[c]=l.charCodeAt(c);var A=new Blob([d],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(A,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(A)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},e.prototype.addPlugin=function(t){var r=this;t.destroyed||(r.get("plugins").push(t),t.initPlugin(r))},e.prototype.removePlugin=function(t){var r=this.get("plugins"),n=r.indexOf(t);n>=0&&(t.destroyPlugin(),r.splice(n,1))},e.prototype.setImageWaterMarker=function(t,r){t===void 0&&(t=qc.waterMarkerImage);var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},qc.imageWaterMarkerConfig,r),s=o.width,u=o.height,l=o.compatible,c=o.image;if(!t){var d=l?n:document.querySelector(".g6-graph-watermarker");d&&(d.style.cssText=void 0),a&&a.clear();return}if(a)a.clear();else{var A={container:n,width:s,height:u,capture:!1},I=this.get("pixelRatio");I&&(A.pixelRatio=I,window.devicePixelRatio=I),a=new _l(A),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var F=a.get("context"),Z=c.rotate,rt=c.x,lt=c.y;F.rotate(-Z*Math.PI/180);var ct=new Image;ct.crossOrigin="anonymous",ct.src=t,ct.onload=function(){if(F.drawImage(ct,rt,lt,c.width,c.height),F.rotate(Z*Math.PI/180),l)n.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var pt=document.querySelector(".g6-graph-watermarker");pt||(pt=document.createElement("div"),pt.className="g6-graph-watermarker"),pt.className="g6-graph-watermarker",a.destroyed||(pt.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(pt))}}},e.prototype.setTextWaterMarker=function(t,r){var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},qc.textWaterMarkerConfig,r),s=o.width,u=o.height,l=o.compatible,c=o.text;if(!(t!=null&&t.length)){var d=l?n:document.querySelector(".g6-graph-watermarker");d&&(d.style.cssText=void 0),a&&a.clear();return}if(a)a.clear();else{var A={container:n,width:s,height:u,capture:!1},I=this.get("pixelRatio");I&&(A.pixelRatio=I,window.devicePixelRatio=I),a=new _l(A),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var F=a.get("context"),Z=c.rotate,rt=c.fill,lt=c.fontFamily,ct=c.fontSize,pt=c.baseline,_t=c.x,jt=c.y,oe=c.lineHeight;F.rotate(-Z*Math.PI/180),F.font="".concat(ct,"px ").concat(lt),F.fillStyle=rt,F.textBaseline=pt;for(var ie=(0,f.isString)(t)?[t]:t,Ee=ie.length-1;Ee>=0;Ee--)F.fillText(ie[Ee],_t,jt+Ee*oe);if(F.rotate(Z*Math.PI/180),l)n.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var Re=document.querySelector(".g6-graph-watermarker");Re||(Re=document.createElement("div"),Re.className="g6-graph-watermarker"),Re.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(Re)}},e.prototype.destroy=function(){var t,r,n,a;(0,f.each)(this.get("plugins"),function(c){c.destroyPlugin()});var o=this.get("tooltips");if(o)for(var s=0;s<o.length;s++){var u=o[s];if(u){var l=u.parentElement;l&&l.removeChild(u)}}(t=this.get("eventController"))===null||t===void 0||t.destroy(),(r=this.get("layoutController"))===null||r===void 0||r.destroy(),(n=this.get("graphWaterMarker"))===null||n===void 0||n.destroy(),(a=document.querySelector(".g6-graph-watermarker"))===null||a===void 0||a.remove(),i.prototype.destroy.call(this)},e}(rp),ng=db,hb=Cl.radialLayout,lh=Cl.traverseTree,vb=function(i){(0,b.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.layoutAnimating=!1,r.set("removeList",[]),r.set("layoutMethod",r.getLayout()),r}return e.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction=t.type==="indented"?"LR":"TB"),t.radial?function(r){var n=sh()[t.type](r,t);return hb(n),n}:function(r){return sh()[t.type](r,t)}):null},e.indexOfChild=function(t,r){var n=-1;return(0,f.each)(t,function(a,o){if(r===a.id)return n=o,!1}),n},e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},e.prototype.innerAddChild=function(t,r,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(r){if(s.set("parent",r),n){var u=r.get("originAttrs");if(u)s.set("originAttrs",u);else{var l=r.getModel();s.set("originAttrs",{x:l.x,y:l.y})}}var c=r.get("children");c?c.push(s):r.set("children",[s]),a.addItem("edge",{source:r.get("id"),target:s.get("id"),id:"".concat(r.get("id"),":").concat(s.get("id"))},!1)}return(0,f.each)(t.children||[],function(d){a.innerAddChild(d,s,n)}),a.emit("afteraddchild",{item:s,parent:r}),s},e.prototype.innerUpdateChild=function(t,r,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,r,n);return}(0,f.each)(t.children||[],function(F){a.innerUpdateChild(F,o,n)});var s=o.get("children");if(s){var u=s.length;if(u>0)for(var l=s.length-1;l>=0;l--){var c=s[l].getModel();e.indexOfChild(t.children||[],c.id)===-1&&(a.innerRemoveChild(c.id,{x:t.x,y:t.y},n),s.splice(l,1))}}var d,A;o.get("originAttrs")&&(d=o.get("originAttrs").x,A=o.get("originAttrs").y);var I=o.getModel();n&&o.set("originAttrs",{x:I.x,y:I.y}),o.set("model",Object.assign(I,t.data)),(d!==t.x||A!==t.y)&&o.updatePosition({x:t.x,y:t.y})},e.prototype.innerRemoveChild=function(t,r,n){var a=this,o=a.findById(t);if(o)if((0,f.each)(o.get("children"),function(u){a.innerRemoveChild(u.getModel().id,r,n)}),n){var s=o.getModel();o.set("to",r),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o,!1)},e.prototype.changeData=function(t,r){r===void 0&&(r=!0);var n=this;this.getNodes().map(function(a){return n.clearItemStates(a)}),this.getEdges().map(function(a){return n.clearItemStates(a)}),r&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.get("originData"),after:t||n.get("data")}),t?(n.data(t),n.render(!1)):n.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var r=this;r.updateLayout(t)},e.prototype.updateLayout=function(t,r,n,a){a===void 0&&(a=!0);var o=this;if(!t){console.warn("layout cannot be null");return}if(a&&this.get("enabledStack")&&this.pushStack("layout",{before:o.get("layout"),after:t}),o.set("layout",t),o.set("layoutMethod",o.getLayout()),o.layout(),r){var s=n;s||(r==="begin"?s={x:0,y:0}:s={x:this.getWidth()/2,y:this.getHeight()/2}),s=this.getPointByCanvas(s.x,s.y);var u=this.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];s.x=s.x*u[0]+u[6],s.y=s.y*u[0]+u[7];var l=this.getGroup().getCanvasBBox(),c=l.minX,d=l.maxX,A=l.minY,I=l.maxY,F={x:(c+d)/2,y:(A+I)/2};r==="begin"&&(F.x=c,F.y=A),this.translate(s.x-F.x,s.y-F.y)}},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var r=this;r.layout(t)},e.prototype.layout=function(t){var r=this,n=this,a=n.get("data"),o=n.get("layoutMethod"),s=n.get("layout"),u=a;s!=null&&s.excludeInvisibles?(a=(0,f.clone)(n.get("data")),lh(a,function(d){var A=d.children;if(!(A!=null&&A.length))return!0;for(var I=A.length-1;I>=0;I--){var F=r.findById(A[I].id),Z=F?!F.isVisible():A[I].visible===!1;Z&&A.splice(I,1)}}),u=o?o(a,n.get("layout")):a,lh(u,function(d){var A=r.findDataById(d.id);A&&(A.data=d.data,A.x=d.x,A.y=d.y)}),u=n.get("data"),lh(u,function(d){d.data||(d.data=(0,b.__assign)({},d))})):u=o?o(a,n.get("layout")):a;var l=n.get("animate");if(n.emit("beforerefreshlayout",{data:a,layoutData:u}),n.emit("beforelayout"),n.innerUpdateChild(u,void 0,l),t){var c=n.get("viewController");c.fitView()}l?n.layoutAnimate(u):(n.refresh(),n.paint()),n.emit("afterrefreshlayout",{data:a,layoutData:u}),n.emit("afterlayout")},e.prototype.addChild=function(t,r,n){n===void 0&&(n=!0);var a=this;a.emit("beforeaddchild",{model:t,parent:r}),(0,f.isString)(r)||(r=r.get("id"));var o=a.findDataById(r);if(o){o.children||(o.children=[]),o.children.push(t);var s=a.findById(r);s.refresh(),a.changeData(void 0,n)}},e.prototype.updateChildren=function(t,r,n){n===void 0&&(n=!0);var a=this,o=a.findById(r);if(!r||!o){console.warn("Update children failed! There is no node with id '".concat(r,"'"));return}var s=a.findDataById(r);s.children=t,o.refresh(),a.changeData(void 0,n)},e.prototype.updateChild=function(t,r,n){n===void 0&&(n=!0);var a=this;if(!r||!a.findById(r)){a.changeData(t,n);return}var o=a.findDataById(r),s=a.findById(t.id);if(o.children||(o.children=[]),!s)o.children.push(t);else{var u=e.indexOfChild(o.children,t.id);u>-1&&(o.children[u]=t)}var l=a.findById(r);l==null||l.refresh(),a.changeData(void 0,n)},e.prototype.removeChild=function(t,r){r===void 0&&(r=!0);var n=this,a=n.findById(t),o;if(a?o=a==null?void 0:a.get("parent"):o=n.getNodes().find(function(d){var A=d.getModel().children||[];return!!A.find(function(I){return I.id===t})}),o&&!o.destroyed){var s=o.get("id"),u=n.findDataById(s),l=u&&u.children||[],c=e.indexOfChild(l,t);l.splice(c,1),o.refresh()}n.changeData(void 0,r)},e.prototype.findDataById=function(t,r){var n=this;if(r||(r=n.get("data")),t===r.id)return r;var a=null;return(0,f.each)(r.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},e.prototype.layoutAnimate=function(t,r){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){lh(t,function(s){var u=n.findById(s.id);if(u){var l=u.get("originAttrs"),c=u.get("model");if(l||(l={x:c.x,y:c.y},u.set("originAttrs",l)),r){var d=r(u,o,l,t);u.set("model",Object.assign(c,d))}else c.x=l.x+(s.x-l.x)*o,c.y=l.y+(s.y-l.y)*o}return!0}),(0,f.each)(n.get("removeList"),function(s){var u=s.getModel(),l=s.get("originAttrs"),c=s.get("to");u.x=l.x+(c.x-l.x)*o,u.y=l.y+(c.y-l.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,f.each)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,f.each)(n.get("removeList"),function(s){n.removeItem(s,!1)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(t){t===void 0&&(t=!0);var r=this,n=r.get("data");if(!n||!(0,f.isObject)(n)||!Object.keys(n).length)throw new Error("data must be defined first");r.clear(),t&&this.get("enabledStack")&&this.clearStack(),r.emit("beforerender"),r.layout(this.get("fitView")),r.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e.prototype.data=function(t){i.prototype.data.call(this,t),this.set("originData",JSON.parse(JSON.stringify(t)))},e}(ng),pb=vb;function Xa(i,e){if(i)for(var t in e)e.hasOwnProperty(t)&&(i.style[t]=e[t]);return i}var gb=function(){function i(e){this._cfgs=(0,f.deepMix)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var r=t.getEvents(),n={};(0,f.each)(r,function(a,o){var s=(0,f.wrapBehavior)(t,a);n[o]=s,e.on(o,s)}),this._events=n,this.init()},i.prototype.getEvents=function(){return{}},i.prototype.get=function(e){var t;return(t=this._cfgs)===null||t===void 0?void 0:t[e]},i.prototype.set=function(e,t){this._cfgs[e]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;(0,f.each)(t,function(r,n){e.off(n,r)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Cs=gb,mb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ag="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",yb=function(i){mb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{img:ag,follow:!0}},e.prototype.init=function(){var t=this.get("graph"),r=t.get("container"),n=t.get("canvas").get("el"),a=this.get("img")||ag;a.includes("url(")||(a='url("'.concat(a,'")'));var o=ho(`<div class='g6-grid-container' style="position:absolute;overflow:hidden;z-index: -1;"></div>`),s=ho(`<div
        class='g6-grid'
        style='position:absolute;
        background-image: `.concat(a,`;
        user-select: none
        '></div>`));this.set("container",o),this.set("gridContainer",s),this.positionInit(),o.appendChild(s),r.insertBefore(o,n)},e.prototype.positionInit=function(){var t=this.get("graph"),r=t.get("minZoom"),n=t.get("width"),a=t.get("height");Xa(this.get("container"),{width:"".concat(n,"px"),height:"".concat(a,"px")});var o=n*80/r,s=a*80/r;Xa(this.get("gridContainer"),{width:"".concat(o,"px"),height:"".concat(s,"px"),left:"-".concat(o/2,"px"),top:"-".concat(s/2,"px")})},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var r=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a=this.get("follow"),o="matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(a?n[6]:"0",", ").concat(a?n[7]:"0",")");Xa(r,{transform:o})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph"),r=t.get("container"),n=this.get("container");r.removeChild(n)},e}(Cs),bb=yb,xb=C(738186),ch=C.n(xb),Eb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();typeof document!="undefined"&&ch()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var wb=function(i){Eb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(r){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(r){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},e.prototype.getEvents=function(){return this.get("trigger")==="click"?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),r=ho("<div class=".concat(t||"g6-component-contextmenu","></div>"));Xa(r,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),(0,f.isString)(n)&&(n=document.getElementById(n)),n.appendChild(r),this.set("menu",r)},e.prototype.onMenuShow=function(t){var r=this;t.preventDefault();var n=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&n.indexOf(t.item.getType())===-1){r.onMenuHide();return}}else if(n.indexOf("canvas")===-1){r.onMenuHide();return}var a=this.get("shouldBegin");if(a(t)){var o=this.get("menu"),s=this.get("getContent"),u=this.get("graph"),l=s(t,u);(0,f.isString)(l)?o.innerHTML=l:o.innerHTML=l.outerHTML,this.removeMenuEventListener();var c=this.get("handleMenuClick");if(c){var d=function(Ee){c(Ee.target,t.item,u)};this.set("handleMenuClickWrapper",d),o.addEventListener("click",d)}var A=u.get("width"),I=u.get("height"),F=o.getBoundingClientRect(),Z=this.get("offsetX")||0,rt=this.get("offsetY")||0,lt=u.getContainer().offsetTop,ct=u.getContainer().offsetLeft,pt=t.canvasX+ct+Z,_t=t.canvasY+lt+rt;pt+F.width>A&&(pt=t.canvasX-F.width-Z+ct),_t+F.height>I&&(_t=t.canvasY-F.height-rt+lt),Xa(o,{top:"".concat(_t,"px"),left:"".concat(pt,"px"),visibility:"visible"});var jt=this.get("trigger")==="click",oe=function(Ee){if(jt){jt=!1;return}r.onMenuHide()};document.body.addEventListener("click",oe),this.set("handler",oe)}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),r=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}r&&document.body.removeEventListener("click",r)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&Xa(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,f.isString)(r)&&(r=document.getElementById(r)),r.removeChild(t)}},e}(Cs),Sb=wb,Mb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ov=function(){return ov=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},ov.apply(this,arguments)},ig=Math.max,_b=ft,Cb="default",Tb="keyShape",Ab="delegate",og="svg",Ob=function(i){Mb(e,i);function e(t){var r=i.call(this,t)||this;return r.handleUpdateCanvas=(0,f.debounce)(function(n){var a=r;a.destroyed||a.updateCanvas()},100,!1),r}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0,hideEdge:!1}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,r=this._cfgs,n=r.size,a=r.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),u=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,l=navigator.userAgent.toLowerCase().indexOf("safari")>-1,c=ho(`
      <div
        class=`.concat(r.viewportClassName,`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff;
          cursor:move'
        draggable=`).concat(!(l||u),`
      </div>`)),d=0,A=0,I=!1,F=0,Z=0,rt=0,lt=0,ct=0,pt=0,_t=l||u?"mousedown":"dragstart";c.addEventListener(_t,function(Ee){var Re,Ae;if(Ee.dataTransfer){var He=new Image;He.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(Ae=(Re=Ee.dataTransfer).setDragImage)===null||Ae===void 0||Ae.call(Re,He,0,0);try{Ee.dataTransfer.setData("text/html","view-port-minimap")}catch(tn){Ee.dataTransfer.setData("text","view-port-minimap")}}if(r.refresh=!1,Ee.target===c){var ur=c.style;F=parseInt(ur.left,10),Z=parseInt(ur.top,10),rt=parseInt(ur.width,10),lt=parseInt(ur.height,10),!(rt>n[0]||lt>n[1])&&(pt=a.getZoom(),ct=t.get("ratio"),I=!0,d=Ee.clientX,A=Ee.clientY)}},!1);var jt=function(Re){if(!(!I||(0,f.isNil)(Re.clientX)||(0,f.isNil)(Re.clientY))){var Ae=d-Re.clientX,He=A-Re.clientY;(F-Ae<0||F-Ae+rt>=n[0])&&(Ae=0),(Z-He<0||Z-He+lt>=n[1])&&(He=0),F-=Ae,Z-=He,Xa(c,{left:"".concat(F,"px"),top:"".concat(Z,"px")}),a.translate(Ae*pt/ct,He*pt/ct),d=Re.clientX,A=Re.clientY}};!l&&!u&&c.addEventListener("drag",jt,!1);var oe=function(){I=!1,r.refresh=!0},ie=l||u?"mouseup":"dragend";c.addEventListener(ie,oe,!1),s.addEventListener("mouseleave",oe),s.addEventListener("mouseup",oe),(l||u)&&s.addEventListener("mousemove",jt,!1),this.set("viewport",c),s.appendChild(c)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),r=this.get("totaldx"),n=this.get("totaldy"),a=this.get("graph"),o=this.get("size"),s=a.get("canvas").get("el"),u=a.get("width")||s.scrollWidth||500,l=a.get("height")||s.scrollHeight||500,c=a.getPointByCanvas(0,0),d=a.getPointByCanvas(u,l),A=this.get("viewport");A||this.initViewport();var I=(d.x-c.x)*t,F=(d.y-c.y)*t,Z=c.x*t+r,rt=c.y*t+n,lt=Z+I,ct=rt+F;Z<0&&(I+=Z,Z=0),lt>o[0]&&(I=I-(lt-o[0])),rt<0&&(F+=rt,rt=0),ct>o[1]&&(F=F-(ct-o[1])),this.set("ratio",t);var pt="".concat(Z,"px"),_t="".concat(rt,"px");Xa(A,{left:pt,top:_t,width:"".concat(I,"px"),height:"".concat(F,"px")})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,r=this.get("canvas"),n=t.get("group");if(!n.destroyed){r.clear();var a;this.get("hideEdge")?(a=r.addGroup(),n.get("children").forEach(function(s){s.get("id").includes("-edge")||a.add(s.clone())})):(a=n.clone(),a.resetMatrix(),r.add(a));var o=t.get("renderer");o===og&&this.updateVisible(a)}},e.prototype.updateVisible=function(t){var r=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),r.updateVisible(a)})}},e.prototype.updateKeyShapes=function(){var t=this,r=this._cfgs.graph,n=this.get("canvas"),a=n.get("children")[0]||n.addGroup();this.get("hideEdge")||(0,f.each)(r.getEdges(),function(u){t.updateOneEdgeKeyShape(u,a)}),(0,f.each)(r.getNodes(),function(u){t.updateOneNodeKeyShape(u,a)});var o=r.getCombos();if(o&&o.length){var s=a.find(function(u){return u.get("name")==="comboGroup"})||a.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||((0,f.each)(o,function(u){t.updateOneComboKeyShape(u,s)}),s==null||s.sort(),s==null||s.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.updateOneComboKeyShape=function(t,r){if(!this.destroyed){var n=this.get("itemMap")||{},a=n[t.get("id")],o=t.getBBox(),s=t.get("keyShape").clone(),u=s.attr(),l={x:o.centerX,y:o.centerY};a?l=Object.assign(u,l):(a=s,r.add(a));var c=a.get("type");(c==="rect"||c==="image")&&(l.x=o.minX,l.y=o.minY),a.attr(l),t.isVisible()?a.show():a.hide(),a.exist=!0;var d=t.getModel().depth;isNaN(d)||a.set("zIndex",d),n[t.get("id")]=a,this.set("itemMap",n)}},e.prototype.updateOneNodeKeyShape=function(t,r){var n=this.get("itemMap")||{},a=n[t.get("id")],o=t.getBBox(),s=t.get("keyShape").clone(),u=s.attr(),l={x:o.centerX,y:o.centerY};a?(l=Object.assign(u,l),a.toFront()):(a=s,r.add(a));var c=a.get("type");(c==="rect"||c==="image")&&(l.x=o.minX,l.y=o.minY),a.attr(l),t.isVisible()?a.show():a.hide(),a.exist=!0;var d=t.getModel().depth;isNaN(d)||a.set("zIndex",d),n[t.get("id")]=a,this.set("itemMap",n)},e.prototype.updateDelegateShapes=function(){var t=this,r=this._cfgs.graph,n=this.get("canvas"),a=n.get("children")[0]||n.addGroup();this.get("hideEdge")||(0,f.each)(r.getEdges(),function(u){t.updateOneEdgeKeyShape(u,a)}),(0,f.each)(r.getNodes(),function(u){t.updateOneNodeDelegateShape(u,a)});var o=r.getCombos();if(o&&o.length){var s=a.find(function(u){return u.get("name")==="comboGroup"})||a.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||((0,f.each)(o,function(u){t.updateOneComboKeyShape(u,s)}),s==null||s.sort(),s==null||s.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},r=Object.keys(t);if(!(!r||r.length===0))for(var n=r.length-1;n>=0;n--){var a=t[r[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[r[n]])}},e.prototype.updateOneEdgeKeyShape=function(t,r){var n=this.get("itemMap")||{},a=n[t.get("id")];if(a){var o=t.get("keyShape").attr("path");a.attr("path",o)}else a=t.get("keyShape").clone(),r.add(a);t.isVisible()?a.show():a.hide(),a.exist=!0,n[t.get("id")]=a,this.set("itemMap",n)},e.prototype.updateOneNodeDelegateShape=function(t,r){var n=this.get("delegateStyle"),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox();if(o){var u={x:s.minX,y:s.minY,width:s.width,height:s.height};o.attr(u),o.toFront()}else o=r.addShape("rect",{attrs:ov({x:s.minX,y:s.minY,width:s.width,height:s.height},n),name:"minimap-node-shape"});t.isVisible()?o.show():o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this,r=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=ho("<div class='".concat(a,"' style='width: ").concat(n[0],"px; height: ").concat(n[1],"px; overflow: hidden'></div>"));(0,f.isString)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):r.get("container").appendChild(s),t.set("container",s);var u=ho('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(u),u.addEventListener("dragenter",function(d){d.preventDefault()}),u.addEventListener("dragover",function(d){d.preventDefault()});var l,c=r.get("renderer");c===og?l=new Cd({container:u,width:n[0],height:n[1]}):l=new _l({container:u,width:n[0],height:n[1]}),t.set("canvas",l),t.updateCanvas()},e.prototype.updateCanvas=function(){if(!this.destroyed){var t=this.get("refresh");if(t){var r=this.get("graph");if(!r.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case Cb:this.updateGraphShapes();break;case Tb:this.updateKeyShapes();break;case Ab:this.updateDelegateShapes();break;default:break}var u=a.get("children")[0];if(u){u.resetMatrix();var l=u.getCanvasBBox(),c=r.get("canvas").getCanvasBBox(),d=r.getZoom()||1,A=c.width/d,I=c.height/d;Number.isFinite(l.width)&&(A=ig(l.width,A),I=ig(l.height,I)),A+=2*s,I+=2*s;var F=Math.min(n[0]/A,n[1]/I),Z=[1,0,0,0,1,0,0,0,1],rt=0,lt=0;Number.isFinite(l.minX)&&(rt=-l.minX),Number.isFinite(l.minY)&&(lt=-l.minY);var ct=(n[0]-(A-2*s)*F)/2,pt=(n[1]-(I-2*s)*F)/2;Z=_b(Z,[["t",rt,lt],["s",F,F],["t",ct,pt]]),u.setMatrix(Z),this.set("ratio",F),this.set("totaldx",ct+rt*F),this.set("totaldy",pt+lt*F),this.set("dx",ct),this.set("dy",pt),this.updateViewport()}}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t;(t=this.get("canvas"))===null||t===void 0||t.destroy();var r=this.get("container");r!=null&&r.parentNode&&r.parentNode.removeChild(r)},e}(Cs),Ib=Ob,Db=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function Vu(i,e,t){var r=i.x-e.x,n=i.y-e.y;return!t||Math.abs(r)>t||Math.abs(n)>t?Math.sqrt(r*r+n*n):t}function Pb(i,e){return i.x*e.x+i.y*e.y}function sg(i,e){var t=(e.source.y-e.target.y)/(e.source.x-e.target.x),r=(t*t*e.source.x+t*(i.y-e.source.y)+i.x)/(t*t+1),n=t*(r-e.source.x)+e.source.y;return{x:r,y:n}}var Lb=function(i){Db(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),r=this.get("onTick"),n=function(){r&&r(),t.refreshPositions()};this.set("tick",n)},e.prototype.bundling=function(t){var r=this;if(r.set("data",t),!r.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(_t){(_t.x===null||!_t.y===null||_t.x===void 0||!_t.y===void 0)&&(s=!0),o[_t.id]=_t}),s)throw new Error("please layout the graph or assign x and y for nodes first");r.set("nodeIdMap",o);var u=r.get("divisions"),l=r.get("divRate"),c=r.divideEdges(u);r.set("edgePoints",c);var d=r.getEdgeBundles();r.set("edgeBundles",d);for(var A=r.get("cycles"),I=r.get("iterations"),F=r.get("iterRate"),Z=r.get("lambda"),rt=0;rt<A;rt++){for(var lt=function(jt){var oe=[];n.forEach(function(ie,Ee){if(ie.source!==ie.target){var Re=o[ie.source],Ae=o[ie.target];oe[Ee]=r.getEdgeForces({source:Re,target:Ae},Ee,u,Z);for(var He=0;He<u+1;He++)c[Ee][He].x+=oe[Ee][He].x,c[Ee][He].y+=oe[Ee][He].y}})},ct=0;ct<I;ct++)lt(ct);Z=Z/2,u*=l,I*=F,c=r.divideEdges(u),r.set("edgePoints",c)}n.forEach(function(_t,jt){_t.source!==_t.target&&(_t.type="polyline",_t.controlPoints=c[jt].slice(1,c[jt].length-1))});var pt=r.get("graph");pt.refresh()}},e.prototype.updateBundling=function(t){var r=this,n=t.data;if(n&&r.set("data",n),r.get("ticking")&&r.set("ticking",!1),Object.keys(t).forEach(function(o){r.set(o,t[o])}),t.onTick){var a=this.get("graph");r.set("tick",function(){t.onTick(),a.refresh()})}r.bundling(n)},e.prototype.divideEdges=function(t){var r=this,n=r.get("data").edges,a=r.get("nodeIdMap"),o=r.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,u){var l;(!o[u]||o[u]===void 0)&&(o[u]=[]);var c=a[s.source],d=a[s.target];if(t===1)o[u].push({x:c.x,y:c.y}),o[u].push({x:.5*(c.x+d.x),y:.5*(c.y+d.y)}),o[u].push({x:d.x,y:d.y});else{var A=0;!((l=o[u])===null||l===void 0)&&l.length?A=r.getEdgeLength(o[u]):A=Vu({x:c.x,y:c.y},{x:d.x,y:d.y});var I=A/(t+1),F=I,Z=[{x:c.x,y:c.y}];o[u].forEach(function(rt,lt){if(lt!==0){for(var ct=Vu(rt,o[u][lt-1]);ct>F;){var pt=F/ct,_t={x:o[u][lt-1].x,y:o[u][lt-1].y};_t.x+=pt*(rt.x-o[u][lt-1].x),_t.y+=pt*(rt.y-o[u][lt-1].y),Z.push(_t),ct-=F,F=I}F-=ct}}),Z.push({x:d.x,y:d.y}),o[u]=Z}}),o},e.prototype.getEdgeLength=function(t){var r=0;return t.forEach(function(n,a){a!==0&&(r+=Vu(n,t[a-1]))}),r},e.prototype.getEdgeBundles=function(){var t=this,r=t.get("data"),n=r.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(u,l){(!s[l]||s[l]===void 0)&&(s[l]=[])}),n.forEach(function(u,l){var c=o[u.source],d=o[u.target];n.forEach(function(A,I){if(!(I<=l)){var F=o[A.source],Z=o[A.target],rt=t.getBundleScore({source:c,target:d},{source:F,target:Z});rt>=a&&(s[l].push(I),s[I].push(l))}})}),s},e.prototype.getBundleScore=function(t,r){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,r.vx=r.target.x-r.source.x,r.vy=r.target.y-r.source.y,t.length=Vu({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),r.length=Vu({x:r.source.x,y:r.source.y},{x:r.target.x,y:r.target.y});var a=n.getAngleScore(t,r),o=n.getScaleScore(t,r),s=n.getPositionScore(t,r),u=n.getVisibilityScore(t,r);return a*o*s*u},e.prototype.getAngleScore=function(t,r){var n=Pb({x:t.vx,y:t.vy},{x:r.vx,y:r.vy});return n/(t.length*r.length)},e.prototype.getScaleScore=function(t,r){var n=(t.length+r.length)/2,a=2/(n/Math.min(t.length,r.length)+Math.max(t.length,r.length)/n);return a},e.prototype.getPositionScore=function(t,r){var n=(t.length+r.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(r.source.x+r.target.x)/2,y:(r.source.y+r.target.y)/2},s=Vu(a,o);return n/(n+s)},e.prototype.getVisibilityScore=function(t,r){var n=this.getEdgeVisibility(t,r),a=this.getEdgeVisibility(r,t);return n<a?n:a},e.prototype.getEdgeVisibility=function(t,r){var n=sg(r.source,t),a=sg(r.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Vu(o,s)/Vu(n,a))},e.prototype.getEdgeForces=function(t,r,n,a){for(var o=this,s=o.get("edgePoints"),u=o.get("K"),l=u/(Vu(t.source,t.target)*(n+1)),c=[{x:0,y:0}],d=1;d<n;d++){var A={x:0,y:0},I=o.getSpringForce({pre:s[r][d-1],cur:s[r][d],next:s[r][d+1]},l),F=o.getElectrostaticForce(d,r);A.x=a*(I.x+F.x),A.y=a*(I.y+F.y),c.push(A)}return c.push({x:0,y:0}),c},e.prototype.getSpringForce=function(t,r){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=r,a*=r,{x:n,y:a}},e.prototype.getElectrostaticForce=function(t,r){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),u=o[r],l={x:0,y:0};return u.forEach(function(c){var d={x:s[c][t].x-s[r][t].x,y:s[c][t].y-s[r][t].y};if(Math.abs(d.x)>a||Math.abs(d.y)>a){var A=Vu(s[c][t],s[r][t]),I=1/A;l.x+=d.x*I,l.y+=d.y*I}}),l},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},e}(Cs),Nb=Lb,Rb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sv=function(){return sv=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},sv.apply(this,arguments)},fh=.05,ug={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},kb=function(i){Rb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,f.clone)(ug),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},e.prototype.init=function(){var t=this,r=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",r*r);var n=t.get("d");t.set("molecularParam",(n+1)*r)},e.prototype.createDelegate=function(t){var r=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){r.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},e.prototype.scaleRByWheel=function(t){var r=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=r.get("graph"),a,o=r.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,u=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-fh:a=1/(1-fh);var l=r.get("maxR"),c=r.get("minR"),d=r.get("r");(d>(l||n.get("height"))&&a>1||d<(c||n.get("height")*.05)&&a<1)&&(a=1),d*=a,r.set("r",d),r.set("r2",d*d);var A=r.get("d");r.set("molecularParam",(A+1)*d),r.set("delegateCenterDiff",void 0),r.magnify(t,u)}},e.prototype.scaleRByDrag=function(t){var r=this;if(t){var n=r.get("dragPrePos"),a=r.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-fh:o=1/(1-fh);var u=r.get("maxR"),l=r.get("minR"),c=r.get("r");(c>(u||a.get("height"))&&o>1||c<(l||a.get("height")*.05)&&o<1)&&(o=1),c*=o,r.set("r",c),r.set("r2",c*c);var d=r.get("d");r.set("molecularParam",(d+1)*c),r.magnify(t,s),r.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){var r=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=r.get("d"),o=a+n,s=r.get("maxD"),u=r.get("minD");if(o<s&&o>u){r.set("d",o);var l=r.get("r");r.set("molecularParam",(o+1)*l);var c=r.get("delegate"),d=c?{x:c.attr("x"),y:c.attr("y")}:void 0;r.set("delegateCenterDiff",void 0),r.magnify(t,d)}}},e.prototype.scaleDByDrag=function(t){var r=this,n=r.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=r.get("d"),s=o+a,u=r.get("maxD"),l=r.get("minD");if(s<u&&s>l){r.set("d",s);var c=r.get("r");r.set("molecularParam",(s+1)*c),r.magnify(t)}r.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,r){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),u=n.get("showLabel"),l=n.get("r"),c=n.get("r2"),d=n.get("d"),A=n.get("molecularParam"),I=a.getNodes(),F=I.length,Z=r?{x:r.x,y:r.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(Z=n.get("cacheCenter"));var rt=n.get("delegateCenterDiff");rt&&(Z.x+=rt.x,Z.y+=rt.y),n.updateDelegate(Z,l);for(var lt=0;lt<F;lt++){var ct=I[lt].getModel(),pt=ct.x,_t=ct.y;if(!(isNaN(pt)||isNaN(_t))){var jt=(pt-Z.x)*(pt-Z.x)+(_t-Z.y)*(_t-Z.y);if(!isNaN(jt)&&jt<c&&jt!==0){var oe=Math.sqrt(jt),ie=A*oe/(d*oe+l),Ee=(pt-Z.x)/oe,Re=(_t-Z.y)/oe;if(ct.x=Ee*ie+Z.x,ct.y=Re*ie+Z.y,s[ct.id]||(s[ct.id]={x:pt,y:_t,texts:[]}),o.push(ct),u&&2*oe<l)for(var Ae=I[lt],He=Ae.getContainer(),ur=He.getChildren(),tn=ur.length,Tn=0;Tn<tn;Tn++){var pn=ur[Tn];pn.get("type")==="text"&&(s[ct.id].texts.push({visible:pn.get("visible"),shape:pn}),pn.set("visible",!0))}}}}a.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this,r=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=r.length,o=0;o<a;o++){var s=r[o],u=s.id,l=n[u];s.x=l.x,s.y=l.y;for(var c=l.texts.length,d=0;d<c;d++){var A=l.texts[d];A.shape.set("visible",A.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var r=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,u=t.maxD,l=t.minR,c=t.maxR,d=t.scaleDBy,A=t.scaleRBy;isNaN(t.r)||(r.set("r",n),r.set("r2",n*n)),isNaN(a)||r.set("d",a),isNaN(u)||r.set("maxD",u),isNaN(s)||r.set("minD",s),isNaN(c)||r.set("maxR",c),isNaN(l)||r.set("minR",l);var I=r.get("d"),F=r.get("r");if(r.set("molecularParam",(I+1)*F),(o==="mousemove"||o==="click"||o==="drag")&&r.set("trigger",o),d==="drag"||d==="wheel"||d==="unset"){r.set("scaleDBy",d),r.get("delegate").remove(),r.get("delegate").destroy();var Z=r.get("dPercentText");Z&&(Z.remove(),Z.destroy())}if(A==="drag"||A==="wheel"||A==="unset"){r.set("scaleRBy",A),r.get("delegate").remove(),r.get("delegate").destroy();var Z=r.get("dPercentText");Z&&(Z.remove(),Z.destroy())}},e.prototype.updateDelegate=function(t,r){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var u=o.get("group"),l=a.get("delegateStyle")||ug;s=u.addShape("circle",{attrs:sv({r:r/1.5,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(F){a.scaleRByWheel(F)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(F){a.set("dragging",!0),a.set("cacheCenter",{x:F.x,y:F.y}),a.set("dragPrePos",{x:F.x,y:F.y})}),s.on("drag",function(F){a.scaleRByDrag(F)}),s.on("dragend",function(F){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(F){n.scaleDByWheel(F)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(F){a.set("dragging",!0),a.set("cacheCenter",{x:F.x,y:F.y}),a.set("dragPrePos",{x:F.x,y:F.y})}),s.on("drag",function(F){n.scaleDByDrag(F)}),s.on("dragend",function(F){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:r/1.5});if(a.get("showDPercent")){var c=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),d=a.get("dPercentText"),A=t.y+r/1.5+16;if(!d||d.destroyed){var I=o.get("group");d=I.addShape("text",{attrs:{text:"".concat(c,"%"),x:t.x,y:A,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",d)}else d.attr({text:"".concat(c,"%"),x:t.x,y:A})}a.set("delegate",s)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var r=this.get("delegate");r&&!r.destroyed&&(r.remove(),r.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Cs),Bb=kb,Fb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lg=.05;typeof document!="undefined"&&ch()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var zb=function(e){if(!e)return[];if(e.composedPath)return e.composedPath();for(var t=[],r=e.target;r;){if(t.push(r),r.tagName==="HTML")return t.push(document,window),t;r=r.parentElement}return t},Gb=function(i){Fb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(r){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},e.prototype.init=function(){var t=this,r=this.get("graph"),n=this.get("getContent"),a=n(r),o=a;(0,f.isString)(a)&&(o=ho(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var u=this.get("container");u||(u=this.get("graph").get("container")),(0,f.isString)(u)&&(u=document.getElementById(u)),u.appendChild(o),this.set("toolBar",o);var l=this.get("handleClick");o.addEventListener("click",function(d){var A=zb(d).filter(function(F){return F.nodeName==="LI"});if(A.length!==0){var I=A[0].getAttribute("code");I&&(l?l(I,r):t.handleDefaultOperator(I))}});var c=this.get("position");c&&Xa(o,{top:"".concat(c.y,"px"),left:"".concat(c.x,"px")}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),r=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!r||!n||!a||!o||(r.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4"),a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4"),t.on("stackchange",function(s){var u=s.undoStack,l=s.redoStack,c=u.length,d=l.length;c===0?(r.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),n.removeAttribute("style")),d===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))}))},e.prototype.undo=function(){var t=this.get("graph"),r=t.getUndoStack();if(!(!r||r.length===0)){var n=r.pop();if(n){var a=n.action;t.pushStack(a,(0,f.clone)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(d){var A=o[d];A&&A.forEach(function(I){var F=t.findById(I.id);I.visible?t.showItem(F,!1):t.hideItem(F,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(d){var A=o[d];A&&A.forEach(function(I){var F=t.findById(I.id);delete I.id,t.updateItem(F,I,!1),F.getType()==="combo"&&t.updateCombo(F)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(d){var A=o[d];A&&A.forEach(function(I){var F=I.itemType;delete I.itemType,t.addItem(F,I,!1)})});break}case"add":Object.keys(o).forEach(function(d){var A=o[d];A&&A.forEach(function(I){t.removeItem(I.id,!1)})});break;case"updateComboTree":Object.keys(o).forEach(function(d){var A=o[d];A&&A.forEach(function(I){t.updateComboTree(I.id,I.parentId,!1)})});break;case"createCombo":var s=n.data.after.combos,u=s[s.length-1];Object.keys(o).forEach(function(d){var A=o[d];A&&A.forEach(function(I){t.updateComboTree(I.id,I.parentId,!1)})}),t.removeItem(u.id,!1);break;case"uncombo":var l=o.combos[o.combos.length-1],c=o.nodes.concat(o.combos).map(function(d){return d.id}).filter(function(d){return d!==l.id});t.createCombo(l,c,!1);break;case"layout":t.updateLayout(o,void 0,void 0,!1);break;default:}}}},e.prototype.redo=function(){var t=this.get("graph"),r=t.getRedoStack();if(!(!r||r.length===0)){var n=r.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,f.clone)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(c){var d=o[c];d&&d.forEach(function(A){var I=t.findById(A.id);A.visible?t.showItem(I,!1):t.hideItem(I,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(c){var d=o[c];d&&d.forEach(function(A){var I=t.findById(A.id);delete A.id,t.updateItem(I,A,!1),I.getType()==="combo"&&t.updateCombo(I)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(c){t.removeItem(c.id,!1)}),o.nodes&&o.nodes.forEach(function(c){t.removeItem(c.id,!1)}),o.combos&&o.combos.forEach(function(c){t.removeItem(c.id,!1)});break;case"add":{Object.keys(o).forEach(function(c){var d=o[c];d&&d.forEach(function(A){var I=A.itemType;delete A.itemType,t.addItem(I,A,!1)})});break}case"updateComboTree":Object.keys(o).forEach(function(c){var d=o[c];d&&d.forEach(function(A){t.updateComboTree(A.id,A.parentId,!1)})});break;case"createCombo":var s=o.combos[o.combos.length-1];t.createCombo(s,s.children.map(function(c){return c.id}),!1);break;case"uncombo":var u=n.data.before.combos,l=u[u.length-1];t.uncombo(l.id,!1);break;case"layout":t.updateLayout(o,void 0,void 0,!1);break;default:}}}},e.prototype.zoomOut=function(){var t=this.get("graph"),r=t.getZoom(),n=1/(1-lg*this.get("zoomSensitivity")),a=this.get("maxZoom")||t.get("maxZoom");n*r>a||t.zoomTo(r*n)},e.prototype.zoomIn=function(){var t=this.get("graph"),r=t.getZoom(),n=1-lg*this.get("zoomSensitivity"),a=this.get("minZoom")||t.get("minZoom");n*r<a||t.zoomTo(r*n)},e.prototype.realZoom=function(){var t=this.get("graph");t.zoomTo(1)},e.prototype.autoZoom=function(){var t=this.get("graph");t.fitView([20,20])},e.prototype.handleDefaultOperator=function(t){switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":this.zoomOut();break;case"zoomIn":this.zoomIn();break;case"realZoom":this.realZoom();break;case"autoZoom":this.autoZoom();break;default:}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,f.isString)(r)&&(r=document.getElementById(r)),r.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},e}(Cs),Ub=Gb,Wb=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();typeof document!="undefined"&&ch()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var Yb=function(i){Wb(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(r){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`.concat(r.item.getType(),`</h4>
          <span class='tooltip-id'>ID\uFF1A`).concat(r.item.getID(),`</span>
        `)},shouldBegin:function(r){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},e.prototype.getEvents=function(){return this.get("trigger")==="click"?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this,r=t.get("className")||"g6-component-tooltip",n=ho("<div class='".concat(r,"'></div>")),a=t.get("container");a||(a=t.get("graph").get("container")),(0,f.isString)(a)&&(a=document.getElementById(a)),Xa(n,{position:"absolute",visibility:"hidden",display:"none"}),a.appendChild(n),t.get("trigger")!=="click"&&(n.addEventListener("mouseenter",function(o){Xa(n,{visibility:"visible",display:"unset"})}),n.addEventListener("mouseleave",function(o){t.hideTooltip()})),t.set("tooltip",n)},e.prototype.onClick=function(t){var r=this.get("itemTypes");if(!(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),a.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"}))}},e.prototype.onMouseEnter=function(t){var r=this.get("itemTypes");if(!(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var r=this.get("itemTypes");t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.clearContainer=function(){var t=this.get("tooltip");t&&(t.innerHTML="")},e.prototype.showTooltip=function(t){if(t.item){var r=this.get("itemTypes");if(!(t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,f.isString)(o)?n.innerHTML=o:(this.clearContainer(),n.appendChild(o)),this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&Xa(t,{visibility:"hidden",display:"none"})},e.prototype.updatePosition=function(t){var r=this.get("shouldBegin"),n=this.get("tooltip");if(!r(t)){Xa(n,{visibility:"hidden",display:"none"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),u=this.get("offsetX")||0,l=this.get("offsetY")||0,c=a.getPointByClient(t.clientX,t.clientY),d=this.get("fixToNode"),A=t.item;if(A.getType&&A.getType()==="node"&&d&&(0,f.isArray)(d)&&d.length>=2){var I=A.getBBox();c={x:I.minX+I.width*d[0],y:I.minY+I.height*d[1]}}var F=a.getCanvasByPoint(c.x,c.y),Z=F.x,rt=F.y,lt=a.getContainer(),ct={x:Z+lt.offsetLeft+u,y:rt+lt.offsetTop+l};Xa(n,{visibility:"visible",display:"unset"});var pt=n.getBoundingClientRect();Z+pt.width+u>o&&(ct.x-=pt.width+u),rt+pt.height+l>s&&(ct.y-=pt.height+l),Xa(n,{left:"".concat(ct.x,"px"),top:"".concat(ct.y,"px")})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,f.isString)(r)&&(r=document.getElementById(r)),r.removeChild(t)}},e}(Cs),Xb=Yb,cg={};function jb(i){return cg[i]}function Hu(i,e){cg[i]=e}var Vb=function(){function i(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return i.prototype.translate=function(e){return e},i.prototype.change=function(e){(0,f.assign)(this.__cfg__,e),this.init()},i.prototype.clone=function(){return this.constructor(this.__cfg__)},i.prototype.getTicks=function(){var e=this;return(0,f.map)(this.ticks,function(t,r){return(0,f.isObject)(t)?t:{text:e.getText(t,r),tickValue:t,value:e.scale(t)}})},i.prototype.getText=function(e,t){var r=this.formatter,n=r?r(e,t):e;return(0,f.isNil)(n)||!(0,f.isFunction)(n.toString)?"":n.toString()},i.prototype.getConfig=function(e){return this.__cfg__[e]},i.prototype.init=function(){(0,f.assign)(this,this.__cfg__),this.setDomain(),(0,f.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},i.prototype.initCfg=function(){},i.prototype.setDomain=function(){},i.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if((0,f.isString)(e)){var r=jb(e);if(!r)throw new Error("There is no method to to calculate ticks!");t=r(this)}else(0,f.isFunction)(e)&&(t=e(this));return t},i.prototype.rangeMin=function(){return this.range[0]},i.prototype.rangeMax=function(){return this.range[1]},i.prototype.calcPercent=function(e,t,r){return(0,f.isNumber)(e)?(e-t)/(r-t):NaN},i.prototype.calcValue=function(e,t,r){return t+e*(r-t)},i}(),uv=Vb,Hb=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var r=this.translateIndexMap.get(t);return r===void 0&&(r=(0,f.isNumber)(t)?t:NaN),r},e.prototype.scale=function(t){var r=this.translate(t),n=this.calcPercent(r,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var r=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),a=Math.round(r*n)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},e.prototype.getText=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=t;return(0,f.isNumber)(t)&&!this.values.includes(t)&&(a=this.values[a]),i.prototype.getText.apply(this,(0,b.__spreadArrays)([a],r))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if((0,f.isNil)(this.getConfig("min"))&&(this.min=0),(0,f.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(uv),Od=Hb,fg=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,hc="\\d\\d?",vc="\\d\\d",Zb="\\d{3}",Kb="\\d{4}",Id="[^\\s]+",dg=/\[([^]*?)\]/gm;function hg(i,e){for(var t=[],r=0,n=i.length;r<n;r++)t.push(i[r].substr(0,e));return t}var vg=function(i){return function(e,t){var r=t[i].map(function(a){return a.toLowerCase()}),n=r.indexOf(e.toLowerCase());return n>-1?n:null}};function pc(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var r=0,n=e;r<n.length;r++){var a=n[r];for(var o in a)i[o]=a[o]}return i}var pg=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],gg=["January","February","March","April","May","June","July","August","September","October","November","December"],$b=hg(gg,3),Qb=hg(pg,3),lv={dayNamesShort:Qb,dayNames:pg,monthNamesShort:$b,monthNames:gg,amPm:["am","pm"],DoFn:function(i){return i+["th","st","nd","rd"][i%10>3?0:(i-i%10!==10?1:0)*i%10]}},dh=pc({},lv),mg=function(i){return dh=pc(dh,i)},yg=function(i){return i.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Ts=function(i,e){for(e===void 0&&(e=2),i=String(i);i.length<e;)i="0"+i;return i},qb={D:function(i){return String(i.getDate())},DD:function(i){return Ts(i.getDate())},Do:function(i,e){return e.DoFn(i.getDate())},d:function(i){return String(i.getDay())},dd:function(i){return Ts(i.getDay())},ddd:function(i,e){return e.dayNamesShort[i.getDay()]},dddd:function(i,e){return e.dayNames[i.getDay()]},M:function(i){return String(i.getMonth()+1)},MM:function(i){return Ts(i.getMonth()+1)},MMM:function(i,e){return e.monthNamesShort[i.getMonth()]},MMMM:function(i,e){return e.monthNames[i.getMonth()]},YY:function(i){return Ts(String(i.getFullYear()),4).substr(2)},YYYY:function(i){return Ts(i.getFullYear(),4)},h:function(i){return String(i.getHours()%12||12)},hh:function(i){return Ts(i.getHours()%12||12)},H:function(i){return String(i.getHours())},HH:function(i){return Ts(i.getHours())},m:function(i){return String(i.getMinutes())},mm:function(i){return Ts(i.getMinutes())},s:function(i){return String(i.getSeconds())},ss:function(i){return Ts(i.getSeconds())},S:function(i){return String(Math.round(i.getMilliseconds()/100))},SS:function(i){return Ts(Math.round(i.getMilliseconds()/10),2)},SSS:function(i){return Ts(i.getMilliseconds(),3)},a:function(i,e){return i.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(i,e){return i.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(i){var e=i.getTimezoneOffset();return(e>0?"-":"+")+Ts(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(i){var e=i.getTimezoneOffset();return(e>0?"-":"+")+Ts(Math.floor(Math.abs(e)/60),2)+":"+Ts(Math.abs(e)%60,2)}},bg=function(i){return+i-1},xg=[null,hc],Eg=[null,Id],wg=["isPm",Id,function(i,e){var t=i.toLowerCase();return t===e.amPm[0]?0:t===e.amPm[1]?1:null}],Sg=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(i){var e=(i+"").match(/([+-]|\d\d)/gi);if(e){var t=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?t:-t}return 0}],Jb={D:["day",hc],DD:["day",vc],Do:["day",hc+Id,function(i){return parseInt(i,10)}],M:["month",hc,bg],MM:["month",vc,bg],YY:["year",vc,function(i){var e=new Date,t=+(""+e.getFullYear()).substr(0,2);return+(""+(+i>68?t-1:t)+i)}],h:["hour",hc,void 0,"isPm"],hh:["hour",vc,void 0,"isPm"],H:["hour",hc],HH:["hour",vc],m:["minute",hc],mm:["minute",vc],s:["second",hc],ss:["second",vc],YYYY:["year",Kb],S:["millisecond","\\d",function(i){return+i*100}],SS:["millisecond",vc,function(i){return+i*10}],SSS:["millisecond",Zb],d:xg,dd:xg,ddd:Eg,dddd:Eg,MMM:["month",Id,vg("monthNamesShort")],MMMM:["month",Id,vg("monthNames")],a:wg,A:wg,ZZ:Sg,Z:Sg},hh={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Mg=function(i){return pc(hh,i)},_g=function(i,e,t){if(e===void 0&&(e=hh.default),t===void 0&&(t={}),typeof i=="number"&&(i=new Date(i)),Object.prototype.toString.call(i)!=="[object Date]"||isNaN(i.getTime()))throw new Error("Invalid Date pass to format");e=hh[e]||e;var r=[];e=e.replace(dg,function(a,o){return r.push(o),"@@@"});var n=pc(pc({},dh),t);return e=e.replace(fg,function(a){return qb[a](i,n)}),e.replace(/@@@/g,function(){return r.shift()})};function Cg(i,e,t){if(t===void 0&&(t={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=hh[e]||e,i.length>1e3)return null;var r=new Date,n={year:r.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=e.replace(dg,function(_t,jt){return o.push(yg(jt)),"@@@"}),u={},l={};s=yg(s).replace(fg,function(_t){var jt=Jb[_t],oe=jt[0],ie=jt[1],Ee=jt[3];if(u[oe])throw new Error("Invalid format. "+oe+" specified twice in format");return u[oe]=!0,Ee&&(l[Ee]=!0),a.push(jt),"("+ie+")"}),Object.keys(l).forEach(function(_t){if(!u[_t])throw new Error("Invalid format. "+_t+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var c=i.match(new RegExp(s,"i"));if(!c)return null;for(var d=pc(pc({},dh),t),A=1;A<c.length;A++){var I=a[A-1],F=I[0],Z=I[2],rt=Z?Z(c[A],d):+c[A];if(rt==null)return null;n[F]=rt}n.isPm===1&&n.hour!=null&&+n.hour!=12?n.hour=+n.hour+12:n.isPm===0&&+n.hour==12&&(n.hour=0);var lt;if(n.timezoneOffset==null){lt=new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond);for(var ct=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],A=0,pt=ct.length;A<pt;A++)if(u[ct[A][0]]&&n[ct[A][0]]!==lt[ct[A][1]]())return null}else if(lt=new Date(Date.UTC(n.year,n.month,n.day,n.hour,n.minute-n.timezoneOffset,n.second,n.millisecond)),n.month>11||n.month<0||n.day>31||n.day<1||n.hour>23||n.hour<0||n.minute>59||n.minute<0||n.second>59||n.second<0)return null;return lt}var tx={format:_g,parse:Cg,defaultI18n:lv,setGlobalDateI18n:mg,setGlobalDateMasks:Mg},Tg=tx;function ex(i){return function(e,t,r,n){for(var a=(0,f.isNil)(r)?0:r,o=(0,f.isNil)(n)?e.length:n;a<o;){var s=a+o>>>1;i(e[s])>t?o=s:a=s+1}return a}}var Ag="format";function Og(i,e){var t=k[Ag]||Tg[Ag];return t(i,e)}function vh(i){return(0,f.isString)(i)&&(i.indexOf("T")>0?i=new Date(i).getTime():i=new Date(i.replace(/-/gi,"/")).getTime()),(0,f.isDate)(i)&&(i=i.getTime()),i}var yu=1e3,Jc=60*yu,tf=60*Jc,Tl=24*tf,Dd=Tl*31,Ig=Tl*365,Pd=[["HH:mm:ss",yu],["HH:mm:ss",yu*10],["HH:mm:ss",yu*30],["HH:mm",Jc],["HH:mm",Jc*10],["HH:mm",Jc*30],["HH",tf],["HH",tf*6],["HH",tf*12],["YYYY-MM-DD",Tl],["YYYY-MM-DD",Tl*4],["YYYY-WW",Tl*7],["YYYY-MM",Dd],["YYYY-MM",Dd*4],["YYYY-MM",Dd*6],["YYYY",Tl*380]];function rx(i,e,t){var r=(e-i)/t,n=ex(function(o){return o[1]})(Pd,r)-1,a=Pd[n];return n<0?a=Pd[0]:n>=Pd.length&&(a=(0,f.last)(Pd)),a}var nx=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="timeCat",t}return e.prototype.translate=function(t){t=vh(t);var r=this.values.indexOf(t);return r===-1&&((0,f.isNumber)(t)&&t<this.values.length?r=t:r=NaN),r},e.prototype.getText=function(t,r){var n=this.translate(t);if(n>-1){var a=this.values[n],o=this.formatter;return a=o?o(a,r):Og(a,this.mask),a}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var t=this.values;(0,f.each)(t,function(r,n){t[n]=vh(r)}),t.sort(function(r,n){return r-n}),i.prototype.setDomain.call(this)},e}(Od),ax=nx,ix=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.isContinuous=!0,t}return e.prototype.scale=function(t){if((0,f.isNil)(t))return NaN;var r=this.rangeMin(),n=this.rangeMax(),a=this.max,o=this.min;if(a===o)return r;var s=this.getScalePercent(t);return r+s*(n-r)},e.prototype.init=function(){i.prototype.init.call(this);var t=this.ticks,r=(0,f.head)(t),n=(0,f.last)(t);r<this.min&&(this.min=r),n>this.max&&(this.max=n),(0,f.isNil)(this.minLimit)||(this.min=r),(0,f.isNil)(this.maxLimit)||(this.max=n)},e.prototype.setDomain=function(){var t=(0,f.getRange)(this.values),r=t.min,n=t.max;(0,f.isNil)(this.min)&&(this.min=r),(0,f.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=r,this.max=n)},e.prototype.calculateTicks=function(){var t=this,r=i.prototype.calculateTicks.call(this);return this.nice||(r=(0,f.filter)(r,function(n){return n>=t.min&&n<=t.max})),r},e.prototype.getScalePercent=function(t){var r=this.max,n=this.min;return(t-n)/(r-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(uv),ph=ix,ox=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return e.prototype.invert=function(t){var r=this.getInvertPercent(t);return this.min+r*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(ph),Ld=ox;function gc(i,e){var t=Math.E,r;return e>=0?r=Math.pow(t,Math.log(e)/i):r=Math.pow(t,Math.log(-e)/i)*-1,r}function qs(i,e){return i===1?1:Math.log(e)/Math.log(i)}function Dg(i,e,t){(0,f.isNil)(t)&&(t=Math.max.apply(null,i));var r=t;return(0,f.each)(i,function(n){n>0&&n<r&&(r=n)}),r===t&&(r=t/e),r>1&&(r=1),r}function Pg(i){var e=i.toString().split(/[eE]/),t=(e[0].split(".")[1]||"").length-+(e[1]||0);return t>0?t:0}function QS(i,e){var t=Pg(i),r=Pg(e),n=Math.pow(10,Math.max(t,r));return(i*n+e*n)/n}var sx=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="log",t}return e.prototype.invert=function(t){var r=this.base,n=qs(r,this.max),a=this.rangeMin(),o=this.rangeMax()-a,s,u=this.positiveMin;if(u){if(t===0)return 0;s=qs(r,u/r);var l=1/(n-s)*o;if(t<l)return t/l*u}else s=qs(r,this.min);var c=(t-a)/o,d=c*(n-s)+s;return Math.pow(r,d)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){i.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=Dg(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var r=this.max,n=this.min;if(r===n||t<=0)return 0;var a=this.base,o=this.positiveMin;o&&(n=o*1/a);var s;return t<o?s=t/o/(qs(a,r)-qs(a,n)):s=(qs(a,t)-qs(a,n))/(qs(a,r)-qs(a,n)),s},e}(ph),ux=sx,lx=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pow",t}return e.prototype.invert=function(t){var r=this.getInvertPercent(t),n=this.exponent,a=gc(n,this.max),o=gc(n,this.min),s=r*(a-o)+o,u=s>=0?1:-1;return Math.pow(s,n)*u},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var r=this.max,n=this.min;if(r===n)return 0;var a=this.exponent,o=(gc(a,t)-gc(a,n))/(gc(a,r)-gc(a,n));return o},e}(ph),cx=lx,fx=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="time",t}return e.prototype.getText=function(t,r){var n=this.translate(t),a=this.formatter;return a?a(n,r):Og(n,this.mask)},e.prototype.scale=function(t){var r=t;return((0,f.isString)(r)||(0,f.isDate)(r))&&(r=this.translate(r)),i.prototype.scale.call(this,r)},e.prototype.translate=function(t){return vh(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,r=this.getConfig("min"),n=this.getConfig("max");if((!(0,f.isNil)(r)||!(0,f.isNumber)(r))&&(this.min=this.translate(this.min)),(!(0,f.isNil)(n)||!(0,f.isNumber)(n))&&(this.max=this.translate(this.max)),t&&t.length){var a=[],o=1/0,s=o,u=0;(0,f.each)(t,function(l){var c=vh(l);if(isNaN(c))throw new TypeError("Invalid Time: "+l+" in time scale!");o>c?(s=o,o=c):s>c&&(s=c),u<c&&(u=c),a.push(c)}),t.length>1&&(this.minTickInterval=s-o),(0,f.isNil)(r)&&(this.min=o),(0,f.isNil)(n)&&(this.max=u)}},e}(Ld),dx=fx,hx=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="quantize",t}return e.prototype.invert=function(t){var r=this.ticks,n=r.length,a=this.getInvertPercent(t),o=Math.floor(a*(n-1));if(o>=n-1)return(0,f.last)(r);if(o<0)return(0,f.head)(r);var s=r[o],u=r[o+1],l=o/(n-1),c=(o+1)/(n-1);return s+(a-l)/(c-l)*(u-s)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var t=i.prototype.calculateTicks.call(this);return this.nice||((0,f.last)(t)!==this.max&&t.push(this.max),(0,f.head)(t)!==this.min&&t.unshift(this.min)),t},e.prototype.getScalePercent=function(t){var r=this.ticks;if(t<(0,f.head)(r))return 0;if(t>(0,f.last)(r))return 1;var n=0;return(0,f.each)(r,function(a,o){if(t>=a)n=o;else return!1}),n/(r.length-1)},e}(ph),Lg=hx,vx=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="quantile",t}return e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(Lg),px=vx,Ng={};function gx(i){return Ng[i]}function Zu(i,e){if(gx(i))throw new Error("type '"+i+"' existed.");Ng[i]=e}var mx=function(i){(0,b.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&(0,f.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var r=this.range;return t<r[0]||t>r[1]?NaN:this.values[0]},e}(uv),yx=mx;function Rg(i){var e=i.values,t=i.tickInterval,r=i.tickCount,n=i.showLast;if((0,f.isNumber)(t)){var a=(0,f.filter)(e,function(F,Z){return Z%t===0}),o=(0,f.last)(e);return n&&(0,f.last)(a)!==o&&a.push(o),a}var s=e.length,u=i.min,l=i.max;if((0,f.isNil)(u)&&(u=0),(0,f.isNil)(l)&&(l=e.length-1),!(0,f.isNumber)(r)||r>=s)return e.slice(u,l+1);if(r<=0||l<=0)return[];for(var c=r===1?s:Math.floor(s/(r-1)),d=[],A=u,I=0;I<r&&!(A>=l);I++)A=Math.min(u+I*c,l),I===r-1&&n?d.push(e[l]):d.push(e[A]);return d}function bx(i){var e=i.min,t=i.max,r=i.nice,n=i.tickCount,a=new xx;return a.domain([e,t]),r&&a.nice(n),a.ticks(n)}var cv=5,kg=Math.sqrt(50),Bg=Math.sqrt(10),Fg=Math.sqrt(2),xx=function(){function i(){this._domain=[0,1]}return i.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},i.prototype.nice=function(e){var t,r;e===void 0&&(e=cv);var n=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],u=this._domain[o],l;return u<s&&(t=[u,s],s=t[0],u=t[1],r=[o,a],a=r[0],o=r[1]),l=gh(s,u,e),l>0?(s=Math.floor(s/l)*l,u=Math.ceil(u/l)*l,l=gh(s,u,e)):l<0&&(s=Math.ceil(s*l)/l,u=Math.floor(u*l)/l,l=gh(s,u,e)),l>0?(n[a]=Math.floor(s/l)*l,n[o]=Math.ceil(u/l)*l,this.domain(n)):l<0&&(n[a]=Math.ceil(s*l)/l,n[o]=Math.floor(u*l)/l,this.domain(n)),this},i.prototype.ticks=function(e){return e===void 0&&(e=cv),Ex(this._domain[0],this._domain[this._domain.length-1],e||cv)},i}();function Ex(i,e,t){var r,n=-1,a,o,s;if(e=+e,i=+i,t=+t,i===e&&t>0)return[i];if((r=e<i)&&(a=i,i=e,e=a),(s=gh(i,e,t))===0||!isFinite(s))return[];if(s>0)for(i=Math.ceil(i/s),e=Math.floor(e/s),o=new Array(a=Math.ceil(e-i+1));++n<a;)o[n]=(i+n)*s;else for(i=Math.floor(i*s),e=Math.ceil(e*s),o=new Array(a=Math.ceil(i-e+1));++n<a;)o[n]=(i-n)/s;return r&&o.reverse(),o}function gh(i,e,t){var r=(e-i)/Math.max(0,t),n=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,n);return n>=0?(a>=kg?10:a>=Bg?5:a>=Fg?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(a>=kg?10:a>=Bg?5:a>=Fg?2:1)}function zg(i,e,t){var r;return t==="ceil"?r=Math.ceil(i/e):t==="floor"?r=Math.floor(i/e):r=Math.round(i/e),r*e}function fv(i,e,t){var r=zg(i,t,"floor"),n=zg(e,t,"ceil");r=(0,f.fixedBase)(r,t),n=(0,f.fixedBase)(n,t);for(var a=[],o=Math.max((n-r)/(Math.pow(2,12)-1),t),s=r;s<=n;s=s+o){var u=(0,f.fixedBase)(s,o);a.push(u)}return{min:r,max:n,ticks:a}}function dv(i,e,t){var r,n=i.minLimit,a=i.maxLimit,o=i.min,s=i.max,u=i.tickCount,l=u===void 0?5:u,c=(0,f.isNil)(n)?(0,f.isNil)(e)?o:e:n,d=(0,f.isNil)(a)?(0,f.isNil)(t)?s:t:a;if(c>d&&(r=[c,d],d=r[0],c=r[1]),l<=2)return[c,d];for(var A=(d-c)/(l-1),I=[],F=0;F<l;F++)I.push(c+A*F);return I}function wx(i){var e=i.min,t=i.max,r=i.tickInterval,n=i.minLimit,a=i.maxLimit,o=bx(i);return!(0,f.isNil)(n)||!(0,f.isNil)(a)?dv(i,(0,f.head)(o),(0,f.last)(o)):r?fv(e,t,r).ticks:o}function ef(i){return Math.abs(i)<1e-15?i:parseFloat(i.toFixed(15))}var Sx=[1,5,2,2.5,4,3],qS=null,Gg=Number.EPSILON*100;function Mx(i,e){return(i%e+e)%e}function _x(i){return Math.round(i*1e12)/1e12}function Cx(i,e,t,r,n,a){var o=(0,f.size)(e),s=(0,f.indexOf)(e,i),u=0,l=Mx(r,a);return(l<Gg||a-l<Gg)&&r<=0&&n>=0&&(u=1),1-s/(o-1)-t+u}function Tx(i,e,t){var r=(0,f.size)(e),n=(0,f.indexOf)(e,i),a=1;return 1-n/(r-1)-t+a}function Ax(i,e,t,r,n,a){var o=(i-1)/(a-n),s=(e-1)/(Math.max(a,r)-Math.min(t,n));return 2-Math.max(o/s,s/o)}function Ox(i,e){return i>=e?2-(i-1)/(e-1):1}function Ix(i,e,t,r){var n=e-i;return 1-.5*(Math.pow(e-r,2)+Math.pow(i-t,2))/Math.pow(.1*n,2)}function Dx(i,e,t){var r=e-i;if(t>r){var n=(t-r)/2;return 1-Math.pow(n,2)/Math.pow(.1*r,2)}return 1}function Px(){return 1}function Lx(i,e,t,r,n,a){t===void 0&&(t=5),r===void 0&&(r=!0),n===void 0&&(n=Sx),a===void 0&&(a=[.25,.2,.5,.05]);var o=t<0?0:Math.round(t);if(Number.isNaN(i)||Number.isNaN(e)||typeof i!="number"||typeof e!="number"||!o)return{min:0,max:0,ticks:[]};if(e-i<1e-15||o===1)return{min:i,max:e,ticks:[i]};if(e-i>1e148){var s=t||5,u=(e-i)/s;return{min:i,max:e,ticks:Array(s).fill(null).map(function(An,On){return ef(i+u*On)})}}for(var l={score:-2,lmin:0,lmax:0,lstep:0},c=1;c<1/0;){for(var d=0;d<n.length;d+=1){var A=n[d],I=Tx(A,n,c);if(a[0]*I+a[1]+a[2]+a[3]<l.score){c=1/0;break}for(var F=2;F<1/0;){var Z=Ox(F,o);if(a[0]*I+a[1]+a[2]*Z+a[3]<l.score)break;for(var rt=(e-i)/(F+1)/c/A,lt=Math.ceil(Math.log10(rt));lt<1/0;){var ct=c*A*Math.pow(10,lt),pt=Dx(i,e,ct*(F-1));if(a[0]*I+a[1]*pt+a[2]*Z+a[3]<l.score)break;var _t=Math.floor(e/ct)*c-(F-1)*c,jt=Math.ceil(i/ct)*c;if(_t<=jt)for(var s=jt-_t,oe=0;oe<=s;oe+=1){var ie=_t+oe,Ee=ie*(ct/c),Re=Ee+ct*(F-1),Ae=ct,He=Cx(A,n,c,Ee,Re,Ae),ur=Ix(i,e,Ee,Re),tn=Ax(F,o,i,e,Ee,Re),Tn=Px(),pn=a[0]*He+a[1]*ur+a[2]*tn+a[3]*Tn;pn>l.score&&(!r||Ee<=i&&Re>=e)&&(l.lmin=Ee,l.lmax=Re,l.lstep=Ae,l.score=pn)}lt+=1}F+=1}}c+=1}var Vr=ef(l.lmax),Un=ef(l.lmin),Rn=ef(l.lstep),Hr=Math.floor(_x((Vr-Un)/Rn))+1,hn=new Array(Hr);hn[0]=ef(Un);for(var d=1;d<Hr;d++)hn[d]=ef(hn[d-1]+Rn);return{min:Math.min(i,(0,f.head)(hn)),max:Math.max(e,(0,f.last)(hn)),ticks:hn}}function Nx(i){var e=i.min,t=i.max,r=i.tickCount,n=i.nice,a=i.tickInterval,o=i.minLimit,s=i.maxLimit,u=Lx(e,t,r,n).ticks;return!(0,f.isNil)(o)||!(0,f.isNil)(s)?dv(i,(0,f.head)(u),(0,f.last)(u)):a?fv(e,t,a).ticks:u}function Rx(i){var e=i.base,t=i.tickCount,r=i.min,n=i.max,a=i.values,o,s=qs(e,n);if(r>0)o=Math.floor(qs(e,r));else{var u=Dg(a,e,n);o=Math.floor(qs(e,u))}for(var l=s-o,c=Math.ceil(l/t),d=[],A=o;A<s+c;A=A+c)d.push(Math.pow(e,A));return r<=0&&d.unshift(0),d}function Ug(i,e,t){if(t===void 0&&(t=5),i===e)return{max:e,min:i,ticks:[i]};var r=t<0?0:Math.round(t);if(r===0)return{max:e,min:i,ticks:[]};var n=1.5,a=.5+1.5*n,o=e-i,s=o/r,u=Math.pow(10,Math.floor(Math.log10(s))),l=u;2*u-s<n*(s-l)&&(l=2*u,5*u-s<a*(s-l)&&(l=5*u,10*u-s<n*(s-l)&&(l=10*u)));for(var c=Math.ceil(e/l),d=Math.floor(i/l),A=Math.max(c*l,e),I=Math.min(d*l,i),F=Math.floor((A-I)/l)+1,Z=new Array(F),rt=0;rt<F;rt++)Z[rt]=ef(I+rt*l);return{min:I,max:A,ticks:Z}}function kx(i){var e=i.exponent,t=i.tickCount,r=Math.ceil(gc(e,i.max)),n=Math.floor(gc(e,i.min)),a=Ug(n,r,t).ticks;return a.map(function(o){var s=o>=0?1:-1;return Math.pow(o,e)*s})}function Bx(i,e){var t=i.length*e;return e===1?i[i.length-1]:e===0?i[0]:t%1!==0?i[Math.ceil(t)-1]:i.length%2===0?(i[t-1]+i[t])/2:i[t]}function Fx(i){var e=i.tickCount,t=i.values;if(!t||!t.length)return[];for(var r=t.slice().sort(function(s,u){return s-u}),n=[],a=0;a<e;a++){var o=a/(e-1);n.push(Bx(r,o))}return n}function zx(i){var e=i.min,t=i.max,r=i.tickCount,n=i.tickInterval,a=i.minLimit,o=i.maxLimit,s=Ug(e,t,r).ticks;return!(0,f.isNil)(a)||!(0,f.isNil)(o)?dv(i,(0,f.head)(s),(0,f.last)(s)):n?fv(e,t,n).ticks:s}function Gx(i){var e=i.min,t=i.max,r=i.minTickInterval,n=i.tickInterval,a=i.tickCount;if(n)a=Math.ceil((t-e)/n);else{n=rx(e,t,a)[1];var o=(t-e)/n,s=o/a;s>1&&(n=n*Math.ceil(s)),r&&n<r&&(n=r)}n=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),n);for(var u=[],l=e;l<t+n;l+=n)u.push(l);return u}function Ux(i){var e=Rg((0,b.__assign)({showLast:!0},i));return e}function mh(i){return new Date(i).getFullYear()}function Wx(i){return new Date(i,0,1).getTime()}function hv(i){return new Date(i).getMonth()}function Yx(i,e){var t=mh(i),r=mh(e),n=hv(i),a=hv(e);return(r-t)*12+(a-n)%12}function Xx(i,e){return new Date(i,e,1).getTime()}function jx(i,e){return Math.ceil((e-i)/Tl)}function Vx(i,e){return Math.ceil((e-i)/tf)}function Hx(i,e){return Math.ceil((e-i)/(60*1e3))}function Zx(i){var e=i.min,t=i.max,r=i.minTickInterval,n=i.tickCount,a=i.tickInterval,o=[];a||(a=(t-e)/n,r&&a<r&&(a=r)),a=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),a);var s=mh(e);if(a>Ig)for(var u=mh(t),l=Math.ceil(a/Ig),c=s;c<=u+l;c=c+l)o.push(Wx(c));else if(a>Dd)for(var d=Math.ceil(a/Dd),A=hv(e),I=Yx(e,t),c=0;c<=I+d;c=c+d)o.push(Xx(s,c+A));else if(a>Tl)for(var F=new Date(e),Z=F.getFullYear(),rt=F.getMonth(),lt=F.getDate(),ct=Math.ceil(a/Tl),pt=jx(e,t),c=0;c<pt+ct;c=c+ct)o.push(new Date(Z,rt,lt+c).getTime());else if(a>tf)for(var F=new Date(e),Z=F.getFullYear(),rt=F.getMonth(),ct=F.getDate(),_t=F.getHours(),jt=Math.ceil(a/tf),oe=Vx(e,t),c=0;c<=oe+jt;c=c+jt)o.push(new Date(Z,rt,ct,_t+c).getTime());else if(a>Jc)for(var ie=Hx(e,t),Ee=Math.ceil(a/Jc),c=0;c<=ie+Ee;c=c+Ee)o.push(e+c*Jc);else{var Re=a;Re<yu&&(Re=yu);for(var Ae=Math.floor(e/yu)*yu,He=Math.ceil((t-e)/yu),ur=Math.ceil(Re/yu),c=0;c<He+ur;c=c+ur)o.push(Ae+c*yu)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}Hu("cat",Rg),Hu("time-cat",Ux),Hu("wilkinson-extended",Nx),Hu("r-pretty",zx),Hu("time",Gx),Hu("time-pretty",Zx),Hu("log",Rx),Hu("pow",kx),Hu("quantile",Fx),Hu("d3-linear",wx),Zu("cat",Od),Zu("category",Od),Zu("identity",yx),Zu("linear",Ld),Zu("log",ux),Zu("pow",cx),Zu("time",dx),Zu("timeCat",ax),Zu("quantize",Lg),Zu("quantile",px);var Kx=function(i,e,t){if(t||arguments.length===2)for(var r=0,n=e.length,a;r<n;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return i.concat(a||Array.prototype.slice.call(e))};function $x(i){return(0,f.map)(i,function(e,t){var r=t===0?"M":"L",n=e[0],a=e[1];return[r,n,a]})}function Wg(i){return $x(i)}function Qx(i){if(i.length<=2)return Wg(i);var e=[];(0,f.each)(i,function(o){(0,f.isEqual)(o,e.slice(e.length-2))||e.push(o[0],o[1])});var t=ma(e,!1),r=(0,f.head)(i),n=r[0],a=r[1];return t.unshift(["M",n,a]),t}function qx(i,e,t,r){r===void 0&&(r=!0);var n=new Ld({values:i}),a=new Od({values:(0,f.map)(i,function(s,u){return u})}),o=(0,f.map)(i,function(s,u){return[a.scale(u)*e,t-n.scale(s)*t]});return r?Qx(o):Wg(o)}function Jx(i,e,t,r){r===void 0&&(r=5);for(var n=new Ld({values:i}),a=new Od({values:(0,f.map)(i,function(A,I){return I})}),o=(0,f.map)(i,function(A,I){return[a.scale(I)*e,t-n.scale(A)*t]}),s=[],u=0;u<o.length;u++){var l=o[u],c={x:l[0],y:l[1],y0:t,size:r},d=rE(c);s.push.apply(s,d)}return nE(s)}function tE(i,e){var t=new Ld({values:i}),r=Math.max(0,t.min);return e-t.scale(r)*e}function eE(i,e,t,r){var n=Kx([],i,!0),a=tE(r,t);return n.push(["L",e,a]),n.push(["L",0,a]),n.push(["Z"]),n}function rE(i){var e=i.x,t=i.y,r=i.y0,n=i.size,a,o;(0,f.isArray)(t)?(a=t[0],o=t[1]):(a=r,o=t);var s,u;(0,f.isArray)(e)?(s=e[0],u=e[1]):(s=e-n/2,u=e+n/2);var l=[{x:s,y:a},{x:s,y:o}];return l.push({x:u,y:o},{x:u,y:a}),l}function nE(i,e){e===void 0&&(e=!0);var t=[],r=i[0];t.push(["M",r.x,r.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return e&&(t.push(["L",r.x,r.y]),t.push(["z"])),t}var Nd=function(){return Nd=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Nd.apply(this,arguments)},aE={stroke:"#C5C5C5",strokeOpacity:.85},iE={fill:"#CACED4",opacity:.85},oE=function(){function i(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.width,s=o===void 0?200:o,u=e.height,l=u===void 0?26:u,c=e.smooth,d=c===void 0?!0:c,A=e.isArea,I=A===void 0?!1:A,F=e.data,Z=F===void 0?[]:F,rt=e.lineStyle,lt=e.areaStyle,ct=e.group,pt=e.interval,_t=pt===void 0?null:pt;this.group=ct,this.x=r,this.y=a,this.width=s,this.height=l,this.data=Z,this.smooth=d,this.isArea=I,this.lineStyle=Object.assign({},aE,rt),this.areaStyle=Object.assign({},iE,lt),this.intervalConfig=_t,this.renderLine()}return i.prototype.renderLine=function(){var e=this,t=e.x,r=e.y,n=e.width,a=e.height,o=e.barWidth,s=e.data,u=e.smooth,l=e.isArea,c=e.lineStyle,d=e.areaStyle,A=this.group.addGroup({name:"trend-group"});if(s){var I=qx(s,n,a,u);if(A.addShape("path",{attrs:Nd({path:I},c),name:"trend-line"}),l){var F=eE(I,n,a,s);A.addShape("path",{attrs:Nd({path:F},d),name:"trend-area"})}}this.intervalConfig&&A.addShape("path",{attrs:Nd({path:Jx(this.intervalConfig.data,n,a,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),A.move(t,r)},i.prototype.destory=function(){this.group.destroy()},i}(),sE=oE,td=function(){return td=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},td.apply(this,arguments)},uE={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},lE={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},cE=function(){function i(e){var t=e.group,r=e.name,n=e.type,a=e.x,o=a===void 0?0:a,s=e.y,u=s===void 0?0:s,l=e.width,c=l===void 0?2:l,d=e.height,A=d===void 0?24:d,I=e.style,F=I===void 0?{}:I;this.group=t,this.name=r,this.handleType=n,this.x=o,this.y=u,this.width=c,this.height=A,n==="trend"?this.style=td(td({},uE),F):n==="simple"&&(this.style=td(td({},lE),F)),this.renderHandle()}return i.prototype.setX=function(e){this.setXY(e,void 0)},i.prototype.setY=function(e){this.setXY(void 0,e)},i.prototype.setXY=function(e,t){(0,f.isNumber)(e)&&(this.x=e),(0,f.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var e=this,t=e.width,r=e.height,n=e.style,a=e.name,o=n.fill,s=n.stroke,u=n.radius,l=n.opacity,c=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:r,fill:o,stroke:s,radius:u,opacity:l,cursor:c},name:"".concat(a,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:u,opacity:l,cursor:c,lineAppendWidth:12},name:"".concat(a,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r,r:2*t,fill:o,stroke:s,radius:u,opacity:l,cursor:c},name:"".concat(a,"-handler")})):this.handleType==="simple"&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r/2,r:2*t,fill:o,stroke:s,radius:u,opacity:l,cursor:c,lineWidth:2},name:"".concat(a,"-handler")})),this.updateXY(),this.handleType==="trend"?this.bindTrendEvents():this.handleType==="simple"&&this.bindSimpleEvents()},i.prototype.bindSimpleEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var r=e.style.highLightFill;e.topCircle.attr("fill",r)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var r=e.style.fill;e.topCircle.attr("fill",r)})},i.prototype.bindTrendEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var r=e.style.highLightFill;e.verticalLine.attr("fill",r),e.topCircle.attr("fill",r),e.bottomCircle.attr("fill",r)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var r=e.style.fill;e.verticalLine.attr("fill",r),e.topCircle.attr("fill",r),e.bottomCircle.attr("fill",r)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),Yg=cE,Xg="timebarstartplay",jg="timebarendplay",Ku="valuechange",rf="timebarConfigChanged",mc="playPauseBtn",Rd="nextStepBtn",kd="preStepBtn",vv=function(){return vv=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},vv.apply(this,arguments)},fE=function(){function i(e){this.config=(0,f.deepMix)({},e),this.init()}return i.prototype.update=function(e){this.config=(0,f.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var e=this.config,t=e.group,r=e.style,n=r.scale,a=n===void 0?1:n,o=r.offsetX,s=o===void 0?0:o,u=r.offsetY,l=u===void 0?0:u,c=this.config.x+s,d=this.config.y+l,A=t.addGroup({name:mc});this.startMarkerGroup=A.addGroup({name:mc}),this.circle=t.addShape("circle",{attrs:vv({x:c,y:d,r:this.config.r*a},r),name:mc}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(c,d,a),fill:r.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=A.addGroup({name:mc});var I=.25*this.config.r*a,F=.5*this.config.r*Math.sqrt(3)*a;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c-.375*this.config.r*a,y:d-F/2,width:I,height:F,fill:r.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c+1/8*this.config.r*a,y:d-F/2,width:I,height:F,fill:r.stroke||"#aaa",lineWidth:0}})},i.prototype.updateElement=function(){var e=this.config.style,t=e.scale,r=t===void 0?1:t,n=e.offsetX,a=n===void 0?0:n,o=e.offsetY,s=o===void 0?0:o,u=this.config.x+a,l=this.config.y+s;this.circle.attr("x",u),this.circle.attr("y",l),this.circle.attr("r",this.config.r*r),this.startMarker.attr("path",this.getStartMarkerPath(u,l,r));var c=.25*this.config.r*r,d=.5*this.config.r*Math.sqrt(3)*r;this.pauseLeftMarker.attr("x",u-(1/4+1/8)*this.config.r*r),this.pauseLeftMarker.attr("y",l-d/2),this.pauseLeftMarker.attr("width",c),this.pauseLeftMarker.attr("height",d),this.pauseRightMarker.attr("x",u+1/8*this.config.r*r),this.pauseRightMarker.attr("y",l-d/2),this.pauseRightMarker.attr("width",c),this.pauseRightMarker.attr("height",d)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},i.prototype.getStartMarkerPath=function(e,t,r){var n=.5*this.config.r*Math.sqrt(3)*r;return[["M",e-n/Math.sqrt(3)/2,t-n/2],["L",e+n/Math.sqrt(3),t],["L",e-n/Math.sqrt(3)/2,t+n/2]]},i}(),dE=fE,Fo=function(){return Fo=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Fo.apply(this,arguments)},Bd=ft,hE="#aaa",vE="green",pE={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},gE={fill:"#fff"},mE={fill:"green"},Vg={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},Hg={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},yE={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:Vg,timeTypeControllerStyle:Hg},pv=110,yc=50,$u={SINGLE:"single",RANGE:"range"},bE=function(){function i(e){this.controllerCfg=(0,f.deepMix)({},yE,e),this.group=e.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType=this.controllerCfg.defaultTimeType||$u.RANGE,this.fontFamily=e.fontFamily||"Arial, sans-serif",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(e,t,r){return[["M",e,t-r],["L",e+r,t],["L",e,t+r],["Z",e,t-r],["M",e,t],["L",e-r,t-r],["L",e-r,t+r],["Z"]]},i.prototype.getPreMarkerPath=function(e,t,r){return[["M",e,t-r],["L",e-r,t],["L",e,t+r],["L",e,t-r],["M",e,t],["L",e+r,t-r],["L",e+r,t+r],["Z"]]},i.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,r=e.height,n=e.x,a=e.y,o=e.hideTimeTypeController,s=e.fill,u=s===void 0?hE:s,l=e.stroke,c=l===void 0?vE:l,d=e.containerStyle,A=d===void 0?{}:d,I=Fo(Fo({},pE),e.playBtnStyle||{}),F=Fo(Fo({},gE),e.preBtnStyle||{}),Z=Fo(Fo({},mE),e.nextBtnStyle||{}),rt=r/2-5,lt=a+10,ct=this.controllerGroup.addShape("rect",{attrs:Fo({x:n,y:lt,width:t,height:r,stroke:c,fill:u},A),name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:lt,r:rt}):this.playButton=new dE({group:this.controllerGroup,x:t/2,y:lt+rt+5,r:rt,isPlay:this.isPlay,style:I});var pt=F.offsetX||0,_t=F.offsetY||0,jt=(F.scale||1)*rt;this.controllerGroup.addShape("path",{attrs:Fo({path:this.getPreMarkerPath(t/2-5*rt+pt,lt+rt+5+_t,jt*.5)},F),name:kd});var oe=Z.offsetX||0,ie=Z.offsetY||0,Ee=(Z.scale||1)*rt;this.controllerGroup.addShape("path",{attrs:Fo({path:this.getNextMarkerPath(t/2+5*rt+oe,lt+rt+5+ie,Ee*.5)},Z),name:Rd}),ct.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var Re=this.controllerCfg.scale,Ae=Re===void 0?1:Re,He=this.controllerGroup.getCanvasBBox(),ur=(He.maxX+He.minX)/2,tn=(He.maxY+He.minY)/2,Tn=Bd([1,0,0,0,1,0,0,0,1],[["t",-ur,-tn],["s",Ae,Ae],["t",ur,tn]]);this.controllerGroup.setMatrix(Tn)},i.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,r=e.width,n=e.hideTimeTypeController,a=Fo(Fo({},Vg),this.controllerCfg.speedControllerStyle||{}),o=a.scroller,s=o===void 0?{}:o,u=a.text,l=u===void 0?{}:u,c=a.pointer,d=c===void 0?{}:c,A=a.scale,I=A===void 0?1:A,F=a.offsetX,Z=F===void 0?0:F,rt=a.offsetY,lt=rt===void 0?0:rt,ct=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=ct;var pt=[],_t=5;this.speedAxisY=[19,22,26,32,39];for(var jt=0;jt<5;jt++){var oe=t+this.speedAxisY[jt],ie=r-(n?yc:pv);ct.addShape("line",{attrs:Fo({x1:ie,x2:ie+15,y1:oe,y2:oe},s),speed:_t,name:"speed-rect"}),this.speedAxisY[jt]=oe,pt.push(_t),_t=_t-1}this.speedText=ct.addShape("text",{attrs:Fo({x:r-(n?yc:pv)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},l),name:"speed-text"}),this.speedPoint=ct.addShape("path",{attrs:Fo({path:this.getPointerPath(r-(n?yc:pv),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},d),name:"speed-pointer"});var Ee=this.speedGroup.getCanvasBBox(),Re=(Ee.maxX+Ee.minX)/2,Ae=(Ee.maxY+Ee.minY)/2,He=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];He=Bd(He,[["t",-Re,-Ae],["s",I,I],["t",Re+Z*I,Ae+lt*I]]),this.speedGroup.setMatrix(He)},i.prototype.getPointerPath=function(e,t){return[["M",e,t],["L",e-10,t-4],["L",e-10,t+4],["Z"]]},i.prototype.renderToggleTime=function(){var e,t,r=this.controllerCfg,n=r.width,a=r.defaultTimeType,o=Fo(Fo({},Hg),this.controllerCfg.timeTypeControllerStyle||{}),s=o.scale,u=s===void 0?1:s,l=o.offsetX,c=l===void 0?0:l,d=o.offsetY,A=d===void 0?0:d,I=o.box,F=I===void 0?{}:I,Z=o.check,rt=Z===void 0?{}:Z,lt=o.text,ct=lt===void 0?{}:lt;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"});var pt=a===$u.SINGLE;this.toggleGroup.addShape("rect",{attrs:Fo({x:n-yc,y:this.speedAxisY[0]+3.5},F),isChecked:pt,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:Fo({path:[["M",n-yc+3,this.speedAxisY[1]+6],["L",n-yc+7,this.speedAxisY[1]+10],["L",n-yc+12,this.speedAxisY[1]+4]]},rt),capture:!1,name:"check-icon"}),pt||this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:Fo({text:pt?((e=this.controllerCfg)===null||e===void 0?void 0:e.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4":((t=this.controllerCfg)===null||t===void 0?void 0:t.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4",x:n-yc+15,y:this.speedAxisY[0]+4,fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},ct),name:"checked-text"});var _t=this.toggleGroup.getCanvasBBox(),jt=(_t.maxX+_t.minX)/2,oe=(_t.maxY+_t.minY)/2,ie=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];ie=Bd(ie,[["t",-jt,-oe],["s",u,u],["t",jt+c*u,oe+A*u]]),this.toggleGroup.setMatrix(ie)},i.prototype.bindEvent=function(){var e=this;this.speedGroup.on("speed-rect:click",function(t){var r=t.target.attr("y1"),n=e.speedPoint.attr("matrix"),a=e.speedAxisY.indexOf(n[7]||0),o=e.speedAxisY.indexOf(r),s=e.speedAxisY[o]-e.speedAxisY[a];n=Bd(n,[["t",0,s]]),e.speedPoint.setMatrix(n),e.currentSpeed=e.speedAxisY.length-o,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(rf,{speed:e.currentSpeed,type:e.currentType})}),this.speedGroup.on("mousewheel",function(t){t.preventDefault();var r=e.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],n=r[7],a=e.speedAxisY.indexOf(n);if(a===-1){var o=1/0;e.speedAxisY.forEach(function(u,l){var c=Math.abs(u-n);o>c&&(o=c,a=l)})}t.originalEvent.deltaY>0?a=Math.max(0,a-1):a=Math.min(e.speedAxisY.length-1,a+1);var s=e.speedAxisY[a]-n;r=Bd(r,[["t",0,s]]),e.speedPoint.setMatrix(r),e.currentSpeed=e.speedAxisY.length-a,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(rf,{speed:e.currentSpeed,type:e.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(t){var r,n,a=t.target.get("isChecked");a?(e.checkedIcon.hide(),e.checkedText.attr("text",((n=e.controllerCfg)===null||n===void 0?void 0:n.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4"),e.currentType=$u.RANGE):(e.checkedIcon.show(),e.checkedText.attr("text",((r=e.controllerCfg)===null||r===void 0?void 0:r.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4"),e.currentType=$u.SINGLE),t.target.set("isChecked",!a),e.group.emit(rf,{type:e.currentType,speed:e.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),Zg=bE,io=function(){return io=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},io.apply(this,arguments)},xE=ft,EE={fill:"#416180",opacity:.05},wE={fill:"#416180",opacity:.15,radius:5},SE={fill:"#5B8FF9",opacity:.3,cursor:"grab"},gv=2,ME={width:gv,height:24},_E={textBaseline:"middle",fill:"#000",opacity:.45},CE={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},TE={lineWidth:1,stroke:"#ccc"},AE=function(){function i(e){var t=this;this.prevX=0,this.onMouseDown=function(An){return function(On){t.currentHandler=An;var jn=On.originalEvent;jn.stopPropagation(),jn.preventDefault(),t.prevX=(0,f.get)(jn,"touches.0.pageX",jn.pageX);var ta=t.canvas.get("container");ta.addEventListener("mousemove",t.onMouseMove),ta.addEventListener("mouseup",t.onMouseUp),ta.addEventListener("mouseleave",t.onMouseUp),ta.addEventListener("touchmove",t.onMouseMove),ta.addEventListener("touchend",t.onMouseUp),ta.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(An){An.stopPropagation(),An.preventDefault();var On=(0,f.get)(An,"touches.0.pageX",An.pageX),jn=On-t.prevX,ta=t.adjustOffsetRange(jn/t.width);t.updateStartEnd(ta),t.updateUI(),t.prevX=On},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var An=t.canvas.get("container");An&&(An.removeEventListener("mousemove",t.onMouseMove),An.removeEventListener("mouseup",t.onMouseUp),An.removeEventListener("mouseleave",t.onMouseUp),An.removeEventListener("touchmove",t.onMouseMove),An.removeEventListener("touchend",t.onMouseUp),An.removeEventListener("touchcancel",t.onMouseUp))};var r=e.x,n=r===void 0?0:r,a=e.y,o=a===void 0?0:a,s=e.width,u=s===void 0?100:s,l=e.height,c=e.padding,d=c===void 0?10:c,A=e.trendCfg,I=e.controllerCfg,F=I===void 0?{speed:1}:I,Z=e.backgroundStyle,rt=Z===void 0?{}:Z,lt=e.foregroundStyle,ct=lt===void 0?{}:lt,pt=e.handlerStyle,_t=pt===void 0?{}:pt,jt=e.textStyle,oe=jt===void 0?{}:jt,ie=e.start,Ee=ie===void 0?0:ie,Re=e.end,Ae=Re===void 0?1:Re,He=e.minText,ur=He===void 0?"":He,tn=e.maxText,Tn=tn===void 0?"":tn,pn=e.group,Vr=e.graph,Un=e.canvas,Rn=e.tick,Hr=Rn===void 0?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(On){return On},ticks:[]}:Rn,hn=e.type;this.graph=Vr,this.canvas=Un,this.group=pn,this.timeBarType=hn,this.x=n,this.y=o,this.width=u,this.height=l,this.padding=d,this.ticks=Hr.ticks,this.trendCfg=A,this.controllerCfg=F,this.currentSpeed=F.speed||1,this.tickLabelFormatter=Hr.tickLabelFormatter,hn==="trend"?this.backgroundStyle=io(io({},EE),rt):hn==="simple"&&(this.backgroundStyle=io(io({},wE),rt)),this.foregroundStyle=io(io({},SE),ct),this.handlerStyle=io(io({},ME),_t),this.textStyle=io(io({},_E),oe),this.tickLabelStyle=io(io({},CE),Hr.tickLabelStyle),this.tickLineStyle=io(io({},TE),Hr.tickLineStyle),this.currentMode=F.defaultTimeType||$u.RANGE,this.start=Ee,this.end=Ae,this.minText=ur,this.maxText=Tn,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return i.prototype.update=function(e){var t=e.x,r=e.y,n=e.width,a=e.height,o=e.minText,s=e.maxText,u=e.start,l=e.end;this.start=Math.min(1,Math.max(u,0)),this.end=Math.min(1,Math.max(l,0)),(0,f.assign)(this,{x:t,y:r,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var e=this,t=this,r=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,f.size)((0,f.get)(this.trendCfg,"data"))){var o=new sE(io(io({x:this.x,y:this.y,width:r,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:io({x:0,y:0,width:r,height:n},this.backgroundStyle),name:"background"});var u=this.group.addGroup();a==="trend"?(this.minTextShape=u.addShape("text",{attrs:io({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=u.addShape("text",{attrs:io({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=u.addShape("text",{attrs:io({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=u.addShape("text",{attrs:io({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:io({x:0,y:this.y,height:n},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",function(lt){lt.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(lt){lt.target.attr("cursor",e.foregroundStyle.cursor||"grab")});var l=(0,f.get)(this.handlerStyle,"width",2),c=(0,f.get)(this.handlerStyle,"height",24),d=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new Yg({name:"minHandlerShape",group:d,type:a,x:this.x,y:this.y,width:l,height:c,style:this.handlerStyle});var A=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new Yg({name:"maxHandlerShape",group:A,type:a,x:this.x,y:this.y,width:l,height:c,style:this.handlerStyle});var I=this.ticks,F=r/(I.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(lt){lt.destroy()});var Z=-1/0,rt=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=I.map(function(lt,ct){e.tickPosList.push(e.x+ct*F);var pt;e.tickLabelFormatter?(pt=e.tickLabelFormatter(lt),!(0,f.isString)(pt)&&pt&&(pt=lt.date)):pt=lt.date;var _t=e.x+ct*F,jt=e.y+n+5,oe=e.group.addShape("text",{attrs:io({x:_t,y:jt,text:pt,fontFamily:e.fontFamily||"Arial, sans-serif"},e.tickLabelStyle),name:"tick-label"});if((0,f.isNumber)(rt)&&ct!==I.length-1){var ie=xE([1,0,0,0,1,0,0,0,1],[["t",-_t,-jt],["r",rt],["t",_t-5,jt+2]]);oe.attr({textAlign:"left",matrix:ie})}ct===0?oe.attr({textAlign:"left"}):ct!==I.length-1&&oe.attr({textAlign:"right"});var Ee=e.group.addShape("line",{attrs:io({x1:e.x+ct*F,y1:e.y+n+2,x2:e.x+ct*F,y2:e.y+n+6},e.tickLineStyle),name:"tick-line"});Ee.toBack();var Re=oe.getBBox();return Re.minX>Z?(oe.show(),Ee.show(),Z=Re.minX+Re.width+10):(oe.hide(),Ee.hide()),oe}),this.controllerBtnGroup=new Zg(io({group:this.group,x:this.x,y:this.y+n+25,width:r,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),s.move(this.x,this.y),this.bindEvents(),this.currentMode===$u.SINGLE&&(this.minHandlerShape.hide(),this.foregroundShape.hide(),this.minTextShape.hide())},i.prototype.bindEvents=function(){var e=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var r=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});r&&(r.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),r.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(mc,":click"),function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()}),this.group.on("".concat(Rd,":click"),function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()}),this.group.on("".concat(kd,":click"),function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()}),this.group.on(rf,function(n){var a=n.type,o=n.speed;e.currentSpeed=o,e.currentMode=a,a===$u.SINGLE?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):a===$u.RANGE&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())})},i.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1;return 0},i.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,r=1-this.start;return Math.min(r,Math.max(t,e))}case this.maxHandlerShape:{var t=0-this.end,r=1-this.end;return Math.min(r,Math.max(t,e))}case this.foregroundShape:{var t=0-this.start,r=1-this.end;return Math.min(r,Math.max(t,e))}default:return 0}},i.prototype.updateStartEnd=function(e){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],r=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler){this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t==null?void 0:t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(r):r==null?void 0:r.date;return}switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(r):r.date;break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(r):r.date;break;default:break}},i.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,r=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",r-t);var n=(0,f.get)(this.handlerStyle,"width",gv);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,r]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,f.each)(o,function(u,l){return e.minTextShape.attr(l,u)}),this.maxHandlerShape.setX(r-n/2),(0,f.each)(s,function(u,l){return e.maxTextShape.attr(l,u)}),this.currentMode===$u.RANGE?this.graph.emit(Ku,{value:[this.start,this.end].sort()}):this.currentMode===$u.SINGLE&&this.graph.emit(Ku,{value:[this.end,this.end]})},i.prototype.dodgeText=function(e){var t,r,n=2,a=(0,f.get)(this.handlerStyle,"width",gv),o=this.minTextShape,s=this.maxTextShape,u=e[0],l=e[1],c=!1;u>l&&(t=[l,u],u=t[0],l=t[1],r=[s,o],o=r[0],s=r[1],c=!0);var d=o.getBBox(),A=s.getBBox(),I=null,F=null;return this.timeBarType==="trend"?(I=u-d.width<this.x+n?{x:u+a/2+n,textAlign:"left"}:{x:u-a/2-n,textAlign:"right"},F=l+A.width>this.x+this.width?{x:l-a/2-n,textAlign:"right"}:{x:l+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(I=o.attr("x")>d.width?{x:u,textAlign:"center"}:{x:u,textAlign:"left"},F=s.attr("x")>this.width-A.width?{x:l,textAlign:"right"}:{x:l,textAlign:"center"}),c?[F,I]:[I,F]},i.prototype.startPlay=function(){var e=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=e,r=t.ticks,n=t.width,a=e.currentSpeed,o=n/r.length,s=o/((10-a)*1e3/60),u=e.adjustOffsetRange(s/e.width);e.updateStartEnd(u),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())}):void 0},i.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(Xg,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(jg,null))},i.prototype.destory=function(){this.graph.off(Ku,function(){});var e=this.group,t=e.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var r=e.find(function(n){return n.get("name")==="maxHandlerShape"});r&&(r.off("maxHandlerShape-handler:mousedown"),r.off("maxHandlerShape-handler:touchstart"),r.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off("".concat(mc,":click")),e.off("".concat(Rd,":click")),e.off("".concat(kd,":click")),e.off(rf),e.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),OE=AE,JS={opacity:.5,fill:"#000"},tM={opacity:.5,fill:"#000",r:5},eM={fill:"#fff",fontSize:12},IE=function(){function i(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.container,s=e.text,u=e.padding,l=u===void 0?[4,4,4,4]:u,c=e.className,d=c===void 0?"g6-component-timebar-tooltip":c,A=e.backgroundColor,I=A===void 0?"#000":A,F=e.textColor,Z=F===void 0?"#fff":F,rt=e.opacity,lt=rt===void 0?.8:rt,ct=e.fontSize,pt=ct===void 0?12:ct;this.container=o,this.className=d,this.backgroundColor=I,this.textColor=Z,this.x=r,this.y=a,this.text=s,this.padding=l,this.opacity=lt,this.fontSize=pt,this.render()}return i.prototype.render=function(){var e=this,t=e.className,r=e.x,n=e.y,a=e.backgroundColor,o=e.textColor,s=e.text,u=e.padding,l=e.opacity,c=e.fontSize,d=e.container,A=ho("<div class='".concat(t,`' style="position: absolute; width: fit-content; height: fit-content; opacity: `).concat(l,'"></div>'));(0,f.isString)(d)&&(d=document.getElementById(d)),d.appendChild(A),e.parentHeight=d.offsetHeight,e.parentWidth=d.offsetWidth,Xa(A,{visibility:"hidden",top:0,left:0});var I=ho(`
      <div style='position: absolute; white-space:nowrap; background-color: `.concat(a,"; font-size: ").concat(c,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(o,"; padding: ").concat(u[0],"px ").concat(u[1],"px ").concat(u[2],"px ").concat(u[3],"px'></div>"));I.innerHTML=s,A.appendChild(I),e.backgroundDOM=I;var F=ho("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(a,"'></div>"));A.appendChild(F),e.arrowDOM=F,e.container=A},i.prototype.show=function(e){var t=this,r=e.text,n=e.x,a=e.y,o=e.clientX,s=e.clientY;t.backgroundDOM.innerHTML=r;var u=t.backgroundDOM.offsetWidth,l=t.backgroundDOM.offsetHeight,c=t.arrowDOM.offsetWidth,d=t.arrowDOM.offsetHeight;Xa(t.container,{top:"".concat(-l-d,"px"),left:"".concat(n,"px"),visibility:"visible"}),Xa(t.backgroundDOM,{marginLeft:"".concat(-u/2,"px")}),Xa(t.arrowDOM,{marginLeft:"".concat(-c/2,"px"),top:"".concat(l,"px")});var A=n-u/2,I=n+u/2;A<0?Xa(t.backgroundDOM,{marginLeft:"".concat(-u/2-A,"px")}):I>t.parentWidth&&Xa(t.backgroundDOM,{marginLeft:"".concat(-u/2-I+t.parentWidth+12,"px")})},i.prototype.hide=function(){Xa(this.container,{top:0,left:0,visibility:"hidden"})},i}(),DE=IE,Fd=function(){return Fd=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Fd.apply(this,arguments)},PE=ft,LE={fill:"#5B8FF9"},NE={fill:"#e6e8e9"},RE=function(){function i(e){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=e.graph,r=e.canvas,n=e.group,a=e.width,o=e.height,s=e.padding,u=e.data,l=e.start,c=e.end,d=e.x,A=d===void 0?0:d,I=e.y,F=I===void 0?0:I,Z=e.tickLabelFormatter,rt=e.selectedTickStyle,lt=rt===void 0?LE:rt,ct=e.unselectedTickStyle,pt=ct===void 0?NE:ct,_t=e.tooltipBackgroundColor,jt=e.tooltipFomatter,oe=e.tickLabelStyle,ie=e.controllerCfg,Ee=ie===void 0?{speed:1}:ie;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=r,this.width=a,this.height=o,this.padding=s,this.data=u,this.start=l,this.end=c,this.tickLabelFormatter=Z,this.tickLabelStyle=oe||{},this.selectedTickStyle=lt,this.unselectedTickStyle=pt,this.controllerCfg=Ee,this.currentSpeed=Ee.speed||1,this.x=A,this.y=F,this.tooltipBackgroundColor=_t,this.tooltipFomatter=jt,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var e=this,t=this,r=t.width,n=t.height,a=t.padding,o=t.data,s=t.start,u=t.end,l=t.tickLabelFormatter,c=t.selectedTickStyle,d=t.unselectedTickStyle,A=t.tickLabelStyle,I=r-2*a,F=10,Z=4,rt=3*a+Z+F,lt=n-rt-2*a,ct=2,pt=o.length,_t=(I-ct*(pt-1))/pt;this.tickWidth=_t;var jt=this.sliceGroup,oe=[],ie=[],Ee=Math.round(pt*s),Re=Math.round(pt*u);this.startTickRectId=Ee,this.endTickRectId=Re;var Ae=A.rotate;delete A.rotate,o.forEach(function(ur,tn){var Tn=tn>=Ee&&tn<=Re,pn=Tn?c:d,Vr=jt.addShape("rect",{attrs:Fd({x:a+tn*(_t+ct),y:a,width:_t,height:lt},pn),draggable:!0,name:"tick-rect-".concat(tn)}),Un=jt.addShape("rect",{attrs:{x:a+tn*_t+ct*(2*tn-1)/2,y:a,width:tn===0||tn===pt-1?_t+ct/2:_t+ct,height:lt,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(tn)});Un.toFront();var Rn=Vr.getBBox(),Hr=(Rn.minX+Rn.maxX)/2;oe.push({rect:Vr,pickRect:Un,value:ur.date,x:Hr,y:Rn.minY});var hn;if(l?(hn=l(ur),!(0,f.isString)(hn)&&hn&&(hn=ur.date)):tn%Math.round(pt/10)===0&&(hn=ur.date),hn){ie.push(hn);var An=Rn.maxY+a*2;jt.addShape("line",{attrs:{stroke:"#BFBFBF",x1:Hr,y1:An,x2:Hr,y2:An+Z},name:"tick-line"});var On=An+Z+a,jn=jt.addShape("text",{attrs:Fd({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:Hr,y:On,textAlign:"center",text:hn,textBaseline:"top",fontSize:10,fontFamily:e.fontFamily||"Arial, sans-serif"},A),capture:!1,name:"tick-label"}),ta=jn.getBBox();if(ta.maxX>r?jn.attr("textAlign","right"):ta.minX<0&&jn.attr("textAlign","left"),(0,f.isNumber)(Ae)&&ie.length!==10){var ya=PE([1,0,0,0,1,0,0,0,1],[["t",-Hr,-On],["r",Ae],["t",Hr-5,On+2]]);jn.attr({textAlign:"left",matrix:ya})}ie.length===1?jn.attr({textAlign:"left"}):ie.length===10&&jn.attr({textAlign:"right"})}}),this.tickRects=oe;var He=this.group;this.currentSpeed=1,this.controllerBtnGroup=new Zg(Fd({group:He,x:this.x,y:this.y+n+5,width:r,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"},this.controllerCfg))},i.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",function(c){var d=c.target;if(!(d.get("type")!=="rect"||!d.get("name"))){var A=parseInt(d.get("name").split("-")[2],10);if(!isNaN(A)){var I=e.tickRects,F=e.unselectedTickStyle;I.forEach(function(ct){ct.rect.attr(F)});var Z=e.selectedTickStyle;I[A].rect.attr(Z),e.startTickRectId=A,e.endTickRectId=A;var rt=I.length,lt=A/rt;e.graph.emit(Ku,{value:[lt,lt]})}}}),t.on("dragstart",function(c){var d=e.tickRects,A=e.unselectedTickStyle;d.forEach(function(ct){ct.rect.attr(A)});var I=c.target,F=parseInt(I.get("name").split("-")[2],10),Z=e.selectedTickStyle;d[F].rect.attr(Z),e.startTickRectId=F;var rt=d.length,lt=F/rt;e.graph.emit(Ku,{value:[lt,lt]}),e.dragging=!0}),t.on("dragover",function(c){if(e.dragging&&c.target.get("type")==="rect"){for(var d=parseInt(c.target.get("name").split("-")[2],10),A=e.startTickRectId,I=e.tickRects,F=e.selectedTickStyle,Z=e.unselectedTickStyle,rt=0;rt<I.length;rt++){var lt=rt>=A&&rt<=d?F:Z;I[rt].rect.attr(lt)}var ct=I.length;e.endTickRectId=d;var pt=A/ct,_t=d/ct;e.graph.emit(Ku,{value:[pt,_t]})}}),t.on("drop",function(c){if(e.dragging&&(e.dragging=!1,c.target.get("type")==="rect")){var d=e.startTickRectId,A=parseInt(c.target.get("name").split("-")[2],10);if(!(A<d)){var I=e.selectedTickStyle,F=e.tickRects;F[A].rect.attr(I),e.endTickRectId=A;var Z=F.length,rt=d/Z,lt=A/Z;e.graph.emit(Ku,{value:[rt,lt]})}}});var r=this,n=r.tooltipBackgroundColor,a=r.tooltipFomatter,o=r.canvas,s=new DE({container:o.get("container"),backgroundColor:n}),u=this.tickRects;u.forEach(function(c){var d=c.pickRect;d.on("mouseenter",function(A){var I=A.target;if(I.get("type")==="rect"){var F=parseInt(I.get("name").split("-")[2],10),Z=o.getClientByPoint(u[F].x,u[F].y);s.show({x:u[F].x,y:u[F].y,clientX:Z.x,clientY:Z.y,text:a?a(u[F].value):u[F].value})}}),d.on("mouseleave",function(A){s.hide()})});var l=this.group;l.on("".concat(mc,":click"),function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),l.on("".concat(Rd,":click"),function(){e.updateStartEnd(1)}),l.on("".concat(kd,":click"),function(){e.updateStartEnd(-1)}),l.on(rf,function(c){var d=c.type,A=c.speed;e.currentSpeed=A})},i.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(Xg,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(jg,null))},i.prototype.startPlay=function(){var e=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=e.currentSpeed;e.frameCount%(60/t)===0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())}):void 0},i.prototype.updateStartEnd=function(e){var t=this,r=this.tickRects,n=r.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(e>0?t.endTickRectId++:(r[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var u=t.startTickRectId;u<=t.endTickRectId-1;u++)r[u].rect.attr(a);t.startTickRectId=t.endTickRectId}if(r[t.endTickRectId]){r[t.endTickRectId].rect.attr(o);var l=t.startTickRectId/n,c=t.endTickRectId/n;this.graph.emit(Ku,{value:[l,c]})}},i.prototype.destory=function(){var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach(function(t){var r=t.pickRect;r.off("mouseenter"),r.off("mouseleave")}),this.tickRects.length=0,e.off("".concat(mc,":click")),e.off("".concat(Rd,":click")),e.off("".concat(kd,":click")),e.off(rf),this.sliceGroup.destroy()},i}(),kE=RE,BE=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Al=function(){return Al=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Al.apply(this,arguments)},FE=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t},zE=4,GE=26,UE=function(i){BE(e,i);function e(t){var r=i.call(this,t)||this;return r.afterrenderListener=function(n){return r.filterData({})},r.valueChangeListener=(0,f.throttle)(function(n){return r.filterData(n)},200,{trailing:!0,leading:!0}),r.changeData=function(n){var a=r.get("graph");r.cacheGraphData=a.get("data"),r.filterData({})},r}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},e.prototype.initContainer=function(){var t=this.get("graph"),r=this._cfgs,n=r.width,a=r.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),u=this.get("graph").get("container"),l;s?((0,f.isString)(s)&&(s=document.getElementById(s)),l=s):(l=ho("<div class='".concat(o,"'></div>")),Xa(l,{position:"relative"})),u.appendChild(l),this.set("timeBarContainer",l);var c,d=t.get("renderer");d==="SVG"?c=new Cd({container:l,width:n,height:a}):c=new _l({container:l,width:n,height:a}),this.get("containerCSS")&&Xa(l,this.get("containerCSS")),this.set("canvas",c)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas"),r=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",r),this.renderTrend(),this.initEvent();var n=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",n)},e.prototype.play=function(){this.togglePlay(!0)},e.prototype.pause=function(){this.togglePlay(!1)},e.prototype.togglePlay=function(t){var r=this.get("timebar");r&&(r.isPlay=!!t,r.changePlayStatus())},e.prototype.renderTrend=function(){var t=this,r=this._cfgs,n=r.width,a=r.x,o=r.y,s=r.padding,u=r.type,l=r.trend,c=r.slider,d=r.controllerCfg,A=r.textStyle,I=r.tick,F=r.backgroundStyle,Z=r.foregroundStyle,rt=l.data,lt=FE(l,["data"]),ct=n-2*s,pt=u==="trend"?GE:zE,_t=this.get("graph"),jt=this.get("timeBarGroup"),oe=this.get("canvas"),ie=null;if(u==="trend"||u==="simple"){var Ee=this.get("getValue");ie=new OE(Al(Al({graph:_t,canvas:oe,group:jt,type:u,x:a+s,y:u==="trend"?o+s:o+s+15,width:ct,height:pt,padding:s,backgroundStyle:F,foregroundStyle:Z,trendCfg:Al(Al({},lt),{data:rt.map(function(Ae){return(Ee==null?void 0:Ee(Ae))||Ae.value})})},c),{tick:{ticks:rt,tickLabelFormatter:I.tickLabelFormatter,tickLabelStyle:I.tickLabelStyle,tickLineStyle:I.tickLineStyle},handlerStyle:Al(Al({},c.handlerStyle),{height:c.height||pt}),controllerCfg:d,textStyle:A}))}else u==="tick"&&(ie=new kE(Al({graph:_t,canvas:oe,group:jt,x:a+s,y:o+s,width:n,height:42,padding:2,controllerCfg:d},I)));var Re=function Ae(){var He=t.get("timebar");He.draggingHandler=!1,He.isPlay&&(He.isPlay=!1,He.currentHandler=He.maxHandlerShape,He.changePlayStatus()),document.removeEventListener("mouseup",Ae)};oe.on("mousedown",function(Ae){(Ae.target.get("name")==="maxHandlerShape-handler"||Ae.target.get("name")==="minHandlerShape-handler"||Ae.target===ie.foregroundShape)&&document.addEventListener("mouseup",Re)}),this.set("timebar",ie)},e.prototype.filterData=function(t){var r,n=t.value;if(!n){n=[];var a=this._cfgs.type;!a||a==="trend"||a==="simple"?(n[0]=this._cfgs.slider.start,n[1]=this._cfgs.slider.end):a==="tick"&&(n[0]=this._cfgs.tick.start,n[1]=this._cfgs.tick.end)}var o=null,s=this._cfgs.type;if(s==="trend"||s==="simple"?o=this._cfgs.trend.data:s==="tick"&&(o=this._cfgs.tick.data),!o||o.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var u=this.get("rangeChange"),l=this.get("graph"),c=Math.round(o.length*n[0]),d=Math.round(o.length*n[1]);d=d>=o.length?o.length-1:d,c=c>=o.length?o.length-1:c;var A=(r=this._cfgs.tick)===null||r===void 0?void 0:r.tickLabelFormatter,I=A?A(o[c]):o[c].date,F=A?A(o[d]):o[d].date;if(s!=="tick"){var Z=this.get("timebar");Z.setText(I,F)}if(u)u(l,I,F);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=l.get("data"));var rt=this.get("filterItemTypes"),lt=this.get("changeData"),ct=this.get("getDate"),pt=this.get("shouldIgnore"),_t=o[c].date,jt=o[d].date;if(lt||lt===void 0){var oe=this.cacheGraphData.nodes,ie=this.cacheGraphData.edges,Ee={},Re={};l.getNodes().forEach(function(Ae){return Ee[Ae.getID()]=!0}),l.getEdges().forEach(function(Ae){return Re[Ae.getID()]=!0}),rt.includes("node")&&(oe.forEach(function(Ae){var He=+((ct==null?void 0:ct(Ae))||Ae.date),ur=He>=_t&&He<=jt||(pt==null?void 0:pt("node",Ae,{min:_t,max:jt})),tn=Ee[Ae.id];tn&&!ur?(l.removeItem(Ae.id),Ee[Ae.id]=!1):!tn&&ur&&(l.addItem("node",Ae),Ee[Ae.id]=!0)}),ie==null||ie.forEach(function(Ae){var He=Ee[Ae.source]&&Ee[Ae.target]||(pt==null?void 0:pt("edge",Ae,{min:_t,max:jt})),ur=!!l.findById(Ae.id);ur&&!He?(l.removeItem(Ae.id),Re[Ae.id]=!1):!ur&&He?(l.addItem("edge",Ae),Re[Ae.id]=!0):ur||(Re[Ae.id]=!1)})),(this.get("filterEdge")||rt.includes("edge"))&&(ie==null||ie.filter(function(Ae){var He=+((ct==null?void 0:ct(Ae))||Ae.date),ur=He>=_t&&He<=jt||(pt==null?void 0:pt("edge",Ae,{min:_t,max:jt})),tn=Ee[Ae.source]&&Ee[Ae.target],Tn=ur&&tn,pn=Re[Ae.id];pn&&!Tn?(Re[Ae.id]=!1,l.removeItem(Ae.id)):!pn&&Tn&&(Re[Ae.id]=!0,l.addItem("edge",Ae))}))}else rt.includes("node")&&l.getNodes().forEach(function(Ae){var He=Ae.getModel();if(!(pt!=null&&pt("node",He,{min:_t,max:jt}))){var ur=+((ct==null?void 0:ct(He))||He.date);ur<_t||ur>jt?l.hideItem(Ae):l.showItem(Ae)}}),(this.get("filterEdge")||rt.includes("edge"))&&l.getEdges().forEach(function(Ae){var He=Ae.getModel();if(!(pt!=null&&pt("edge",He,{min:o[c].date,max:o[d].date}))){var ur=+((ct==null?void 0:ct(He))||He.date);if(ur<o[c].date||ur>o[d].date)l.hideItem(Ae);else{var tn=Ae.getSource().isVisible(),Tn=Ae.getTarget().isVisible();tn&&Tn&&l.showItem(Ae)}}})}},e.prototype.initEvent=function(){var t=this.get("graph");t.on("afterchangedata",this.changeData),t.on("afterrender",this.afterrenderListener),t.on(Ku,this.valueChangeListener)},e.prototype.destroy=function(){var t=this.get("graph");t.off("afterchangedata",this.changeData),t.off("afterrender",this.afterrenderListener),t.off(Ku,this.valueChangeListener);var r=this.get("timebar");r&&r.destory&&r.destory(),i.prototype.destroy.call(this);var n=this.get("timeBarContainer");if(n){var a=this.get("container");a||(a=this.get("graph").get("container")),(0,f.isString)(a)&&(a=document.getElementById(a)),a.removeChild(n)}},e}(Cs),WE=UE,YE=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XE=ls.applyMatrix;function jE(i,e){var t,r;if(i.naturalWidth)t=i.naturalWidth,r=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){e&&e(n.width,n.height)}}return[t,r]}var VE=function(i){YE(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,r=this._cfgs,n=r.graph;if(!this.destroyed){var a=this.get("container");(0,f.isString)(a)&&(a=document.getElementById(a));var o=ho("<div class=".concat(r.viewportClassName,`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff;
        cursor:move'
      </div>`)),s=0,u=0,l=!1,c=0,d=0,A=0,I=0,F=0,Z=0;a.addEventListener("mousedown",function(rt){if(r.refresh=!1,rt.target===o){var lt=o.style;A=parseInt(lt.width,10),I=parseInt(lt.height,10);var ct=t.get("width"),pt=t.get("height");A>ct||I>pt||(Z=n.getZoom(),F=t.get("ratio"),l=!0,s=rt.clientX,u=rt.clientY)}},!1),a.addEventListener("mousemove",function(rt){if(!(!l||(0,f.isNil)(rt.clientX)||(0,f.isNil)(rt.clientY))){var lt=t.get("width"),ct=t.get("height"),pt=o.style;c=parseInt(pt.left,10),d=parseInt(pt.top,10),A=parseInt(pt.width,10),I=parseInt(pt.height,10);var _t=s-rt.clientX,jt=u-rt.clientY;c-_t<0?_t=c:c-_t+A>=lt&&(_t=0),d-jt<0?jt=d:d-jt+I>=ct&&(jt=0),c-=_t,d-=jt,Xa(o,{left:"".concat(c,"px"),top:"".concat(d,"px")}),n.translate(_t*Z/F,jt*Z/F),s=rt.clientX,u=rt.clientY}},!1),a.addEventListener("mouseleave",function(){l=!1,r.refresh=!0},!1),a.addEventListener("mouseup",function(){l=!1,r.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),r=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),u=o/s,l=a.getGroup(),c=l.getCanvasBBox(),d=[(c.minX+c.maxX)/2,(c.minY+c.maxY)/2],A=[c.maxX-c.minX,c.maxY-c.minY],I={centerX:d[0],centerY:d[1],width:0,height:0,minX:0,minY:0};c[0]/c[1]>u?(I.width=A[0],I.height=I.width/u):(I.height=A[1],I.width=I.height*u),I.minX=d[0]-I.width/2,I.minY=d[1]-I.height/2;var F=l.getMatrix();F||(F=[1,0,0,0,1,0,0,0,1]);var Z=q.invert([1,0,0,0,1,0,0,0,1],F),rt=XE({x:I.minX,y:I.minY},Z),lt=a.getCanvasByPoint(rt.x,rt.y),ct=this.get("viewport");ct||this.initViewport();var pt=o/I.width,_t=pt*r,jt=pt*n,oe=r*-lt.x/I.width,ie=n*-lt.y/I.height,Ee=oe+_t,Re=ie+jt;oe<0&&(_t+=oe,oe=0),Ee>r&&(_t=_t-(Ee-r)),ie<0&&(jt+=ie,ie=0),Re>n&&(jt=jt-(Re-n)),this.set("ratio",t);var Ae="".concat(oe,"px"),He="".concat(ie,"px");Xa(ct,{left:Ae,top:He,width:"".concat(_t,"px"),height:"".concat(jt,"px")})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this,r=t.get("graph"),n=r.get("width"),a=r.get("height"),o=a/n,s=t.get("className"),u=t.get("container"),l=t.get("width"),c=t.get("height");!l&&!c&&(l=200),l?(c=o*l,t.set("height",c)):(l=1/o*c,t.set("width",l));var d=ho("<div class='".concat(s,"' style='width: ").concat(l,"px; height: ").concat(c,"px; overflow: hidden; position: relative;'></div>"));(0,f.isString)(u)&&(u=document.getElementById(u)),u?u.appendChild(d):r.get("container").appendChild(d),t.set("container",d);var A=ho('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');d.appendChild(A);var I=ho('<span style="display: table-cell; vertical-align: middle; "></span>');A.appendChild(I),t.set("containerDOM",A),t.set("containerSpan",I);var F=ho('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));t.set("imgDOM",F),t.updateImgSize(),I.appendChild(F),t.updateCanvas()},e.prototype.updateImgSize=function(){var t=this,r=t.get("imgDOM"),n=t.get("width"),a=t.get("height");r.onload=function(){var o=jE(r);o[0]>o[1]?r.width=n:r.height=a}},e.prototype.updateCanvas=function(){var t=this.get("refresh");if(t){var r=this.get("graph");if(!r.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=r.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){var r=this,n=r.get("imgDOM");n.remove(),r.set("graphImg",t);var a=ho('<img alt="" src="'.concat(t,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));r.set("imgDOM",a),a.src=t,r.updateImgSize();var o=r.get("containerSpan");o.appendChild(a),r.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(Cs),HE=VE,ZE=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mv=function(){return mv=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},mv.apply(this,arguments)},KE=ls.distance,Kg=.05,$g={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},$E=function(i){ZE(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,f.clone)($g),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},e.prototype.init=function(){var t=this,r=t.get("showLabel"),n=r==="node"||r==="both",a=r==="edge"||r==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},e.prototype.createDelegate=function(t){var r=this,n=r.get("delegate");(!n||n.destroyed)&&(r.filter(t),n=r.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){r.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){r.scaleRByWheel(a)}))},e.prototype.scaleRByWheel=function(t){var r=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=r.get("graph"),a,o=r.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,u=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-Kg:a=1/(1-Kg);var l=r.get("maxR"),c=r.get("minR"),d=r.get("r");(d>(l||n.get("height"))&&a>1||d<(c||n.get("height")*.05)&&a<1)&&(a=1),d*=a,r.set("r",d),r.filter(t)}},e.prototype.filter=function(t){var r=this,n=r.get("graph"),a=n.getNodes(),o={},s=r.get("r"),u=r.get("type"),l={x:t.x,y:t.y};r.updateDelegate(l,s);var c=r.get("shouldShow"),d=r.get("vShapes");d&&d.forEach(function(lt){lt.remove(),lt.destroy()}),d=[],a.forEach(function(lt){var ct=lt.getModel(),pt=ct.x,_t=ct.y;KE({x:pt,y:_t},l)<s&&(o[ct.id]=lt)});var A=n.getEdges(),I=[];A.forEach(function(lt){var ct=lt.getModel(),pt=ct.source,_t=ct.target;c(ct)&&(u==="only-source"||u==="one"?o[pt]&&!o[_t]&&I.push(lt):u==="only-target"||u==="one"?o[_t]&&!o[pt]&&I.push(lt):u==="both"&&o[pt]&&o[_t]&&I.push(lt))});var F=r.get("showNodeLabel"),Z=r.get("showEdgelabel"),rt=n.get("group");I.forEach(function(lt){var ct=lt.get("group").get("children");ct.forEach(function(pt){var _t=pt.get("type"),jt=rt.addShape(_t,{attrs:pt.attr()});d.push(jt),F&&_t==="text"&&jt.set("visible",!0)})}),Object.keys(o).forEach(function(lt){var ct=o[lt],pt=ct.get("group").clone();if(rt.add(pt),d.push(pt),Z)for(var _t=pt.get("children"),jt=0;jt<_t.length;jt++){var oe=_t[jt];oe.get("type")==="text"&&oe.set("visible",!0)}}),r.set("vShapes",d)},e.prototype.updateParams=function(t){var r=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,u=t.scaleRBy,l=t.showLabel,c=t.shouldShow;if(isNaN(t.r)||r.set("r",n),isNaN(s)||r.set("maxR",s),isNaN(o)||r.set("minR",o),(a==="mousemove"||a==="click")&&r.set("trigger",a),u==="wheel"||u==="unset"){r.set("scaleRBy",u),r.get("delegate").remove(),r.get("delegate").destroy();var d=r.get("dPercentText");d&&(d.remove(),d.destroy())}(l==="node"||l==="both")&&r.set("showNodeLabel",!0),(l==="edge"||l==="both")&&r.set("showEdgeLabel",!0),c&&r.set("shouldShow",c)},e.prototype.updateDelegate=function(t,r){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),u=n.get("delegateStyle")||$g;o=s.addShape("circle",{attrs:mv({r,x:t.x,y:t.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(l){n.scaleRByWheel(l)})}else o.attr({x:t.x,y:t.y,r});n.set("delegate",o)},e.prototype.clear=function(){var t=this,r=t.get("vShapes");r&&r.forEach(function(a){a.remove(),a.destroy()}),r=[],t.set("vShapes",r);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Cs),QE=$E,qE=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JE=ls.pointLineDistance,tw={stroke:"#FA8C16",lineWidth:1},ew=function(i){qE(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{line:tw,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},e.prototype.init=function(){},e.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},e.prototype.onDragStart=function(){this.initBoxLine()},e.prototype.onDrag=function(t){var r=t.item,n=r.get("delegateShape")||r,a=n.getBBox(),o=r.getModel(),s=o.x-a.x,u=o.y-a.y;this.show({x:a.minX+s,y:a.minY+u},{width:a.width,height:a.height})},e.prototype.onDragEnd=function(){this.destory()},e.prototype.initBoxLine=function(){var t=this._cfgs,r=t.horizontalLines,n=t.verticalLines,a=t.itemAlignType,o=this.get("graph"),s=o.getNodes();s.forEach(function(u){var l=u.getBBox(),c=u.get("id");a===!0||a==="horizontal"?(r["".concat(c,"tltr")]=[l.minX,l.minY,l.maxX,l.minY,u],r["".concat(c,"lcrc")]=[l.minX,l.centerY,l.maxX,l.centerY,u],r["".concat(c,"blbr")]=[l.minX,l.maxY,l.maxX,l.maxY,u]):a==="center"&&(r["".concat(c,"lcrc")]=[l.minX,l.centerY,l.maxX,l.centerY,u]),a===!0||a==="vertical"?(n["".concat(c,"tlbl")]=[l.minX,l.minY,l.minX,l.maxY,u],n["".concat(c,"tcbc")]=[l.centerX,l.minY,l.centerX,l.maxY,u],n["".concat(c,"trbr")]=[l.maxX,l.minY,l.maxX,l.maxY,u]):a==="center"&&(n["".concat(c,"tcbc")]=[l.centerX,l.minY,l.centerX,l.maxY,u])})},e.prototype.show=function(t,r){var n=(0,f.mix)({},t);return this.itemAlign(t,r,n),t},e.prototype.itemAlign=function(t,r,n){var a=this,o=this._cfgs,s=o.horizontalLines,u=o.verticalLines,l=o.tolerance,c={x:n.x+r.width/2,y:n.y},d={x:n.x+r.width/2,y:n.y+r.height/2},A={x:n.x+r.width/2,y:n.y+r.height},I={x:n.x,y:n.y+r.height/2},F={x:n.x+r.width,y:n.y+r.height/2},Z=[],rt=[],lt=null;if(this.clearAlignLine(),(0,f.each)(s,function(pt){pt[4].isVisible&&(Z.push(a.getLineDisObject(pt,c)),Z.push(a.getLineDisObject(pt,d)),Z.push(a.getLineDisObject(pt,A)))}),(0,f.each)(u,function(pt){pt[4].isVisible&&(rt.push(a.getLineDisObject(pt,I)),rt.push(a.getLineDisObject(pt,d)),rt.push(a.getLineDisObject(pt,F)))}),Z.sort(function(pt,_t){return pt.dis-_t.dis}),rt.sort(function(pt,_t){return pt.dis-_t.dis}),Z.length!==0&&Z[0].dis<l){t.y=Z[0].line[1]-Z[0].point.y+n.y,lt={type:"item",horizontals:[Z[0]]};for(var ct=1;ct<3;ct++)Z[0].dis===Z[ct].dis&&lt.horizontals.push(Z[ct])}if(rt.length!==0&&rt[0].dis<l){t.x=rt[0].line[0]-rt[0].point.x+n.x,lt?lt.verticals=[rt[0]]:lt={type:"item",verticals:[rt[0]]};for(var ct=1;ct<3;ct++)rt[0].dis===rt[ct].dis&&lt.verticals.push(rt[ct])}lt&&(lt.bbox=r,this.addAlignLine(lt))},e.prototype.addAlignLine=function(t){var r=t.bbox,n=t.type,a=t.horizontals,o=t.verticals,s=this._cfgs,u=s.line,l=s.alignLines,c=this.get("graph"),d=c.get("group");n==="item"&&(a&&(0,f.each)(a,function(A){var I=A.line,F=A.point,Z=(I[0]+I[2])/2,rt,lt;F.x<Z?(rt=F.x-r.width/2,lt=Math.max(I[0],I[2])):(rt=F.x+r.width/2,lt=Math.min(I[0],I[2]));var ct=(0,f.mix)({x1:rt,y1:I[1],x2:lt,y2:I[1]},u),pt=d.addShape("line",{attrs:ct,capture:!1});l.push(pt)}),o&&(0,f.each)(o,function(A){var I=A.line,F=A.point,Z=(I[1]+I[3])/2,rt,lt;F.y<Z?(rt=F.y-r.height/2,lt=Math.max(I[1],I[3])):(rt=F.y+r.height/2,lt=Math.min(I[1],I[3]));var ct=(0,f.mix)({x1:I[0],y1:rt,x2:I[0],y2:lt},u),pt=d.addShape("line",{attrs:ct,capture:!1});l.push(pt)}))},e.prototype.getLineDisObject=function(t,r){return{line:t,point:r,dis:JE(t,r)}},e.prototype.getContainer=function(){return this.get("container")},e.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;(0,f.each)(t,function(r){r.remove()}),t.length=0},e.prototype.destory=function(){var t=this._cfgs,r=t.horizontalLines,n=t.verticalLines,a=this.get("graph"),o=a.getNodes();o.forEach(function(s){var u=s.get("id");delete r["".concat(u,"tltr")],delete r["".concat(u,"lcrc")],delete r["".concat(u,"blbr")],delete n["".concat(u,"tlbl")],delete n["".concat(u,"tcbc")],delete n["".concat(u,"trbr")]}),this.clearAlignLine()},e}(Cs),rw=ew,nw=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_o=function(){return _o=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},_o.apply(this,arguments)},aw=["click","mouseenter"],iw=function(i){nw(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},e.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var t=this.get("filter")||{},r=t.multiple;r&&t.trigger==="mouseenter"&&this.set("multiple",!1);var n=this.get("align");if(!n){var a=this.get("position").split("-");a.includes("left")&&(n="left"),a.includes("right")?n="right":n="center",this.set("align",n)}var o=this.get("graph"),s=o.get("container"),u=ho(`<div class='g6-legend-container' style="position: absolute;"></div>`);s.appendChild(u),this.set("container",u);var l=this.render();Xa(u,this.getContainerPos(l)),this.bindEvents()},e.prototype.getContainerPos=function(t){t===void 0&&(t=[0,0]);var r=this,n=r.get("graph"),a=this.get("offsetX"),o=this.get("offsetY"),s=this.get("margin"),u=this.get("position").split("-"),l={top:0,right:1,bottom:2,left:3},c=0,d=0,A={left:(n.getWidth()-t[0])/2+c,top:(n.getHeight()-t[1])/2+d};return u.forEach(function(I){var F=s[l[I]],Z=I;switch(I){case"top":F+=d;break;case"left":F+=c;break;case"bottom":F=n.getHeight()-t[1]-F+d,Z="top";break;default:F=n.getWidth()-t[0]-F+c,Z="left";break}A[Z]=F}),A.top+=o+n.getContainer().offsetTop,A.left+=a+n.getContainer().offsetLeft,Object.keys(A).forEach(function(I){A[I]="".concat(A[I],"px")}),A},e.prototype.bindEvents=function(){var t=this,r=t.get("filter");if(!(!r||!r.enable)){var n=r.trigger||"click";aw.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var a=t.get("legendCanvas");n==="mouseenter"?(a.on("node-container:mouseenter",function(o){return t.filterData(o)}),a.on("node-container:mouseleave",function(o){t.clearFilter(),t.clearActiveLegend()})):(a.on("node-container:click",function(o){return t.filterData(o)}),a.on("click",function(o){o.target&&o.target.isCanvas&&o.target.isCanvas()&&(t.clearFilter(),t.clearActiveLegend())}))}},e.prototype.changeData=function(t){this.set("data",t);var r=this.render();Xa(this.get("container"),this.getContainerPos(r))},e.prototype.activateLegend=function(t){var r=this.get("filter"),n=r==null?void 0:r.multiple;n||this.clearActiveLegend();var a=t.get("parent");a.get("active")?(a.set("active",!1),this.findLegendItemsByState("active").length&&a.set("inactive",!0)):(a.set("inactive",!1),a.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(d){d.set("inactive",!0)}):this.clearActiveLegend();var o=(r==null?void 0:r.legendStateStyles)||{},s=(o==null?void 0:o.inactive)||{opacity:.5,"text-shape":{opacity:.5}},u=s["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(d){var A=d.get("children"),I=A[0],F=A[1];I.attr(_o(_o({},I.get("oriAttrs")),s)),F.attr(_o(_o({},F.get("oriAttrs")),u))});var l=(o==null?void 0:o.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},c=l["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(d){var A=d.get("children"),I=A[0],F=A[1];I.attr(_o(_o({},I.get("oriAttrs")),l)),F.attr(_o(_o({},F.get("oriAttrs")),c))})},e.prototype.findLegendItemsByState=function(t,r,n){r===void 0&&(r="all"),n===void 0&&(n=!0);var a=this.get("legendCanvas").find(function(u){return u.get("name")==="root"}),o=a.find(function(u){return u.get("name")==="node-group"}),s=a.find(function(u){return u.get("name")==="edge-group"});return r==="node"?o.get("children").filter(function(u){return!!u.get(t)===n}):r==="edge"?s.get("children").filter(function(u){return!!u.get(t)===n}):o.get("children").filter(function(u){return!!u.get(t)===n}).concat(s.get("children").filter(function(u){return!!u.get(t)===n}))},e.prototype.clearActiveLegend=function(){var t=this.get("legendCanvas"),r=t.find(function(a){return a.get("name")==="root"}),n=[r.find(function(a){return a.get("name")==="node-group"}),r.find(function(a){return a.get("name")==="edge-group"})];n.forEach(function(a){a.get("children").forEach(function(o){o.set("active",!1),o.set("inactive",!1);var s=o.get("children"),u=s[0],l=s[1];u.attr(u.get("oriAttrs")),l.attr(l.get("oriAttrs"))})})},e.prototype.filterData=function(t){var r=this.get("filter"),n=r==null?void 0:r.filterFunctions;if(!(!r||!n)){var a=this.get("legendCanvas"),o=this.get("graph"),s=r.graphActiveState||"active",u=r.graphInactiveState||"inactive",l=r.multiple;this.clearFilter(),l||this.clearActiveLegend(),this.activateLegend(t.target);var c=a.find(function(lt){return lt.get("name")==="root"}),d=c.find(function(lt){return lt.get("name")==="node-group"}),A=c.find(function(lt){return lt.get("name")==="edge-group"}),I=d.get("children").filter(function(lt){return lt.get("active")}),F=A.get("children").filter(function(lt){return lt.get("active")}),Z=0,rt=["getNodes","getEdges"];rt.forEach(function(lt){o[lt]().forEach(function(ct){var pt=!1,_t=lt==="getNodes"?I:F;_t.forEach(function(jt){var oe=n[jt.get("id")];pt=pt||oe(ct.getModel())}),pt?(o.setItemState(ct,u,!1),o.setItemState(ct,s,!0),Z++):(o.setItemState(ct,s,!1),o.setItemState(ct,u,!0))})}),Z||rt.forEach(function(lt){o[lt]().forEach(function(ct){o.clearItemStates(ct,[u])})})}},e.prototype.clearFilter=function(){var t=this.get("graph"),r=this.get("filter");if(r){var n=r.graphActiveState||"active",a=r.graphInactiveState||"inactive";t.getNodes().forEach(function(o){t.clearItemStates(o,[n,a])}),t.getEdges().forEach(function(o){t.clearItemStates(o,[n,a])})}},e.prototype.render=function(){var t=this;this.processData();var r=this.get("legendCanvas");r?r.clear():r=new _l({container:this.get("container"),width:200,height:200});var n=r.addGroup({name:"root"}),a=n.addGroup({name:"node-group"}),o=n.addGroup({name:"edge-group"});this.set("legendCanvas",r);var s=this.get("itemsData"),u=["nodes","edges"],l=[a,o];u.forEach(function(Vr,Un){s[Vr].forEach(function(Rn){var Hr,hn=l[Un].addGroup({id:Rn.id,name:"node-container"}),An,On=Rn.type,jn=t.getShapeSize(Rn),ta=jn.width,ya=jn.height,La=jn.r,_i=t.getStyle(Vr.substr(0,4),Rn);switch(Rn.type){case"circle":An={r:La,x:0,y:0};break;case"rect":An={width:ta,height:ya,x:-ta/2,y:-ya/2};break;case"ellipse":An={rx:ta,ry:ya,x:0,y:0},On="ellipse";break;case"line":An={x1:-ta/2,y1:0,x2:ta/2,y2:0},On="line";break;case"quadratic":An={path:[["M",-ta/2,0],["Q",0,ta/2,ta/2,0]]},On="path";break;case"cubic":An={path:[["M",-ta/2,0],["C",-ta/6,ta/2,ta/6,-ta/2,ta/2,0]]},On="path";break;case"diamond":An={path:[["M",0,-ya],["L",ta,0],["L",0,ya],["L",-ta,0],["Z"]]},On="path";break;case"triangle":An={path:[["M",-ta,ya],["L",0,-ya],["L",ta,ya],["Z"]]},On="path";break;case"star":An={path:ls.getStarPath(La*3,La*1.2)},On="path";break;default:An={r:La,x:0,y:0};break}var ii=hn.addShape(On,{attrs:_o(_o({},An),_i),name:"".concat(Rn.type,"-node-keyShape"),oriAttrs:_o({opacity:1},_i)});if(Rn.label){var Ci=ii.getBBox(),Li=((Hr=Rn.labelCfg)===null||Hr===void 0?void 0:Hr.style)||{},oo=_o({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},Li);hn.addShape("text",{attrs:_o({x:Ci.maxX+4,y:0,text:Rn.label},oo),className:"legend-label",name:"".concat(Rn.type,"-node-text"),oriAttrs:oo})}})});var c=this.get("padding"),d,A=n.find(function(Vr){return Vr.get("name")==="title-container"}),I={height:0,maxY:0,width:0};if(this.get("title")){A||(A=n.addGroup({name:"title-container"}));var F={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:c[0]},Z=this.get("titleConfig")||{},rt=Object.assign(F,Z.style||{});d=A.addShape("text",{attrs:_o({text:this.get("title")},rt)}),I=A.getCanvasBBox(),A.setMatrix([1,0,0,0,1,0,Z.offsetX,Z.offsetY,1])}this.layoutItems();var lt=n.getCanvasBBox(),ct=a.getCanvasBBox(),pt=ct.minX<0?Math.abs(ct.minX)+c[3]:c[3],_t=I.maxY<ct.minY?Math.abs(I.maxY-ct.minY)+c[0]:I.maxY+c[0],jt=[1,0,0,0,1,0,pt,_t,1];a.setMatrix(jt),lt=n.getCanvasBBox();var oe=[lt.minX+lt.width+c[1],lt.minY+lt.height+c[2]];if(d){var Z=_o({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));I=A.getCanvasBBox();var ie=A.getMatrix()||[1,0,0,0,1,0,0,0,1];Z.position==="center"?ie[6]=oe[0]/2+Z.offsetX:Z.position==="right"?(ie[6]=oe[0]-c[3]+Z.offsetX,d.attr({textAlign:"right"})):(ie[6]=c[3]+Z.offsetX,d.attr({textAlign:"left"})),A.setMatrix(ie),I=A.getCanvasBBox(),pt=ct.minX<0?Math.abs(ct.minX)+c[3]:c[3],_t=ct.minY<I.maxY?Math.abs(I.maxY-ct.minY)+c[0]:I.maxY+c[0],jt=[1,0,0,0,1,0,pt,_t,1],a.setMatrix(jt);var Ee=[1,0,0,0,1,0,pt,_t,1];this.get("layout")==="vertical"?Ee[6]+=ct.maxX+this.get("horiSep"):Ee[7]+=ct.maxY+this.get("vertiSep"),o.setMatrix(Ee)}else{ct=a.getCanvasBBox();var Re=[1,0,0,0,1,0,0,0,1];this.get("layout")==="vertical"?Re[6]+=jt[6]+ct.maxX+this.get("horiSep"):Re[7]+=jt[7]+ct.maxY+this.get("vertiSep"),o.setMatrix(Re)}lt=n.getCanvasBBox(),ct=a.getCanvasBBox(),jt=a.getMatrix()||[1,0,0,0,1,0,0,0,1];var Ae=o.getMatrix()||[1,0,0,0,1,0,0,0,1],He=o.getCanvasBBox();oe=[Math.max(ct.width+jt[6],He.width+Ae[6])+c[1],Math.max(ct.height+jt[7],He.height+Ae[7])+c[2]],r.changeSize(oe[0],oe[1]);var ur=this.get("containerStyle"),tn=n.getMatrix()||[1,0,0,0,1,0,0,0,1],Tn=ls.invertMatrix({x:0,y:0},tn),pn=n.addShape("rect",{attrs:_o({x:Tn.x+(ur.lineWidth||1),y:Tn.y+(ur.lineWidth||1),width:oe[0]-2*(ur.lineWidth||1),height:oe[1]-2*(ur.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},ur),name:"legend-back-rect",capture:!1});return pn.toBack(),oe},e.prototype.layoutItems=function(){var t=this.get("legendCanvas"),r=this.get("horiSep"),n=this.get("vertiSep"),a=this.get("layout"),o=this.get("align"),s=[0,0],u=t.find(function(_t){return _t.get("name")==="root"}),l=u.find(function(_t){return _t.get("name")==="node-group"}),c=u.find(function(_t){return _t.get("name")==="edge-group"}),d={min:0,max:-1/0},A=-1/0;l.get("children").forEach(function(_t,jt){jt===0&&(d.min=s[0]);var oe=_t.get("children")[0],ie=_t.getCanvasBBox(),Ee=oe.getBBox(),Re=Ee.width,Ae=Ee.height,He=0,ur=0,tn=0;a==="vertical"?(ur=s[1],tn=s[0]+Re/2,s[0]=tn+ie.height+n,He=ie.maxX+ur+Re/2):(ur=s[0]+Re/2,tn=s[1],s[0]=ur+ie.width+r,He=ie.maxY+tn+Ae/2),s[0]>d.max&&(d.max=s[0]),He>A&&(A=He),_t.setMatrix([1,0,0,0,1,0,ur,tn,1])});var I=d.max-d.min,F={min:0,max:-1/0},Z=l.getCanvasBBox();s[0]=0,s[1]=a==="vertical"?Z.maxX+r:Z.maxY+n,c.get("children").forEach(function(_t,jt){jt===0&&(F.min=s[0]);var oe=_t.get("children")[0],ie=_t.getCanvasBBox(),Ee=oe.getBBox(),Re=Ee.width,Ae=Ee.height,He=0,ur=0;a==="vertical"?(He=s[1],ur=s[0],s[0]=ur+ie.height+n,_t.setMatrix([1,0,0,0,1,0,0,ur+Ae/2,1])):(He=s[0],ur=s[1],s[0]=He+ie.width+r,_t.setMatrix([1,0,0,0,1,0,He+Re/2,0,1])),s[0]>F.max&&(F.max=s[0])});var rt=F.max-F.min;if(o&&o!==""&&o!=="left"){var lt=I-rt,ct=o==="center"?Math.abs(lt)/2:Math.abs(lt),pt=lt<0?l:c;pt.get("children").forEach(function(_t){var jt=_t.getMatrix()||[1,0,0,0,1,0,0,0,1];a==="vertical"?jt[7]+=ct:jt[6]+=ct,_t.setMatrix(jt)})}},e.prototype.processData=function(){var t=this.get("data"),r={nodes:[],edges:[]};t.nodes&&(t.nodes.sort(function(n,a){return n.order-a.order}),t.nodes.forEach(function(n){var a,o,s,u,l,c=n.size||[((a=n.style)===null||a===void 0?void 0:a.width)||((o=n.style)===null||o===void 0?void 0:o.r)||8,((s=n.style)===null||s===void 0?void 0:s.height)||((u=n.style)===null||u===void 0?void 0:u.r)||8],d=((l=n.labelCfg)===null||l===void 0?void 0:l.style)||{};r.nodes.push({id:n.id||(0,f.uniqueId)(),type:n.type||"circle",style:_o({},n.style),order:n.order,label:n.label,itemType:"node",size:c,labelCfg:{position:"right",style:_o({fontFamily:"Arial"},d)}})})),t.edges&&(t.edges.sort(function(n,a){return n.order-a.order}),t.edges.forEach(function(n){var a,o,s=n.type||"line";n.type==="cubic-horizontal"&&(s="cubic");var u=((a=n.labelCfg)===null||a===void 0?void 0:a.style)||{},l=n.size||[((o=n.style)===null||o===void 0?void 0:o.width)||8,1];r.edges.push({id:n.id||(0,f.uniqueId)(),type:s,size:l,style:_o({lineWidth:(0,f.isArray)(l)?l[1]:1},n.style),order:n.order,label:n.label,itemType:"edge",labelCfg:{position:"right",style:_o({fontFamily:"Arial"},u)}})})),this.set("itemsData",r)},e.prototype.getContainer=function(){return this.get("container")},e.prototype.formatArray=function(t){var r=this.get(t);if((0,f.isNumber)(r))this.set(t,[r,r,r,r]);else if((0,f.isArray)(r))switch(r.length){case 0:this.set(t,[0,0,0,0]);break;case 1:this.set(t,[r[0],r[0],r[0],r[0]]);break;case 2:this.set(t,[r[0],r[1],r[0],r[1]]);break;case 3:this.set(t,[r[0],r[1],r[2],r[1]]);break;default:break}return this.get(t)},e.prototype.getShapeSize=function(t){var r,n,a;return t.size&&((0,f.isArray)(t.size)?(r=t.size[0],n=t.size[1]||t.size[0],a=t.size[0]/2):(0,f.isNumber)(t.size)&&(r=t.size,n=t.size,a=t.size/2)),t.style&&(t.style.width&&(r=t.style.width),t.style.height&&(n=t.style.height),t.style.r&&(a=t.style.r)),a||(a=5),r||(r=a),n||(n=a),{width:r,height:n,r:a}},e.prototype.getStyle=function(t,r){var n=t==="node"?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1};return _o(_o({},n),r.style||{})},e.prototype.destroy=function(){var t=this.get("legendCanvas");t==null||t.destroy();var r=this.get("graph"),n=r.get("container"),a=this.get("container");n.removeChild(a)},e}(Cs),ow=iw,sw=function(){var i=function(t,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},i(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Js=function(){return Js=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Js.apply(this,arguments)},Qg=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t};typeof document!="undefined"&&ch()(`
  .g6-annotation-container {
    background-color: rgba(255, 255, 255, 0.3);
    padding: 8px;
  }
  .g6-annotation-wrapper {
    background-color: #fff;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.85);
  }
  .g6-annotation-header-wapper {
    height: fit-content;
    width: 100%;
    background-color: #5B8FF9;
    display: inline-flex;
    cursor: move;
  }
  .g6-annotation-title {
    margin: 4px 40px 4px 8px;
    cursor: text;
    min-width: 32px;
  }
  .g6-annotation-collapse {
    margin: 4px;
    cursor: pointer;
  }
  .g6-annotation-expand {
    margin: 4px;
    cursor: pointer;
  }
  .g6-annotation-close {
    margin: 4px 8px 4px 0;
    cursor: pointer;
  }
  .g6-annotation-content {
    padding: 8px;
    width: fit-content;
    cursor: text;
    word-break: break-all;
    min-width: 32px;
  }
  .g6-annotation-title-input-wrapper {
    margin: 4px 40px 4px 8px;
  }
  .g6-annotation-content-input {
    height: 100%;
    word-break: break-all;
  }
  .g6-annotation-content-input-wrapper {
    margin: 8px;
    height: 100%;
  }
`);var qg="canvas-annotation",uw=function(i){sw(e,i);function e(t){return i.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{trigger:"click",editable:!0,itemHighlightState:"highlight",linkHighlightStyle:{shadowColor:"#5B8FF9",shadowBlur:10},cardCfg:{minHeight:60,width:"fit-content",height:"fit-content",collapseType:"minimize",closeType:"hide",borderRadius:5,maxTitleLength:20}}},e.prototype.getEvents=function(){var t={viewportchange:"updateLinks",afterlayout:"updateLinks",aftergraphrefreshposition:"updateLinks",afterupdateitem:"updateLink",afterchangedata:"onGraphDataChange",afteritemvisibilitychange:"onGraphItemVisibilityChange"};switch(this.get("trigger")){case"click":t=Js(Js({},t),{"node:click":"showAnnotation","edge:click":"showAnnotation"})}return t},e.prototype.getDOMContent=function(t){if(!this.destroyed){var r=t.collapsed,n=t.maxWidth,a=t.title,o=a===void 0?"":a,s=t.content,u=s===void 0?"":s,l=t.borderRadius,c=l===void 0?5:l,d=r?"<p class='g6-annotation-expand'>+</p>":"<p class='g6-annotation-collapse'>-</p>",A=r?"":" <p class='g6-annotation-content'>".concat(u,"</p>"),I="<p class='g6-annotation-close'>x</p>",F=r?"".concat(c,"px"):"".concat(c,"px ").concat(c,"px 0 0");return'<div class="g6-annotation-wrapper" style="border-radius: '.concat(c,"px; max-width: ").concat(n,`px">
        <div
          class="g6-annotation-header-wapper"
          style="border-radius: `).concat(F,`;"
        >
          <h4 class='g6-annotation-title'>`).concat(o,`</h4>
          `).concat(d,`
          `).concat(I,`
        </div>
        `).concat(A,`
      </div>`)}},e.prototype.init=function(){var t=this;if(!t.destroyed){var r=t.get("graph"),n=r.getContainer(),a=t.get("container"),o=this.get("containerCfg");o?(a=this.createContainer(),n.appendChild(a)):a=n,this.set("container",a);var s=n.getBoundingClientRect(),u=new _l({container:n,width:s.right-s.left,height:s.bottom-s.top});Xa(u.get("el"),{position:"absolute",top:0,left:0,pointerEvents:"none"}),window.addEventListener("resize",(0,f.debounce)(function(){return t.resizeCanvas(t)},100));var l=u.addGroup({id:"annotation-link-group"});t.set("linkGroup",l),t.set("canvas",u),t.get("getTitle")||t.set("getTitle",function(d){var A,I=((A=d==null?void 0:d.getModel)===null||A===void 0?void 0:A.call(d))||{},F=I.label,Z=I.id;return F||Z||"-"}),t.get("getContent")||t.set("getContent",function(d){var A,I;if(!d)return"-";var F=((A=d.getModel)===null||A===void 0?void 0:A.call(d))||{},Z=F.label,rt=F.id,lt=(I=d.getType)===null||I===void 0?void 0:I.call(d),ct=lt?"".concat(lt,": "):"";return"".concat(ct).concat(Z||rt||"")});var c=t.get("defaultData");c&&this.readData(c)}},e.prototype.createContainer=function(){var t=this;if(!this.destroyed){var r=this.get("containerCfg"),n=this.get("graph"),a=n.getContainer(),o=a.getBoundingClientRect(),s=o.left,u=o.right,l=o.top,c=o.bottom,d=c-l,A=u-s,I=r.position,F=I===void 0?"top":I,Z=r.offsetX,rt=Z===void 0?0:Z,lt=r.offsetY,ct=lt===void 0?0:lt,pt=Qg(r,["position","offsetX","offsetY"]),_t=r.height,jt=_t===void 0?"fit-content":_t,oe=r.width,ie=oe===void 0?n.getWidth():oe;jt==="100%"&&(jt=d),ie==="100%"&&(ie=A);var Ee="unset",Re="unset",Ae={};switch(F){case"right":Ee="".concat(d,"px"),Ae={top:0,right:0},Ae.right+=s+rt,Ae.top+=l+ct;break;case"bottom":Re="".concat(A,"px"),Ae={bottom:0,left:0},Ae.left+=s+rt,Ae.bottom+=l+ct;break;case"top":Re="".concat(A,"px");case"left":Ee="".concat(d,"px");default:Ae={top:0,left:0},Ae.left+=s+rt,Ae.top+=l+ct;break}Object.keys(Ae).forEach(function(ur){Ae[ur]="".concat(Ae[ur],"px")});var He=ho("<div class='".concat(r.className," g6-annotation-container'></div>"));return Xa(He,Js(Js({position:"absolute",display:F==="top"||F==="bottom"?"inline-flex":"unset",width:(0,f.isNumber)(ie)?"".concat(ie,"px"):ie,height:(0,f.isNumber)(jt)?"".concat(jt,"px"):jt,maxHeight:Ee,maxWidth:Re,overflow:"scroll"},Ae),pt)),a.appendChild(He),He.addEventListener("scroll",function(ur){t.updateLinks()}),He}},e.prototype.resizeCanvas=function(t){clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){if(!(!t||t.destroyed)){var r=t.get("container").getBoundingClientRect(),n=r.right-r.left,a=r.bottom-r.top;t.get("canvas").changeSize(n,a),t.updateOutsideCards(t)}},250)},e.prototype.updateOutsideCards=function(t){var r=t||this,n=r.get("cardInfoMap")||{},a=r.get("graph"),o=a.getPointByCanvas(0,0),s=a.getPointByCanvas(a.getWidth(),a.getHeight()),u=a.getClientByPoint(o.x,o.y),l=u.x,c=u.y,d=a.getClientByPoint(s.x,s.y),A=d.x,I=d.y;Object.values(n).forEach(function(F){var Z=F.card;if(Z){var rt=Z.style,lt=nf(rt.left),ct=nf(rt.top),pt=Z.getBoundingClientRect(),_t=pt.width,jt=pt.height,oe=lt,ie=ct;lt+_t>A-l&&(oe=A-l-_t),lt<0&&(oe=0),ct+jt>I-c&&(ie=I-c-jt),ct<0&&(ie=0),Xa(Z,{left:"".concat(oe,"px"),top:"".concat(ie,"px")})}}),r.updateLinks()},e.prototype.showAnnotation=function(t){if(!this.destroyed){var r=t.item;this.toggleAnnotation(r)}},e.prototype.hideCards=function(){var t=this;if(!t.destroyed){var r=t.get("cardInfoMap")||{};Object.keys(r).forEach(function(n){t.hideCard(n)})}},e.prototype.toggleAnnotation=function(t,r){var n,a;r===void 0&&(r={});var o=this;if(!o.destroyed){var s=o.get("cardInfoMap")||{},u=o.get("graph"),l=o.get("container"),c=o.get("containerCfg"),d=Object.assign({},o.get("cardCfg")||{},r),A=d.minHeight,I=d.minWidth,F=d.width,Z=d.height,rt=d.collapsed,lt=rt===void 0?!1:rt,ct=d.x,pt=d.y,_t=d.title,jt=d.content,oe=d.maxTitleLength,ie=d.defaultBegin,Ee=Qg(d,["minHeight","minWidth","width","height","collapsed","x","y","title","content","maxTitleLength","defaultBegin"]),Re=o.get("linkGroup"),Ae=this.get("rows")||[[]],He=(n=t.isCanvas)===null||n===void 0?void 0:n.call(t),ur=He?qg:t.getID(),tn=s[ur]||{},Tn=tn.card,pn=tn.link,Vr=tn.x,Un=tn.y,Rn=tn.title,Hr=tn.content,hn=this.get("getTitle"),An=this.get("getContent"),On=this.get("getContentPlaceholder")||function(){return""},jn=this.get("getTitlePlaceHolder")||function(){return""},ta=On(t),ya=jn(t),La=ho(this.getDOMContent(Js({itemId:ur,collapsed:lt,title:((a=Rn||_t||(hn==null?void 0:hn(t)))===null||a===void 0?void 0:a.substr(0,oe))||ya,content:Hr||jt||(An==null?void 0:An(t))||ta},Ee))),_i=(0,f.isNumber)(A)?"".concat(A,"px"):A;Xa(La,{minHeight:lt?"unset":_i,minWidth:(0,f.isNumber)(I)?"".concat(I,"px"):I,height:Z,width:F});var ii=!!Tn;ii?(pn==null||pn.remove(!0),l.replaceChild(La,Tn)):l.appendChild(La);var Ci;if(!c){if(Ci=l.getBoundingClientRect()||{},ct!==void 0&&pt!==void 0)Vr=ct,Un=pt;else if(!ii&&!He){var Li=Ci.top,oo=ie||{},Vi=oo.left,tu=oo.right,Vo=tu===void 0?16:tu,eu=oo.top,Ho=eu===void 0?8:eu,Zo=oo.bottom,zs=Vo,as=Ho;isNaN(Vi)||(zs=l.scrollWidth-Vi),isNaN(Zo)||(as=l.scrollHeight-Zo);var ys=(0,f.isNumber)(I)?I:100;Vr=l.scrollWidth-La.scrollWidth-(Ae.length-1)*ys-zs;var ja=Ae[Ae.length-1],Ei=(ja[ja.length-1]||{}).bbox;Un=(Ei==null?void 0:Ei.bottom)-Li||as}Xa(La,{position:"absolute",left:"".concat(Vr,"px"),top:"".concat(Un,"px"),cusor:c?"unset":"move"})}this.bindListener(La,ur);var Ga=La.getBoundingClientRect();if(!He){var wi=yv(t,Ga,u,this.get("canvas")),Bi=this.get("linkStyle");pn=Re.addShape("path",{attrs:Js({lineWidth:1,lineDash:[5,5],stroke:"#ccc",path:wi},Bi)})}if(s[ur]=Js(Js({},s[ur]||{}),{id:ur,collapsed:lt,card:La,link:pn,x:Vr,y:Un,cardBBox:Ga,content:Hr||jt,title:Rn||_t,contentPlaceholder:ta,titlePlaceholder:ya,isCanvas:He}),o.set("cardInfoMap",s),c)this.updateCardPositionsInConatainer(),this.updateLinks();else{var fa=!isNaN(ct)&&!isNaN(pt);if(!ii&&!He&&!fa){var $a=Ci.bottom,Ja=$a===void 0?0:$a,Li=Ci.top;Ae[Ae.length-1].push({id:ur,bbox:Ga}),Ga.top>Ja-Li-Ga.height-16&&Ae.push([]),this.set("rows",Ae)}}this.updateCardSize(ur);var Fi=this.get("onAnnotationChange");Fi==null||Fi(s[ur],ii?"update":"create")}},e.prototype.updateCardPositionsInConatainer=function(){if(!this.destroyed){var t=this.get("cardInfoMap");if(t){var r=this.get("container"),n=this.get("containerCfg").position,a=r.getBoundingClientRect().width,o=getComputedStyle(r),s=nf(o.paddingLeft)+nf(o.paddingRight);a-=s,Object.values(t).forEach(function(u){var l=u.card,c=l.getBoundingClientRect().width;switch(n){case"right":Xa(l,{marginLeft:a?"".concat(a-c,"px"):"0px"});break;case"top":case"bottom":Xa(l,{marginLeft:"8px"});default:break}})}}},e.prototype.handleExpandCollapseCard=function(t){if(!this.destroyed){var r=this.get("graph"),n=this.get("cardInfoMap");if(n){var a=n[t].collapsed,o=r.findById(t);if(o){var s=this.get("cardCfg").collapseType;s==="hide"&&!a?this.hideCard(t):this.toggleAnnotation(o,{collapsed:!a}),n[t]=Js(Js({},n[t]),{collapsed:!a})}}}},e.prototype.hideCard=function(t){if(!this.destroyed){var r=this.get("cardInfoMap");if(!(!r||!r[t])){var n=r[t],a=n.card,o=n.link;Xa(a,{display:"none"}),o==null||o.hide();var s=this.get("onAnnotationChange");s(r[t],"hide")}}},e.prototype.removeCard=function(t){if(!this.destroyed){var r=this.get("cardInfoMap");if(r){var n=r[t],a=n.card,o=n.link,s=this.get("container");s.removeChild(a),o==null||o.remove(!0),delete r[t];var u=this.get("onAnnotationChange");u(n,"remove")}}},e.prototype.bindListener=function(t,r){var n=this;if(!this.destroyed){t.addEventListener("mousemove",function(u){var l;if(u.target.className==="g6-annotation-collapse"?l="collapse":u.target.className==="g6-annotation-expand"?l="expand":u.target.className==="g6-annotation-close"&&(l="close"),l){var c=n.get("cardCfg").onMouseEnterIcon,d=c===void 0?function(){}:c;d(u,r,l)}}),t.addEventListener("mouseout",function(u){var l;if(u.target.className==="g6-annotation-collapse"?l="collapse":u.target.className==="g6-annotation-expand"?l="expand":u.target.className==="g6-annotation-close"&&(l="close"),l){var c=n.get("cardCfg").onMouseLeaveIcon,d=c===void 0?function(){}:c;d(u,r,l)}}),t.addEventListener("mouseenter",function(u){var l=n.get("cardInfoMap");if(l){var c=n.get("graph"),d=c.findById(r);if(d){var A=n.get("itemHighlightState");c.setItemState(d,A,!0)}var I=l[r].link;if(I){var F=n.get("linkHighlightStyle")||{};I.attr(F)}}}),t.addEventListener("mouseleave",function(u){var l=n.get("cardInfoMap");if(l){var c=n.get("graph"),d=c.findById(r);if(d){var A=n.get("itemHighlightState");c.setItemState(d,A,!1)}var I=l[r].link;if(I){var F=n.get("linkHighlightStyle")||{};Object.keys(F).forEach(function(rt){I.attr(rt,void 0),I.attr(rt,void 0)});var Z=n.get("linkStyle");I.attr(Z)}}}),t.addEventListener("click",function(u){var l=(n.get("cardCfg")||{}).onClickIcon;if(u.target.className==="g6-annotation-collapse"||u.target.className==="g6-annotation-expand"){var c=n.get("cardCfg").collapseType;c==="hide"?n.hideCard(r):n.handleExpandCollapseCard(r),l==null||l(u,r,u.target.className==="g6-annotation-collapse"?"collapse":"expand")}else if(u.target.className==="g6-annotation-close"){var d=n.get("cardCfg").closeType;d==="remove"?n.removeCard(r):n.hideCard(r),l==null||l(u,r,"close")}});var a=this.get("editable");a&&t.addEventListener("dblclick",function(u){var l=n.get("cardInfoMap"),c=(n.get("cardCfg")||{}).maxTitleLength,d=c===void 0?20:c;if(l){var A=u.target,I=A.className;if(!(I!=="g6-annotation-title"&&I!=="g6-annotation-content")){var F=I==="g6-annotation-title"?A.getBoundingClientRect():A.parentNode.getBoundingClientRect(),Z=F.width,rt=F.height,lt=getComputedStyle(A),ct=I==="g6-annotation-title"?"input":"textarea",pt=ho("<".concat(ct,' class="').concat(I,'-input" type="textarea" style="width:').concat(Z,"px; height: ").concat(rt,'px; min-width: 16px;"/>')),_t=ho('<div class="'.concat(I,'-input-wrapper" style="width: ').concat(Z,"px; height: ").concat(rt,"px; min-width: 16px; margin-right: ").concat(lt.marginRight,'" />'));_t.appendChild(pt),A.parentNode.replaceChild(_t,A);var jt=l[r],oe=jt.contentPlaceholder,ie=jt.titlePlaceholder,Ee=jt.content,Re=jt.title,Ae=Ee;I==="g6-annotation-title"?(pt.name="title",pt.maxLength=d,Ae=Re):pt.name="content",Ae?(pt.innerHTML=A.innerHTML,pt.value=A.innerHTML):pt.placeholder=I==="g6-annotation-title"?ie:oe,pt.focus(),pt.addEventListener("blur",function(He){pt.value&&(A.innerHTML=pt.value,jt[pt.name||"title"]=pt.value),_t.parentNode.replaceChild(A,_t),n.updateCardSize(r);var ur=n.get("onAnnotationChange");ur==null||ur(jt,"update")})}}});var o=["g6-annotation-title","g6-annotation-content","g6-annotation-title-input","g6-annotation-content-input"];t.draggable=!0,t.addEventListener("dragstart",function(u){var l=u.target.className;if(!o.includes(l)){var c=t.style;n.set("dragging",{card:t,x:u.clientX,y:u.clientY,left:nf(c.left),top:nf(c.top)})}}),t.addEventListener("drag",function(u){u.preventDefault();var l=n.get("cardInfoMap");if(l){var c=u.clientX,d=u.clientY,A=n.get("dragging");if(!(isNaN(c)||isNaN(d)||!A)){var I=A.x,F=A.y,Z=A.left,rt=A.top,lt=A.card,ct=c-I,pt=d-F;Z+=ct,rt+=pt;var _t=n.get("graph"),jt=_t.getPointByCanvas(0,0),oe=_t.getPointByCanvas(_t.getWidth(),_t.getHeight()),ie=_t.getClientByPoint(jt.x,jt.y),Ee=ie.x,Re=ie.y,Ae=_t.getClientByPoint(oe.x,oe.y),He=Ae.x,ur=Ae.y,tn=lt.getBoundingClientRect(),Tn=tn.right-tn.left,pn=tn.bottom-tn.top;(Z>He-Ee-Tn&&ct>0||Z<0&&ct<0)&&(Z-=ct),(rt>ur-Re-pn&&pt>0||rt<0&&pt<0)&&(rt-=pt),Xa(lt,{left:"".concat(Z,"px"),top:"".concat(rt,"px"),visibility:"hidden"}),I=c,F=d;var Vr=(l[r]||{}).link;if(Vr){var Un=_t.findById(r);Vr.attr("path",yv(Un,tn,_t,n.get("canvas")))}n.set("dragging",{x:I,y:F,left:Z,top:rt,card:lt})}}});var s=function(l){var c=n.get("cardInfoMap");if(c){var d=n.get("dragging");if(d){var A=d.left,I=d.top,F=d.card;c[r].x=A,c[r].y=I,Xa(F,{visibility:"visible"}),n.set("dragging",!1);var Z=n.get("rows");Z==null||Z.forEach(function(lt){for(var ct=lt.length-1;ct>=0;ct--)lt[ct].id===r&&lt.splice(ct,1)});var rt=n.get("onAnnotationChange");rt==null||rt(c[r],"update")}}};t.addEventListener("dragend",s)}},e.prototype.updateCardSize=function(t){var r=this.get("cardInfoMap");if(r){var n=r[t].card,a=n.getBoundingClientRect().width,o=n.getElementsByClassName("g6-annotation-title")[0];if(o){var s=getComputedStyle(o),u=nf(s.marginLeft),l=o.getBoundingClientRect().width;Xa(o,{marginRight:"".concat(a-u-24-16-l,"px")})}}},e.prototype.updateLink=function(t){var r=t.item;if(r){var n=this.get("cardInfoMap");if(n){var a=this.get("canvas"),o=this.get("graph"),s=r.getID(),u=n[s]||{},l=u.link,c=u.card;if(l){var d=yv(r,c.getBoundingClientRect(),o,a);l.attr("path",d)}}}},e.prototype.updateLinks=function(){var t=this;if(!this.destroyed){var r=this.get("cardInfoMap");if(r){var n=this.get("graph");Object.values(r).forEach(function(a){var o=a.id,s=n.findById(o);t.updateLink({item:s})})}}},e.prototype.onGraphDataChange=function(){var t=this,r=this.get("cardInfoMap");if(r){var n=this.get("graph");Object.values(r).forEach(function(a){var o=a.id,s=a.card,u=a.isCanvas;if(!(!s||u||s.style.display==="none")){var l=n.findById(o);l&&l.isVisible()?t.toggleAnnotation(l):t.hideCard(o)}})}},e.prototype.onGraphItemVisibilityChange=function(t){var r=t.item,n=t.visible;if(!(!r||r.destroyed)){var a=this.get("cardInfoMap");if(a){var o=r.getID();a[o]&&(n||this.hideCard(o))}}},e.prototype.saveData=function(t){t===void 0&&(t=!1);var r=this.get("cardInfoMap");if(r){var n=this.get("graph"),a=this.get("getTitle"),o=this.get("getContent"),s=[];return Object.values(r).forEach(function(u){var l=u.title,c=u.content,d=u.x,A=u.y,I=u.id,F=u.collapsed,Z=u.card;if(!(Z&&Z.style.display==="none"&&!t)){var rt=n.findById(I)||n.get("canvas");s.push({id:I,x:d,y:A,collapsed:F,title:l||(a==null?void 0:a(rt)),content:c||(o==null?void 0:o(rt)),visible:Z&&Z.style.display!=="none"})}}),s}},e.prototype.readData=function(t){var r=this,n=this.get("graph");t.forEach(function(a){var o=a.id,s=a.x,u=a.y,l=a.title,c=a.content,d=a.collapsed,A=a.visible,I=n.findById(o);if(!I&&o===qg&&(I=n.get("canvas")),!I){var F=r.get("cardInfoMap")||{};F[o]=a,r.set("cardInfoMap",F);return}r.toggleAnnotation(I,{x:s,y:u,title:l,content:c,collapsed:d}),A||r.hideCard(o)})},e.prototype.clear=function(){var t=this.get("cardInfoMap");if(t){var r=this.get("container");Object.values(t).forEach(function(n){var a=n.card,o=n.link;r.removeChild(a),o==null||o.remove(!0)}),this.set("cardInfoMap",{})}},e.prototype.destroy=function(){var t;this.clear(),(t=this.get("canvas"))===null||t===void 0||t.destroy();var r=this.get("graph");!r||r.destroyed||(this.get("containerCfg")&&r.getContainer().removeChild(this.get("container")),this.destroyed=!0)},e}(Cs),lw=uw,cw=function(e,t){var r,n,a,o=1/0;Object.keys(e).forEach(function(l){var c=e[l];Object.keys(t).forEach(function(d){var A=t[d],I=c.x-A.x,F=c.y-A.y,Z=I*I+F*F;o>Z&&(o=Z,r=c,n=A,a=[l,d])})});var s=20,u=ls.getControlPoint(r,n,.5,s);return[["M",r.x,r.y],["Q",u.x,u.y,n.x,n.y]]},yv=function(e,t,r,n){var a,o,s=e.getType();if(s==="edge")o=[e.getKeyShape().getPoint(.5)];else{var u=(a=e.getKeyShape)===null||a===void 0?void 0:a.call(e).getBBox(),l=u.minX,c=u.minY,d=u.maxX,A=u.maxY,I=e.getModel(),F=I.x,Z=I.y;l+=F,c+=Z,d+=F,A+=Z,o={left:{x:l,y:(c+A)/2},right:{x:d,y:(c+A)/2},top:{x:(l+d)/2,y:c},bottom:{x:(l+d)/2,y:A}}}Object.keys(o).forEach(function(Re){var Ae=o[Re],He=Ae.x,ur=Ae.y,tn=r.getClientByPoint(He,ur);o[Re]=n.getPointByClient(tn.x,tn.y)});var rt=t.top,lt=rt===void 0?0:rt,ct=t.left,pt=ct===void 0?0:ct,_t=t.right,jt=_t===void 0?0:_t,oe=t.bottom,ie=oe===void 0?0:oe,Ee={left:n.getPointByClient(pt,(lt+ie)/2),right:n.getPointByClient(jt,(lt+ie)/2),top:n.getPointByClient((pt+jt)/2,lt),bottom:n.getPointByClient((pt+jt)/2,ie)};return cw(o,Ee)},nf=function(e){return Number(e.replace(/\s+|px/gi,""))||0},fw={PluginBase:Cs,Menu:Sb,Grid:bb,Minimap:Ib,Bundling:Nb,ToolBar:Ub,Tooltip:Xb,Fisheye:Bb,TimeBar:WE,ImageMinimap:HE,EdgeFilterLens:QE,SnapLine:rw,Legend:ow,Annotation:lw},dw=fw,jo=dw;Ml("circle",{options:{size:Gn.defaultNode.size,style:{x:0,y:0,stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,b.__assign)({},Gn.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=(0,f.deepMix)({},n,e.icon),s="".concat(this.type,"-keyShape"),u=t.addShape("circle",{attrs:a,className:s,name:s,draggable:!0});t.shapeMap[s]=u;var l=o.width,c=o.height,d=o.show,A=o.text;if(d){var I="".concat(this.type,"-icon");A?t.shapeMap[I]=t.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:I,name:I,draggable:!0}):t.shapeMap[I]=t.addShape("image",{attrs:(0,b.__assign)({x:-l/2,y:-c/2},o),className:I,name:I,draggable:!0})}return this.drawLinkPoints(e,t),u},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints;if(r){var n=r||{},a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,b.__rest)(n,["top","left","right","bottom","size","r"]),A=this.getSize(e),I=A[0]/2;if(o){var F="link-point-left";t.shapeMap[F]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:-I,y:0,r:l/2||c||5}),className:F,name:F,isAnchorPoint:!0})}if(s){var Z="link-point-right";t.shapeMap[Z]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:I,y:0,r:l/2||c||5}),className:Z,name:Z,isAnchorPoint:!0})}if(a){var rt="link-point-top";t.shapeMap[rt]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:0,y:-I,r:l/2||c||5}),className:rt,name:rt,isAnchorPoint:!0})}if(u){var lt="link-point-bottom";t.shapeMap[lt]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:0,y:I,r:l/2||c||5}),className:lt,name:lt,isAnchorPoint:!0})}}},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.deepMix)({},t,r),a=this.getSize(e),o=a[0]/2,s=(0,b.__assign)({x:0,y:0,r:o},n);return s},update:function(e,t,r){var n=t.getContainer(),a=this.getSize(e),o=(0,b.__assign)({},e.style);e.style.stroke===void 0&&e.color&&(o.stroke=e.color),e.style.r===void 0&&!isNaN(a[0])&&(o.r=a[0]/2),this.updateShape(e,t,o,!0,r),this.updateLinkPoints(e,n)}},"single-node"),Ml("rect",{options:{size:[100,30],style:{radius:0,stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,b.__assign)({},Gn.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return t.shapeMap["".concat(this.type,"-keyShape")]=n,this.drawLinkPoints(e,t),n},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,b.__rest)(n,["top","left","right","bottom","size","r"]),A=this.getSize(e),I=A[0],F=A[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:-I/2,y:0,r:l/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:I/2,y:0,r:l/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:0,y:-F/2,r:l/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:0,y:F/2,r:l/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],u=(0,b.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return u},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getSize(e),s=t.get("keyShape");e.size||(o[0]=s.attr("width")||a.width,o[1]=s.attr("height")||a.height);var u={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},l=(0,f.mix)({},a,s.attr(),u);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!1,r),this.updateLinkPoints(e,n)}},"single-node"),Ml("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,b.__assign)({},Gn.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});t.shapeMap["ellipse-keyShape"]=o;var s=n.width,u=n.height,l=n.show,c=n.text;return l&&(c?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,b.__assign)({x:-s/2,y:-u/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,b.__rest)(n,["top","left","right","bottom","size","r"]),A=this.getSize(e),I=A[0]/2,F=A[1]/2;o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:-I,y:0,r:l/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:I,y:0,r:l/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:0,y:-F,r:l/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:0,y:F,r:l/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getSize(e),o=a[0]/2,s=a[1]/2,u=(0,b.__assign)({x:0,y:0,rx:o,ry:s},n);return u},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getSize(e),s={stroke:e.color,rx:o[0]/2,ry:o[1]/2},u=t.get("keyShape"),l=(0,f.mix)({},a,u.attr(),s);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!0,r),this.updateLinkPoints(e,n)}},"single-node"),Ml("diamond",{options:{size:[80,80],style:{stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,b.__assign)({},Gn.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var s=n.width,u=n.height,l=n.show,c=n.text;return l&&(c?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,b.__assign)({x:-s/2,y:-u/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,b.__rest)(n,["top","left","right","bottom","size","r"]),A=this.getSize(e),I=A[0],F=A[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:-I/2,y:0,r:l/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:I/2,y:0,r:l/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:0,y:-F/2,r:l/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:0,y:F/2,r:l/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(e){var t=this.getSize(e),r=t[0],n=t[1],a=[["M",0,-n/2],["L",r/2,0],["L",0,n/2],["L",-r/2,0],["Z"]];return a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getPath(e),o=(0,b.__assign)({path:a},n);return o},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getPath(e),s={stroke:e.color,path:o},u=t.get("keyShape"),l=(0,f.mix)({},a,u.attr(),s);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!0,r),this.updateLinkPoints(e,n)}},"single-node"),Ml("triangle",{options:{size:40,direction:"up",style:{stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,b.__assign)({},Gn.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var r=this.mergeStyle||this.getOptions(e),n=r.icon,a=n===void 0?{}:n,o=r.direction,s=this.getShapeStyle(e),u=e.direction||o,l=t.addShape("path",{attrs:s,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=l;var c=a.width,d=a.height,A=a.show,I=a.offset,F=a.text;if(A)if(F)t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var Z=-c/2,rt=-d/2;(u==="up"||u==="down")&&(rt+=I),(u==="left"||u==="right")&&(Z+=I),t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,b.__assign)({x:Z,y:rt},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(e,t),l},drawLinkPoints:function(e,t){var r=this.mergeStyle||this.getOptions(e),n=r.linkPoints,a=n===void 0?{}:n,o=r.direction,s=e.direction||o,u=a.top,l=a.left,c=a.right,d=a.bottom,A=a.size,I=a.r,F=(0,b.__rest)(a,["top","left","right","bottom","size","r"]),Z=this.getSize(e),rt=Z[0];if(l){var lt=null,ct=rt*Math.sin(1/3*Math.PI),pt=rt*Math.sin(1/3*Math.PI);s==="up"?lt=[-pt,ct]:s==="down"?lt=[-pt,-ct]:s==="left"&&(lt=[-pt,pt-ct]),lt&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},F),{x:lt[0],y:lt[1],r:A/2||I||5}),className:"link-point-left",name:"link-point-left"}))}if(c){var _t=null,ct=rt*Math.sin(1/3*Math.PI),pt=rt*Math.sin(1/3*Math.PI);s==="up"?_t=[pt,ct]:s==="down"?_t=[pt,-ct]:s==="right"&&(_t=[pt,pt-ct]),_t&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},F),{x:_t[0],y:_t[1],r:A/2||I||5}),className:"link-point-right",name:"link-point-right"}))}if(u){var jt=null,ct=rt*Math.sin(1/3*Math.PI),pt=rt*Math.sin(1/3*Math.PI);s==="up"?jt=[pt-ct,-ct]:s==="left"?jt=[pt,-ct]:s==="right"&&(jt=[-pt,-ct]),jt&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},F),{x:jt[0],y:jt[1],r:A/2||I||5}),className:"link-point-top",name:"link-point-top"}))}if(d){var oe=null,ct=rt*Math.sin(1/3*Math.PI),pt=rt*Math.sin(1/3*Math.PI);s==="down"?oe=[-pt+ct,ct]:s==="left"?oe=[pt,ct]:s==="right"&&(oe=[-pt,ct]),oe&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},F),{x:oe[0],y:oe[1],r:A/2||I||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(e){var t=(this.mergeStyle||this.getOptions(e)).direction,r=e.direction||t,n=this.getSize(e),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),u=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return r==="down"?u=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:r==="left"?u=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:r==="right"&&(u=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),u},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getPath(e),o=(0,b.__assign)({path:a},n);return o},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getPath(e),s={stroke:e.color,path:o},u=t.get("keyShape"),l=(0,f.mix)({},a,u.attr(),s);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!0,r),this.updateLinkPoints(e,n)},updateLinkPoints:function(e,t){var r=this.getOptions({}),n=r.linkPoints,a=r.direction,o=e.direction||a,s=t.shapeMap["link-point-left"]||t.find(function(Vr){return Vr.get("className")==="link-point-left"}),u=t.shapeMap["link-point-right"]||t.find(function(Vr){return Vr.get("className")==="link-point-right"}),l=t.shapeMap["link-point-top"]||t.find(function(Vr){return Vr.get("className")==="link-point-top"}),c=t.shapeMap["link-point-bottom"]||t.find(function(Vr){return Vr.get("className")==="link-point-bottom"}),d=n,A=s||u||l||c;A&&(d=A.attr());var I=(0,f.mix)({},d,e.linkPoints),F=I.fill,Z=I.stroke,rt=I.lineWidth,lt=I.size/2;lt||(lt=I.r);var ct=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},pt=ct.left,_t=ct.right,jt=ct.top,oe=ct.bottom,ie=this.getSize(e),Ee=ie[0],Re={r:lt,fill:F,stroke:Z,lineWidth:rt},Ae=null,He=Ee*Math.sin(1/3*Math.PI),ur=Ee*Math.sin(1/3*Math.PI);o==="up"?Ae=[-ur,He]:o==="down"?Ae=[-ur,-He]:o==="left"&&(Ae=[-ur,ur-He]),Ae&&(s?!pt&&pt!==void 0?(s.remove(),delete t.shapeMap["link-point-left"]):s.attr((0,b.__assign)((0,b.__assign)({},Re),{x:Ae[0],y:Ae[1]})):pt&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},Re),{x:Ae[0],y:Ae[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var tn=null;o==="up"?tn=[ur,He]:o==="down"?tn=[ur,-He]:o==="right"&&(tn=[ur,ur-He]),tn&&(u?!_t&&_t!==void 0?(u.remove(),delete t.shapeMap["link-point-right"]):u.attr((0,b.__assign)((0,b.__assign)({},Re),{x:tn[0],y:tn[1]})):_t&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},Re),{x:tn[0],y:tn[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var Tn=null;o==="up"?Tn=[ur-He,-He]:o==="left"?Tn=[ur,-He]:o==="right"&&(Tn=[-ur,-He]),Tn&&(l?!jt&&jt!==void 0?(l.remove(),delete t.shapeMap["link-point-top"]):l.attr((0,b.__assign)((0,b.__assign)({},Re),{x:Tn[0],y:Tn[1]})):jt&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},Re),{x:Tn[0],y:Tn[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var pn=null;o==="down"?pn=[-ur+He,He]:o==="left"?pn=[ur,He]:o==="right"&&(pn=[-ur,He]),pn&&(c?!oe&&oe!==void 0?(c.remove(),delete t.shapeMap["link-point-bottom"]):c.attr((0,b.__assign)((0,b.__assign)({},Re),{x:pn[0],y:pn[1]})):oe&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},Re),{x:pn[0],y:pn[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),Ml("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Gn.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:Gn.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:Gn.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).preRect,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=this.getSize(e),s=o[0],u=o[1],l=t.addShape("rect",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=l;var c=n.show,d=(0,b.__rest)(n,["show"]);return c&&(t.shapeMap["pre-rect"]=t.addShape("rect",{attrs:(0,b.__assign)({x:-s/2,y:-u/2,height:u},d),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),l},drawLogoIcon:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).logoIcon,n=r===void 0?{}:r,a=this.getSize(e),o=a[0];if(n.show){var s=n.width,u=n.height,l=n.x,c=n.y,d=n.offset,A=n.text,I=(0,b.__rest)(n,["width","height","x","y","offset","text"]);A?t.shapeMap["rect-logo-icon"]=t.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},I),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.shapeMap["rect-logo-icon"]=t.addShape("image",{attrs:(0,b.__assign)((0,b.__assign)({},I),{x:l||-o/2+s+d,y:c||-u/2,width:s,height:u}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).stateIcon,n=r===void 0?{}:r,a=this.getSize(e),o=a[0];if(n.show){var s=n.width,u=n.height,l=n.x,c=n.y,d=n.offset,A=n.text,I=(0,b.__rest)(n,["width","height","x","y","offset","text"]);A?t.shapeMap["rect-state-icon"]=t.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},I),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.shapeMap["rect-state-icon"]=t.addShape("image",{attrs:(0,b.__assign)((0,b.__assign)({},I),{x:l||o/2-s+d,y:c||-u/2,width:s,height:u}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.bottom,l=n.size,c=n.r,d=(0,b.__rest)(n,["top","left","right","bottom","size","r"]),A=this.getSize(e),I=A[0],F=A[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:-I/2,y:0,r:l/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:I/2,y:0,r:l/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:0,y:-F/2,r:l/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},d),{x:0,y:F/2,r:l/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(e,t){var r=this.getOptions(e),n=r.labelCfg,a=n===void 0?{}:n,o=r.logoIcon,s=o===void 0?{}:o,u=r.descriptionCfg,l=u===void 0?{}:u,c=this.getSize(e),d=c[0],A=null,I=s.show,F=s.width,Z=-d/2+a.offset;I&&(Z=-d/2+F+a.offset);var rt=a.style,lt=l.style,ct=l.paddingTop;return(0,f.isString)(e.description)?(A=t.addShape("text",{attrs:(0,b.__assign)((0,b.__assign)({},rt),{x:Z,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=A,t.shapeMap["rect-description"]=t.addShape("text",{attrs:(0,b.__assign)((0,b.__assign)({},lt),{x:Z,y:17+(ct||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(A=t.addShape("text",{attrs:(0,b.__assign)((0,b.__assign)({},rt),{x:Z,y:7,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=A),A},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],u=(0,b.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return u},update:function(e,t){var r=this.mergeStyle||this.getOptions(e),n=r.style,a=n===void 0?{}:n,o=r.labelCfg,s=o===void 0?{}:o,u=r.descriptionCfg,l=u===void 0?{}:u,c=this.getSize(e),d=c[0],A=c[1],I=t.get("keyShape");I.attr((0,b.__assign)((0,b.__assign)({},a),{x:-d/2,y:-A/2,width:d,height:A}));var F=t.getContainer(),Z=F.shapeMap["rect-logo-icon"]||F.find(function(La){return La.get("className")==="rect-logo-icon"}),rt=Z?Z.attr():{},lt=(0,f.mix)({},rt,e.logoIcon),ct=lt.width;ct===void 0&&(ct=this.options.logoIcon.width);var pt=e.logoIcon?e.logoIcon.show:void 0,_t=s.offset,jt=-d/2+ct+_t;!pt&&pt!==void 0&&(jt=-d/2+_t);var oe=F.shapeMap["node-label"]||F.find(function(La){return La.get("className")==="node-label"}),ie=F.shapeMap["rect-description"]||F.find(function(La){return La.get("className")==="rect-description"});if(e.label)if(!oe)F.shapeMap["node-label"]=F.addShape("text",{attrs:(0,b.__assign)((0,b.__assign)({},s.style),{x:jt,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});else{var Ee=e.labelCfg?e.labelCfg.style:{},Re=(0,f.mix)({},oe.attr(),Ee);e.label&&(Re.text=e.label),Re.x=jt,(0,f.isString)(e.description)&&(Re.y=-5),ie&&(ie.resetMatrix(),ie.attr({x:jt})),oe.resetMatrix(),oe.attr(Re)}if((0,f.isString)(e.description)){var Ae=l.paddingTop;if(!ie)F.shapeMap["rect-description"]=F.addShape("text",{attrs:(0,b.__assign)((0,b.__assign)({},l.style),{x:jt,y:17+(Ae||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0});else{var Ee=e.descriptionCfg?e.descriptionCfg.style:{},He=(0,f.mix)({},ie.attr(),Ee);(0,f.isString)(e.description)&&(He.text=e.description),He.x=jt,ie.resetMatrix(),ie.attr((0,b.__assign)((0,b.__assign)({},He),{y:17+(Ae||0)}))}}var ur=F.shapeMap["pre-rect"]||F.find(function(La){return La.get("className")==="pre-rect"});if(ur&&!ur.destroyed){var tn=(0,f.mix)({},ur.attr(),e.preRect);ur.attr((0,b.__assign)((0,b.__assign)({},tn),{x:-d/2,y:-A/2,height:A}))}if(Z&&!Z.destroyed)if(!pt&&pt!==void 0)Z.remove(),delete F.shapeMap["pre-rect"];else{var Tn=lt.width,pn=lt.height,Vr=lt.x,Un=lt.y,Rn=lt.offset,Hr=(0,b.__rest)(lt,["width","height","x","y","offset"]);Z.attr((0,b.__assign)((0,b.__assign)({},Hr),{x:Vr||-d/2+Tn+Rn,y:Un||-pn/2,width:Tn,height:pn}))}else pt&&this.drawLogoIcon(e,F);var hn=F.shapeMap["rect-state-icon"]||F.find(function(La){return La.get("className")==="rect-state-icon"}),An=hn?hn.attr():{},On=(0,f.mix)({},An,e.stateIcon);if(hn){!On.show&&On.show!==void 0&&(hn.remove(),delete F.shapeMap["rect-state-icon"]);var jn=On.width,pn=On.height,Vr=On.x,Un=On.y,ta=On.offset,ya=(0,b.__rest)(On,["width","height","x","y","offset"]);hn.attr((0,b.__assign)((0,b.__assign)({},ya),{x:Vr||d/2-jn+ta,y:Un||-pn/2,width:jn,height:pn}))}else On.show&&this.drawStateIcon(e,F);this.updateLinkPoints(e,F)},getOptions:function(e,t){return t==="move"?e:(0,f.deepMix)({},this.options,this.getCustomConfig(e)||{},e)}},"single-node"),Ml("star",{options:{size:60,style:{stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,b.__assign)({},Gn.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var s=n.width,u=n.height,l=n.show,c=n.text;return l&&(c?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,b.__assign)({x:-s/2,y:-u/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,u=n.leftBottom,l=n.rightBottom,c=n.size,d=n.r,A=(0,b.__rest)(n,["top","left","right","leftBottom","rightBottom","size","r"]),I=this.getSize(e),F=I[0];if(s){var Z=Math.cos(.1*Math.PI)*F,rt=Math.sin((18+72*0)/180*Math.PI)*F;t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},A),{x:Z,y:-rt,r:c/2||d||5}),className:"link-point-right",name:"link-point-right"})}if(a){var Z=Math.cos(.5*Math.PI)*F,rt=Math.sin((18+72*1)/180*Math.PI)*F;t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},A),{x:Z,y:-rt,r:c/2||d||5}),className:"link-point-top",name:"link-point-top"})}if(o){var Z=Math.cos(.9*Math.PI)*F,rt=Math.sin((18+72*2)/180*Math.PI)*F;t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},A),{x:Z,y:-rt,r:c/2||d||5}),className:"link-point-left",name:"link-point-left"})}if(u){var Z=Math.cos(1.3*Math.PI)*F,rt=Math.sin((18+72*3)/180*Math.PI)*F;t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},A),{x:Z,y:-rt,r:c/2||d||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(l){var Z=Math.cos(1.7*Math.PI)*F,rt=Math.sin((18+72*4)/180*Math.PI)*F;t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},A),{x:Z,y:-rt,r:c/2||d||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){var t=this.getSize(e),r=t[0],n=r*3/8,a=e.innerR||n;return ls.getStarPath(r,a)},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,r={stroke:e.color},n=(0,f.mix)({},t,r),a=this.getPath(e),o=(0,b.__assign)({path:a},n);return o},update:function(e,t,r){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getPath(e),s={stroke:e.color,path:o},u=t.get("keyShape"),l=(0,f.mix)({},a,u.attr(),s);l=(0,f.mix)(l,e.style),this.updateShape(e,t,l,!0,r),this.updateLinkPoints(e,n)},updateLinkPoints:function(e,t){var r=this.getOptions({}).linkPoints,n=t.shapeMap["link-point-left"]||t.find(function(He){return He.get("className")==="link-point-left"}),a=t.shapeMap["link-point-right"]||t.find(function(He){return He.get("className")==="link-point-right"}),o=t.shapeMap["link-point-top"]||t.find(function(He){return He.get("className")==="link-point-top"}),s=t.shapeMap["link-point-left-bottom"]||t.find(function(He){return He.get("className")==="link-point-left-bottom"}),u=t.shapeMap["link-point-left-bottom"]||t.find(function(He){return He.get("className")==="link-point-right-bottom"}),l=r,c=n||a||o||s||u;c&&(l=c.attr());var d=(0,f.mix)({},l,e.linkPoints),A=d.fill,I=d.stroke,F=d.lineWidth,Z=d.size/2;Z||(Z=d.r);var rt=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},lt=rt.left,ct=rt.right,pt=rt.top,_t=rt.leftBottom,jt=rt.rightBottom,oe=this.getSize(e),ie=oe[0],Ee={r:Z,fill:A,stroke:I,lineWidth:F},Re=Math.cos((18+72*0)/180*Math.PI)*ie,Ae=Math.sin((18+72*0)/180*Math.PI)*ie;a?!ct&&ct!==void 0?(a.remove(),delete t.shapeMap["link-point-right"]):a.attr((0,b.__assign)((0,b.__assign)({},Ee),{x:Re,y:-Ae})):ct&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},Ee),{x:Re,y:-Ae}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),Re=Math.cos((18+72*1)/180*Math.PI)*ie,Ae=Math.sin((18+72*1)/180*Math.PI)*ie,o?!pt&&pt!==void 0?(o.remove(),delete t.shapeMap["link-point-top"]):o.attr((0,b.__assign)((0,b.__assign)({},Ee),{x:Re,y:-Ae})):pt&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},Ee),{x:Re,y:-Ae}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),Re=Math.cos((18+72*2)/180*Math.PI)*ie,Ae=Math.sin((18+72*2)/180*Math.PI)*ie,n?!lt&&lt!==void 0?(n.remove(),delete t.shapeMap["link-point-left"]):n.attr((0,b.__assign)((0,b.__assign)({},Ee),{x:Re,y:-Ae})):lt&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},Ee),{x:Re,y:-Ae}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),Re=Math.cos((18+72*3)/180*Math.PI)*ie,Ae=Math.sin((18+72*3)/180*Math.PI)*ie,s?!_t&&_t!==void 0?(s.remove(),delete t.shapeMap["link-point-left-bottom"]):s.attr((0,b.__assign)((0,b.__assign)({},Ee),{x:Re,y:-Ae})):_t&&(t.shapeMap["link-point-left-bottom"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},Ee),{x:Re,y:-Ae}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),Re=Math.cos((18+72*4)/180*Math.PI)*ie,Ae=Math.sin((18+72*4)/180*Math.PI)*ie,u?!jt&&jt!==void 0?(u.remove(),delete t.shapeMap["link-point-right-bottom"]):u.attr((0,b.__assign)((0,b.__assign)({},Ee),{x:Re,y:-Ae})):jt&&(t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,b.__assign)((0,b.__assign)({},Ee),{x:Re,y:-Ae}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var Jg=ls.defaultSubjectColors,zd="fan-shape-";Ml("donut",{options:{size:Gn.defaultNode.size,style:{x:0,y:0,stroke:Gn.defaultNode.style.stroke,fill:Gn.defaultNode.style.fill,lineWidth:Gn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Gn.nodeLabel.style.fill,fontSize:Gn.nodeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Gn.defaultNode.linkPoints.size,lineWidth:Gn.defaultNode.linkPoints.lineWidth,fill:Gn.defaultNode.linkPoints.fill,stroke:Gn.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,b.__assign)({},Gn.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var r=(this.mergeStyle||this.getOptions(e)).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=(0,f.deepMix)({},n,e.icon),s=t.addShape("circle",{attrs:a,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});t.shapeMap["".concat(this.type,"-keyShape")]=s;var u=o.width,l=o.height,c=o.show,d=o.text;return c&&(d?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,b.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,b.__assign)({x:-u/2,y:-l/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),hw(e,t,s),this.drawLinkPoints(e,t),s},updateShape:function(e,t,r,n,a){var o=t.get("keyShape");o.attr((0,b.__assign)({},r)),vw(e,t,o),this.updateLabel(e,t,a),n&&this.updateIcon(e,t)}},"circle");var hw=function(e,t,r){var n=e.donutAttrs,a=n===void 0?{}:n,o=e.donutColorMap,s=o===void 0?{}:o,u=Object.keys(a).length;if(a&&u>1){var l=t0(a,s),c=l.configs,d=l.totalValue;if(d){var A=e0(r),I=A.lineWidth,F=A.arcR,Z=[F,0],rt=0;if(u===1){bv(t,{arcR:F,arcBegin:Z,beginAngle:rt,config:c[0],fanIndex:0,lineWidth:I,totalValue:d,drawWhole:!0});return}for(var lt=0;lt<c.length;lt++){var ct=bv(t,{arcR:F,arcBegin:Z,beginAngle:rt,config:c[lt],fanIndex:lt,lineWidth:I,totalValue:d});if(ct.shouldEnd)return;Z=ct.arcBegin,rt=ct.beginAngle}}}},bv=function(e,t){var r=t.arcR,n=t.arcBegin,a=t.beginAngle,o=t.config,s=t.fanIndex,u=t.lineWidth,l=t.totalValue,c=t.drawWhole,d=c===void 0?!1:c,A=t.updateShape,I=A===void 0?void 0:A,F=o.value/l;if(F<.001)return{beginAngle:a,arcBegin:n,shape:void 0,shouldEnd:!1};var Z,rt,lt;if(d||F>.999)Z=[r,1e-4],lt=1;else{var ct=F*Math.PI*2;rt=a+ct,Z=[r*Math.cos(rt),-r*Math.sin(rt)],lt=ct>Math.PI?1:0}var pt={path:[["M",n[0],n[1]],["A",r,r,0,lt,0,Z[0],Z[1]],["L",Z[0],Z[1]]],stroke:o.color||(I==null?void 0:I.attr("stroke"))||Jg[s%Jg.length],lineWidth:u};return I?I.attr(pt):e.shapeMap["".concat(zd).concat(s)]=e.addShape("path",{attrs:pt,name:"".concat(zd).concat(s),draggable:!0}),{beginAngle:rt,arcBegin:Z,shape:e.shapeMap["".concat(zd).concat(s)],shouldEnd:d||F>.999}},vw=function(e,t,r){var n=e.donutAttrs,a=e.donutColorMap,o=a===void 0?{}:a,s={},u=t.getContainer();if(n){var l=t0(n,o),c=l.configs,d=l.totalValue;if(d)for(var A=e0(r),I=A.lineWidth,F=A.arcR,Z=[F,0],rt=0,lt=0;lt<c.length;lt++){var ct="".concat(zd).concat(lt),pt=bv(u,{arcR:F,arcBegin:Z,beginAngle:rt,config:c[lt],fanIndex:lt,lineWidth:I,totalValue:d,drawWhole:c.length===1,updateShape:u.shapeMap[ct]});if(pt.shape&&(s[ct]=!0),pt.shouldEnd)break;Z=pt.arcBegin,rt=pt.beginAngle}}var _t=Object.keys(u.shapeMap).filter(function(jt){return jt.includes(zd)});_t.forEach(function(jt){s[jt]||(u.shapeMap[jt].remove(!0),delete u.shapeMap[jt])})},t0=function(e,t){var r=0,n=[];return Object.keys(e).forEach(function(a){var o=+e[a];isNaN(o)||(n.push({key:a,value:o,color:t[a]}),r+=o)}),{totalValue:r,configs:n}},e0=function(e){var t=e.attr("r"),r=.6*t,n=(t+r)/2,a=t-r;return{lineWidth:a,arcR:n}},yh=function(e){var t=e.x,r=e.y;return{x:t,y:r,centerX:t,centerY:r,minX:t,minY:r,maxX:t,maxY:r,height:0,width:0}},pw=function(e){e===void 0&&(e=[]);var t=[],r=[];e.forEach(function(u){t.push(u.x),r.push(u.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,r),s=Math.max.apply(Math,r);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},rM=function(e,t){return Math.abs(e.centerX-t.centerX)*2<e.width+t.width&&Math.abs(e.centerY-t.centerY)*2<e.height+t.height},xv=function(e){for(var t=[],r={},n=e.length,a=n-1;a>=0;a--){var o=e[a];o.id="".concat(o.x,"|||").concat(o.y),r[o.id]||(r[o.id]=o,t.push(o))}return t},r0=function(e){return xv(e)},nM=function(e,t){return[e,{x:e.x,y:t.y},t]},bh=function(e,t){return e.width||e.height?{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}:e},gw=function(e,t){var r=Math.abs(e.x-t.centerX),n=Math.abs(e.y-t.centerY);return r===0&&n===0?0:r/t.width>n/t.height},Ev=function(e,t,r){var n=gw(t,e);if(n===0){var a=e.centerX,o=e.centerY;return r.y<t.y?o=e.minY:r.x>t.x?a=e.maxX:r.x<t.x?a=e.minX:r.x===t.x&&(o=e.maxY),{x:a,y:o}}return n?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},n0=function(e,t){var r=Math.min(e.minX,t.minX),n=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(r+a)/2,centerY:(n+o)/2,minX:r,minY:n,maxX:a,maxY:o,height:o-n,width:a-r}},wv=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},xh=function(e,t){var r=e.x,n=e.y;return r<t.minX||r>t.maxX||n<t.minY||n>t.maxY},mw=function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]},yw=function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]},bw=function(e,t){return mw(e,t.x).concat(yw(e,t.y))},Gd=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},xw=function(e,t){var r=-2,n=0;return t.forEach(function(a){a&&(e.x===a.x&&(n+=r),e.y===a.y&&(n+=r))}),n},a0=function(e,t,r,n,a){return Gd(e,t)+Gd(e,r)+xw(e,[t,r,n,a])},Ew=function i(e,t,r,n,a){a===void 0&&(a=0),e.unshift(t[n]),r[n]&&r[n]!==n&&a<=100&&i(e,t,r,r[n],a+1)},aM=function(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)},Eh=function(e,t,r,n){var a=r.x-e.x,o=r.y-e.y,s=n.x-e.x,u=n.y-e.y,l=r.x-t.x,c=r.y-t.y,d=n.x-t.x,A=n.y-t.y,I=a*u-o*s,F=l*A-c*d,Z=a*c-o*l,rt=s*A-u*d;return I*F<=0&&Z*rt<=0},Sv=function(e,t,r){if(r.width||r.height){var n=wv(r),a=n[0],o=n[1],s=n[2],u=n[3];return Eh(e,t,a,o)||Eh(e,t,a,u)||Eh(e,t,o,s)||Eh(e,t,s,u)}return!1},ww=function(e,t,r,n){var a=[];return e.forEach(function(o){if(o!==t&&(o.x===t.x||o.y===t.y)){if(Sv(o,t,r)||Sv(o,t,n))return;a.push(o)}}),xv(a)},Sw=function(e,t,r,n,a,o,s){var u,l=[],c=(u={},u[t.id]=t,u),d={},A={},I={};A[t.id]=0,I[t.id]=a0(t,r,t);var F=new s0;F.add({id:t.id,value:I[t.id]});var Z={};e.forEach(function(jt){Z[jt.id]=jt});for(var rt;Object.keys(c).length;){var lt=F.minId(!1);if(lt)rt=c[lt];else break;if(rt===r){var ct=[];return Ew(ct,Z,d,r.id),ct}delete c[rt.id],F.remove(rt.id),l.push(rt);var pt=ww(e,rt,n,a),_t=function(oe){oe.forEach(function(ie){if(l.indexOf(ie)===-1){var Ee=ie.id;c[Ee]||(c[Ee]=ie);var Re=I[rt.id]+Gd(rt,ie);if(A[Ee]&&Re>=A[Ee]){F.add({id:Ee,value:I[Ee]});return}d[Ee]=rt.id,A[Ee]=Re,I[Ee]=A[Ee]+a0(ie,r,t,o,s),F.add({id:Ee,value:I[Ee]})}})};_t(pt)}return[t,r]},Mw=function(e,t,r){return!(e.x===t.x&&t.x===r.x||e.y===t.y&&t.y===r.y)},_w=function(e,t,r,n){var a=Gd(e,t),o=Gd(r,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-e.x),y:t.y-n/a*(t.y-e.y)},u={x:t.x-n/o*(t.x-r.x),y:t.y-n/o*(t.y-r.y)};return[s,u]},i0=function(e,t){var r=[],n=e[0];return r.push("M".concat(n.x," ").concat(n.y)),e.forEach(function(a,o){var s=e[o+1],u=e[o+2];if(s&&u)if(Mw(a,s,u)){var l=_w(a,s,u,t),c=l[0],d=l[1];r.push("L".concat(c.x," ").concat(c.y)),r.push("Q".concat(s.x," ").concat(s.y," ").concat(d.x," ").concat(d.y)),r.push("L".concat(d.x," ").concat(d.y))}else r.push("L".concat(s.x," ").concat(s.y));else s&&r.push("L".concat(s.x," ").concat(s.y))}),r.join("")},o0=function(e,t,r,n,a){var o,s;if(!r||!r.getType())o=yh(e);else if(r.getType()==="combo"){var u=r.getKeyShape().getBBox();if(u){var l=r.getModel(),c=l.x,d=l.y;o={x:c,y:d,width:u.width,height:u.height,minX:u.minX+c,maxX:u.maxX+c,minY:u.minY+d,maxY:u.maxY+d},o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=yh(e)}else o=r&&r.getBBox();if(!n||!n.getType())s=yh(t);else if(n.getType()==="combo"){var A=n.getKeyShape().getBBox();if(A){var I=n.getModel(),F=I.x,Z=I.y;s={x:F,y:Z,width:A.width,height:A.height,minX:A.minX+F,maxX:A.maxX+F,minY:A.minY+Z,maxY:A.maxY+Z},s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=yh(t)}else s=n&&n.getBBox();var rt=bh(o,a),lt=bh(s,a),ct=Ev(rt,e,t),pt=Ev(lt,t,e),_t=pw([ct,pt]),jt=n0(rt,_t),oe=n0(lt,_t),ie=[];ie=ie.concat(wv(jt)).concat(wv(oe));var Ee={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[_t,jt,oe].forEach(function(Ae){ie=ie.concat(bw(Ae,Ee).filter(function(He){return xh(He,rt)&&xh(He,lt)}))}),[{x:ct.x,y:pt.y},{x:pt.x,y:ct.y}].forEach(function(Ae){xh(Ae,rt)&&xh(Ae,lt)&&ie.push(Ae)}),ie.unshift(ct),ie.push(pt),ie=xv(ie);var Re=Sw(ie,ct,pt,o,s,e,t);return Re.unshift(e),Re.push(t),r0(Re)},Cw=function(e){if(!(e!=null&&e.length))return e;for(var t=e[e.length-1],r={x:t.x,y:t.y},n=[t],a=[t],o=e.length-2;o>=0;o--){var s=e[o];if(s.x===r.x?n.push(s):(n=[s],r.x=s.x),s.y===r.y?a.push(s):(a=[s],r.y=s.y),n.length>2){var u=e.indexOf(n[1]);u>-1&&e.splice(u,1);continue}if(a.length>2){var u=e.indexOf(a[1]);u>-1&&e.splice(u,1)}}return e},s0=function(){function i(){this.arr=[],this.map={},this.arr=[],this.map={}}return i.prototype._innerAdd=function(e,t){for(var r=[0,t-1];r[1]-r[0]>1;){var n=Math.floor((r[0]+r[1])/2);if(this.arr[n].value>e.value)r[1]=n;else if(this.arr[n].value<e.value)r[0]=n;else{this.arr.splice(n,0,e),this.map[e.id]=!0;return}}this.arr.splice(r[1],0,e),this.map[e.id]=!0},i.prototype.add=function(e){delete this.map[e.id];var t=this.arr.length;if(!t){this.arr.push(e),this.map[e.id]=!0;return}if(this.arr[t-1].value<e.value){this.arr.push(e),this.map[e.id]=!0;return}this._innerAdd(e,t)},i.prototype.remove=function(e){this.map[e]&&delete this.map[e]},i.prototype._clearAndGetMinId=function(){for(var e,t=this.arr.length-1;t>=0;t--)this.map[this.arr[t].id]?e=this.arr[t].id:this.arr.splice(t,1);return e},i.prototype._findFirstId=function(){for(;this.arr.length;){var e=this.arr.shift();if(this.map[e.id])return e.id}},i.prototype.minId=function(e){return e?this._clearAndGetMinId():this._findFirstId()},i}(),Tw=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Aw=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},Ow=function(e,t){return[e,t]},Iw=function(e,t,r,n,a){return r0(o0(e,t,r,n,a.offset))},Dw={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:Tw,fallbackRoute:Iw},iM={maxAllowedDirectionChange:Math.PI/4,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:Aw,fallbackRoute:Ow},Ol=function(e,t){var r=Math.round(Math.abs(e/t)),n=e<0?-1:1;return r<0?0:n*r},Pw=function(e,t,r){var n={};return e.forEach(function(a){if(a)for(var o=bh(a.getBBox(),r),s=Ol(o.minX,t);s<=Ol(o.maxX,t);s+=1)for(var u=Ol(o.minY,t);u<=Ol(o.maxY,t);u+=1)n["".concat(s,"|||").concat(u)]=!0}),n},Mv=function(e,t){var r=t.x-e.x,n=t.y-e.y;return r||n?Math.atan2(n,r):0},u0=function(e,t){var r=Math.abs(e-t);return r>Math.PI?2*Math.PI-r:r},l0=function(e,t,r){for(var n=1/0,a=0,o=t.length;a<o;a++){var s=r(e,t[a]);s<n&&(n=s)}return n},c0=function(e,t,r,n,a){var o=[];if(!r)return[e];var s=a.directions,u=a.offset,l=r.getBBox(),c=t.x>l.minX&&t.x<l.maxX&&t.y>l.minY&&t.y<l.maxY,d=bh(l,u);for(var A in d)d[A]=Ol(d[A],a.gridSize);if(c){for(var I=0,F=s;I<F.length;I++)for(var Z=F[I],rt=[[{x:d.minX,y:d.minY},{x:d.maxX,y:d.minY}],[{x:d.minX,y:d.minY},{x:d.minX,y:d.maxY}],[{x:d.maxX,y:d.minY},{x:d.maxX,y:d.maxY}],[{x:d.minX,y:d.maxY},{x:d.maxX,y:d.maxY}]],A=0;A<4;A++){var lt=rt[A],ct=ls.getLineIntersect(e,{x:e.x+Z.stepX*d.width,y:e.y+Z.stepY*d.height},lt[0],lt[1]);ct&&!Sv(e,ct,l)&&(ct.id="".concat(ct.x,"|||").concat(ct.y),o.push(ct))}return o}var pt=Ev(d,e,n);return pt.id="".concat(pt.x,"|||").concat(pt.y),[pt]},_v=function(e,t,r,n){var a=Mv(e,t),o=r[e.id];if(!o){var s=Mv(n,e);return u0(s,a)}var u=Mv({x:o.x,y:o.y},e);return u0(u,a)},Lw=function(e,t,r,n,a,o,s){var u=[n],l=n,c=e.id,d=e.x,A=e.y,I={x:d,y:A,id:c};_v(I,o,t,r)&&(l={x:o.x===n.x?n.x:I.x*s,y:o.y===n.y?n.y:I.y*s},u.unshift(l));for(var F=t[c];F&&F.id!==c;){var Z={x:d,y:A,id:c},rt={x:F.x,y:F.y,id:F.id},lt=_v(rt,Z,t,r);lt&&(l={x:rt.x===Z.x?l.x:rt.x*s,y:rt.y===Z.y?l.y:rt.y*s},u.unshift(l)),c=rt.id,d=rt.x,A=rt.y,F=t[c]}return u[0].x=d===r.x?a.x:l.x,u[0].y=A===r.y?a.y:l.y,u.unshift(a),u},Nw=function(e,t,r,n,a){if(isNaN(e.x)||isNaN(t.x))return[];var o=(0,f.deepMix)(Dw,a);o.obstacles=o.obstacles||[];var s=o.penalties,u=o.gridSize,l=Pw(o.obstacles.concat([r,n]),u,o.offset),c={x:Ol(e.x,u),y:Ol(e.y,u)},d={x:Ol(t.x,u),y:Ol(t.y,u)};e.id="".concat(c.x,"|||").concat(c.y),t.id="".concat(d.x,"|||").concat(d.y);var A=c0(c,e,r,d,o),I=c0(d,t,n,c,o);A.forEach(function(Hr){delete l[Hr.id]}),I.forEach(function(Hr){delete l[Hr.id]});for(var F={},Z={},rt={},lt={},ct={},pt=new s0,_t=0;_t<A.length;_t++){var jt=A[_t];F[jt.id]=jt,lt[jt.id]=0,ct[jt.id]=l0(jt,I,o.distFunc),pt.add({id:jt.id,value:ct[jt.id]})}var oe=o.maximumLoops,ie,Ee,Re,Ae,He,ur,tn=1/0,Tn={};for(I.forEach(function(Hr){Tn["".concat(Hr.x,"|||").concat(Hr.y)]=!0}),Object.keys(F).forEach(function(Hr){var hn=F[Hr].id;ct[hn]<=tn&&(tn=ct[hn],ie=F[hn])});Object.keys(F).length>0&&oe>0;){var pn=pt.minId((oe+1)%30===0);if(pn)ie=F[pn];else break;if(Tn["".concat(ie.x,"|||").concat(ie.y)])return Lw(ie,rt,c,t,e,d,u);delete F[ie.id],pt.remove(ie.id),Z[ie.id]=!0;for(var _t=0;_t<o.directions.length;_t++){Ee=o.directions[_t];var Vr="".concat(Math.round(ie.x)+Ee.stepX,"|||").concat(Math.round(ie.y)+Ee.stepY);if(Re={x:ie.x+Ee.stepX,y:ie.y+Ee.stepY,id:Vr},!Z[Vr]&&(ur=_v(ie,Re,rt,c),!(ur>o.maxAllowedDirectionChange)&&!l[Vr])){F[Vr]||(F[Vr]=Re);var Un=s[ur];Ae=o.distFunc(ie,Re)+(isNaN(Un)?u:Un),He=lt[ie.id]+Ae;var Rn=lt[Vr];Rn&&He>=Rn||(rt[Vr]=ie,lt[Vr]=He,ct[Vr]=He+l0(Re,I,o.distFunc),pt.add({id:Vr,value:ct[Vr]}))}}oe-=1}return o.fallbackRoute(e,t,r,n,o)};cp("polyline",{options:{color:Gn.defaultEdge.color,size:Gn.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Gn.defaultEdge.style.stroke,lineAppendWidth:Gn.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Gn.edgeLabel.style.fill,fontSize:Gn.edgeLabel.style.fontSize,fontFamily:Gn.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:(0,b.__assign)({},Gn.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e);r.radius===0&&delete r.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:r});return t.shapeMap["edge-shape"]=n,n},getShapeStyle:function(e){var t=this.options.style,r={stroke:e.color},n=(0,f.mix)({},t,r,e.style);e=this.getPathPoints(e),this.radius=n.radius,this.offset=n.offset;var a=e.startPoint,o=e.endPoint,s=this.getControlPoints(e),u=[a];s&&(u=u.concat(s)),u.push(o);var l=e.sourceNode,c=e.targetNode,d=n.radius,A=this.options.routeCfg,I=(0,f.mix)({},A,e.routeCfg);I.offset=n.offset;var F=this.getPath(u,l,c,d,I,!Boolean(s));((0,f.isArray)(F)&&F.length<=1||(0,f.isString)(F)&&F.indexOf("L")===-1)&&(F="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(F="M0 0, L0 0");var Z=(0,f.mix)({},Gn.defaultEdge.style,n,{lineWidth:e.size,path:F});return Z},updateShapeStyle:function(e,t){var r=t.getContainer();if(t.isVisible()){var n={stroke:e.color},a=r.shapeMap["edge-shape"]||r.find(function(_t){return _t.get("className")==="edge-shape"})||t.getKeyShape(),o=e.size;e=this.getPathPoints(e);var s=e.startPoint,u=e.endPoint,l=this.getControlPoints(e),c=[s];l&&(c=c.concat(l)),c.push(u);var d=a.attr(),A=(0,f.mix)({},n,d,e.style),I=e.sourceNode,F=e.targetNode,Z=A.radius,rt=this.options.routeCfg,lt=(0,f.mix)({},rt,e.routeCfg);lt.offset=A.offset;var ct=this.getPath(c,I,F,Z,lt,!Boolean(l));((0,f.isArray)(ct)&&ct.length<=1||(0,f.isString)(ct)&&ct.indexOf("L")===-1)&&(ct="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(u.x)||isNaN(u.y))&&(ct="M0 0, L0 0"),d.endArrow&&A.endArrow===!1&&(e.style.endArrow={path:""}),d.startArrow&&A.startArrow===!1&&(e.style.startArrow={path:""});var pt=(0,f.mix)(n,a.attr(),{lineWidth:o,path:ct},e.style);a&&a.attr(pt)}},getPath:function(e,t,r,n,a,o){var s=a.offset,u=a.obstacles,l=a.simple;if(!s||e.length>2||o===!1){if(n)return i0(e,n);var c=[];return(0,f.each)(e,function(F,Z){Z===0?c.push(["M",F.x,F.y]):c.push(["L",F.x,F.y])}),c}l!==!1&&!(u!=null&&u.length)&&(l=!0);var d=l?o0(e[e.length-1],e[0],r,t,s):Nw(e[0],e[e.length-1],t,r,a);if(!d||!d.length)return"M0 0, L0 0";if(n){var A=i0(d,n);return A}d=Cw(d);var I=ls.pointsToPolygon(d);return I}},"single-edge");var f0=Cl.cloneEvent,d0=Cl.isNaN,h0=Math.abs,Rw=10,kw=["shift","ctrl","alt","control"],Bw={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{mousedown:"onMouseDown",drag:"onDragMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,r=+e.clientX,n=+e.clientY;if(!(d0(r)||d0(n))){var a=r-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:r,y:n};var s=this.graph.get("width"),u=this.graph.get("height"),l=this.graph.get("canvas").getCanvasBBox(),c=this.scalableRange,d=this.scalableRange;c<1&&c>-1&&(c=s*c,d=u*d),(l.minX<=s+c&&l.minX+a>s+c||l.maxX+c>=0&&l.maxX+c+a<0)&&(a=0),(l.minY<=u+d&&l.minY+o>u+d||l.maxY+d>=0&&l.maxY+d+o<0)&&(o=0),this.graph.translate(a,o)}},onTouchStart:function(e){var t=this,r=e.originalEvent.touches,n=r[0],a=r[1];n&&a||(e.preventDefault(),this.mousedown=!0,t.onDragStart(e))},onMouseDown:function(e){this.mousedown=!0},onDragMove:function(e){this.mousedown&&(this.dragstart?this.onDrag(e):(this.dragstart=!0,this.onDragStart(e)))},onDragStart:function(e){var t=this,r=e.originalEvent;if(!(r&&e.name!=="touchstart"&&r.button!==0)&&!(e.name!=="touchstart"&&typeof window!="undefined"&&window.event&&!window.event.buttons&&!window.event.button)&&this.shouldBegin(e,this)&&!t.keydown&&this.allowDrag(e)){if(t.origin={x:e.clientX,y:e.clientY},t.dragging=!1,this.enableOptimize){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var u=a[o].get("group").get("children");u&&u.forEach(function(pt){pt.set("ori-visibility",pt.get("ori-visibility")||pt.get("visible")),pt.hide()})}for(var l=n.getNodes(),c=0,d=l.length;c<d;c++)for(var A=l[c].getContainer(),I=A.get("children"),F=0,Z=I;F<Z.length;F++){var rt=Z[F],lt=rt.get("isKeyShape");lt||(rt.set("ori-visibility",rt.get("ori-visibility")||rt.get("visible")),rt.hide())}}if(typeof window!="undefined"){var ct=this;this.handleDOMContextMenu=function(pt){return ct.onMouseUp(pt)},document.body.addEventListener("contextmenu",this.handleDOMContextMenu)}}},onTouchMove:function(e){var t=this,r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a){this.onMouseUp(e);return}e.preventDefault(),t.onDrag(e)},onDrag:function(e){if(this.mousedown){var t=this.graph;if(!this.keydown&&this.allowDrag(e)&&(e=f0(e),!!this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(h0(this.origin.x-e.clientX)+h0(this.origin.y-e.clientY)<Rw)return;this.shouldBegin(e,this)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.originPosition={x:e.clientX,y:e.clientY},this.dragging=!0)}this.shouldUpdate(e,this)&&this.updateViewport(e)}}},onMouseUp:function(e){var t,r;this.mousedown=!1,this.dragstart=!1;var n=this.graph;if(!this.keydown){var a=n.getZoom(),o=n.get("modeController"),s=(r=(t=o==null?void 0:o.modes[o.mode])===null||t===void 0?void 0:t.filter(function(ie){return ie.type==="zoom-canvas"}))===null||r===void 0?void 0:r[0],u=s?s.optimizeZoom||.1:0;if(this.enableOptimize){for(var l=n.getEdges(),c=0,d=l.length;c<d;c++){var A=l[c].get("group").get("children");A&&A.forEach(function(ie){var Ee=ie.get("ori-visibility");ie.set("ori-visibility",void 0),Ee&&ie.show()})}if(a>u)for(var I=n.getNodes(),F=0,Z=I.length;F<Z;F++)for(var rt=I[F].getContainer(),lt=rt.get("children"),ct=0,pt=lt;ct<pt.length;ct++){var _t=pt[ct],jt=_t.get("isKeyShape");if(!jt){var oe=_t.get("ori-visibility");_t.set("ori-visibility",void 0),oe&&_t.show()}}}if(!this.dragging){this.origin=null;return}e=f0(e),this.shouldEnd(e,this)&&this.updateViewport(e),e.type="dragend",e.dx=e.clientX-this.originPosition.x,e.dy=e.clientY-this.originPosition.y,n.emit("canvas:dragend",e),this.endDrag(),typeof window!="undefined"&&document.body.removeEventListener("contextmenu",this.handleDOMContextMenu)}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1,this.mousedown=!1,this.dragstart=!1},onKeyDown:function(e){var t=this,r=e.key;r&&(kw.indexOf(r.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1},allowDrag:function(e){var t,r,n=e.target,a=n&&n.isCanvas&&n.isCanvas();if((0,f.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!a)return!1;if((0,f.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,u=o.edge,l=o.combo,c=(r=(t=e.item)===null||t===void 0?void 0:t.getType)===null||r===void 0?void 0:r.call(t);if(!s&&c==="node"||!u&&c==="edge"||!l&&c==="combo")return!1}return!0}},Fw={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:mousedown":"onMouseDown",drag:"onDragMove",dragend:"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd",afterchangedata:"onDragEnd"}},validationCombo:function(e){if(!this.origin||!e||e.destroyed)return!1;var t=e.getType();return t==="combo"},onTouchStart:function(e){if(e.item){var t=this;try{var r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a)return;e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}this.mousedown={item:e.item,target:e.target,origin:{x:e.x,y:e.y}},this.dragstart=!0,t.onDragStart(e)}},onTouchMove:function(e){var t=this;try{var r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a){t.onDragEnd(e);return}e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}t.onDrag(e)},onMouseDown:function(e){this.mousedown={item:e.item,target:e.target,origin:{x:e.x,y:e.y}},typeof window!="undefined"&&!this.windowEventBinded&&(this.windowEventBinded=!0,document.body.addEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.addEventListener("mouseup",this.onDragEnd.bind(this)))},onDragMove:function(e){var t,r;if(((r=(t=e.item)===null||t===void 0?void 0:t.getType)===null||r===void 0?void 0:r.call(t))!=="node"){this.onDragEnd();return}this.mousedown&&(this.dragstart?this.onDrag((0,b.__assign)((0,b.__assign)({},e),this.mousedown)):(this.dragstart=!0,this.onDragStart(e)))},onDragStart:function(e){var t=this;if(this.currentShouldEnd=!0,!!this.shouldBegin((0,b.__assign)((0,b.__assign)({},e),this.mousedown),this)){var r=this.mousedown,n=r.item,a=r.target;if(!(!n||n.destroyed||n.hasLocked())){var o=n.getContainer();if(o.set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(n),a){var s=a.get("isAnchorPoint");if(s)return}var u=this.graph;this.targets=[],this.targetCombo=null;var l=u.findAllByState("node",this.selectedState),c=n.get("id"),d=l.filter(function(I){var F=I.get("id");return c===F});if(d.length===0?this.targets.push(n):l.length>1?l.forEach(function(I){var F=I.hasLocked();F||t.targets.push(I)}):this.targets.push(n),this.graph.get("enabledStack")&&this.enableStack){var A=[];this.targets.forEach(function(I){var F=I.getModel(),Z=F.x,rt=F.y,lt=F.id;A.push({x:Z,y:rt,id:lt})}),this.set("beforeDragNodes",A)}this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(I){var F=I.getEdges();F.forEach(function(Z){Z.isVisible()&&(t.hidenEdge[Z.getID()]=!0,Z.hide())})}),this.origin=this.mousedown.origin,this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;if(!(!this.mousedown||!this.origin)&&this.shouldUpdate(e,this))if(this.get("enableDelegate"))this.updateDelegate(e);else if(this.enableDebounce)this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos});else{var r={};this.targets.map(function(n){t.update(n,e);var a=n.getModel().comboId;a&&(r[a]=t.graph.findById(a))}),this.onlyChangeComboSize&&this.updateParentCombos()}},onDragEnd:function(e){var t=this,r;if(this.mousedown=!1,this.dragstart=!1,typeof window!="undefined"&&this.windowEventBinded&&(this.windowEventBinded=!1,document.body.removeEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.removeEventListener("mouseup",this.onDragEnd.bind(this))),!!this.origin){(r=this.cachedCaptureItems)===null||r===void 0||r.forEach(function(o){var s=o.getContainer();s.set("capture",!0)}),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(o){var s=o.getEdges();s.forEach(function(u){t.hidenEdge[u.getID()]&&u.show(),u.refresh()})}),this.hidenEdge={};var n=this.graph;if(n.get("enabledStack")&&this.enableStack){var a={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(o){a.before.nodes.push(o)}),this.targets.forEach(function(o){var s=o.getModel(),u=s.x,l=s.y,c=s.id;a.after.nodes.push({x:u,y:l,id:c})}),n.pushStack("update",(0,f.clone)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(this.currentShouldEnd=this.shouldEnd(e,t,this),this.updatePositions(e,!this.currentShouldEnd),!(!this.currentShouldEnd||!this.validationCombo(t))){var r=this.graph;if(this.comboActiveState&&r.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)r.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&r.updateComboTree(a,n.id)}),r.updateCombo(t)}r.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;this.currentShouldEnd=this.shouldEnd(e,void 0,this),this.updatePositions(e,!this.currentShouldEnd),!(!this.targets||this.targets.length===0||!this.currentShouldEnd)&&(this.onlyChangeComboSize?this.updateParentCombos():this.targets.map(function(r){var n=r.getModel();n.comboId&&t.updateComboTree(r)}))},onDropNode:function(e){if(!(!this.targets||this.targets.length===0)){var t=this,r=e.item,n=t.graph,a=r.getModel().comboId,o=a?n.findById(a):void 0;if(this.currentShouldEnd=this.shouldEnd(e,o,this),this.updatePositions(e,!this.currentShouldEnd),!!this.currentShouldEnd){if(this.onlyChangeComboSize)this.updateParentCombos();else if(a){var s=n.findById(a);t.comboActiveState&&n.setItemState(s,t.comboActiveState,!1),this.targets.map(function(u){var l=u.getModel();a!==l.comboId&&n.updateComboTree(u,a)}),n.updateCombo(s)}else this.targets.map(function(u){var l=u.getModel();l.comboId&&n.updateComboTree(u)});n.emit("dragnodeend",{items:this.targets,targetItem:r})}}},onDragEnter:function(e){var t=e.item;if(this.validationCombo(t)){var r=this.graph;this.comboActiveState&&r.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(this.validationCombo(t)){var r=this.graph;this.comboActiveState&&r.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e,t){var r=this;!this.targets||this.targets.length===0||(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos}):t||this.targets.map(function(n){return r.update(n,e)}):this.targets.map(function(n){return r.update(n,e,t)}))},update:function(e,t,r){var n=this.origin,a=e.get("model"),o=e.get("id");this.point[o]||(this.point[o]={x:a.x||0,y:a.y||0});var s=t.x-n.x+this.point[o].x,u=t.y-n.y+this.point[o].y;r&&(s+=n.x-t.x,u+=n.y-t.y);var l={x:s,y:u};this.get("updateEdge")?this.graph.updateItem(e,l,!1):e.updatePosition(l)},debounceUpdate:(0,f.debounce)(function(i){var e=i.targets,t=i.graph,r=i.point,n=i.origin,a=i.evt,o=i.updateEdge,s=i.onlyChangeComboSize,u=i.updateParentCombos;e.map(function(l){var c=l.get("model"),d=l.get("id");r[d]||(r[d]={x:c.x||0,y:c.y||0});var A=a.x-n.x+r[d].x,I=a.y-n.y+r[d].y,F={x:A,y:I};o?t.updateItem(l,F,!1):l.updatePosition(F)}),s&&u(t,e)},50,!0),updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var A=e.x-this.origin.x+this.originPoint.minX,I=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:A,y:I})}else{var r=t.get("group"),n=(0,f.deepMix)({},qc.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(e),o=a.x,s=a.y,u=a.width,l=a.height,c=a.minX,d=a.minY;this.originPoint={x:o,y:s,width:u,height:l,minX:c,minY:d},this.delegateRect=r.addShape("rect",{attrs:(0,b.__assign)({width:u,height:l,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.targets;t.length===0&&t.push(e.item);for(var r=1/0,n=-1/0,a=1/0,o=-1/0,s=0;s<t.length;s++){var u=t[s],l=u.getBBox(),c=l.minX,d=l.minY,A=l.maxX,I=l.maxY;c<r&&(r=c),d<a&&(a=d),A>n&&(n=A),I>o&&(o=I)}var F=Math.floor(r),Z=Math.floor(a),rt=Math.ceil(n)-Math.floor(r),lt=Math.ceil(o)-Math.floor(a);return{x:F,y:Z,width:rt,height:lt,minX:r,minY:a}},updateParentCombos:function(e,t){var r=e||this.graph,n=t||this.targets,a={};n==null||n.forEach(function(o){var s=o.getModel().comboId;s&&(a[s]=r.findById(s))}),Object.values(a).forEach(function(o){o&&r.updateCombo(o)})}},zw={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(e){var t=this;try{var r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a)return;e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}t.setAllItemStates(e)},clearOnTouchStart:function(e){var t=this;try{var r=e.originalEvent.touches,n=r[0],a=r[1];if(n&&a)return;e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}t.clearActiveState(e)},setAllItemStates:function(e){clearTimeout(this.timer),this.throttleSetAllItemStates(e,this)},clearActiveState:function(e){var t=this;this.timer=setTimeout(function(){t.throttleClearActiveState(e,t)},50)},throttleSetAllItemStates:(0,f.throttle)(function(i,e){var t=i.item,r=e.graph;if(!(!r||r.destroyed)&&(e.item=t,!!e.shouldUpdate(i.item,{event:i,action:"activate"},e))){for(var n=e.activeState,a=e.inactiveState,o=r.getNodes(),s=r.getCombos(),u=r.getEdges(),l=r.get("vedges"),c=o.length,d=s.length,A=u.length,I=l.length,F=e.inactiveItems||{},Z=e.activeItems||{},rt=0;rt<c;rt++){var lt=o[rt],ct=lt.getID(),pt=lt.hasState("selected");e.resetSelected&&pt&&r.setItemState(lt,"selected",!1),Z[ct]&&(r.setItemState(lt,n,!1),delete Z[ct]),a&&!F[ct]&&(r.setItemState(lt,a,!0),F[ct]=lt)}for(var rt=0;rt<d;rt++){var _t=s[rt],jt=_t.getID(),pt=_t.hasState("selected");e.resetSelected&&pt&&r.setItemState(_t,"selected",!1),Z[jt]&&(r.setItemState(_t,n,!1),delete Z[jt]),a&&!F[jt]&&(r.setItemState(_t,a,!0),F[jt]=_t)}for(var rt=0;rt<A;rt++){var oe=u[rt],ie=oe.getID();Z[ie]&&(r.setItemState(oe,n,!1),delete Z[ie]),a&&!F[ie]&&(r.setItemState(oe,a,!0),F[ie]=oe)}for(var rt=0;rt<I;rt++){var Ee=l[rt],Re=Ee.getID();Z[Re]&&(r.setItemState(Ee,n,!1),delete Z[Re]),a&&!F[Re]&&(r.setItemState(Ee,a,!0),F[Re]=Ee)}if(t&&!t.destroyed){a&&(r.setItemState(t,a,!1),delete F[t.getID()]),Z[t.getID()]||(r.setItemState(t,n,!0),Z[t.getID()]=t);for(var Ae=t.getEdges(),He=Ae.length,rt=0;rt<He;rt++){var oe=Ae[rt],ie=oe.getID(),ur=void 0;oe.getSource()===t?ur=oe.getTarget():ur=oe.getSource();var tn=ur.getID();a&&F[tn]&&(r.setItemState(ur,a,!1),delete F[tn]),Z[tn]||(r.setItemState(ur,n,!0),Z[tn]=ur),F[ie]&&(r.setItemState(oe,a,!1),delete F[ie]),Z[ie]||(r.setItemState(oe,n,!0),Z[ie]=oe),oe.toFront()}}e.activeItems=Z,e.inactiveItems=F,r.emit("afteractivaterelations",{item:i.item,action:"activate"})}},50,{trailing:!0,leading:!0}),throttleClearActiveState:(0,f.throttle)(function(i,e){var t=e.get("graph");if(!(!t||t.destroyed)&&e.shouldUpdate(i.item,{event:i,action:"deactivate"},e)){var r=e.activeState,n=e.inactiveState,a=e.activeItems||{},o=e.inactiveItems||{};Object.values(a).filter(function(s){return!s.destroyed}).forEach(function(s){t.clearItemStates(s,r)}),Object.values(o).filter(function(s){return!s.destroyed}).forEach(function(s){t.clearItemStates(s,n)}),e.activeItems={},e.inactiveItems={},t.emit("afteractivaterelations",{item:i.item||e.get("item"),action:"deactivate"})}},50,{trailing:!0,leading:!0})},wh=Math.min,v0=Math.max,p0=Math.abs,g0="shift",Gw=["drag","shift","ctrl","alt","control"],Uw={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:g0,includeEdges:!0,includeCombos:!1,selectedEdges:[],selectedNodes:[],selectedCombos:[]}},getEvents:function(){return Gw.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=g0,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,r=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),r||(r=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},r.attr({width:0,height:0}),r.show(),this.dragging=!0)},onMouseMove:function(e){this.dragging&&(this.trigger!=="drag"&&!this.keydown||this.updateBrush(e))},onMouseUp:function(e){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this,t=e.graph,r=e.selectedState,n=t.findAllByState("node",r),a=t.findAllByState("edge",r),o=t.findAllByState("combo",r);n.forEach(function(s){return t.setItemState(s,r,!1)}),a.forEach(function(s){return t.setItemState(s,r,!1)}),o.forEach(function(s){return t.setItemState(s,r,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.selectedCombos=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges,this.selectedCombos),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},isBBoxCenterInRect:function(e,t,r,n,a){var o=e.getBBox();return o.centerX>=t&&o.centerX<=r&&o.centerY>=n&&o.centerY<=a},getSelectedNodes:function(e){var t=this,r=this,n=r.graph,a=r.originPoint,o=r.shouldUpdate,s=r.isBBoxCenterInRect,u=this.selectedState,l={x:e.x,y:e.y},c=n.getPointByCanvas(a.x,a.y),d=wh(l.x,c.x),A=v0(l.x,c.x),I=wh(l.y,c.y),F=v0(l.y,c.y),Z=[],rt=[];n.getNodes().forEach(function(pt){if(pt.isVisible()&&s(pt,d,A,I,F)&&o(pt,"select",t)){Z.push(pt);var _t=pt.getModel();rt.push(_t.id),n.setItemState(pt,u,!0)}});var lt=[];this.includeEdges&&Z.forEach(function(pt){var _t=pt.getOutEdges();_t.forEach(function(jt){if(jt.isVisible()){var oe=jt.getModel(),ie=oe.source,Ee=oe.target;rt.includes(ie)&&rt.includes(Ee)&&o(jt,"select",t)&&(lt.push(jt),n.setItemState(jt,t.selectedState,!0))}})});var ct=[];this.includeCombos&&n.getCombos().forEach(function(pt){if(pt.isVisible()&&s(pt,d,A,I,F)&&o(pt,"select",t)){ct.push(pt);var _t=pt.getModel();rt.push(_t.id),n.setItemState(pt,u,!0)}}),this.selectedEdges=lt,this.selectedNodes=Z,this.selectedCombos=ct,this.onSelect&&this.onSelect(Z,lt,ct),n.emit("nodeselectchange",{selectedItems:{nodes:Z,edges:lt,combos:ct},select:!0})},createBrush:function(){var e=this,t=e.graph.get("canvas").addShape("rect",{attrs:e.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t,t},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:p0(e.canvasX-t.x),height:p0(e.canvasY-t.y),x:wh(e.canvasX,t.x),y:wh(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(t){var r=this.trigger.toLowerCase(),n=t.toLowerCase();n===r||n==="control"&&r==="ctrl"||n==="ctrl"&&r==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},m0="shift",Ww=["shift","ctrl","alt","control"],Yw={getDefaultCfg:function(){return{multiple:!0,trigger:m0,selectedState:"selected",selectNode:!0,selectEdge:!1,selectCombo:!0}},getEvents:function(){var e=this;return Ww.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=m0,console.warn("Behavior click-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),e.multiple?{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,r=e.item;if(!(!r||r.destroyed)){var n=r.getType(),a=t.graph,o=t.keydown,s=t.multiple,u=t.shouldUpdate,l=t.shouldBegin;if(l(e,t)){if(!o||!s){var c=a.findAllByState("node",t.selectedState).concat(a.findAllByState("edge",t.selectedState)).concat(a.findAllByState("combo",t.selectedState));(0,f.each)(c,function(Z){Z!==r&&a.setItemState(Z,t.selectedState,!1)})}var d=function(){switch(n){case"node":return t.selectNode;case"edge":return t.selectEdge;case"combo":return t.selectCombo;default:return!1}}();if(!d){var A=a.findAllByState("node",t.selectedState),I=a.findAllByState("edge",t.selectedState),F=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{selectedItems:{nodes:A,edges:I,combos:F},select:!1});return}if(r.hasState(t.selectedState)){u(e,t)&&a.setItemState(r,t.selectedState,!1);var A=a.findAllByState("node",t.selectedState),I=a.findAllByState("edge",t.selectedState),F=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{target:r,selectedItems:{nodes:A,edges:I,combos:F},select:!1})}else{u(e,t)&&a.setItemState(r,t.selectedState,!0);var A=a.findAllByState("node",t.selectedState),I=a.findAllByState("edge",t.selectedState),F=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{target:r,selectedItems:{nodes:A,edges:I,combos:F},select:!0})}}}},onCanvasClick:function(e){var t=this,r=this,n=r.graph,a=r.shouldBegin;if(a(e,this)){var o=n.findAllByState("node",this.selectedState);(0,f.each)(o,function(l){n.setItemState(l,t.selectedState,!1)});var s=n.findAllByState("edge",this.selectedState);(0,f.each)(s,function(l){n.setItemState(l,t.selectedState,!1)});var u=n.findAllByState("combo",this.selectedState);(0,f.each)(u,function(l){n.setItemState(l,t.selectedState,!1)}),n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(e){var t=this,r=e.key;r&&(r.toLowerCase()===this.trigger.toLowerCase()||r.toLowerCase()==="control"?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.keydown=!1}},Xw=ft,y0=.05,jw={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,r=t[0],n=t[1];e.preventDefault(),n&&(this.shouldBegin&&!this.shouldBegin(e,this)||(this.startPoint={pageX:r.pageX,pageY:r.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(e){if(this.moveable){e.preventDefault();var t=e.originalEvent.touches,r=t[0],n=t[1];if(n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(Z,rt){return Math.hypot(rt.x-Z.x,rt.y-Z.y)},o=a({x:r.pageX,y:r.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var u=this.get("minZoom")||this.graph.get("minZoom"),l=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>l||s<u)){var c=this.get("animate"),d=this.get("animateCfg"),A=this.graph.get("canvas"),I=A.getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(s,{x:I.x,y:I.y},c,d),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,r=this,n=r.graph,a=r.fixSelectedItems;if(!(this.shouldBegin&&!this.shouldBegin(e,this))&&this.shouldUpdate(e,this)){e.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(e.clientX,e.clientY),u=this.get("sensitivity"),l=n.getZoom(),c=l,d=l;e.wheelDelta<0?c=1-y0*u:c=1/(1-y0*u),d=l*c;var A=this.get("minZoom")||n.get("minZoom"),I=this.get("maxZoom")||n.get("maxZoom");d>I?d=I:d<A&&(d=A);var F=this.get("enableOptimize");if(F){var Z=this.get("optimizeZoom"),rt=this.get("optimized"),lt=n.getNodes(),ct=n.getEdges(),pt=lt.length,_t=ct.length;if(!rt){for(var jt=0;jt<pt;jt++){var oe=lt[jt];if(!oe.destroyed)for(var ie=oe.get("group").get("children"),Ee=ie.length,Re=0;Re<Ee;Re++){var Ae=ie[Re];!Ae.destoryed&&!Ae.get("isKeyShape")&&(Ae.set("ori-visibility",Ae.get("ori-visibility")||Ae.get("visible")),Ae.hide())}}for(var He=0;He<_t;He++)for(var ur=ct[He],ie=ur.get("group").get("children"),Ee=ie.length,Re=0;Re<Ee;Re++){var Ae=ie[Re];Ae.set("ori-visibility",Ae.get("ori-visibility")||Ae.get("visible")),Ae.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var tn=setTimeout(function(){var ja=n.getZoom(),Ei=t.get("optimized");if(Ei){t.set("optimized",!1);for(var Ga=0;Ga<pt;Ga++){var wi=lt[Ga],Bi=wi.get("group").get("children"),fa=Bi.length;if(ja<Z){var $a=wi.getKeyShape(),Ja=$a.get("ori-visibility");$a.set("ori-visibility",void 0),Ja&&$a.show()}else for(var Fi=0;Fi<fa;Fi++){var ri=Bi[Fi],Ja=ri.get("ori-visibility");ri.set("ori-visibility",void 0),!ri.get("visible")&&Ja&&Ja&&ri.show()}}for(var fi=0;fi<_t;fi++){var yo=ct[fi],Bi=yo.get("group").get("children"),fa=Bi.length;if(ja<Z){var $a=yo.getKeyShape(),Ja=$a.get("ori-visibility");$a.set("ori-visibility",void 0),Ja&&$a.show()}else for(var Fi=0;Fi<fa;Fi++){var ri=Bi[Fi];if(!ri.get("visible")){var Ja=ri.get("ori-visibility");ri.set("ori-visibility",void 0),Ja&&ri.show()}}}}},100);this.set("timeout",tn)}if(l<=1){var Tn=void 0,pn=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){Tn=n.findAllByState("node",a.fixState),pn=n.findAllByState("edge",a.fixState);for(var Vr=l/d,Un=Tn.length,Rn=0;Rn<Un;Rn++){var oe=Tn[Rn],Hr=oe.getContainer(),hn=oe.getModel(),An=oe.getOriginStyle(),On=oe.getStateStyle(a.fixState),jn=oe.get("shapeFactory").getShape(hn.type).getStateStyle(a.fixState,oe)[a.fixState];if(a.fixAll){if(d<=1){var ta=(0,f.clone)(Hr.getMatrix());ta||(ta=[1,0,0,0,1,0,0,0,1]);var ya=oe.getModel(),La=ya.x,_i=ya.y;ta=Xw(ta,[["t",-La,-_i],["s",Vr,Vr],["t",La,_i]]),Hr.setMatrix(ta)}}else for(var ie=Hr.get("children"),Ee=ie.length,Re=0;Re<Ee;Re++){var Ae=ie[Re],ii=void 0,Ci=void 0;if(a.fixLabel){var Li=Ae.get("type");if(Li==="text"){ii=Ae.attr("fontSize")||12;var oo=On[Ae.get("name")],Vi=jn[Ae.get("name")],tu=oo?oo.fontSize:12,Vo=Vi?Vi.fontSize:12,eu=tu||Vo||12;if(d<=1&&Ae.attr("fontSize",eu/d),Ci)break}}if(a.fixLineWidth&&Ae.get("isKeyShape")){Ci=Ae.attr("lineWidth")||0;var Ho=On.lineWidth||jn.lineWidth||An.lineWidth||0;if(d<=1&&Ae.attr("lineWidth",Ho/d),ii)break}}}for(var Zo=pn.length,zs=0;zs<Zo;zs++)for(var ur=pn[zs],Hr=ur.getContainer(),ie=Hr.get("children"),hn=ur.getModel(),On=ur.getStateStyle(a.fixState),jn=ur.get("shapeFactory").getShape(hn.type).getStateStyle(a.fixState,ur)[a.fixState],Ee=ie.length,Re=0;Re<Ee;Re++){var Ae=ie[Re],ii=void 0,Ci=void 0;if(a.fixLabel||a.fixAll){var Li=Ae.get("type");if(Li==="text"){ii=Ae.attr("fontSize")||12;var oo=On[Ae.get("name")],Vi=jn[Ae.get("name")],tu=oo?oo.fontSize:12,Vo=Vi?Vi.fontSize:12,eu=tu||Vo||12;if(d<=1&&Ae.attr("fontSize",eu/d),Ci)break}}if((a.fixLineWidth||a.fixAll)&&Ae.get("isKeyShape")){Ci=Ae.attr("lineWidth")||0;var Ho=On.lineWidth||jn.lineWidth||1;if(d<=1&&Ae.attr("lineWidth",Ho/d),ii)break}}}}var as=this.get("animate"),ys=this.get("animateCfg");n.zoomTo(d,{x:s.x,y:s.y},as,ys),n.emit("wheelzoom",e)}}},b0={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){if(!this.shouldUpdate(e,this)){this.hideTooltip();return}!this.currentTarget||e.item!==this.currentTarget||this.updatePosition(e)},onMouseLeave:function(e){this.shouldEnd(e,this)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(!(!e.item||e.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var r=this.formatText(e.item.get("model"),e);t.innerHTML=r,Xa(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){Xa(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),r=this,n=r.width,a=r.height,o=r.container,s=r.graph;if(!t(e,this)){Xa(o,{visibility:"hidden"});return}var u=s.getPointByClient(e.clientX,e.clientY),l=s.getCanvasByPoint(u.x,u.y),c=l.x,d=l.y,A=o.getBoundingClientRect();c>n/2?c-=A.width:c+=this.offset,d>a/2?d-=A.height:d+=this.offset;var I="".concat(c,"px"),F="".concat(d,"px");Xa(this.container,{left:I,top:F,visibility:"visible"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var r=ho('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return t.parentNode.appendChild(r),Xa(r,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=r,this.graph.get("tooltips").push(r),r}},Vw=(0,b.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},b0),Hw=(0,b.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: ".concat(t.source," target: ").concat(t.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},b0),x0="click",Zw=["click","dblclick"],Kw={getDefaultCfg:function(){return{trigger:x0,onChange:function(){}}},getEvents:function(){var e,t;return Zw.includes(this.trigger)?t=this.trigger:(t=x0,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["node:".concat(t)]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=this;if(this.trigger==="click"){if(this.timer){clearTimeout(this.timer),this.timer=0;return}this.timer=setTimeout(function(){t.toggle(e),clearTimeout(t.timer),t.timer=0},200)}else this.toggle(e)},toggle:function(e){var t=e.item;if(t){var r=this.graph.findDataById(t.get("id"));if(r){var n=r.children;if(!(!n||n.length===0)){var a=!r.collapsed;this.shouldBegin(e,a,this)&&(r.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:e.item,collapsed:a}),this.shouldUpdate(e,a,this)&&(this.onChange(t,a,this),this.graph.layout()))}}}}},$w=Cl.calculationItemsBBox,Qw=function i(e,t){if(t(e)!==!1&&e){var r=e.get("combos");if(r.length===0)return!1;(0,f.each)(r,function(n){i(n,t)})}},qw={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected",enableStack:!0}},getEvents:function(){return{"combo:mousedown":"onMouseDown","combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;if(!t||t.destroyed||!this.shouldUpdate(e,this))return!1;var r=t.getType();return r==="combo"},onMouseDown:function(e){this.origin={x:e.x,y:e.y}},onDragStart:function(e){var t=this,r=this.graph,n=e.item;if(this.currentShouldEnd=!0,!!this.validationCombo(e)){this.targets=[];var a=r.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var c=l.get("id");return o===c});s.length===0?this.targets.push(n):this.targets=a;var u=[];this.targets.forEach(function(l){var c=l.getModel(),d=c.x,A=c.y,I=c.id;u.push({x:d,y:A,id:I})}),this.set("beforeDragItems",u),this.activeState&&this.targets.map(function(l){var c=l.getModel();if(c.parentId){var d=r.findById(c.parentId);d&&r.setItemState(d,t.activeState,!0)}}),this.point={},this.originPoint={},this.currentItemChildCombos=[],Qw(n,function(l){if(l.destroyed)return!1;var c=l.getModel();return t.currentItemChildCombos.push(c.id),!0})}},onDrag:function(e){var t=this;if(this.origin&&this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var r=this.graph,n=e.item,a=n.getModel(),o=r.getCombos(),s=n.getBBox(),u=s.centerX,l=s.centerY,c=s.width,d=o.filter(function(A){var I=A.getModel();return a.parentId,I.id!==a.id&&!t.currentItemChildCombos.includes(I.id)});d.map(function(A){var I=A.getBBox(),F=I.centerX,Z=I.centerY,rt=I.width,lt=u-F,ct=l-Z,pt=2*Math.sqrt(lt*lt+ct*ct);c+rt-pt>.8*c?r.setItemState(A,t.activeState,!0):r.setItemState(A,t.activeState,!1)})}(0,f.each)(this.targets,function(A){t.updateCombo(A,e)}),this.onlyChangeComboSize&&this.updateParentCombos()}},updatePositions:function(e,t){var r=this;(this.enableDelegate||t)&&(0,f.each)(this.targets,function(n){r.updateCombo(n,e,t)})},onDrop:function(e){var t=this,r=e.item;if(this.currentShouldEnd=this.shouldEnd(e,r,this),this.updatePositions(e,!this.currentShouldEnd),!(!this.currentShouldEnd||!r||!this.targets||r.destroyed)){var n=this.graph,a=r.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(r,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id,!1)):n.updateCombo(r)}),this.end(r,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(!(!this.targets||this.targets.length===0)){var r=this.graph,n=e.item,a=n.getModel().comboId,o=a?r.findById(a):void 0;if(this.currentShouldEnd=this.shouldEnd(e,o,this),this.updatePositions(e,!this.currentShouldEnd),!!this.currentShouldEnd){var s;if(a){if(this.activeState){var u=r.findById(a);r.setItemState(u,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?r.updateCombo(l):a!==l.getID()&&(s=r.findById(a),a!==l.getModel().parentId&&r.updateComboTree(l,a,!1))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)r.updateCombo(l);else{var c=l.getModel();c.comboId&&r.updateComboTree(l,void 0,!1)}});this.endComparison=!0,this.end(s,e)}}},onDragEnter:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,r=this.graph;this.activeState&&r.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,r=this.graph;this.activeState&&r.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(!(!this.targets||this.targets.length===0)){var t=e.item;this.currentShouldEnd&&this.updatePositions(e);var r=this.getParentCombo(t.getModel().parentId),n=this.graph;r&&this.activeState&&n.setItemState(r,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var r=this;if(this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}if(e&&this.activeState&&n.setItemState(e,this.activeState,!1),!e){var o=n.get("enabledStack")&&this.enableStack,s={before:{nodes:[],edges:[],combos:[].concat(this.get("beforeDragItems"))},after:{nodes:[],edges:[],combos:[]}};this.targets.map(function(u){if(!r.onlyChangeComboSize)n.updateComboTree(u,void 0,o);else{n.updateCombo(u);var l=u.getModel(),c=l.x,d=l.y,A=l.id;s.after.combos.push({x:c,y:d,id:A}),n.pushStack("update",s)}})}this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t,r){var n=this;if(r===void 0&&(r={}),t(e,r)!==!1&&e){var a=e.get("combos");(0,f.each)(a,function(s){n.traverse(s,t,r)});var o=e.get("nodes");(0,f.each)(o,function(s){n.traverse(s,t,r)})}},updateCombo:function(e,t,r){this.updateSingleItem(e,t,r);var n={};this.traverse(e,function(a,o){return a.destroyed?!1:(a.getEdges().forEach(function(s){return o[s.getID()]=s}),!0)},n),Object.values(n).forEach(function(a){return a.refresh()})},updateSingleItem:function(e,t,r){var n=this.origin,a=this.graph,o=e.getModel(),s=e.get("id");this.point[s]||(this.point[s]={x:o.x,y:o.y});var u=t.x-n.x+this.point[s].x,l=t.y-n.y+this.point[s].y;r&&(u+=n.x-t.x,l+=n.y-t.y),a.updateItem(e,{x:u,y:l},!1)},getParentCombo:function(e){var t=this.graph;if(e){var r=t.findById(e);if(r)return r}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var A=e.x-this.origin.x+this.originPoint.minX,I=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:A,y:I})}else{var r=t.get("delegateGroup"),n=null;this.targets.length>1?n=$w(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,u=n.height,l=n.minX,c=n.minY;this.originPoint={x:a,y:o,width:s,height:u,minX:l,minY:c};var d=(0,b.__assign)((0,b.__assign)({},qc.delegateStyle),this.delegateStyle);this.delegateShape=r.addShape("rect",{attrs:(0,b.__assign)({width:n.width,height:n.height,x:n.x,y:n.y},d),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}},updateParentCombos:function(){var e=this,t=e.graph,r=e.targets,n={};r==null||r.forEach(function(a){var o=a.getModel().parentId;o&&(n[o]=t.findById(o))}),Object.values(n).forEach(function(a){a&&t.updateCombo(a)})}},E0="dblclick",Jw=["click","dblclick"],tS={getDefaultCfg:function(){return{trigger:E0,relayout:!0}},getEvents:function(){var e,t;return Jw.includes(this.trigger)?t=this.trigger:(t=E0,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["combo:".concat(t)]="onComboClick",e},onComboClick:function(e){var t=e.item,r=this,n=r.graph,a=r.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;s&&(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},eS=Cl.isPolygonsIntersect,rS=Cl.pathToPoints,w0="shift",nS=["drag","shift","ctrl","alt","control"],aS=function(e,t){var r,n=e.getKeyShape();if(e.get("type")==="path")r=rS(n.attr("path"));else{var a=n.getCanvasBBox();r=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return eS(t,r)},iS={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:w0,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return nS.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=w0,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso,r=e.item;r||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates("dragstart"),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){this.dragging&&(this.trigger!=="drag"&&!this.keydown||(this.points.push({x:e.x,y:e.y}),this.updateLasso(e)))},onDragEnd:function(e){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach(function(r,n){n===0?t.push(["M",r.x,r.y]):t.push(["L",r.x,r.y])}),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(e){e===void 0&&(e="canvas:click");var t=this,r=t.graph,n=t.selectedState,a=t.shouldDeselect,o=r.findAllByState("node",n),s=r.findAllByState("edge",n);(!a||a({action:e,nodes:o,edges:s}))&&(o.forEach(function(u){return r.setItemState(u,n,!1)}),s.forEach(function(u){return r.setItemState(u,n,!1)})),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],r.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this,r=t.graph,n=t.shouldUpdate,a=this.points.map(function(c){return[r.getCanvasByPoint(c.x,c.y).x,r.getCanvasByPoint(c.x,c.y).y]}),o=this.selectedState,s=[],u=[];r.getNodes().forEach(function(c){if(c.isVisible()&&aS(c,a)&&n(c,"select",e)){s.push(c);var d=c.getModel();u.push(d.id),r.setItemState(c,o,!0)}});var l=[];this.includeEdges&&s.forEach(function(c){var d=c.getOutEdges();d.forEach(function(A){if(A.isVisible()){var I=A.getModel(),F=I.source,Z=I.target;u.includes(F)&&u.includes(Z)&&n(A,"select",e)&&(l.push(A),r.setItemState(A,e.selectedState,!0))}})}),this.selectedEdges=l,this.selectedNodes=s,this.onSelect&&this.onSelect(s,l),r.emit("nodeselectchange",{selectedItems:{nodes:s,edges:l},select:!0})},createLasso:function(){var e=this,t=e.graph.get("delegateGroup").addShape("path",{attrs:(0,b.__assign)({path:[]},e.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(e){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},S0="click",oS=["click","drag"],M0=void 0,sS=["shift","ctrl","control","alt","meta",void 0],uS={getDefaultCfg:function(){return{trigger:S0,key:M0,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var e=this;oS.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=S0,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),e.key&&sS.indexOf(e.key.toLowerCase())===-1&&(e.trigger=M0,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return e.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:e.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),e.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=e.item;(!r||r.getID()===t.source||r.getType()!=="node")&&t.cancelCreating({item:t.edge,x:e.x,y:e.y})}},onClick:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=e.item,n=t.graph,a=r.getModel(),o=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd(e,t))return;var s=void 0;o&&(0,f.isFunction)(o)?s=o({source:t.source,target:a.id},t):s=t.edgeConfig;var u=(0,b.__assign)({target:a.id},s);if(t.source===a.id&&(u.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,u,!1),n.get("enabledStack")){var l=(0,b.__assign)((0,b.__assign)({},t.edge.getModel()),{itemType:"edge"}),c={};c.edges=[l],n.pushStack("add",{before:{},after:c})}n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin(e,t))return;var s=void 0;o&&(0,f.isFunction)(o)?s=o({source:a.id,target:a.id},t):s=t.edgeConfig,t.edge=n.addItem("edge",(0,b.__assign)({source:a.id,target:a.id},s),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){var t=this;if(!(t.key&&!t.keydown)){t.edge&&t.edge.destroyed&&t.cancelCreating({item:t.edge});var r={x:e.x,y:e.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:r},!1)}},cancelCreating:function(e){var t,r,n=this;if(!(n.key&&!n.keydown)){var a=n.graph,o=e.item;if(n.addingEdge&&(n.edge===o||!((r=(t=e.target)===null||t===void 0?void 0:t.isCanvas)===null||r===void 0)&&r.call(t))){n.edge&&!n.edge.destroyed&&a.removeItem(n.edge,!1),n.edge=null,n.addingEdge=!1;return}}},onKeyDown:function(e){var t=this,r=e.key;r&&(r.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.addingEdge&&e.edge&&(e.graph.removeItem(e.edge,!1),e.addingEdge=!1,e.edge=null),this.keydown=!1}},_0="ctrl",lS=["shift","ctrl","alt","control"],cS="1",fS={getDefaultCfg:function(){return{trigger:_0,combinedKey:cS,functionName:"fitView",functionParams:[]}},getEvents:function(){return lS.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=_0,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '".concat(this.trigger,"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(t){var r=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===r||n==="control"&&r==="ctrl"||n==="ctrl"&&r==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '".concat(this.functionName,"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D")),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},dS=["shift","ctrl","alt","control","meta"],hS={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0,allowDragOnItem:!0}},getEvents:function(){return(!this.zoomKey||dS.indexOf(this.zoomKey)===-1)&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(e){var t=this;if(this.allowDrag(e)){var r=this.graph,n=Array.isArray(this.zoomKey)?[].concat(this.zoomKey):[this.zoomKey];n.includes("control")&&n.push("ctrl");var a=n.some(function(hn){return e["".concat(hn,"Key")]});if(a){var o=r.get("canvas"),s=o.getPointByClient(e.clientX,e.clientY),u=r.getZoom();e.wheelDelta>0?u=u+u*.05:u=u-u*.05,r.zoomTo(u,{x:s.x,y:s.y})}else{var l=e.deltaX||e.movementX,c=e.deltaY||e.movementY;!c&&navigator.userAgent.indexOf("Firefox")>-1&&(c=-e.wheelDelta*125/3);var d=this.graph.get("width"),A=this.graph.get("height"),I=this.graph.get("canvas").getCanvasBBox(),F=this.scalableRange,Z=this.scalableRange;F<1&&F>-1&&(F=d*F,Z=A*Z);var rt=I.minX,lt=I.maxX,ct=I.minY,pt=I.maxY;l>0?lt<-F?l=0:lt-l<-F&&(l=lt+F):l<0&&(rt>d+F?l=0:rt-l>d+F&&(l=rt-(d+F))),c>0?pt<-Z?c=0:pt-c<-Z&&(c=pt+Z):c<0&&(ct>A+Z?c=0:ct-c>A+Z&&(c=ct-(A+Z))),this.get("direction")==="x"?c=0:this.get("direction")==="y"&&(l=0),r.translate(-l,-c)}e.preventDefault();var _t=this.get("enableOptimize");if(_t){var jt=this.get("optimizeZoom"),oe=this.get("optimized"),ie=r.getNodes(),Ee=r.getEdges(),Re=ie.length,Ae=Ee.length;if(!oe){for(var He=0;He<Re;He++){var ur=ie[He];if(!ur.destroyed)for(var tn=ur.get("group").get("children"),Tn=tn.length,pn=0;pn<Tn;pn++){var Vr=tn[pn];!Vr.destoryed&&!Vr.get("isKeyShape")&&(Vr.set("ori-visibility",Vr.get("ori-visibility")||Vr.get("visible")),Vr.hide())}}for(var Un=0;Un<Ae;Un++)for(var Rn=Ee[Un],tn=Rn.get("group").get("children"),Tn=tn.length,pn=0;pn<Tn;pn++){var Vr=tn[pn];Vr.set("ori-visibility",Vr.get("ori-visibility")||Vr.get("visible")),Vr.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Hr=setTimeout(function(){var hn=r.getZoom(),An=t.get("optimized");if(An){t.set("optimized",!1);for(var On=0;On<Re;On++){var jn=ie[On],ta=jn.get("group").get("children"),ya=ta.length;if(hn<jt){var La=jn.getKeyShape(),_i=La.get("ori-visibility");_i&&La.show()}else for(var ii=0;ii<ya;ii++){var Ci=ta[ii],_i=Ci.get("ori-visibility");!Ci.get("visible")&&_i&&_i&&Ci.show()}}for(var Li=0;Li<Ae;Li++){var oo=Ee[Li],ta=oo.get("group").get("children"),ya=ta.length;if(hn<jt){var La=oo.getKeyShape(),_i=La.get("ori-visibility");_i&&La.show()}else for(var ii=0;ii<ya;ii++){var Ci=ta[ii];if(!Ci.get("visible")){var _i=Ci.get("ori-visibility");_i&&Ci.show()}}}}},100);this.set("timeout",Hr)}}},allowDrag:function(e){var t,r,n=e.target,a=n&&n.isCanvas&&n.isCanvas();if((0,f.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!a)return!1;if((0,f.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,u=o.edge,l=o.combo,c=(r=(t=e.item)===null||t===void 0?void 0:t.getType)===null||r===void 0?void 0:r.call(t);if(!s&&c==="node"||!u&&c==="edge"||!l&&c==="combo")return!1}return!0}},vS={"drag-canvas":Bw,"zoom-canvas":jw,"drag-node":Fw,"activate-relations":zw,"brush-select":Uw,"click-select":Yw,"lasso-select":iS,tooltip:Vw,"edge-tooltip":Hw,"collapse-expand":Kw,"drag-combo":qw,"collapse-expand-combo":tS,"create-edge":uS,"shortcuts-call":fS,"scroll-canvas":hS};(0,f.each)(vS,function(i,e){fp(e,i)});var pS=(0,b.__assign)((0,b.__assign)({},m),Lm),oM=jo.Grid,sM=jo.Minimap,uM=jo.Bundling,lM=jo.Menu,gS=jo.Fisheye,cM=jo.ToolBar,fM=jo.Tooltip,mS=jo.TimeBar,yS=jo.ImageMinimap,bS=jo.EdgeFilterLens,xS=jo.SnapLine,dM=jo.Legend,ES=jo.Annotation,C0={version:qc.version,Graph:ng,TreeGraph:pb,Util:Cl,Layout:qa.Layouts,TreeLayout:$1,registerLayout:Q1,Global:qc,registerBehavior:fp,registerCombo:Pm,registerEdge:cp,registerNode:Ml,Minimap:jo.Minimap,Grid:jo.Grid,Bundling:jo.Bundling,Menu:jo.Menu,ToolBar:jo.ToolBar,Tooltip:jo.Tooltip,Legend:jo.Legend,TimeBar:mS,SnapLine:xS,Fisheye:gS,ImageMinimap:yS,EdgeFilterLens:bS,Annotation:ES,Algorithm:pS,Arrow:ip,Marker:op,Shape:fc};C0.version="4.8.8";var wS=C0,hM="4.8.8"},199905:function(ze,G,C){"use strict";C.r(G),C.d(G,{Graph:function(){return V},GraphWithEvent:function(){return Ct},algorithm:function(){return m},comparision:function(){return S},essence:function(){return R},generate:function(){return M}});var m={};C.r(m),C.d(m,{components:function(){return se},dfs:function(){return ne},dijkstra:function(){return vr},dijkstraAll:function(){return Or},findCycles:function(){return er},floydWarshall:function(){return ae},isAcyclic:function(){return Xe},postorder:function(){return Qt},preorder:function(){return Nt},prim:function(){return Dt},tarjan:function(){return nn},topsort:function(){return Nn}});var R={};C.r(R),C.d(R,{hasSelfLoop:function(){return or},isGraph:function(){return Lr},isNullGraph:function(){return Ve},isSimpleGraph:function(){return ln}});var S={};C.r(S),C.d(S,{containAllSameEdges:function(){return gt},containAllSameNodes:function(){return $},containSameEdges:function(){return ut},containSameNodes:function(){return tt},getSameEdges:function(){return O},getSameNodes:function(){return B},isGraphComplement:function(){return Ar},isGraphContainsAnother:function(){return zt},isGraphOptionSame:function(){return _},isGraphSame:function(){return Ft}});var M={};C.r(M),C.d(M,{getGraphComplement:function(){return Mr}});var L;(function(ce){ce.DEFAULT_EDGE_NAME="\0",ce.GRAPH_NODE="\0",ce.EDGE_KEY_DELIM=""})(L||(L={}));function P(ce,Xt){var he=ce.get(Xt)||0;ce.set(Xt,he+1)}function p(ce,Xt){var he=ce.get(Xt);he!==void 0&&(he=he-1,he>0?ce.set(Xt,he):ce.delete(Xt))}function g(ce,Xt,he,Me){var be=String(Xt),Ne=String(he);if(!ce&&be>Ne){var ir=be;be=Ne,Ne=ir}return be+L.EDGE_KEY_DELIM+Ne+L.EDGE_KEY_DELIM+(Me===void 0?L.DEFAULT_EDGE_NAME:Me)}function w(ce,Xt,he,Me){var be=String(Xt),Ne=String(he),ir={v:Xt,w:he};if(!ce&&be>Ne){var cr=ir.v;ir.v=ir.w,ir.w=cr}return Me!==void 0&&(ir.name=Me),ir}function x(ce,Xt){return g(ce,Xt.v,Xt.w,Xt.name)}function y(ce){return typeof ce=="function"}var T=function(Xt){return Xt.nodes().map(function(he){var Me=Xt.node(he),be=Xt.parent(he),Ne={id:he,value:Me,parent:be};return Ne.value===void 0&&delete Ne.value,Ne.parent===void 0&&delete Ne.parent,Ne})},E=function(Xt){return Xt.edges().map(function(he){var Me=Xt.edge(he),be={v:he.v,w:he.w,value:Me,name:he.name};return be.name===void 0&&delete be.name,be.value===void 0&&delete be.value,be})},D=function(Xt){var he={options:{directed:Xt.isDirected(),multigraph:Xt.isMultigraph(),compound:Xt.isCompound()},nodes:T(Xt),edges:E(Xt),value:Xt.graph()};return he.value===void 0&&delete he.value,he},k=function(Xt){var he=new V(Xt.options);return Xt.value!==void 0&&he.setGraph(Xt.value),Xt.nodes.forEach(function(Me){he.setNode(Me.id,Me.value),Me.parent&&he.setParent(Me.id,Me.parent)}),Xt.edges.forEach(function(Me){he.setEdge(Me.v,Me.w,Me.value,Me.name)}),he};function b(ce,Xt){var he=Object.keys(ce);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(ce);Xt&&(Me=Me.filter(function(be){return Object.getOwnPropertyDescriptor(ce,be).enumerable})),he.push.apply(he,Me)}return he}function f(ce){for(var Xt=1;Xt<arguments.length;Xt++){var he=arguments[Xt]!=null?arguments[Xt]:{};Xt%2?b(Object(he),!0).forEach(function(Me){W(ce,Me,he[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(he)):b(Object(he)).forEach(function(Me){Object.defineProperty(ce,Me,Object.getOwnPropertyDescriptor(he,Me))})}return ce}function W(ce,Xt,he){return Xt in ce?Object.defineProperty(ce,Xt,{value:he,enumerable:!0,configurable:!0,writable:!0}):ce[Xt]=he,ce}function X(ce,Xt){if(!(ce instanceof Xt))throw new TypeError("Cannot call a class as a function")}function z(ce,Xt){for(var he=0;he<Xt.length;he++){var Me=Xt[he];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(ce,Me.key,Me)}}function U(ce,Xt,he){return Xt&&z(ce.prototype,Xt),he&&z(ce,he),Object.defineProperty(ce,"prototype",{writable:!1}),ce}var j={compound:!1,multigraph:!1,directed:!0},V=function(){function ce(){var Xt=this,he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};X(this,ce),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=L.GRAPH_NODE,this.label=void 0,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.parentMap=void 0,this.childrenMap=void 0,this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return Xt.directed},this.isMultigraph=function(){return Xt.multigraph},this.isCompound=function(){return Xt.compound},this.setGraph=function(be){return Xt.label=be,Xt},this.graph=function(){return Xt.label},this.setDefaultNodeLabel=function(be){return y(be)?Xt.defaultNodeLabelFn=be:Xt.defaultNodeLabelFn=function(){return be},Xt},this.nodeCount=function(){return Xt.nodeCountNum},this.node=function(be){return Xt.nodesLabelMap.get(be)},this.nodes=function(){return Array.from(Xt.nodesLabelMap.keys())},this.sources=function(){return Xt.nodes().filter(function(be){var Ne;return!(!((Ne=Xt.inEdgesMap.get(be))===null||Ne===void 0)&&Ne.size)})},this.sinks=function(){return Xt.nodes().filter(function(be){var Ne;return!(!((Ne=Xt.outEdgesMap.get(be))===null||Ne===void 0)&&Ne.size)})},this.setNodes=function(be,Ne){return be.map(function(ir){return Xt.setNode(ir,Ne)}),Xt},this.hasNode=function(be){return Xt.nodesLabelMap.has(be)},this.checkCompound=function(){if(!Xt.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(be){if(Xt.isCompound()){var Ne,ir=(Ne=Xt.parentMap)===null||Ne===void 0?void 0:Ne.get(be);if(ir!==Xt.GRAPH_NODE)return ir}},this.removeFromParentsChildList=function(be){var Ne=Xt.parentMap.get(be);Xt.childrenMap.get(Ne).delete(be)},this.setParent=function(be,Ne){var ir,cr;Xt.checkCompound();for(var en=Ne===void 0?Xt.GRAPH_NODE:Ne,Dn=Xt.parent(en);Dn;){if(be===Dn)throw new Error("Setting "+Ne+" as parent of "+be+" would create a cycle");Dn=Xt.parent(Dn)}Ne&&Xt.setNode(Ne),Xt.setNode(be),Xt.removeFromParentsChildList(be),(ir=Xt.parentMap)===null||ir===void 0||ir.set(be,en);var un=Xt.childrenMap.get(en);return un.set(be,!0),(cr=Xt.childrenMap)===null||cr===void 0||cr.set(en,un),Xt},this.children=function(be){var Ne=be===void 0?Xt.GRAPH_NODE:be;if(Xt.isCompound()){var ir,cr=(ir=Xt.childrenMap)===null||ir===void 0?void 0:ir.get(Ne);return cr?Array.from(cr.keys()):void 0}if(Ne===Xt.GRAPH_NODE)return Xt.nodes();if(be&&Xt.hasNode(be))return[]},this.predecessors=function(be){var Ne=Xt.predecessorsMap.get(be);return Ne?Array.from(Ne.keys()):void 0},this.successors=function(be){var Ne=Xt.successorsMap.get(be);return Ne?Array.from(Ne.keys()):void 0},this.neighbors=function(be){var Ne;if(Xt.hasNode(be))return Array.from(new Set((Ne=Xt.predecessors(be))===null||Ne===void 0?void 0:Ne.concat(Xt.successors(be))))},this.isLeaf=function(be){var Ne;if(Xt.isDirected()){var ir;return!(!((ir=Xt.successors(be))===null||ir===void 0)&&ir.length)}return!(!((Ne=Xt.neighbors(be))===null||Ne===void 0)&&Ne.length)},this.filterNodes=function(be){var Ne=Xt.directed,ir=Xt.multigraph,cr=Xt.compound,en=new ce({directed:Ne,multigraph:ir,compound:cr});if(en.setGraph(Xt.graph()),Xt.nodes().forEach(function(un){be(un)&&en.setNode(un,Xt.node(un))}),Xt.edges().forEach(function(un){en.hasNode(un.v)&&en.hasNode(un.w)&&en.setEdgeObj(un,Xt.edge(un))}),cr){var Dn=function(Fn){for(var sn=Xt.parent(Fn);sn!==void 0&&!en.hasNode(sn);)sn=Xt.parent(sn);return sn};en.nodes().forEach(function(un){en.setParent(un,Dn(un))})}return en},this.setDefaultEdgeLabel=function(be){return y(be)?Xt.defaultEdgeLabelFn=be:Xt.defaultEdgeLabelFn=function(){return be},Xt},this.edgeCount=function(){return Xt.edgeCountNum},this.setEdgeObj=function(be,Ne){return Xt.setEdge(be.v,be.w,Ne,be.name)},this.setPath=function(be,Ne){return be.reduce(function(ir,cr){return Xt.setEdge(ir,cr,Ne),cr}),Xt},this.edgeFromArgs=function(be,Ne,ir){return Xt.edge({v:be,w:Ne,name:ir})},this.edge=function(be){return Xt.edgesLabelsMap.get(x(Xt.isDirected(),be))},this.hasEdge=function(be,Ne,ir){return Xt.edgesLabelsMap.has(x(Xt.isDirected(),{v:be,w:Ne,name:ir}))},this.removeEdgeObj=function(be){var Ne=be.v,ir=be.w,cr=be.name;return Xt.removeEdge(Ne,ir,cr)},this.edges=function(){return Array.from(Xt.edgesMap.values())},this.inEdges=function(be,Ne){var ir=Xt.inEdgesMap.get(be);if(ir)return Array.from(ir.values()).filter(function(cr){return!Ne||cr.v===Ne})},this.outEdges=function(be,Ne){var ir=Xt.outEdgesMap.get(be);if(ir)return Array.from(ir.values()).filter(function(cr){return!Ne||cr.w===Ne})},this.nodeEdges=function(be,Ne){var ir;if(Xt.hasNode(be))return(ir=Xt.inEdges(be,Ne))===null||ir===void 0?void 0:ir.concat(Xt.outEdges(be,Ne))},this.toJSON=function(){return D(Xt)},this.nodeInDegree=function(be){var Ne=Xt.inEdgesMap.get(be);return Ne?Ne.size:0},this.nodeOutDegree=function(be){var Ne=Xt.outEdgesMap.get(be);return Ne?Ne.size:0},this.nodeDegree=function(be){return Xt.nodeInDegree(be)+Xt.nodeOutDegree(be)},this.source=function(be){return be.v},this.target=function(be){return be.w};var Me=f(f({},j),he);this.compound=Me.compound,this.directed=Me.directed,this.multigraph=Me.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}return U(ce,[{key:"setNode",value:function(he,Me){var be=this.nodesLabelMap,Ne=this.defaultNodeLabelFn,ir=this.isCompound,cr=this.parentMap,en=this.childrenMap,Dn=this.inEdgesMap,un=this.outEdgesMap,Fn=this.predecessorsMap,sn=this.successorsMap;if(be.has(he))return Me!==void 0&&be.set(he,Me),this;if(be.set(he,Me||Ne(he)),ir()){var Bn;cr==null||cr.set(he,this.GRAPH_NODE),en==null||en.set(he,new Map),en!=null&&en.has(this.GRAPH_NODE)||en==null||en.set(this.GRAPH_NODE,new Map),en==null||(Bn=en.get(this.GRAPH_NODE))===null||Bn===void 0||Bn.set(he,!0)}return[Dn,un,Fn,sn].forEach(function(qn){return qn.set(he,new Map)}),this.nodeCountNum+=1,this}},{key:"removeNode",value:function(he){var Me=this;if(this.hasNode(he)){var be=function(oa){Me.removeEdge(oa.v,oa.w,oa.name)},Ne=this.inEdgesMap,ir=this.outEdgesMap,cr=this.predecessorsMap,en=this.successorsMap,Dn=this.nodesLabelMap;if(this.isCompound()){var un,Fn,sn;this.removeFromParentsChildList(he),(un=this.parentMap)===null||un===void 0||un.delete(he),(Fn=this.children(he))===null||Fn===void 0||Fn.forEach(function(sa){return Me.setParent(sa)}),(sn=this.childrenMap)===null||sn===void 0||sn.delete(he)}var Bn=Ne.get(he),qn=ir.get(he);Array.from(Bn.values()).forEach(function(sa){return be(sa)}),Array.from(qn.values()).forEach(function(sa){return be(sa)}),Dn.delete(he),Ne.delete(he),ir.delete(he),cr.delete(he),en.delete(he),this.nodeCountNum-=1}return this}},{key:"setEdge",value:function(he,Me,be,Ne){var ir,cr,en=w(this.isDirected(),he,Me,Ne),Dn=x(this.isDirected(),en),un=en.v,Fn=en.w;if(this.edgesLabelsMap.has(Dn))return this.edgesLabelsMap.set(Dn,be),this;if(Ne!==void 0&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(un),this.setNode(Fn),this.edgesLabelsMap.set(Dn,be||this.defaultEdgeLabelFn(un,Fn,Ne)),Object.freeze(en),this.edgesMap.set(Dn,en);var sn=this.predecessorsMap.get(Fn),Bn=this.successorsMap.get(un);return P(sn,un),P(Bn,Fn),(ir=this.inEdgesMap.get(Fn))===null||ir===void 0||ir.set(Dn,en),(cr=this.outEdgesMap.get(un))===null||cr===void 0||cr.set(Dn,en),this.edgeCountNum+=1,this}},{key:"removeEdge",value:function(he,Me,be){var Ne=g(this.isDirected(),he,Me,be),ir=this.edgesMap.get(Ne);if(ir){var cr=w(this.isDirected(),he,Me,be),en=cr.v,Dn=cr.w;this.edgesLabelsMap.delete(Ne),this.edgesMap.delete(Ne);var un=this.predecessorsMap.get(Dn),Fn=this.successorsMap.get(en);p(un,en),p(Fn,Dn),this.inEdgesMap.get(Dn).delete(Ne),this.outEdgesMap.get(en).delete(Ne),this.edgeCountNum-=1}return this}}]),ce}();V.fromJSON=k;function J(ce){return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Xt){return typeof Xt}:function(Xt){return Xt&&typeof Symbol=="function"&&Xt.constructor===Symbol&&Xt!==Symbol.prototype?"symbol":typeof Xt},J(ce)}function q(ce,Xt){if(!(ce instanceof Xt))throw new TypeError("Cannot call a class as a function")}function et(ce,Xt){for(var he=0;he<Xt.length;he++){var Me=Xt[he];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(ce,Me.key,Me)}}function st(ce,Xt,he){return Xt&&et(ce.prototype,Xt),he&&et(ce,he),Object.defineProperty(ce,"prototype",{writable:!1}),ce}function ot(){return typeof Reflect!="undefined"&&Reflect.get?ot=Reflect.get:ot=function(Xt,he,Me){var be=mt(Xt,he);if(be){var Ne=Object.getOwnPropertyDescriptor(be,he);return Ne.get?Ne.get.call(arguments.length<3?Xt:Me):Ne.value}},ot.apply(this,arguments)}function mt(ce,Xt){for(;!Object.prototype.hasOwnProperty.call(ce,Xt)&&(ce=bt(ce),ce!==null););return ce}function ft(ce,Xt){if(typeof Xt!="function"&&Xt!==null)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(Xt&&Xt.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Object.defineProperty(ce,"prototype",{writable:!1}),Xt&&Bt(ce,Xt)}function Bt(ce,Xt){return Bt=Object.setPrototypeOf||function(Me,be){return Me.__proto__=be,Me},Bt(ce,Xt)}function St(ce){var Xt=Q();return function(){var Me=bt(ce),be;if(Xt){var Ne=bt(this).constructor;be=Reflect.construct(Me,arguments,Ne)}else be=Me.apply(this,arguments);return wt(this,be)}}function wt(ce,Xt){if(Xt&&(J(Xt)==="object"||typeof Xt=="function"))return Xt;if(Xt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H(ce)}function H(ce){if(ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function Q(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ce){return!1}}function bt(ce){return bt=Object.setPrototypeOf?Object.getPrototypeOf:function(he){return he.__proto__||Object.getPrototypeOf(he)},bt(ce)}var Ct=function(ce){ft(he,ce);var Xt=St(he);function he(){var Me;q(this,he);for(var be=arguments.length,Ne=new Array(be),ir=0;ir<be;ir++)Ne[ir]=arguments[ir];return Me=Xt.call.apply(Xt,[this].concat(Ne)),Me.eventPool={},Me}return st(he,[{key:"appendEvent",value:function(be,Ne){this.eventPool[be]||(this.eventPool[be]=[]),this.eventPool[be].push(Ne)}},{key:"removeEvent",value:function(be,Ne){if(this.eventPool[be]){var ir=this.eventPool[be].indexOf(Ne);ir>-1&&this.eventPool[be].splice(ir,1)}}},{key:"emitEvent",value:function(be){for(var Ne=arguments.length,ir=new Array(Ne>1?Ne-1:0),cr=1;cr<Ne;cr++)ir[cr-1]=arguments[cr];this.eventPool[be]&&this.eventPool[be].forEach(function(en){en.apply(void 0,ir)})}},{key:"setNode",value:function(be,Ne){return ot(bt(he.prototype),"setNode",this).call(this,be,Ne),this.emitEvent("nodeAdd",be,Ne),this}},{key:"removeNode",value:function(be){return ot(bt(he.prototype),"removeNode",this).call(this,be),this.emitEvent("nodeRemove",be),this}},{key:"setEdge",value:function(be,Ne,ir,cr){return ot(bt(he.prototype),"setEdge",this).call(this,be,Ne,ir,cr),this.emitEvent("edgeAdd",be,Ne,ir,cr),this}},{key:"removeEdge",value:function(be,Ne,ir){return ot(bt(he.prototype),"removeEdge",this).call(this,be,Ne,ir),this.emitEvent("edgeRemove",be,Ne,ir),this}}]),he}(V);function nt(ce,Xt){for(var he=0;he<Xt.length;he++){var Me=Xt[he];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(ce,Me.key,Me)}}function dt(ce,Xt,he){return Xt&&nt(ce.prototype,Xt),he&&nt(ce,he),Object.defineProperty(ce,"prototype",{writable:!1}),ce}function Tt(ce,Xt){if(!(ce instanceof Xt))throw new TypeError("Cannot call a class as a function")}var At=dt(function ce(){var Xt=this;Tt(this,ce),this.arr=[],this.keyIndice=new Map,this.size=function(){return Xt.arr.length},this.keys=function(){return Xt.arr.map(function(he){return he.key})},this.has=function(he){return Xt.keyIndice.has(he)},this.priority=function(he){var Me=Xt.keyIndice.get(he);if(Me!==void 0)return Xt.arr[Me].priority},this.swap=function(he,Me){var be=Xt.arr,Ne=Xt.keyIndice,ir=[be[he],be[Me]],cr=ir[0],en=ir[1];be[he]=en,be[Me]=cr,Ne.set(cr.key,Me),Ne.set(en.key,he)},this.innerDecrease=function(he){for(var Me=Xt.arr,be=Me[he].priority,Ne,ir=he;ir!==0;){var cr;if(Ne=ir>>1,((cr=Me[Ne])===null||cr===void 0?void 0:cr.priority)<be)break;Xt.swap(ir,Ne),ir=Ne}},this.heapify=function(he){var Me=Xt.arr,be=he<<1,Ne=be+1,ir=he;be<Me.length&&(ir=Me[be].priority<Me[ir].priority?be:ir,Ne<Me.length&&(ir=Me[Ne].priority<Me[ir].priority?Ne:ir),ir!==he&&(Xt.swap(he,ir),Xt.heapify(ir)))},this.min=function(){if(Xt.size()===0)throw new Error("Queue underflow");return Xt.arr[0].key},this.add=function(he,Me){var be=Xt.keyIndice,Ne=Xt.arr;if(!be.has(he)){var ir=Ne.length;return be.set(he,ir),Ne.push({key:he,priority:Me}),Xt.innerDecrease(ir),!0}return!1},this.removeMin=function(){Xt.swap(0,Xt.arr.length-1);var he=Xt.arr.pop();return Xt.keyIndice.delete(he.key),Xt.heapify(0),he.key},this.decrease=function(he,Me){if(!Xt.has(he))throw new Error("There's no key named ".concat(he));var be=Xt.keyIndice.get(he);if(Me>Xt.arr[be].priority)throw new Error("New priority is greater than current priority.Key: ".concat(he," Old: + ").concat(Xt.arr[be].priority," New: ").concat(Me));Xt.arr[be].priority=Me,Xt.innerDecrease(be)}}),xt=function(Xt,he){var Me=new V,be=new Map,Ne=new At,ir;function cr(un){var Fn=un.v===ir?un.w:un.v,sn=Ne.priority(Fn);if(sn!==void 0){var Bn=he(un);Bn<sn&&(be.set(Fn,ir),Ne.decrease(Fn,Bn))}}if(Xt.nodeCount()===0)return Me;Xt.nodes().forEach(function(un){Ne.add(un,Number.POSITIVE_INFINITY),Me.setNode(un)}),Ne.decrease(Xt.nodes()[0],0);for(var en=!1;Ne.size()>0;){var Dn;if(ir=Ne.removeMin(),be.has(ir))Me.setEdge(ir,be.get(ir));else{if(en)throw new Error("Input graph is not connected: "+Xt.graph());en=!0}(Dn=Xt.nodeEdges(ir))===null||Dn===void 0||Dn.forEach(cr)}return Me},Dt=xt,Ht=function(Xt){var he=new Set,Me=[],be=Xt.nodes();return be.forEach(function(Ne){for(var ir=[],cr=[Ne];cr.length>0;){var en=cr.pop();if(!he.has(en)){var Dn,un;he.add(en),ir.push(en),(Dn=Xt.successors(en))===null||Dn===void 0||Dn.forEach(function(Fn){return cr.push(Fn)}),(un=Xt.predecessors(en))===null||un===void 0||un.forEach(function(Fn){return cr.push(Fn)})}}ir.length&&Me.push(ir)}),Me},se=Ht,re=function ce(Xt,he,Me,be,Ne,ir){be.includes(he)||(be.push(he),Me||ir.push(he),Ne(he).forEach(function(cr){return ce(Xt,cr,Me,be,Ne,ir)}),Me&&ir.push(he))},It=function(Xt,he,Me){var be=Array.isArray(he)?he:[he],Ne=function(Dn){return Xt.isDirected()?Xt.successors(Dn):Xt.neighbors(Dn)},ir=[],cr=[];return be.forEach(function(en){if(Xt.hasNode(en))re(Xt,en,Me==="post",cr,Ne,ir);else throw new Error("Graph does not have node: "+en)}),ir},ne=It;function pe(ce,Xt){return ue(ce)||Kt(ce,Xt)||Jt(ce,Xt)||Wt()}function Wt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jt(ce,Xt){if(ce){if(typeof ce=="string")return $t(ce,Xt);var he=Object.prototype.toString.call(ce).slice(8,-1);if(he==="Object"&&ce.constructor&&(he=ce.constructor.name),he==="Map"||he==="Set")return Array.from(ce);if(he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return $t(ce,Xt)}}function $t(ce,Xt){(Xt==null||Xt>ce.length)&&(Xt=ce.length);for(var he=0,Me=new Array(Xt);he<Xt;he++)Me[he]=ce[he];return Me}function Kt(ce,Xt){var he=ce==null?null:typeof Symbol!="undefined"&&ce[Symbol.iterator]||ce["@@iterator"];if(he!=null){var Me=[],be=!0,Ne=!1,ir,cr;try{for(he=he.call(ce);!(be=(ir=he.next()).done)&&(Me.push(ir.value),!(Xt&&Me.length===Xt));be=!0);}catch(en){Ne=!0,cr=en}finally{try{!be&&he.return!=null&&he.return()}finally{if(Ne)throw cr}}return Me}}function ue(ce){if(Array.isArray(ce))return ce}var Se=function(){return 1},Pt=function(Xt,he,Me,be){return Fe(Xt,he,Me||Se,be||function(Ne){return Xt.outEdges(Ne)})},Fe=function(Xt,he,Me,be){var Ne=new Map,ir=new At,cr,en,Dn=function(sn){var Bn=sn.v!==cr?sn.v:sn.w,qn=Ne.get(Bn),sa=Me(sn),oa=en.distance+sa;if(sa<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+sn+" Weight: "+sa);oa<qn.distance&&(qn.distance=oa,qn.predecessor=cr,ir.decrease(Bn,oa))};for(Xt.nodes().forEach(function(Fn){var sn=Fn===he?0:Number.POSITIVE_INFINITY;Ne.set(Fn,{distance:sn}),ir.add(Fn,sn)});ir.size()>0&&(cr=ir.removeMin(),en=Ne.get(cr),!(en&&en.distance===Number.POSITIVE_INFINITY));)be(cr).forEach(Dn);var un={};return Array.from(Ne.entries()).forEach(function(Fn){var sn=pe(Fn,2),Bn=sn[0],qn=sn[1];return un[String(Bn)]=qn,un}),un},vr=Pt,Tr=function(Xt,he,Me){var be={};return Xt.nodes().forEach(function(Ne){return be[String(Ne)]=vr(Xt,Ne,he,Me),be}),be},Or=Tr,Fr=function(Xt){var he=0,Me=[],be=new Map,Ne=[];function ir(cr){var en,Dn={onStack:!0,lowlink:he,index:he};if(be.set(cr,Dn),he+=1,Me.push(cr),(en=Xt.successors(cr))===null||en===void 0||en.forEach(function(Bn){var qn;if(be.has(Bn)){if(!((qn=be.get(Bn))===null||qn===void 0)&&qn.onStack){var oa=be.get(Bn);Dn.lowlink=Math.min(Dn.lowlink,oa.index)}}else{ir(Bn);var sa=be.get(Bn);Dn.lowlink=Math.min(Dn.lowlink,sa.lowlink)}}),Dn.lowlink===Dn.index){var un=[],Fn;do{Fn=Me.pop();var sn=be.get(Fn);sn.onStack=!1,un.push(Fn)}while(cr!==Fn);Ne.push(un)}}return Xt.nodes().forEach(function(cr){be.has(cr)||ir(cr)}),Ne},nn=Fr,an=function(Xt){return nn(Xt).filter(function(he){return he.length>1||he.length===1&&Xt.hasEdge(he[0],he[0])})},er=an;function Rr(ce){return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Xt){return typeof Xt}:function(Xt){return Xt&&typeof Symbol=="function"&&Xt.constructor===Symbol&&Xt!==Symbol.prototype?"symbol":typeof Xt},Rr(ce)}function qr(ce,Xt){for(var he=0;he<Xt.length;he++){var Me=Xt[he];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(ce,Me.key,Me)}}function xr(ce,Xt,he){return Xt&&qr(ce.prototype,Xt),he&&qr(ce,he),Object.defineProperty(ce,"prototype",{writable:!1}),ce}function Gr(ce,Xt){if(!(ce instanceof Xt))throw new TypeError("Cannot call a class as a function")}function Dr(ce,Xt){if(typeof Xt!="function"&&Xt!==null)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(Xt&&Xt.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Object.defineProperty(ce,"prototype",{writable:!1}),Xt&&on(ce,Xt)}function We(ce){var Xt=Nr();return function(){var Me=dn(ce),be;if(Xt){var Ne=dn(this).constructor;be=Reflect.construct(Me,arguments,Ne)}else be=Me.apply(this,arguments);return Je(this,be)}}function Je(ce,Xt){if(Xt&&(Rr(Xt)==="object"||typeof Xt=="function"))return Xt;if(Xt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gn(ce)}function gn(ce){if(ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function rr(ce){var Xt=typeof Map=="function"?new Map:void 0;return rr=function(Me){if(Me===null||!kn(Me))return Me;if(typeof Me!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Xt!="undefined"){if(Xt.has(Me))return Xt.get(Me);Xt.set(Me,be)}function be(){return jr(Me,arguments,dn(this).constructor)}return be.prototype=Object.create(Me.prototype,{constructor:{value:be,enumerable:!1,writable:!0,configurable:!0}}),on(be,Me)},rr(ce)}function jr(ce,Xt,he){return Nr()?jr=Reflect.construct:jr=function(be,Ne,ir){var cr=[null];cr.push.apply(cr,Ne);var en=Function.bind.apply(be,cr),Dn=new en;return ir&&on(Dn,ir.prototype),Dn},jr.apply(null,arguments)}function Nr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ce){return!1}}function kn(ce){return Function.toString.call(ce).indexOf("[native code]")!==-1}function on(ce,Xt){return on=Object.setPrototypeOf||function(Me,be){return Me.__proto__=be,Me},on(ce,Xt)}function dn(ce){return dn=Object.setPrototypeOf?Object.getPrototypeOf:function(he){return he.__proto__||Object.getPrototypeOf(he)},dn(ce)}var En=function(ce){Dr(he,ce);var Xt=We(he);function he(){return Gr(this,he),Xt.apply(this,arguments)}return xr(he)}(rr(Error));function Pn(ce){var Xt=new Set,he=new Set,Me=[];function be(Ne){if(he.has(Ne))throw new En;if(!Xt.has(Ne)){var ir;he.add(Ne),Xt.add(Ne),(ir=ce.predecessors(Ne))===null||ir===void 0||ir.forEach(be),he.delete(Ne),Me.push(Ne)}}if(ce.sinks().forEach(be),Xt.size!==ce.nodeCount())throw new En;return Me}var Nn=Pn,at=function(Xt){try{Nn(Xt)}catch(he){if(he instanceof En)return!1;throw he}return!0},Xe=at,Zt=function(Xt,he){return ne(Xt,he,"post")},Qt=Zt,Mt=function(Xt,he){return ne(Xt,he,"pre")},Nt=Mt,Ut=function(){return 1};function vt(ce,Xt,he){return Rt(ce,Xt||Ut,he||function(Me){return ce.outEdges(Me)})}function Rt(ce,Xt,he){var Me={},be=ce.nodes();return be.forEach(function(Ne){var ir=String(Ne);Me[ir]={},Me[ir][ir]={distance:0},be.forEach(function(cr){Ne!==cr&&(Me[ir][String(cr)]={distance:Number.POSITIVE_INFINITY})}),he(Ne).forEach(function(cr){var en=cr.v===Ne?cr.w:cr.v,Dn=Xt(cr);Me[ir][String(en)]={distance:Dn,predecessor:Ne}})}),be.forEach(function(Ne){var ir=String(Ne),cr=Me[ir];be.forEach(function(en){var Dn=String(en),un=Me[Dn];be.forEach(function(Fn){var sn=String(Fn),Bn=un[ir],qn=cr[sn],sa=un[sn],oa=Bn.distance+qn.distance;oa<sa.distance&&(sa.distance=oa,sa.predecessor=qn.predecessor)})})}),Me}var ae=vt,tt=function(Xt,he){for(var Me=Xt.nodes(),be=0;be<Me.length;be++){var Ne=Me[be];if(he.hasNode(Ne))return!0}return!1},ut=function(Xt,he){for(var Me=Xt.edges(),be=0;be<Me.length;be++){var Ne=Me[be];if(he.hasEdge(Ne.v,Ne.w,Ne.name))return!0}return!1},B=function(Xt,he){var Me=Xt.nodes(),be=Me.filter(function(Ne){return he.hasNode(Ne)});return be},O=function(Xt,he){var Me=Xt.edges(),be=Me.filter(function(Ne){return he.hasEdge(Ne.v,Ne.w,Ne.name)});return be},_=function(Xt,he){return Xt.isCompound()===he.isCompound()&&Xt.isDirected()===he.isDirected()&&Xt.isMultigraph()===he.isMultigraph()},$=function(Xt,he){var Me=B(Xt,he);return Me.length===Xt.nodes().length},gt=function(Xt,he){var Me=O(Xt,he);return Me.length===Xt.edges().length},Ft=function(Xt,he){return _(Xt,he)&&Xt.nodeCount()===he.nodeCount()&&$(Xt,he)&&Xt.edgeCount()===he.edgeCount()&&gt(Xt,he)},zt=function(Xt,he){return $(Xt,he)&&gt(Xt,he)};function te(ce,Xt){return je(ce)||fr(ce,Xt)||me(ce,Xt)||_e()}function _e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function me(ce,Xt){if(ce){if(typeof ce=="string")return Ue(ce,Xt);var he=Object.prototype.toString.call(ce).slice(8,-1);if(he==="Object"&&ce.constructor&&(he=ce.constructor.name),he==="Map"||he==="Set")return Array.from(ce);if(he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return Ue(ce,Xt)}}function Ue(ce,Xt){(Xt==null||Xt>ce.length)&&(Xt=ce.length);for(var he=0,Me=new Array(Xt);he<Xt;he++)Me[he]=ce[he];return Me}function fr(ce,Xt){var he=ce==null?null:typeof Symbol!="undefined"&&ce[Symbol.iterator]||ce["@@iterator"];if(he!=null){var Me=[],be=!0,Ne=!1,ir,cr;try{for(he=he.call(ce);!(be=(ir=he.next()).done)&&(Me.push(ir.value),!(Xt&&Me.length===Xt));be=!0);}catch(en){Ne=!0,cr=en}finally{try{!be&&he.return!=null&&he.return()}finally{if(Ne)throw cr}}return Me}}function je(ce){if(Array.isArray(ce))return ce}function Lr(ce){return ce instanceof V}function ln(ce){if(ce.isMultigraph())return!1;for(var Xt=ce.edges(),he=new Map,Me=0;Me<Xt.length;Me++){var be=Xt[Me];if(be.v===be.w)return!1;var Ne=[be.v,be.w].sort(),ir=te(Ne,2),cr=ir[0],en=ir[1],Dn="".concat(cr,"-").concat(en);if(he.has(Dn))return!1;he.set(Dn,!0)}return!0}function Ve(ce){return ce.nodes().length===0}function or(ce){for(var Xt=ce.edges(),he=0;he<Xt.length;he++){var Me=Xt[he];if(Me.v===Me.w)return!0}return!1}var Ar=function(Xt,he){if(!ln(Xt)||!ln(he)||!$(Xt,he)||ut(Xt,he))return!1;var Me=Xt.nodeCount();return Xt.edgeCount()+he.edgeCount()===Me*(Me-1)/2},Mr=function(Xt){if(!ln(Xt))return null;for(var he=Xt.nodeCount(),Me=new V({compound:Xt.isCompound(),directed:Xt.isDirected(),multigraph:Xt.isMultigraph()}),be=Xt.nodes(),Ne=0;Ne<he;Ne++){var ir=be[Ne];Me.setNode(ir,Xt.node(ir));for(var cr=Ne+1;cr<he;cr++){var en=be[cr];Xt.hasEdge(ir,en)||Me.setEdge(ir,en)}}return Me}},981746:function(ze){(function(C,m){ze.exports=m()})(typeof self!="undefined"?self:this,function(){return function(G){var C={};function m(R){if(C[R])return C[R].exports;var S=C[R]={i:R,l:!1,exports:{}};return G[R].call(S.exports,S,S.exports,m),S.l=!0,S.exports}return m.m=G,m.c=C,m.d=function(R,S,M){m.o(R,S)||Object.defineProperty(R,S,{configurable:!1,enumerable:!0,get:M})},m.n=function(R){var S=R&&R.__esModule?function(){return R.default}:function(){return R};return m.d(S,"a",S),S},m.o=function(R,S){return Object.prototype.hasOwnProperty.call(R,S)},m.p="",m(m.s=36)}([function(G,C,m){"use strict";var R=m(3);C.a=function(S){return Array.isArray?Array.isArray(S):Object(R.a)(S,"Array")}},function(G,C,m){"use strict";var R=function(S){return S!==null&&typeof S!="function"&&isFinite(S.length)};C.a=R},function(G,C,m){"use strict";var R=m(3);C.a=function(S){return Object(R.a)(S,"Function")}},function(G,C,m){"use strict";var R={}.toString,S=function(M,L){return R.call(M)==="[object "+L+"]"};C.a=S},function(G,C,m){"use strict";var R=m(3);C.a=function(S){return Object(R.a)(S,"String")}},function(G,C,m){"use strict";var R=m(3),S=function(M){return Object(R.a)(M,"Number")};C.a=S},function(G,C,m){var R=m(38),S=R.mix;function M(L,P,p,g){return g===void 0&&(g="height"),p==="center"?(L[g]+P[g])/2:L.height}G.exports={assign:S,getHeight:M}},function(G,C,m){"use strict";var R=function(S){return S==null};C.a=R},function(G,C,m){"use strict";var R=m(0),S=m(12);function M(L,P){if(L){var p;if(Object(R.a)(L))for(var g=0,w=L.length;g<w&&(p=P(L[g],g),p!==!1);g++);else if(Object(S.a)(L)){for(var x in L)if(L.hasOwnProperty(x)&&(p=P(L[x],x),p===!1))break}}}C.a=M},function(G,C,m){"use strict";var R=m(7);C.a=function(S){return Object(R.a)(S)?"":S.toString()}},function(G,C,m){"use strict";var R=m(14),S=m(3),M=function(L){if(!Object(R.a)(L)||!Object(S.a)(L,"Object"))return!1;if(Object.getPrototypeOf(L)===null)return!0;for(var P=L;Object.getPrototypeOf(P)!==null;)P=Object.getPrototypeOf(P);return Object.getPrototypeOf(L)===P};C.a=M},function(G,C,m){var R=m(18),S=function(){function M(P,p){p===void 0&&(p={});var g=this;g.options=p,g.rootNode=R(P,p)}var L=M.prototype;return L.execute=function(){throw new Error("please override this method")},M}();G.exports=S},function(G,C,m){"use strict";C.a=function(R){var S=typeof R;return R!==null&&S==="object"||S==="function"}},function(G,C,m){"use strict";var R=m(1),S=function(M,L){return Object(R.a)(M)?M.indexOf(L)>-1:!1};C.a=S},function(G,C,m){"use strict";var R=function(S){return typeof S=="object"&&S!==null};C.a=R},function(G,C,m){"use strict";var R=m(8),S=m(2),M=Object.values?function(L){return Object.values(L)}:function(L){var P=[];return Object(R.a)(L,function(p,g){Object(S.a)(L)&&g==="prototype"||P.push(p)}),P};C.a=M},function(G,C,m){"use strict";C.a=S;function R(M,L){for(var P in L)L.hasOwnProperty(P)&&P!=="constructor"&&L[P]!==void 0&&(M[P]=L[P])}function S(M,L,P,p){return L&&R(M,L),P&&R(M,P),p&&R(M,p),M}},function(G,C,m){var R=m(35),S=["LR","RL","TB","BT","H","V"],M=["LR","RL","H"],L=function(g){return M.indexOf(g)>-1},P=S[0];G.exports=function(p,g,w){var x=g.direction||P;if(g.isHorizontal=L(x),x&&S.indexOf(x)===-1)throw new TypeError("Invalid direction: "+x);if(x===S[0])w(p,g);else if(x===S[1])w(p,g),p.right2left();else if(x===S[2])w(p,g);else if(x===S[3])w(p,g),p.bottom2top();else if(x===S[4]||x===S[5]){var y=R(p,g),T=y.left,E=y.right;w(T,g),w(E,g),g.isHorizontal?T.right2left():T.bottom2top(),E.translate(T.x-E.x,T.y-E.y),p.x=T.x,p.y=E.y;var D=p.getBoundingBox();g.isHorizontal?D.top<0&&p.translate(0,-D.top):D.left<0&&p.translate(-D.left,0)}var k=g.fixedRoot;return k===void 0&&(k=!0),k&&p.translate(-(p.x+p.width/2+p.hgap),-(p.y+p.height/2+p.vgap)),p}},function(G,C,m){var R=m(6),S=18,M=S*2,L=S,P={getId:function(x){return x.id||x.name},getPreH:function(x){return x.preH||0},getPreV:function(x){return x.preV||0},getHGap:function(x){return x.hgap||L},getVGap:function(x){return x.vgap||L},getChildren:function(x){return x.children},getHeight:function(x){return x.height||M},getWidth:function(x){var y=x.label||" ";return x.width||y.split("").length*S}};function p(w,x){var y=this;if(y.vgap=y.hgap=0,w instanceof p)return w;y.data=w;var T=x.getHGap(w),E=x.getVGap(w);return y.preH=x.getPreH(w),y.preV=x.getPreV(w),y.width=x.getWidth(w),y.height=x.getHeight(w),y.width+=y.preH,y.height+=y.preV,y.id=x.getId(w),y.x=y.y=0,y.depth=0,y.children||(y.children=[]),y.addGap(T,E),y}R.assign(p.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(x,y){var T=this;T.hgap+=x,T.vgap+=y,T.width+=2*x,T.height+=2*y},eachNode:function(x){for(var y=this,T=[y],E;E=T.shift();)x(E),T=E.children.concat(T)},DFTraverse:function(x){this.eachNode(x)},BFTraverse:function(x){for(var y=this,T=[y],E;E=T.shift();)x(E),T=T.concat(E.children)},getBoundingBox:function(){var x={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(y){x.left=Math.min(x.left,y.x),x.top=Math.min(x.top,y.y),x.width=Math.max(x.width,y.x+y.width),x.height=Math.max(x.height,y.y+y.height)}),x},translate:function(x,y){x===void 0&&(x=0),y===void 0&&(y=0),this.eachNode(function(T){T.x+=x,T.y+=y,T.x+=T.preH,T.y+=T.preV})},right2left:function(){var x=this,y=x.getBoundingBox();x.eachNode(function(T){T.x=T.x-(T.x-y.left)*2-T.width}),x.translate(y.width,0)},bottom2top:function(){var x=this,y=x.getBoundingBox();x.eachNode(function(T){T.y=T.y-(T.y-y.top)*2-T.height}),x.translate(0,y.height)}});function g(w,x,y){x===void 0&&(x={}),x=R.assign({},P,x);var T=new p(w,x),E=[T],D;if(!y&&!w.collapsed){for(;D=E.shift();)if(!D.data.collapsed){var k=x.getChildren(D.data),b=k?k.length:0;if(D.children=new Array(b),k&&b)for(var f=0;f<b;f++){var W=new p(k[f],x);D.children[f]=W,E.push(W),W.parent=D,W.depth=D.depth+1}}}return T}G.exports=g},function(G,C,m){"use strict";var R=m(1),S=function(M,L){if(!Object(R.a)(M))return M;for(var P=[],p=0;p<M.length;p++){var g=M[p];L(g,p)&&P.push(g)}return P};C.a=S},function(G,C,m){"use strict";var R=m(7),S=m(21);function M(L,P){var p=Object(S.a)(P),g=p.length;if(Object(R.a)(L))return!g;for(var w=0;w<g;w+=1){var x=p[w];if(P[x]!==L[x]||!(x in L))return!1}return!0}C.a=M},function(G,C,m){"use strict";var R=m(8),S=m(2),M=Object.keys?function(L){return Object.keys(L)}:function(L){var P=[];return Object(R.a)(L,function(p,g){Object(S.a)(L)&&g==="prototype"||P.push(g)}),P};C.a=M},function(G,C,m){"use strict";var R=m(0);C.a=function(S){if(Object(R.a)(S))return S.reduce(function(M,L){return Math.max(M,L)},S[0])}},function(G,C,m){"use strict";var R=m(0);C.a=function(S){if(Object(R.a)(S))return S.reduce(function(M,L){return Math.min(M,L)},S[0])}},function(G,C,m){"use strict";var R=m(1),S=Array.prototype.splice,M=function(P,p){if(!Object(R.a)(P))return[];for(var g=P?p.length:0,w=g-1;g--;){var x=void 0,y=p[g];(g===w||y!==x)&&(x=y,S.call(P,y,1))}return P};C.a=M},function(G,C,m){"use strict";var R=m(8),S=m(0),M=m(10),L=function(P,p,g){if(!Object(S.a)(P)&&!Object(M.a)(P))return P;var w=g;return Object(R.a)(P,function(x,y){w=p(w,x,y)}),w};C.a=L},function(G,C,m){"use strict";C.a=R;function R(S,M){M===void 0&&(M=new Map);var L=[];if(Array.isArray(S))for(var P=0,p=S.length;P<p;P++){var g=S[P];M.has(g)||(L.push(g),M.set(g,!0))}return L}},function(G,C,m){"use strict";C.a=L;var R=m(0),S=m(2),M=m(28);function L(P,p){if(!p)return{0:P};if(!Object(S.a)(p)){var g=Object(R.a)(p)?p:p.replace(/\s+/g,"").split("*");p=function(w){for(var x="_",y=0,T=g.length;y<T;y++)x+=w[g[y]]&&w[g[y]].toString();return x}}return Object(M.a)(P,p)}},function(G,C,m){"use strict";var R=m(0),S=m(2),M=Object.prototype.hasOwnProperty;function L(P,p){if(!p||!Object(R.a)(P))return{};for(var g={},w=Object(S.a)(p)?p:function(E){return E[p]},x,y=0;y<P.length;y++){var T=P[y];x=w(T),M.call(g,x)?g[x].push(T):g[x]=[T]}return g}C.a=L},function(G,C,m){"use strict";C.a=function(R,S){return R.hasOwnProperty(S)}},function(G,C,m){"use strict";var R={}.toString,S=function(M){return R.call(M).replace(/^\[object /,"").replace(/]$/,"")};C.a=S},function(G,C,m){"use strict";var R=Object.prototype,S=function(M){var L=M&&M.constructor,P=typeof L=="function"&&L.prototype||R;return M===P};C.a=S},function(G,C,m){"use strict";var R=m(2);C.a=function(S,M){if(!Object(R.a)(S))throw new TypeError("Expected a function");var L=function(){for(var P=[],p=0;p<arguments.length;p++)P[p]=arguments[p];var g=M?M.apply(this,P):P[0],w=L.cache;if(w.has(g))return w.get(g);var x=S.apply(this,P);return w.set(g,x),x};return L.cache=new Map,L}},function(G,C,m){"use strict";var R=m(14),S=m(1),M=m(4),L=function(P,p){if(P===p)return!0;if(!P||!p||Object(M.a)(P)||Object(M.a)(p))return!1;if(Object(S.a)(P)||Object(S.a)(p)){if(P.length!==p.length)return!1;for(var g=!0,w=0;w<P.length&&(g=L(P[w],p[w]),!!g);w++);return g}if(Object(R.a)(P)||Object(R.a)(p)){var x=Object.keys(P),y=Object.keys(p);if(x.length!==y.length)return!1;for(var g=!0,w=0;w<x.length&&(g=L(P[x[w]],p[x[w]]),!!g);w++);return g}return!1};C.a=L},function(G,C,m){"use strict";var R=m(116),S=m(15),M=m(32),L=m(4),P;C.a=Object(M.a)(function(p,g){g===void 0&&(g={});var w=g.fontSize,x=g.fontFamily,y=g.fontWeight,T=g.fontStyle,E=g.fontVariant;return P||(P=document.createElement("canvas").getContext("2d")),P.font=[T,E,y,w+"px",x].join(" "),P.measureText(Object(L.a)(p)?p:"").width},function(p,g){return g===void 0&&(g={}),Object(R.a)([p],Object(S.a)(g)).join("")})},function(G,C,m){var R=m(18);G.exports=function(S,M){for(var L=R(S.data,M,!0),P=R(S.data,M,!0),p=S.children.length,g=Math.round(p/2),w=M.getSide||function(E,D){return D<g?"right":"left"},x=0;x<p;x++){var y=S.children[x],T=w(y,x);T==="right"?P.children.push(y):L.children.push(y)}return L.eachNode(function(E){E.isRoot()||(E.side="left")}),P.eachNode(function(E){E.isRoot()||(E.side="right")}),{left:L,right:P}}},function(G,C,m){var R={compactBox:m(37),dendrogram:m(120),indented:m(122),mindmap:m(124)};G.exports=R},function(G,C,m){function R(y,T){y.prototype=Object.create(T.prototype),y.prototype.constructor=y,S(y,T)}function S(y,T){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,k){return D.__proto__=k,D},S(y,T)}var M=m(11),L=m(119),P=m(17),p=m(6),g=function(y){R(T,y);function T(){return y.apply(this,arguments)||this}var E=T.prototype;return E.execute=function(){var k=this;return P(k.rootNode,k.options,L)},T}(M),w={};function x(y,T){return T=p.assign({},w,T),new g(y,T).execute()}G.exports=x},function(G,C,m){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var R=m(13);m.d(C,"contains",function(){return R.a}),m.d(C,"includes",function(){return R.a});var S=m(39);m.d(C,"difference",function(){return S.a});var M=m(40);m.d(C,"find",function(){return M.a});var L=m(41);m.d(C,"findIndex",function(){return L.a});var P=m(42);m.d(C,"firstValue",function(){return P.a});var p=m(43);m.d(C,"flatten",function(){return p.a});var g=m(44);m.d(C,"flattenDeep",function(){return g.a});var w=m(45);m.d(C,"getRange",function(){return w.a});var x=m(46);m.d(C,"pull",function(){return x.a});var y=m(24);m.d(C,"pullAt",function(){return y.a});var T=m(25);m.d(C,"reduce",function(){return T.a});var E=m(47);m.d(C,"remove",function(){return E.a});var D=m(48);m.d(C,"sortBy",function(){return D.a});var k=m(49);m.d(C,"union",function(){return k.a});var b=m(26);m.d(C,"uniq",function(){return b.a});var f=m(50);m.d(C,"valuesOfKey",function(){return f.a});var W=m(51);m.d(C,"head",function(){return W.a});var X=m(52);m.d(C,"last",function(){return X.a});var z=m(53);m.d(C,"startsWith",function(){return z.a});var U=m(54);m.d(C,"endsWith",function(){return U.a});var j=m(19);m.d(C,"filter",function(){return j.a});var V=m(55);m.d(C,"every",function(){return V.a});var J=m(56);m.d(C,"some",function(){return J.a});var q=m(57);m.d(C,"group",function(){return q.a});var et=m(28);m.d(C,"groupBy",function(){return et.a});var st=m(27);m.d(C,"groupToMap",function(){return st.a});var ot=m(58);m.d(C,"getWrapBehavior",function(){return ot.a});var mt=m(59);m.d(C,"wrapBehavior",function(){return mt.a});var ft=m(60);m.d(C,"number2color",function(){return ft.a});var Bt=m(61);m.d(C,"parseRadius",function(){return Bt.a});var St=m(62);m.d(C,"clamp",function(){return St.a});var wt=m(63);m.d(C,"fixedBase",function(){return wt.a});var H=m(64);m.d(C,"isDecimal",function(){return H.a});var Q=m(65);m.d(C,"isEven",function(){return Q.a});var bt=m(66);m.d(C,"isInteger",function(){return bt.a});var Ct=m(67);m.d(C,"isNegative",function(){return Ct.a});var nt=m(68);m.d(C,"isNumberEqual",function(){return nt.a});var dt=m(69);m.d(C,"isOdd",function(){return dt.a});var Tt=m(70);m.d(C,"isPositive",function(){return Tt.a});var At=m(22);m.d(C,"max",function(){return At.a});var xt=m(71);m.d(C,"maxBy",function(){return xt.a});var Dt=m(23);m.d(C,"min",function(){return Dt.a});var Ht=m(72);m.d(C,"minBy",function(){return Ht.a});var se=m(73);m.d(C,"mod",function(){return se.a});var re=m(74);m.d(C,"toDegree",function(){return re.a});var It=m(75);m.d(C,"toInteger",function(){return It.a});var ne=m(76);m.d(C,"toRadian",function(){return ne.a});var pe=m(77);m.d(C,"forIn",function(){return pe.a});var Wt=m(29);m.d(C,"has",function(){return Wt.a});var Jt=m(78);m.d(C,"hasKey",function(){return Jt.a});var $t=m(79);m.d(C,"hasValue",function(){return $t.a});var Kt=m(21);m.d(C,"keys",function(){return Kt.a});var ue=m(20);m.d(C,"isMatch",function(){return ue.a});var Se=m(15);m.d(C,"values",function(){return Se.a});var Pt=m(80);m.d(C,"lowerCase",function(){return Pt.a});var Fe=m(81);m.d(C,"lowerFirst",function(){return Fe.a});var vr=m(82);m.d(C,"substitute",function(){return vr.a});var Tr=m(83);m.d(C,"upperCase",function(){return Tr.a});var Or=m(84);m.d(C,"upperFirst",function(){return Or.a});var Fr=m(30);m.d(C,"getType",function(){return Fr.a});var nn=m(85);m.d(C,"isArguments",function(){return nn.a});var an=m(0);m.d(C,"isArray",function(){return an.a});var er=m(1);m.d(C,"isArrayLike",function(){return er.a});var Rr=m(86);m.d(C,"isBoolean",function(){return Rr.a});var qr=m(87);m.d(C,"isDate",function(){return qr.a});var xr=m(88);m.d(C,"isError",function(){return xr.a});var Gr=m(2);m.d(C,"isFunction",function(){return Gr.a});var Dr=m(89);m.d(C,"isFinite",function(){return Dr.a});var We=m(7);m.d(C,"isNil",function(){return We.a});var Je=m(90);m.d(C,"isNull",function(){return Je.a});var gn=m(5);m.d(C,"isNumber",function(){return gn.a});var rr=m(12);m.d(C,"isObject",function(){return rr.a});var jr=m(14);m.d(C,"isObjectLike",function(){return jr.a});var Nr=m(10);m.d(C,"isPlainObject",function(){return Nr.a});var kn=m(31);m.d(C,"isPrototype",function(){return kn.a});var on=m(91);m.d(C,"isRegExp",function(){return on.a});var dn=m(4);m.d(C,"isString",function(){return dn.a});var En=m(3);m.d(C,"isType",function(){return En.a});var Pn=m(92);m.d(C,"isUndefined",function(){return Pn.a});var Nn=m(93);m.d(C,"isElement",function(){return Nn.a});var at=m(94);m.d(C,"requestAnimationFrame",function(){return at.a});var Xe=m(95);m.d(C,"clearAnimationFrame",function(){return Xe.a});var Zt=m(96);m.d(C,"augment",function(){return Zt.a});var Qt=m(97);m.d(C,"clone",function(){return Qt.a});var Mt=m(98);m.d(C,"debounce",function(){return Mt.a});var Nt=m(32);m.d(C,"memoize",function(){return Nt.a});var Ut=m(99);m.d(C,"deepMix",function(){return Ut.a});var vt=m(8);m.d(C,"each",function(){return vt.a});var Rt=m(100);m.d(C,"extend",function(){return Rt.a});var ae=m(101);m.d(C,"indexOf",function(){return ae.a});var tt=m(102);m.d(C,"isEmpty",function(){return tt.a});var ut=m(33);m.d(C,"isEqual",function(){return ut.a});var B=m(103);m.d(C,"isEqualWith",function(){return B.a});var O=m(104);m.d(C,"map",function(){return O.a});var _=m(105);m.d(C,"mapValues",function(){return _.a});var $=m(16);m.d(C,"mix",function(){return $.a}),m.d(C,"assign",function(){return $.a});var gt=m(106);m.d(C,"get",function(){return gt.a});var Ft=m(107);m.d(C,"set",function(){return Ft.a});var zt=m(108);m.d(C,"pick",function(){return zt.a});var te=m(109);m.d(C,"omit",function(){return te.a});var _e=m(110);m.d(C,"throttle",function(){return _e.a});var me=m(111);m.d(C,"toArray",function(){return me.a});var Ue=m(9);m.d(C,"toString",function(){return Ue.a});var fr=m(112);m.d(C,"uniqueId",function(){return fr.a});var je=m(113);m.d(C,"noop",function(){return je.a});var Lr=m(114);m.d(C,"identity",function(){return Lr.a});var ln=m(115);m.d(C,"size",function(){return ln.a});var Ve=m(34);m.d(C,"measureTextWidth",function(){return Ve.a});var or=m(117);m.d(C,"getEllipsisText",function(){return or.a});var Ar=m(118);m.d(C,"Cache",function(){return Ar.a})},function(G,C,m){"use strict";var R=m(19),S=m(13),M=function(L,P){return P===void 0&&(P=[]),Object(R.a)(L,function(p){return!Object(S.a)(P,p)})};C.a=M},function(G,C,m){"use strict";var R=m(2),S=m(20),M=m(0),L=m(10);function P(p,g){if(!Object(M.a)(p))return null;var w;if(Object(R.a)(g)&&(w=g),Object(L.a)(g)&&(w=function(y){return Object(S.a)(y,g)}),w){for(var x=0;x<p.length;x+=1)if(w(p[x]))return p[x]}return null}C.a=P},function(G,C,m){"use strict";function R(S,M,L){L===void 0&&(L=0);for(var P=L;P<S.length;P++)if(M(S[P],P))return P;return-1}C.a=R},function(G,C,m){"use strict";var R=m(7),S=m(0),M=function(L,P){for(var p=null,g=0;g<L.length;g++){var w=L[g],x=w[P];if(!Object(R.a)(x)){Object(S.a)(x)?p=x[0]:p=x;break}}return p};C.a=M},function(G,C,m){"use strict";var R=m(0),S=function(M){if(!Object(R.a)(M))return[];for(var L=[],P=0;P<M.length;P++)L=L.concat(M[P]);return L};C.a=S},function(G,C,m){"use strict";var R=m(0),S=function(M,L){if(L===void 0&&(L=[]),!Object(R.a)(M))L.push(M);else for(var P=0;P<M.length;P+=1)S(M[P],L);return L};C.a=S},function(G,C,m){"use strict";var R=m(0),S=m(22),M=m(23),L=function(P){var p=P.filter(function(T){return!isNaN(T)});if(!p.length)return{min:0,max:0};if(Object(R.a)(P[0])){for(var g=[],w=0;w<P.length;w++)g=g.concat(P[w]);p=g}var x=Object(S.a)(p),y=Object(M.a)(p);return{min:y,max:x}};C.a=L},function(G,C,m){"use strict";var R=Array.prototype,S=R.splice,M=R.indexOf,L=function(P){for(var p=[],g=1;g<arguments.length;g++)p[g-1]=arguments[g];for(var w=0;w<p.length;w++)for(var x=p[w],y=-1;(y=M.call(P,x))>-1;)S.call(P,y,1);return P};C.a=L},function(G,C,m){"use strict";var R=m(1),S=m(24),M=function(L,P){var p=[];if(!Object(R.a)(L))return p;for(var g=-1,w=[],x=L.length;++g<x;){var y=L[g];P(y,g,L)&&(p.push(y),w.push(g))}return Object(S.a)(L,w),p};C.a=M},function(G,C,m){"use strict";var R=m(0),S=m(4),M=m(2);function L(P,p){var g;if(Object(M.a)(p))g=function(x,y){return p(x)-p(y)};else{var w=[];Object(S.a)(p)?w.push(p):Object(R.a)(p)&&(w=p),g=function(x,y){for(var T=0;T<w.length;T+=1){var E=w[T];if(x[E]>y[E])return 1;if(x[E]<y[E])return-1}return 0}}return P.sort(g),P}C.a=L},function(G,C,m){"use strict";var R=m(26),S=function(){for(var M=[],L=0;L<arguments.length;L++)M[L]=arguments[L];return Object(R.a)([].concat.apply([],M))};C.a=S},function(G,C,m){"use strict";var R=m(0),S=m(7);C.a=function(M,L){for(var P=[],p={},g=0;g<M.length;g++){var w=M[g],x=w[L];if(!Object(S.a)(x)){Object(R.a)(x)||(x=[x]);for(var y=0;y<x.length;y++){var T=x[y];p[T]||(P.push(T),p[T]=!0)}}}return P}},function(G,C,m){"use strict";C.a=S;var R=m(1);function S(M){if(Object(R.a)(M))return M[0]}},function(G,C,m){"use strict";C.a=S;var R=m(1);function S(M){if(Object(R.a)(M)){var L=M;return L[L.length-1]}}},function(G,C,m){"use strict";var R=m(0),S=m(4);function M(L,P){return Object(R.a)(L)||Object(S.a)(L)?L[0]===P:!1}C.a=M},function(G,C,m){"use strict";var R=m(0),S=m(4);function M(L,P){return Object(R.a)(L)||Object(S.a)(L)?L[L.length-1]===P:!1}C.a=M},function(G,C,m){"use strict";var R=function(S,M){for(var L=0;L<S.length;L++)if(!M(S[L],L))return!1;return!0};C.a=R},function(G,C,m){"use strict";var R=function(S,M){for(var L=0;L<S.length;L++)if(M(S[L],L))return!0;return!1};C.a=R},function(G,C,m){"use strict";var R=m(27);C.a=function(S,M){if(!M)return[S];var L=Object(R.a)(S,M),P=[];for(var p in L)P.push(L[p]);return P}},function(G,C,m){"use strict";function R(S,M){return S["_wrap_"+M]}C.a=R},function(G,C,m){"use strict";function R(S,M){if(S["_wrap_"+M])return S["_wrap_"+M];var L=function(P){S[M](P)};return S["_wrap_"+M]=L,L}C.a=R},function(G,C,m){"use strict";var R={};function S(M){var L=R[M];if(!L){for(var P=M.toString(16),p=P.length;p<6;p++)P="0"+P;L="#"+P,R[M]=L}return L}C.a=S},function(G,C,m){"use strict";var R=m(0);function S(M){var L=0,P=0,p=0,g=0;return Object(R.a)(M)?M.length===1?L=P=p=g=M[0]:M.length===2?(L=p=M[0],P=g=M[1]):M.length===3?(L=M[0],P=g=M[1],p=M[2]):(L=M[0],P=M[1],p=M[2],g=M[3]):L=P=p=g=M,{r1:L,r2:P,r3:p,r4:g}}C.a=S},function(G,C,m){"use strict";var R=function(S,M,L){return S<M?M:S>L?L:S};C.a=R},function(G,C,m){"use strict";var R=function(S,M){var L=M.toString(),P=L.indexOf(".");if(P===-1)return Math.round(S);var p=L.substr(P+1).length;return p>20&&(p=20),parseFloat(S.toFixed(p))};C.a=R},function(G,C,m){"use strict";var R=m(5),S=function(M){return Object(R.a)(M)&&M%1!==0};C.a=S},function(G,C,m){"use strict";var R=m(5),S=function(M){return Object(R.a)(M)&&M%2===0};C.a=S},function(G,C,m){"use strict";var R=m(5),S=Number.isInteger?Number.isInteger:function(M){return Object(R.a)(M)&&M%1===0};C.a=S},function(G,C,m){"use strict";var R=m(5),S=function(M){return Object(R.a)(M)&&M<0};C.a=S},function(G,C,m){"use strict";C.a=S;var R=1e-5;function S(M,L,P){return P===void 0&&(P=R),Math.abs(M-L)<P}},function(G,C,m){"use strict";var R=m(5),S=function(M){return Object(R.a)(M)&&M%2!==0};C.a=S},function(G,C,m){"use strict";var R=m(5),S=function(M){return Object(R.a)(M)&&M>0};C.a=S},function(G,C,m){"use strict";var R=m(0),S=m(2);C.a=function(M,L){if(Object(R.a)(M)){for(var P,p=-1/0,g=0;g<M.length;g++){var w=M[g],x=Object(S.a)(L)?L(w):w[L];x>p&&(P=w,p=x)}return P}}},function(G,C,m){"use strict";var R=m(0),S=m(2);C.a=function(M,L){if(Object(R.a)(M)){for(var P,p=1/0,g=0;g<M.length;g++){var w=M[g],x=Object(S.a)(L)?L(w):w[L];x<p&&(P=w,p=x)}return P}}},function(G,C,m){"use strict";var R=function(S,M){return(S%M+M)%M};C.a=R},function(G,C,m){"use strict";var R=180/Math.PI,S=function(M){return R*M};C.a=S},function(G,C,m){"use strict";C.a=parseInt},function(G,C,m){"use strict";var R=Math.PI/180,S=function(M){return R*M};C.a=S},function(G,C,m){"use strict";var R=m(8);C.a=R.a},function(G,C,m){"use strict";var R=m(29);C.a=R.a},function(G,C,m){"use strict";var R=m(13),S=m(15);C.a=function(M,L){return Object(R.a)(Object(S.a)(M),L)}},function(G,C,m){"use strict";var R=m(9),S=function(M){return Object(R.a)(M).toLowerCase()};C.a=S},function(G,C,m){"use strict";var R=m(9),S=function(M){var L=Object(R.a)(M);return L.charAt(0).toLowerCase()+L.substring(1)};C.a=S},function(G,C,m){"use strict";function R(S,M){return!S||!M?S:S.replace(/\\?\{([^{}]+)\}/g,function(L,P){return L.charAt(0)==="\\"?L.slice(1):M[P]===void 0?"":M[P]})}C.a=R},function(G,C,m){"use strict";var R=m(9),S=function(M){return Object(R.a)(M).toUpperCase()};C.a=S},function(G,C,m){"use strict";var R=m(9),S=function(M){var L=Object(R.a)(M);return L.charAt(0).toUpperCase()+L.substring(1)};C.a=S},function(G,C,m){"use strict";var R=m(3),S=function(M){return Object(R.a)(M,"Arguments")};C.a=S},function(G,C,m){"use strict";var R=m(3),S=function(M){return Object(R.a)(M,"Boolean")};C.a=S},function(G,C,m){"use strict";var R=m(3),S=function(M){return Object(R.a)(M,"Date")};C.a=S},function(G,C,m){"use strict";var R=m(3),S=function(M){return Object(R.a)(M,"Error")};C.a=S},function(G,C,m){"use strict";var R=m(5);C.a=function(S){return Object(R.a)(S)&&isFinite(S)}},function(G,C,m){"use strict";var R=function(S){return S===null};C.a=R},function(G,C,m){"use strict";var R=m(3),S=function(M){return Object(R.a)(M,"RegExp")};C.a=S},function(G,C,m){"use strict";var R=function(S){return S===void 0};C.a=R},function(G,C,m){"use strict";var R=function(S){return S instanceof Element||S instanceof HTMLDocument};C.a=R},function(G,C,m){"use strict";C.a=R;function R(S){var M=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(L){return setTimeout(L,16)};return M(S)}},function(G,C,m){"use strict";C.a=R;function R(S){var M=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;M(S)}},function(G,C,m){"use strict";var R=m(16),S=m(2),M=function(){for(var L=[],P=0;P<arguments.length;P++)L[P]=arguments[P];for(var p=L[0],g=1;g<L.length;g++){var w=L[g];Object(S.a)(w)&&(w=w.prototype),Object(R.a)(p.prototype,w)}};C.a=M},function(G,C,m){"use strict";var R=m(0),S=function(M){if(typeof M!="object"||M===null)return M;var L;if(Object(R.a)(M)){L=[];for(var P=0,p=M.length;P<p;P++)typeof M[P]=="object"&&M[P]!=null?L[P]=S(M[P]):L[P]=M[P]}else{L={};for(var g in M)typeof M[g]=="object"&&M[g]!=null?L[g]=S(M[g]):L[g]=M[g]}return L};C.a=S},function(G,C,m){"use strict";function R(S,M,L){var P;return function(){var p=this,g=arguments,w=function(){P=null,L||S.apply(p,g)},x=L&&!P;clearTimeout(P),P=setTimeout(w,M),x&&S.apply(p,g)}}C.a=R},function(G,C,m){"use strict";var R=m(0),S=m(10),M=5;function L(p,g,w,x){w=w||0,x=x||M;for(var y in g)if(g.hasOwnProperty(y)){var T=g[y];T!==null&&Object(S.a)(T)?(Object(S.a)(p[y])||(p[y]={}),w<x?L(p[y],T,w+1,x):p[y]=g[y]):Object(R.a)(T)?(p[y]=[],p[y]=p[y].concat(T)):T!==void 0&&(p[y]=T)}}var P=function(p){for(var g=[],w=1;w<arguments.length;w++)g[w-1]=arguments[w];for(var x=0;x<g.length;x+=1)L(p,g[x]);return p};C.a=P},function(G,C,m){"use strict";var R=m(16),S=m(2),M=function(L,P,p,g){Object(S.a)(P)||(p=P,P=L,L=function(){});var w=Object.create?function(y,T){return Object.create(y,{constructor:{value:T}})}:function(y,T){function E(){}E.prototype=y;var D=new E;return D.constructor=T,D},x=w(P.prototype,L);return L.prototype=Object(R.a)(x,L.prototype),L.superclass=w(P.prototype,P),Object(R.a)(x,p),Object(R.a)(L,g),L};C.a=M},function(G,C,m){"use strict";var R=m(1),S=function(M,L){if(!Object(R.a)(M))return-1;var P=Array.prototype.indexOf;if(P)return P.call(M,L);for(var p=-1,g=0;g<M.length;g++)if(M[g]===L){p=g;break}return p};C.a=S},function(G,C,m){"use strict";var R=m(7),S=m(1),M=m(30),L=m(31),P=Object.prototype.hasOwnProperty;function p(g){if(Object(R.a)(g))return!0;if(Object(S.a)(g))return!g.length;var w=Object(M.a)(g);if(w==="Map"||w==="Set")return!g.size;if(Object(L.a)(g))return!Object.keys(g).length;for(var x in g)if(P.call(g,x))return!1;return!0}C.a=p},function(G,C,m){"use strict";var R=m(2),S=m(33);C.a=function(M,L,P){return Object(R.a)(P)?!!P(M,L):Object(S.a)(M,L)}},function(G,C,m){"use strict";var R=m(1),S=function(M,L){if(!Object(R.a)(M))return M;for(var P=[],p=0;p<M.length;p++){var g=M[p];P.push(L(g,p))}return P};C.a=S},function(G,C,m){"use strict";var R=m(7),S=m(12),M=function(L){return L};C.a=function(L,P){P===void 0&&(P=M);var p={};return Object(S.a)(L)&&!Object(R.a)(L)&&Object.keys(L).forEach(function(g){p[g]=P(L[g],g)}),p}},function(G,C,m){"use strict";var R=m(4);C.a=function(S,M,L){for(var P=0,p=Object(R.a)(M)?M.split("."):M;S&&P<p.length;)S=S[p[P++]];return S===void 0||P<p.length?L:S}},function(G,C,m){"use strict";var R=m(12),S=m(4),M=m(5);C.a=function(L,P,p){var g=L,w=Object(S.a)(P)?P.split("."):P;return w.forEach(function(x,y){y<w.length-1?(Object(R.a)(g[x])||(g[x]=Object(M.a)(w[y+1])?[]:{}),g=g[x]):g[x]=p}),L}},function(G,C,m){"use strict";var R=m(8),S=m(10),M=Object.prototype.hasOwnProperty;C.a=function(L,P){if(L===null||!Object(S.a)(L))return{};var p={};return Object(R.a)(P,function(g){M.call(L,g)&&(p[g]=L[g])}),p}},function(G,C,m){"use strict";var R=m(25);C.a=function(S,M){return Object(R.a)(S,function(L,P,p){return M.includes(p)||(L[p]=P),L},{})}},function(G,C,m){"use strict";C.a=function(R,S,M){var L,P,p,g,w=0;M||(M={});var x=function(){w=M.leading===!1?0:Date.now(),L=null,g=R.apply(P,p),L||(P=p=null)},y=function(){var T=Date.now();!w&&M.leading===!1&&(w=T);var E=S-(T-w);return P=this,p=arguments,E<=0||E>S?(L&&(clearTimeout(L),L=null),w=T,g=R.apply(P,p),L||(P=p=null)):!L&&M.trailing!==!1&&(L=setTimeout(x,E)),g};return y.cancel=function(){clearTimeout(L),w=0,L=P=p=null},y}},function(G,C,m){"use strict";var R=m(1);C.a=function(S){return Object(R.a)(S)?Array.prototype.slice.call(S):[]}},function(G,C,m){"use strict";var R={};C.a=function(S){return S=S||"g",R[S]?R[S]+=1:R[S]=1,S+R[S]}},function(G,C,m){"use strict";C.a=function(){}},function(G,C,m){"use strict";C.a=function(R){return R}},function(G,C,m){"use strict";C.a=M;var R=m(7),S=m(1);function M(L){return Object(R.a)(L)?0:Object(S.a)(L)?L.length:Object.keys(L).length}},function(G,C,m){"use strict";C.a=z;var R=function(wt,H){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,bt){Q.__proto__=bt}||function(Q,bt){for(var Ct in bt)Object.prototype.hasOwnProperty.call(bt,Ct)&&(Q[Ct]=bt[Ct])},R(wt,H)};function S(wt,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");R(wt,H);function Q(){this.constructor=wt}wt.prototype=H===null?Object.create(H):(Q.prototype=H.prototype,new Q)}var M=function(){return M=Object.assign||function(H){for(var Q,bt=1,Ct=arguments.length;bt<Ct;bt++){Q=arguments[bt];for(var nt in Q)Object.prototype.hasOwnProperty.call(Q,nt)&&(H[nt]=Q[nt])}return H},M.apply(this,arguments)};function L(wt,H){var Q={};for(var bt in wt)Object.prototype.hasOwnProperty.call(wt,bt)&&H.indexOf(bt)<0&&(Q[bt]=wt[bt]);if(wt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ct=0,bt=Object.getOwnPropertySymbols(wt);Ct<bt.length;Ct++)H.indexOf(bt[Ct])<0&&Object.prototype.propertyIsEnumerable.call(wt,bt[Ct])&&(Q[bt[Ct]]=wt[bt[Ct]]);return Q}function P(wt,H,Q,bt){var Ct=arguments.length,nt=Ct<3?H:bt===null?bt=Object.getOwnPropertyDescriptor(H,Q):bt,dt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")nt=Reflect.decorate(wt,H,Q,bt);else for(var Tt=wt.length-1;Tt>=0;Tt--)(dt=wt[Tt])&&(nt=(Ct<3?dt(nt):Ct>3?dt(H,Q,nt):dt(H,Q))||nt);return Ct>3&&nt&&Object.defineProperty(H,Q,nt),nt}function p(wt,H){return function(Q,bt){H(Q,bt,wt)}}function g(wt,H,Q,bt,Ct,nt){function dt(Wt){if(Wt!==void 0&&typeof Wt!="function")throw new TypeError("Function expected");return Wt}for(var Tt=bt.kind,At=Tt==="getter"?"get":Tt==="setter"?"set":"value",xt=!H&&wt?bt.static?wt:wt.prototype:null,Dt=H||(xt?Object.getOwnPropertyDescriptor(xt,bt.name):{}),Ht,se=!1,re=Q.length-1;re>=0;re--){var It={};for(var ne in bt)It[ne]=ne==="access"?{}:bt[ne];for(var ne in bt.access)It.access[ne]=bt.access[ne];It.addInitializer=function(Wt){if(se)throw new TypeError("Cannot add initializers after decoration has completed");nt.push(dt(Wt||null))};var pe=(0,Q[re])(Tt==="accessor"?{get:Dt.get,set:Dt.set}:Dt[At],It);if(Tt==="accessor"){if(pe===void 0)continue;if(pe===null||typeof pe!="object")throw new TypeError("Object expected");(Ht=dt(pe.get))&&(Dt.get=Ht),(Ht=dt(pe.set))&&(Dt.set=Ht),(Ht=dt(pe.init))&&Ct.push(Ht)}else(Ht=dt(pe))&&(Tt==="field"?Ct.push(Ht):Dt[At]=Ht)}xt&&Object.defineProperty(xt,bt.name,Dt),se=!0}function w(wt,H,Q){for(var bt=arguments.length>2,Ct=0;Ct<H.length;Ct++)Q=bt?H[Ct].call(wt,Q):H[Ct].call(wt);return bt?Q:void 0}function x(wt){return typeof wt=="symbol"?wt:"".concat(wt)}function y(wt,H,Q){return typeof H=="symbol"&&(H=H.description?"[".concat(H.description,"]"):""),Object.defineProperty(wt,"name",{configurable:!0,value:Q?"".concat(Q," ",H):H})}function T(wt,H){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(wt,H)}function E(wt,H,Q,bt){function Ct(nt){return nt instanceof Q?nt:new Q(function(dt){dt(nt)})}return new(Q||(Q=Promise))(function(nt,dt){function Tt(Dt){try{xt(bt.next(Dt))}catch(Ht){dt(Ht)}}function At(Dt){try{xt(bt.throw(Dt))}catch(Ht){dt(Ht)}}function xt(Dt){Dt.done?nt(Dt.value):Ct(Dt.value).then(Tt,At)}xt((bt=bt.apply(wt,H||[])).next())})}function D(wt,H){var Q={label:0,sent:function(){if(nt[0]&1)throw nt[1];return nt[1]},trys:[],ops:[]},bt,Ct,nt,dt;return dt={next:Tt(0),throw:Tt(1),return:Tt(2)},typeof Symbol=="function"&&(dt[Symbol.iterator]=function(){return this}),dt;function Tt(xt){return function(Dt){return At([xt,Dt])}}function At(xt){if(bt)throw new TypeError("Generator is already executing.");for(;dt&&(dt=0,xt[0]&&(Q=0)),Q;)try{if(bt=1,Ct&&(nt=xt[0]&2?Ct.return:xt[0]?Ct.throw||((nt=Ct.return)&&nt.call(Ct),0):Ct.next)&&!(nt=nt.call(Ct,xt[1])).done)return nt;switch(Ct=0,nt&&(xt=[xt[0]&2,nt.value]),xt[0]){case 0:case 1:nt=xt;break;case 4:return Q.label++,{value:xt[1],done:!1};case 5:Q.label++,Ct=xt[1],xt=[0];continue;case 7:xt=Q.ops.pop(),Q.trys.pop();continue;default:if(nt=Q.trys,!(nt=nt.length>0&&nt[nt.length-1])&&(xt[0]===6||xt[0]===2)){Q=0;continue}if(xt[0]===3&&(!nt||xt[1]>nt[0]&&xt[1]<nt[3])){Q.label=xt[1];break}if(xt[0]===6&&Q.label<nt[1]){Q.label=nt[1],nt=xt;break}if(nt&&Q.label<nt[2]){Q.label=nt[2],Q.ops.push(xt);break}nt[2]&&Q.ops.pop(),Q.trys.pop();continue}xt=H.call(wt,Q)}catch(Dt){xt=[6,Dt],Ct=0}finally{bt=nt=0}if(xt[0]&5)throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}}var k=Object.create?function(wt,H,Q,bt){bt===void 0&&(bt=Q);var Ct=Object.getOwnPropertyDescriptor(H,Q);(!Ct||("get"in Ct?!H.__esModule:Ct.writable||Ct.configurable))&&(Ct={enumerable:!0,get:function(){return H[Q]}}),Object.defineProperty(wt,bt,Ct)}:function(wt,H,Q,bt){bt===void 0&&(bt=Q),wt[bt]=H[Q]};function b(wt,H){for(var Q in wt)Q!=="default"&&!Object.prototype.hasOwnProperty.call(H,Q)&&k(H,wt,Q)}function f(wt){var H=typeof Symbol=="function"&&Symbol.iterator,Q=H&&wt[H],bt=0;if(Q)return Q.call(wt);if(wt&&typeof wt.length=="number")return{next:function(){return wt&&bt>=wt.length&&(wt=void 0),{value:wt&&wt[bt++],done:!wt}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(wt,H){var Q=typeof Symbol=="function"&&wt[Symbol.iterator];if(!Q)return wt;var bt=Q.call(wt),Ct,nt=[],dt;try{for(;(H===void 0||H-- >0)&&!(Ct=bt.next()).done;)nt.push(Ct.value)}catch(Tt){dt={error:Tt}}finally{try{Ct&&!Ct.done&&(Q=bt.return)&&Q.call(bt)}finally{if(dt)throw dt.error}}return nt}function X(){for(var wt=[],H=0;H<arguments.length;H++)wt=wt.concat(W(arguments[H]));return wt}function z(){for(var wt=0,H=0,Q=arguments.length;H<Q;H++)wt+=arguments[H].length;for(var bt=Array(wt),Ct=0,H=0;H<Q;H++)for(var nt=arguments[H],dt=0,Tt=nt.length;dt<Tt;dt++,Ct++)bt[Ct]=nt[dt];return bt}function U(wt,H,Q){if(Q||arguments.length===2)for(var bt=0,Ct=H.length,nt;bt<Ct;bt++)(nt||!(bt in H))&&(nt||(nt=Array.prototype.slice.call(H,0,bt)),nt[bt]=H[bt]);return wt.concat(nt||Array.prototype.slice.call(H))}function j(wt){return this instanceof j?(this.v=wt,this):new j(wt)}function V(wt,H,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var bt=Q.apply(wt,H||[]),Ct,nt=[];return Ct={},dt("next"),dt("throw"),dt("return"),Ct[Symbol.asyncIterator]=function(){return this},Ct;function dt(se){bt[se]&&(Ct[se]=function(re){return new Promise(function(It,ne){nt.push([se,re,It,ne])>1||Tt(se,re)})})}function Tt(se,re){try{At(bt[se](re))}catch(It){Ht(nt[0][3],It)}}function At(se){se.value instanceof j?Promise.resolve(se.value.v).then(xt,Dt):Ht(nt[0][2],se)}function xt(se){Tt("next",se)}function Dt(se){Tt("throw",se)}function Ht(se,re){se(re),nt.shift(),nt.length&&Tt(nt[0][0],nt[0][1])}}function J(wt){var H,Q;return H={},bt("next"),bt("throw",function(Ct){throw Ct}),bt("return"),H[Symbol.iterator]=function(){return this},H;function bt(Ct,nt){H[Ct]=wt[Ct]?function(dt){return(Q=!Q)?{value:j(wt[Ct](dt)),done:!1}:nt?nt(dt):dt}:nt}}function q(wt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H=wt[Symbol.asyncIterator],Q;return H?H.call(wt):(wt=typeof f=="function"?f(wt):wt[Symbol.iterator](),Q={},bt("next"),bt("throw"),bt("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function bt(nt){Q[nt]=wt[nt]&&function(dt){return new Promise(function(Tt,At){dt=wt[nt](dt),Ct(Tt,At,dt.done,dt.value)})}}function Ct(nt,dt,Tt,At){Promise.resolve(At).then(function(xt){nt({value:xt,done:Tt})},dt)}}function et(wt,H){return Object.defineProperty?Object.defineProperty(wt,"raw",{value:H}):wt.raw=H,wt}var st=Object.create?function(wt,H){Object.defineProperty(wt,"default",{enumerable:!0,value:H})}:function(wt,H){wt.default=H};function ot(wt){if(wt&&wt.__esModule)return wt;var H={};if(wt!=null)for(var Q in wt)Q!=="default"&&Object.prototype.hasOwnProperty.call(wt,Q)&&k(H,wt,Q);return st(H,wt),H}function mt(wt){return wt&&wt.__esModule?wt:{default:wt}}function ft(wt,H,Q,bt){if(Q==="a"&&!bt)throw new TypeError("Private accessor was defined without a getter");if(typeof H=="function"?wt!==H||!bt:!H.has(wt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?bt:Q==="a"?bt.call(wt):bt?bt.value:H.get(wt)}function Bt(wt,H,Q,bt,Ct){if(bt==="m")throw new TypeError("Private method is not writable");if(bt==="a"&&!Ct)throw new TypeError("Private accessor was defined without a setter");if(typeof H=="function"?wt!==H||!Ct:!H.has(wt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return bt==="a"?Ct.call(wt,Q):Ct?Ct.value=Q:H.set(wt,Q),Q}function St(wt,H){if(H===null||typeof H!="object"&&typeof H!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof wt=="function"?H===wt:wt.has(H)}},function(G,C,m){"use strict";var R=m(4),S=m(9),M=m(34);C.a=function(L,P,p,g){g===void 0&&(g="...");var w=16,x=Object(M.a)(g,p),y=Object(R.a)(L)?L:Object(S.a)(L),T=P,E=[],D,k;if(Object(M.a)(L,p)<=P)return L;for(;D=y.substr(0,w),k=Object(M.a)(D,p),!(k+x>T&&k>T);)if(E.push(D),T-=k,y=y.substr(w),!y)return E.join("");for(;D=y.substr(0,1),k=Object(M.a)(D,p),!(k+x>T);)if(E.push(D),T-=k,y=y.substr(1),!y)return E.join("");return""+E.join("")+g}},function(G,C,m){"use strict";var R=function(){function S(){this.map={}}return S.prototype.has=function(M){return this.map[M]!==void 0},S.prototype.get=function(M,L){var P=this.map[M];return P===void 0?L:P},S.prototype.set=function(M,L){this.map[M]=L},S.prototype.clear=function(){this.map={}},S.prototype.delete=function(M){delete this.map[M]},S.prototype.size=function(){return Object.keys(this.map).length},S}();C.a=R},function(G,C){function m(p,g,w,x){x===void 0&&(x=[]);var y=this;y.w=p||0,y.h=g||0,y.y=w||0,y.x=0,y.c=x||[],y.cs=x.length,y.prelim=0,y.mod=0,y.shift=0,y.change=0,y.tl=null,y.tr=null,y.el=null,y.er=null,y.msel=0,y.mser=0}m.fromNode=function(p,g){if(!p)return null;var w=[];return p.children.forEach(function(x){w.push(m.fromNode(x,g))}),g?new m(p.height,p.width,p.x,w):new m(p.width,p.height,p.y,w)};function R(p,g,w){w?p.y+=g:p.x+=g,p.children.forEach(function(x){R(x,g,w)})}function S(p,g){var w=g?p.y:p.x;return p.children.forEach(function(x){w=Math.min(S(x,g),w)}),w}function M(p,g){var w=S(p,g);R(p,-w,g)}function L(p,g,w){w?g.y=p.x:g.x=p.x,p.c.forEach(function(x,y){L(x,g.children[y],w)})}function P(p,g,w){w===void 0&&(w=0),g?(p.x=w,w+=p.width):(p.y=w,w+=p.height),p.children.forEach(function(x){P(x,g,w)})}G.exports=function(p,g){g===void 0&&(g={});var w=g.isHorizontal;function x(q){if(q.cs===0){y(q);return}x(q.c[0]);for(var et=V(b(q.c[0].el),0,null),st=1;st<q.cs;++st){x(q.c[st]);var ot=b(q.c[st].er);T(q,st,et),et=V(ot,st,et)}X(q),y(q)}function y(q){q.cs===0?(q.el=q,q.er=q,q.msel=q.mser=0):(q.el=q.c[0].el,q.msel=q.c[0].msel,q.er=q.c[q.cs-1].er,q.mser=q.c[q.cs-1].mser)}function T(q,et,st){for(var ot=q.c[et-1],mt=ot.mod,ft=q.c[et],Bt=ft.mod;ot!==null&&ft!==null;){b(ot)>st.low&&(st=st.nxt);var St=mt+ot.prelim+ot.w-(Bt+ft.prelim);St>0&&(Bt+=St,E(q,et,st.index,St));var wt=b(ot),H=b(ft);wt<=H&&(ot=k(ot),ot!==null&&(mt+=ot.mod)),wt>=H&&(ft=D(ft),ft!==null&&(Bt+=ft.mod))}!ot&&ft?f(q,et,ft,Bt):ot&&!ft&&W(q,et,ot,mt)}function E(q,et,st,ot){q.c[et].mod+=ot,q.c[et].msel+=ot,q.c[et].mser+=ot,U(q,et,st,ot)}function D(q){return q.cs===0?q.tl:q.c[0]}function k(q){return q.cs===0?q.tr:q.c[q.cs-1]}function b(q){return q.y+q.h}function f(q,et,st,ot){var mt=q.c[0].el;mt.tl=st;var ft=ot-st.mod-q.c[0].msel;mt.mod+=ft,mt.prelim-=ft,q.c[0].el=q.c[et].el,q.c[0].msel=q.c[et].msel}function W(q,et,st,ot){var mt=q.c[et].er;mt.tr=st;var ft=ot-st.mod-q.c[et].mser;mt.mod+=ft,mt.prelim-=ft,q.c[et].er=q.c[et-1].er,q.c[et].mser=q.c[et-1].mser}function X(q){q.prelim=(q.c[0].prelim+q.c[0].mod+q.c[q.cs-1].mod+q.c[q.cs-1].prelim+q.c[q.cs-1].w)/2-q.w/2}function z(q,et){et+=q.mod,q.x=q.prelim+et,j(q);for(var st=0;st<q.cs;st++)z(q.c[st],et)}function U(q,et,st,ot){if(st!==et-1){var mt=et-st;q.c[st+1].shift+=ot/mt,q.c[et].shift-=ot/mt,q.c[et].change-=ot-ot/mt}}function j(q){for(var et=0,st=0,ot=0;ot<q.cs;ot++)et+=q.c[ot].shift,st+=et+q.c[ot].change,q.c[ot].mod+=st}function V(q,et,st){for(;st!==null&&q>=st.low;)st=st.nxt;return{low:q,index:et,nxt:st}}P(p,w);var J=m.fromNode(p,w);return x(J),z(J,0),L(J,p,w),M(p,w),p}},function(G,C,m){function R(y,T){y.prototype=Object.create(T.prototype),y.prototype.constructor=y,S(y,T)}function S(y,T){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,k){return D.__proto__=k,D},S(y,T)}var M=m(11),L=m(121),P=m(17),p=m(6),g=function(y){R(T,y);function T(){return y.apply(this,arguments)||this}var E=T.prototype;return E.execute=function(){var k=this;return k.rootNode.width=0,P(k.rootNode,k.options,L)},T}(M),w={};function x(y,T){return T=p.assign({},w,T),new g(y,T).execute()}G.exports=x},function(G,C,m){var R=m(6);function S(P,p){P===void 0&&(P=0),p===void 0&&(p=[]);var g=this;g.x=g.y=0,g.leftChild=g.rightChild=null,g.height=0,g.children=p}var M={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function L(P,p,g){g?(p.x=P.x,p.y=P.y):(p.x=P.y,p.y=P.x),P.children.forEach(function(w,x){L(w,p.children[x],g)})}G.exports=function(P,p){p===void 0&&(p={}),p=R.assign({},M,p);var g=0;function w(D){if(!D)return null;D.width=0,D.depth&&D.depth>g&&(g=D.depth);var k=D.children,b=k.length,f=new S(D.height,[]);return k.forEach(function(W,X){var z=w(W);f.children.push(z),X===0&&(f.leftChild=z),X===b-1&&(f.rightChild=z)}),f.originNode=D,f.isLeaf=D.isLeaf(),f}function x(D){if(D.isLeaf||D.children.length===0)D.drawingDepth=g;else{var k=D.children.map(function(f){return x(f)}),b=Math.min.apply(null,k);D.drawingDepth=b-1}return D.drawingDepth}var y;function T(D){D.x=D.drawingDepth*p.rankSep,D.isLeaf?(D.y=0,y&&(D.y=y.y+y.height+p.nodeSep,D.originNode.parent!==y.originNode.parent&&(D.y+=p.subTreeSep)),y=D):(D.children.forEach(function(k){T(k)}),D.y=(D.leftChild.y+D.rightChild.y)/2)}var E=w(P);return x(E),T(E),L(E,P,p.isHorizontal),P}},function(G,C,m){function R(E,D){E.prototype=Object.create(D.prototype),E.prototype.constructor=E,S(E,D)}function S(E,D){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,f){return b.__proto__=f,b},S(E,D)}var M=m(11),L=m(123),P=m(35),p=m(6),g=["LR","RL","H"],w=g[0],x=function(E){R(D,E);function D(){return E.apply(this,arguments)||this}var k=D.prototype;return k.execute=function(){var f=this,W=f.options,X=f.rootNode;W.isHorizontal=!0;var z=W.indent,U=z===void 0?20:z,j=W.dropCap,V=j===void 0?!0:j,J=W.direction,q=J===void 0?w:J,et=W.align;if(q&&g.indexOf(q)===-1)throw new TypeError("Invalid direction: "+q);if(q===g[0])L(X,U,V,et);else if(q===g[1])L(X,U,V,et),X.right2left();else if(q===g[2]){var st=P(X,W),ot=st.left,mt=st.right;L(ot,U,V,et),ot.right2left(),L(mt,U,V,et);var ft=ot.getBoundingBox();mt.translate(ft.width,0),X.x=mt.x-X.width/2}return X},D}(M),y={};function T(E,D){return D=p.assign({},y,D),new x(E,D).execute()}G.exports=T},function(G,C,m){var R=m(6);function S(M,L,P,p,g){var w=typeof P=="function"?P(M):P*M.depth;if(!p)try{if(M.id===M.parent.children[0].id){M.x+=w,M.y=L?L.y:0;return}}catch(T){}if(M.x+=w,L){if(M.y=L.y+R.getHeight(L,M,g),L.parent&&M.parent.id!==L.parent.id){var x=L.parent,y=x.y+R.getHeight(x,M,g);M.y=y>M.y?y:M.y}}else M.y=0}G.exports=function(M,L,P,p){var g=null;M.eachNode(function(w){S(w,g,L,P,p),g=w})}},function(G,C,m){function R(y,T){y.prototype=Object.create(T.prototype),y.prototype.constructor=y,S(y,T)}function S(y,T){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,k){return D.__proto__=k,D},S(y,T)}var M=m(11),L=m(125),P=m(17),p=m(6),g=function(y){R(T,y);function T(){return y.apply(this,arguments)||this}var E=T.prototype;return E.execute=function(){var k=this;return P(k.rootNode,k.options,L)},T}(M),w={};function x(y,T){return T=p.assign({},w,T),new g(y,T).execute()}G.exports=x},function(G,C,m){var R=m(6);function S(P,p){var g=0;return P.children.length?P.children.forEach(function(w){g+=S(w,p)}):g=P.height,P._subTreeSep=p.getSubTreeSep(P.data),P.totalHeight=Math.max(P.height,g)+2*P._subTreeSep,P.totalHeight}function M(P){var p=P.children,g=p.length;if(g){p.forEach(function(D){M(D)});var w=p[0],x=p[g-1],y=x.y-w.y+x.height,T=0;if(p.forEach(function(D){T+=D.totalHeight}),y>P.height)P.y=w.y+y/2-P.height/2;else if(p.length!==1||P.height>T){var E=P.y+(P.height-y)/2-w.y;p.forEach(function(D){D.translate(0,E)})}else P.y=(w.y+w.height/2+x.y+x.height/2)/2-P.height/2}}var L={getSubTreeSep:function(){return 0}};G.exports=function(P,p){p===void 0&&(p={}),p=R.assign({},L,p),P.parent={x:0,width:0,height:0,y:0},P.BFTraverse(function(g){g.x=g.parent.x+g.parent.width}),P.parent=null,S(P,p),P.startY=0,P.y=P.totalHeight/2-P.height/2,P.eachNode(function(g){var w=g.children,x=w.length;if(x){var y=w[0];if(y.startY=g.startY+g._subTreeSep,x===1)y.y=g.y+g.height/2-y.height/2;else{y.y=y.startY+y.totalHeight/2-y.height/2;for(var T=1;T<x;T++){var E=w[T];E.startY=w[T-1].startY+w[T-1].totalHeight,E.y=E.startY+E.totalHeight/2-E.height/2}}}}),M(P)}}])})},483360:function(ze,G,C){"use strict";var m=this&&this.__createBinding||(Object.create?function(M,L,P,p){p===void 0&&(p=P);var g=Object.getOwnPropertyDescriptor(L,P);(!g||("get"in g?!L.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return L[P]}}),Object.defineProperty(M,p,g)}:function(M,L,P,p){p===void 0&&(p=P),M[p]=L[P]}),R=this&&this.__exportStar||function(M,L){for(var P in M)P!=="default"&&!Object.prototype.hasOwnProperty.call(L,P)&&m(L,M,P)};Object.defineProperty(G,"__esModule",{value:!0}),G.getLayoutByName=G.unRegisterLayout=G.registerLayout=void 0;var S=C(695326);Object.defineProperty(G,"registerLayout",{enumerable:!0,get:function(){return S.registerLayout}}),Object.defineProperty(G,"unRegisterLayout",{enumerable:!0,get:function(){return S.unRegisterLayout}}),Object.defineProperty(G,"getLayoutByName",{enumerable:!0,get:function(){return S.getLayoutByName}}),R(C(702584),G)},762329:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.Base=void 0;var C=function(){function m(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.vedges=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return m.prototype.layout=function(R){return this.init(R),this.execute(!0)},m.prototype.init=function(R){this.nodes=R.nodes||[],this.edges=R.edges||[],this.combos=R.combos||[],this.comboEdges=R.comboEdges||[],this.hiddenNodes=R.hiddenNodes||[],this.hiddenEdges=R.hiddenEdges||[],this.hiddenCombos=R.hiddenCombos||[],this.vedges=R.vedges||[]},m.prototype.execute=function(R){},m.prototype.executeWithWorker=function(){},m.prototype.getDefaultCfg=function(){return{}},m.prototype.updateCfg=function(R){R&&Object.assign(this,R)},m.prototype.getType=function(){return"base"},m.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},m}();G.Base=C},964885:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var g=function(w,x){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,T){y.__proto__=T}||function(y,T){for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(y[E]=T[E])},g(w,x)};return function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");g(w,x);function y(){this.constructor=w}w.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)}}();Object.defineProperty(G,"__esModule",{value:!0}),G.CircularLayout=void 0;var R=C(762329),S=C(449784);function M(g,w,x,y){g.forEach(function(T,E){g[E].children=[],g[E].parent=[]}),y?w.forEach(function(T){var E=(0,S.getEdgeTerminal)(T,"source"),D=(0,S.getEdgeTerminal)(T,"target"),k=0;E&&(k=x[E]);var b=0;D&&(b=x[D]);var f=g[k].children,W=g[b].parent;f.push(g[b].id),W.push(g[k].id)}):w.forEach(function(T){var E=(0,S.getEdgeTerminal)(T,"source"),D=(0,S.getEdgeTerminal)(T,"target"),k=0;E&&(k=x[E]);var b=0;D&&(b=x[D]);var f=g[k].children,W=g[b].children;f.push(g[b].id),W.push(g[k].id)})}function L(g,w,x){for(var y=x.length,T=0;T<y;T++){var E=(0,S.getEdgeTerminal)(x[T],"source"),D=(0,S.getEdgeTerminal)(x[T],"target");if(g.id===E&&w.id===D||w.id===E&&g.id===D)return!0}return!1}function P(g,w){var x=g.degree,y=w.degree;return x<y?-1:x>y?1:0}var p=function(g){m(w,g);function w(x){var y=g.call(this)||this;return y.radius=null,y.nodeSize=void 0,y.startRadius=null,y.endRadius=null,y.startAngle=0,y.endAngle=2*Math.PI,y.clockwise=!0,y.divisions=1,y.ordering=null,y.angleRatio=1,y.nodes=[],y.edges=[],y.nodeMap={},y.degrees=[],y.width=300,y.height=300,y.updateCfg(x),y}return w.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},w.prototype.execute=function(){var x,y=this,T=y.nodes,E=y.edges,D=T.length;if(D===0){y.onLayoutEnd&&y.onLayoutEnd();return}!y.width&&typeof window!="undefined"&&(y.width=window.innerWidth),!y.height&&typeof window!="undefined"&&(y.height=window.innerHeight),y.center||(y.center=[y.width/2,y.height/2]);var k=y.center;if(D===1){T[0].x=k[0],T[0].y=k[1],y.onLayoutEnd&&y.onLayoutEnd();return}var b=y.radius,f=y.startRadius,W=y.endRadius,X=y.divisions,z=y.startAngle,U=y.endAngle,j=y.angleRatio,V=y.ordering,J=y.clockwise,q=y.nodeSpacing,et=y.nodeSize,st=(U-z)/D,ot={};T.forEach(function(Tt,At){ot[Tt.id]=At}),y.nodeMap=ot;var mt=(0,S.getDegree)(T.length,ot,E);if(y.degrees=mt,q){var ft=(0,S.getFuncByUnknownType)(10,q),Bt=(0,S.getFuncByUnknownType)(10,et),St=-1/0;T.forEach(function(Tt){var At=Bt(Tt);St<At&&(St=At)});var wt=0;T.forEach(function(Tt,At){At===0?wt+=St||10:wt+=(ft(Tt)||0)+(St||10)}),b=wt/(2*Math.PI)}else!b&&!f&&!W?b=y.height>y.width?y.width/2:y.height/2:!f&&W?f=W:f&&!W&&(W=f);var H=st*j,Q=[];V==="topology"?Q=y.topologyOrdering():V==="topology-directed"?Q=y.topologyOrdering(!0):V==="degree"?Q=y.degreeOrdering():Q=T;for(var bt=Math.ceil(D/X),Ct=0;Ct<D;++Ct){var nt=b;!nt&&f!==null&&W!==null&&(nt=f+Ct*(W-f)/(D-1)),nt||(nt=10+Ct*100/(D-1));var dt=z+Ct%bt*H+2*Math.PI/X*Math.floor(Ct/bt);J||(dt=U-Ct%bt*H-2*Math.PI/X*Math.floor(Ct/bt)),Q[Ct].x=k[0]+Math.cos(dt)*nt,Q[Ct].y=k[1]+Math.sin(dt)*nt,Q[Ct].weight=mt[Ct].all}return(x=y.onLayoutEnd)===null||x===void 0||x.call(y),{nodes:Q,edges:this.edges}},w.prototype.topologyOrdering=function(x){x===void 0&&(x=!1);var y=this,T=y.degrees,E=y.edges,D=y.nodes,k=(0,S.clone)(D),b=y.nodeMap,f=[k[0]],W=[D[0]],X=[],z=D.length;X[0]=!0,M(k,E,b,x);var U=0;return k.forEach(function(j,V){if(V!==0)if((V===z-1||T[V].all!==T[V+1].all||L(f[U],j,E))&&!X[V])f.push(j),W.push(D[b[j.id]]),X[V]=!0,U++;else{for(var J=f[U].children,q=!1,et=0;et<J.length;et++){var st=b[J[et]];if(T[st].all===T[V].all&&!X[st]){f.push(k[st]),W.push(D[b[k[st].id]]),X[st]=!0,q=!0;break}}for(var ot=0;!q&&(X[ot]||(f.push(k[ot]),W.push(D[b[k[ot].id]]),X[ot]=!0,q=!0),ot++,ot!==z););}}),W},w.prototype.degreeOrdering=function(){var x=this,y=x.nodes,T=[],E=x.degrees;return y.forEach(function(D,k){D.degree=E[k].all,T.push(D)}),T.sort(P),T},w.prototype.getType=function(){return"circular"},w}(R.Base);G.CircularLayout=p},263861:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var g=function(w,x){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,T){y.__proto__=T}||function(y,T){for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(y[E]=T[E])},g(w,x)};return function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");g(w,x);function y(){this.constructor=w}w.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)}}(),R=this&&this.__assign||function(){return R=Object.assign||function(g){for(var w,x=1,y=arguments.length;x<y;x++){w=arguments[x];for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&(g[T]=w[T])}return g},R.apply(this,arguments)};Object.defineProperty(G,"__esModule",{value:!0}),G.ComboCombinedLayout=void 0;var S=C(416470),M=C(762329),L=C(449784),P=C(702584),p=function(g){m(w,g);function w(x){var y=g.call(this)||this;return y.center=[0,0],y.nodes=[],y.edges=[],y.combos=[],y.comboEdges=[],y.comboPadding=10,y.comboTrees=[],y.updateCfg(x),y}return w.prototype.getDefaultCfg=function(){return{}},w.prototype.execute=function(){var x=this,y=x.nodes,T=x.center;if(!y||y.length===0){x.onLayoutEnd&&x.onLayoutEnd();return}if(y.length===1){y[0].x=T[0],y[0].y=T[1],x.onLayoutEnd&&x.onLayoutEnd();return}x.initVals(),x.run(),x.onLayoutEnd&&x.onLayoutEnd()},w.prototype.run=function(){var x,y=this,T=y.nodes,E=y.edges,D=y.combos,k=y.comboEdges,b=y.center,f={};T.forEach(function(St){f[St.id]=St});var W={};D.forEach(function(St){W[St.id]=St});var X=y.getInnerGraphs(f),z=[],U=[],j={},V=!0;this.comboTrees.forEach(function(St){var wt=X[St.id],H=R(R({},St),{x:wt.x||W[St.id].x,y:wt.y||W[St.id].y,fx:wt.fx||W[St.id].fx,fy:wt.fy||W[St.id].fy,mass:wt.mass||W[St.id].mass,size:wt.size});U.push(H),!isNaN(H.x)&&H.x!==0&&!isNaN(H.y)&&H.y!==0?V=!1:(H.x=Math.random()*100,H.y=Math.random()*100),z.push(St.id),(0,L.traverseTreeUp)(St,function(Q){return Q.id!==St.id&&(j[Q.id]=St.id),!0})}),T.forEach(function(St){if(!(St.comboId&&W[St.comboId])){var wt=R({},St);U.push(wt),!isNaN(wt.x)&&wt.x!==0&&!isNaN(wt.y)&&wt.y!==0?V=!1:(wt.x=Math.random()*100,wt.y=Math.random()*100),z.push(St.id)}});var J=[];if(E.concat(k).forEach(function(St){var wt=j[St.source]||St.source,H=j[St.target]||St.target;wt!==H&&z.includes(wt)&&z.includes(H)&&J.push({source:wt,target:H})}),U!=null&&U.length){if(U.length===1)U[0].x=b[0],U[0].y=b[1];else{var q={nodes:U,edges:J},et=this.outerLayout||new P.GForceLayout({gravity:1,factor:4,linkDistance:function(St,wt,H){var Q,bt,Ct=((((Q=wt.size)===null||Q===void 0?void 0:Q[0])||30)+(((bt=H.size)===null||bt===void 0?void 0:bt[0])||30))/2;return Math.min(Ct*1.5,700)}}),st=(x=et.getType)===null||x===void 0?void 0:x.call(et);if(et.updateCfg({center:b,kg:5,preventOverlap:!0,animate:!1}),V&&S.FORCE_LAYOUT_TYPE_MAP[st]){var ot=U.length<100?new P.MDSLayout:new P.GridLayout;ot.layout(q)}et.layout(q)}U.forEach(function(St){var wt=X[St.id];if(!wt){var H=f[St.id];H&&(H.x=St.x,H.y=St.y);return}wt.visited=!0,wt.x=St.x,wt.y=St.y,wt.nodes.forEach(function(Q){Q.x+=St.x,Q.y+=St.y})})}for(var mt=Object.keys(X),ft=function(St){var wt=mt[St],H=X[wt];if(!H)return"continue";H.nodes.forEach(function(Q){H.visited||(Q.x+=H.x||0,Q.y+=H.y||0),f[Q.id]&&(f[Q.id].x=Q.x,f[Q.id].y=Q.y)}),W[wt]&&(W[wt].x=H.x,W[wt].y=H.y)},Bt=mt.length-1;Bt>=0;Bt--)ft(Bt);return{nodes:T,edges:E,combos:D,comboEdges:k}},w.prototype.getInnerGraphs=function(x){var y=this,T=y.comboTrees,E=y.nodeSize,D=y.edges,k=y.comboPadding,b=y.spacing,f={},W=this.innerLayout||new P.ConcentricLayout({sortBy:"id"});return W.center=[0,0],W.preventOverlap=!0,W.nodeSpacing=b,(T||[]).forEach(function(X){(0,L.traverseTreeUp)(X,function(z){var U,j=(k==null?void 0:k(z))||10;if((0,L.isArray)(j)&&(j=Math.max.apply(Math,j)),!((U=z.children)===null||U===void 0)&&U.length){var J=z.children.map(function(Q){if(Q.itemType==="combo")return f[Q.id];var bt=x[Q.id]||{};return R(R({},bt),Q)}),q=J.map(function(Q){return Q.id}),et={nodes:J,edges:D.filter(function(Q){return q.includes(Q.source)&&q.includes(Q.target)})},st=1/0;J.forEach(function(Q){var bt;Q.size||(Q.size=((bt=f[Q.id])===null||bt===void 0?void 0:bt.size)||(E==null?void 0:E(Q))||[30,30]),(0,L.isNumber)(Q.size)&&(Q.size=[Q.size,Q.size]),st>Q.size[0]&&(st=Q.size[0]),st>Q.size[1]&&(st=Q.size[1])}),W.layout(et);var ot=(0,L.getLayoutBBox)(J),mt=ot.minX,ft=ot.minY,Bt=ot.maxX,St=ot.maxY,wt={x:(Bt+mt)/2,y:(St+ft)/2};et.nodes.forEach(function(Q){Q.x-=wt.x,Q.y-=wt.y});var H=Math.max(Bt-mt,St-ft,st)+j*2;f[z.id]={id:z.id,nodes:J,size:[H,H]}}else if(z.itemType==="combo"){var V=j?[j*2,j*2]:[30,30];f[z.id]={id:z.id,nodes:[],size:V}}return!0})}),f},w.prototype.initVals=function(){var x=this,y=x.nodeSize,T=x.spacing,E,D;if((0,L.isNumber)(T)?D=function(){return T}:(0,L.isFunction)(T)?D=T:D=function(){return 0},this.spacing=D,!y)E=function(z){var U=D(z);if(z.size){if((0,L.isArray)(z.size)){var j=z.size[0]>z.size[1]?z.size[0]:z.size[1];return(j+U)/2}if((0,L.isObject)(z.size)){var j=z.size.width>z.size.height?z.size.width:z.size.height;return(j+U)/2}return(z.size+U)/2}return 10+U/2};else if((0,L.isFunction)(y))E=function(z){var U=y(z),j=D(z);if((0,L.isArray)(z.size)){var V=z.size[0]>z.size[1]?z.size[0]:z.size[1];return(V+j)/2}return((U||10)+j)/2};else if((0,L.isArray)(y)){var k=y[0]>y[1]?y[0]:y[1],b=k/2;E=function(z){return b+D(z)/2}}else{var f=y/2;E=function(z){return f+D(z)/2}}this.nodeSize=E;var W=x.comboPadding,X;(0,L.isNumber)(W)?X=function(){return W}:(0,L.isArray)(W)?X=function(){return Math.max.apply(null,W)}:(0,L.isFunction)(W)?X=W:X=function(){return 0},this.comboPadding=X},w.prototype.getType=function(){return"comboCombined"},w}(M.Base);G.ComboCombinedLayout=p},366590:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var L=function(P,p){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(g[x]=w[x])},L(P,p)};return function(P,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");L(P,p);function g(){this.constructor=P}P.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(G,"__esModule",{value:!0}),G.ComboForceLayout=void 0;var R=C(762329),S=C(449784),M=function(L){m(P,L);function P(p){var g=L.call(this)||this;return g.center=[0,0],g.maxIteration=100,g.gravity=10,g.comboGravity=10,g.linkDistance=10,g.alpha=1,g.alphaMin=.001,g.alphaDecay=1-Math.pow(g.alphaMin,1/300),g.alphaTarget=0,g.velocityDecay=.6,g.edgeStrength=.6,g.nodeStrength=30,g.preventOverlap=!1,g.preventNodeOverlap=!1,g.preventComboOverlap=!1,g.collideStrength=void 0,g.nodeCollideStrength=.5,g.comboCollideStrength=.5,g.comboSpacing=20,g.comboPadding=10,g.optimizeRangeFactor=1,g.onTick=function(){},g.onLayoutEnd=function(){},g.depthAttractiveForceScale=1,g.depthRepulsiveForceScale=2,g.nodes=[],g.edges=[],g.combos=[],g.comboTrees=[],g.width=300,g.height=300,g.bias=[],g.nodeMap={},g.oriComboMap={},g.indexMap={},g.comboMap={},g.previousLayouted=!1,g.updateCfg(p),g}return P.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},P.prototype.execute=function(){var p=this,g=p.nodes,w=p.center;if(p.comboTree={id:"comboTreeRoot",depth:-1,children:p.comboTrees},!g||g.length===0){p.onLayoutEnd&&p.onLayoutEnd();return}if(g.length===1){g[0].x=w[0],g[0].y=w[1],p.onLayoutEnd&&p.onLayoutEnd();return}p.initVals(),p.run(),p.onLayoutEnd&&p.onLayoutEnd()},P.prototype.run=function(){var p=this,g=p.nodes,w=p.previousLayouted?p.maxIteration/5:p.maxIteration;!p.width&&typeof window!="undefined"&&(p.width=window.innerWidth),!p.height&&typeof window!="undefined"&&(p.height=window.innerHeight);var x=p.center,y=p.velocityDecay,T=p.comboMap;p.previousLayouted||p.initPos(T);for(var E=function(f){var W=[];g.forEach(function(X,z){W[z]={x:0,y:0}}),p.applyCalculate(W),p.applyComboCenterForce(W),g.forEach(function(X,z){!(0,S.isNumber)(X.x)||!(0,S.isNumber)(X.y)||(X.x+=W[z].x*y,X.y+=W[z].y*y)}),p.alpha+=(p.alphaTarget-p.alpha)*p.alphaDecay,p.onTick()},D=0;D<w;D++)E(D);var k=[0,0];g.forEach(function(f){!(0,S.isNumber)(f.x)||!(0,S.isNumber)(f.y)||(k[0]+=f.x,k[1]+=f.y)}),k[0]/=g.length,k[1]/=g.length;var b=[x[0]-k[0],x[1]-k[1]];g.forEach(function(f,W){!(0,S.isNumber)(f.x)||!(0,S.isNumber)(f.y)||(f.x+=b[0],f.y+=b[1])}),p.combos.forEach(function(f){var W=T[f.id];W&&W.empty&&(f.x=W.cx||f.x,f.y=W.cy||f.y)}),p.previousLayouted=!0},P.prototype.initVals=function(){var p=this,g=p.edges,w=p.nodes,x=p.combos,y={},T={},E={};w.forEach(function(nt,dt){T[nt.id]=nt,E[nt.id]=dt}),p.nodeMap=T,p.indexMap=E;var D={};x.forEach(function(nt){D[nt.id]=nt}),p.oriComboMap=D,p.comboMap=p.getComboMap();var k=p.preventOverlap;p.preventComboOverlap=p.preventComboOverlap||k,p.preventNodeOverlap=p.preventNodeOverlap||k;var b=p.collideStrength;b&&(p.comboCollideStrength=b,p.nodeCollideStrength=b),p.comboCollideStrength=p.comboCollideStrength?p.comboCollideStrength:0,p.nodeCollideStrength=p.nodeCollideStrength?p.nodeCollideStrength:0;for(var f=0;f<g.length;++f){var W=(0,S.getEdgeTerminal)(g[f],"source"),X=(0,S.getEdgeTerminal)(g[f],"target");y[W]?y[W]++:y[W]=1,y[X]?y[X]++:y[X]=1}for(var z=[],f=0;f<g.length;++f){var W=(0,S.getEdgeTerminal)(g[f],"source"),X=(0,S.getEdgeTerminal)(g[f],"target");z[f]=y[W]/(y[W]+y[X])}this.bias=z;var U=p.nodeSize,j=p.nodeSpacing,V,J;if((0,S.isNumber)(j)?J=function(){return j}:(0,S.isFunction)(j)?J=j:J=function(){return 0},this.nodeSpacing=J,!U)V=function(nt){if(nt.size){if((0,S.isArray)(nt.size)){var dt=nt.size[0]>nt.size[1]?nt.size[0]:nt.size[1];return dt/2}if((0,S.isObject)(nt.size)){var dt=nt.size.width>nt.size.height?nt.size.width:nt.size.height;return dt/2}return nt.size/2}return 10};else if((0,S.isFunction)(U))V=function(nt){return U(nt)};else if((0,S.isArray)(U)){var q=U[0]>U[1]?U[0]:U[1],et=q/2;V=function(nt){return et}}else{var st=U/2;V=function(nt){return st}}this.nodeSize=V;var ot=p.comboSpacing,mt;(0,S.isNumber)(ot)?mt=function(){return ot}:(0,S.isFunction)(ot)?mt=ot:mt=function(){return 0},this.comboSpacing=mt;var ft=p.comboPadding,Bt;(0,S.isNumber)(ft)?Bt=function(){return ft}:(0,S.isArray)(ft)?Bt=function(){return Math.max.apply(null,ft)}:(0,S.isFunction)(ft)?Bt=ft:Bt=function(){return 0},this.comboPadding=Bt;var St=this.linkDistance,wt;St||(St=10),(0,S.isNumber)(St)?wt=function(nt){return St}:wt=St,this.linkDistance=wt;var H=this.edgeStrength,Q;H||(H=1),(0,S.isNumber)(H)?Q=function(nt){return H}:Q=H,this.edgeStrength=Q;var bt=this.nodeStrength,Ct;bt||(bt=30),(0,S.isNumber)(bt)?Ct=function(nt){return bt}:Ct=bt,this.nodeStrength=Ct},P.prototype.initPos=function(p){var g=this,w=g.nodes;w.forEach(function(x,y){var T=x.comboId,E=p[T];T&&E?(x.x=E.cx+100/(y+1),x.y=E.cy+100/(y+1)):(x.x=100/(y+1),x.y=100/(y+1))})},P.prototype.getComboMap=function(){var p=this,g=p.nodeMap,w=p.comboTrees,x=p.oriComboMap,y={};return(w||[]).forEach(function(T){var E=[];(0,S.traverseTreeUp)(T,function(D){if(D.itemType==="node"||!x[D.id])return!0;if(y[D.id]===void 0){var k={id:D.id,name:D.id,cx:0,cy:0,count:0,depth:p.oriComboMap[D.id].depth||0,children:[]};y[D.id]=k}var b=D.children;b&&b.forEach(function(X){if(!y[X.id]&&!g[X.id])return!0;E.push(X)});var f=y[D.id];if(f.cx=0,f.cy=0,E.length===0){f.empty=!0;var W=x[D.id];f.cx=W.x,f.cy=W.y}return E.forEach(function(X){if(f.count++,X.itemType!=="node"){var z=y[X.id];(0,S.isNumber)(z.cx)&&(f.cx+=z.cx),(0,S.isNumber)(z.cy)&&(f.cy+=z.cy);return}var U=g[X.id];U&&((0,S.isNumber)(U.x)&&(f.cx+=U.x),(0,S.isNumber)(U.y)&&(f.cy+=U.y))}),f.cx/=f.count||1,f.cy/=f.count||1,f.children=E,!0})}),y},P.prototype.applyComboCenterForce=function(p){var g=this,w=g.gravity,x=g.comboGravity||w,y=this.alpha,T=g.comboTrees,E=g.indexMap,D=g.nodeMap,k=g.comboMap;(T||[]).forEach(function(b){(0,S.traverseTreeUp)(b,function(f){if(f.itemType==="node")return!0;var W=k[f.id];if(!W)return!0;var X=k[f.id],z=(X.depth+1)/10*.5,U=X.cx,j=X.cy;return X.cx=0,X.cy=0,X.children.forEach(function(V){if(V.itemType!=="node"){var J=k[V.id];J&&(0,S.isNumber)(J.cx)&&(X.cx+=J.cx),J&&(0,S.isNumber)(J.cy)&&(X.cy+=J.cy);return}var q=D[V.id],et=q.x-U||.005,st=q.y-j||.005,ot=Math.sqrt(et*et+st*st),mt=E[q.id],ft=x*y/ot*z;p[mt].x-=et*ft,p[mt].y-=st*ft,(0,S.isNumber)(q.x)&&(X.cx+=q.x),(0,S.isNumber)(q.y)&&(X.cy+=q.y)}),X.cx/=X.count||1,X.cy/=X.count||1,!0})})},P.prototype.applyCalculate=function(p){var g=this,w=g.comboMap,x=g.nodes,y={};x.forEach(function(E,D){x.forEach(function(k,b){if(!(D<b)){var f=E.x-k.x||.005,W=E.y-k.y||.005,X=f*f+W*W,z=Math.sqrt(X);X<1&&(X=z),y["".concat(E.id,"-").concat(k.id)]={vx:f,vy:W,vl2:X,vl:z},y["".concat(k.id,"-").concat(E.id)]={vl2:X,vl:z,vx:-f,vy:-W}}})}),g.updateComboSizes(w),g.calRepulsive(p,y),g.calAttractive(p,y);var T=g.preventComboOverlap;T&&g.comboNonOverlapping(p,w)},P.prototype.updateComboSizes=function(p){var g=this,w=g.comboTrees,x=g.nodeMap,y=g.nodeSize,T=g.comboSpacing,E=g.comboPadding;(w||[]).forEach(function(D){var k=[];(0,S.traverseTreeUp)(D,function(b){if(b.itemType==="node")return!0;var f=p[b.id];if(!f)return!1;var W=b.children;W&&W.forEach(function(U){!p[U.id]&&!x[U.id]||k.push(U)}),f.minX=1/0,f.minY=1/0,f.maxX=-1/0,f.maxY=-1/0,k.forEach(function(U){if(U.itemType!=="node")return!0;var j=x[U.id];if(!j)return!0;var V=y(j),J=j.x-V,q=j.y-V,et=j.x+V,st=j.y+V;f.minX>J&&(f.minX=J),f.minY>q&&(f.minY=q),f.maxX<et&&(f.maxX=et),f.maxY<st&&(f.maxY=st)});var X=g.oriComboMap[b.id].size||10;(0,S.isArray)(X)&&(X=X[0]);var z=Math.max(f.maxX-f.minX,f.maxY-f.minY,X);return f.r=z/2+T(f)/2+E(f),!0})})},P.prototype.comboNonOverlapping=function(p,g){var w=this,x=w.comboTree,y=w.comboCollideStrength,T=w.indexMap,E=w.nodeMap;(0,S.traverseTreeUp)(x,function(D){if(!g[D.id]&&!E[D.id]&&D.id!=="comboTreeRoot")return!1;var k=D.children;return k&&k.length>1&&k.forEach(function(b,f){if(b.itemType==="node")return!1;var W=g[b.id];W&&k.forEach(function(X,z){if(f<=z||X.itemType==="node")return!1;var U=g[X.id];if(!U)return!1;var j=W.cx-U.cx||.005,V=W.cy-U.cy||.005,J=j*j+V*V,q=W.r||1,et=U.r||1,st=q+et,ot=et*et,mt=q*q;if(J<st*st){var ft=b.children;if(!ft||ft.length===0)return!1;var Bt=X.children;if(!Bt||Bt.length===0)return!1;var St=Math.sqrt(J),wt=(st-St)/St*y,H=j*wt,Q=V*wt,bt=ot/(mt+ot),Ct=1-bt;ft.forEach(function(nt){if(nt.itemType!=="node")return!1;if(E[nt.id]){var dt=T[nt.id];Bt.forEach(function(Tt){if(Tt.itemType!=="node"||!E[Tt.id])return!1;var At=T[Tt.id];p[dt].x+=H*bt,p[dt].y+=Q*bt,p[At].x-=H*Ct,p[At].y-=Q*Ct})}})}})}),!0})},P.prototype.calRepulsive=function(p,g){var w=this,x=w.nodes,y=w.width*w.optimizeRangeFactor,T=w.nodeStrength,E=w.alpha,D=w.nodeCollideStrength,k=w.preventNodeOverlap,b=w.nodeSize,f=w.nodeSpacing,W=w.depthRepulsiveForceScale,X=w.center;x.forEach(function(z,U){if(!(!z.x||!z.y)){if(X){var j=w.gravity,V=z.x-X[0]||.005,J=z.y-X[1]||.005,q=Math.sqrt(V*V+J*J);p[U].x-=V*j*E/q,p[U].y-=J*j*E/q}x.forEach(function(et,st){if(U!==st&&!(!et.x||!et.y)){var ot=g["".concat(z.id,"-").concat(et.id)],mt=ot.vl2,ft=ot.vl;if(!(ft>y)){var Bt=g["".concat(z.id,"-").concat(et.id)],St=Bt.vx,wt=Bt.vy,H=Math.log(Math.abs(et.depth-z.depth)/10)+1||1;H=H<1?1:H,et.comboId!==z.comboId&&(H+=1);var Q=H?Math.pow(W,H):1,bt=T(et)*E/mt*Q;if(p[U].x+=St*bt,p[U].y+=wt*bt,U<st&&k){var Ct=b(z)+f(z)||1,nt=b(et)+f(et)||1,dt=Ct+nt;if(mt<dt*dt){var Tt=(dt-ft)/ft*D,At=nt*nt,xt=At/(Ct*Ct+At),Dt=St*Tt,Ht=wt*Tt;p[U].x+=Dt*xt,p[U].y+=Ht*xt,xt=1-xt,p[st].x-=Dt*xt,p[st].y-=Ht*xt}}}}})}})},P.prototype.calAttractive=function(p,g){var w=this,x=w.edges,y=w.linkDistance,T=w.alpha,E=w.edgeStrength,D=w.bias,k=w.depthAttractiveForceScale;x.forEach(function(b,f){var W=(0,S.getEdgeTerminal)(b,"source"),X=(0,S.getEdgeTerminal)(b,"target");if(!(!W||!X||W===X)){var z=w.indexMap[W],U=w.indexMap[X],j=w.nodeMap[W],V=w.nodeMap[X];if(!(!j||!V)){var J=j.depth===V.depth?0:Math.log(Math.abs(j.depth-V.depth)/10);j.comboId===V.comboId&&(J=J/2);var q=J?Math.pow(k,J):1;if(j.comboId!==V.comboId&&q===1?q=k/2:j.comboId===V.comboId&&(q=2),!(!(0,S.isNumber)(V.x)||!(0,S.isNumber)(j.x)||!(0,S.isNumber)(V.y)||!(0,S.isNumber)(j.y))){var et=g["".concat(X,"-").concat(W)],st=et.vl,ot=et.vx,mt=et.vy,ft=(st-y(b))/st*T*E(b)*q,Bt=ot*ft,St=mt*ft,wt=D[f];p[U].x-=Bt*wt,p[U].y-=St*wt,p[z].x+=Bt*(1-wt),p[z].y+=St*(1-wt)}}}})},P.prototype.getType=function(){return"comboForce"},P}(R.Base);G.ComboForceLayout=M},843281:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var L=function(P,p){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(g[x]=w[x])},L(P,p)};return function(P,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");L(P,p);function g(){this.constructor=P}P.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(G,"__esModule",{value:!0}),G.ConcentricLayout=void 0;var R=C(449784),S=C(762329),M=function(L){m(P,L);function P(p){var g=L.call(this)||this;return g.nodeSize=30,g.minNodeSpacing=10,g.nodeSpacing=10,g.preventOverlap=!1,g.equidistant=!1,g.startAngle=3/2*Math.PI,g.clockwise=!0,g.sortBy="degree",g.nodes=[],g.edges=[],g.width=300,g.height=300,g.onLayoutEnd=function(){},g.updateCfg(p),g}return P.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},P.prototype.execute=function(){var p,g,w=this,x=w.nodes,y=w.edges,T=x.length;if(T===0){(p=w.onLayoutEnd)===null||p===void 0||p.call(w);return}!w.width&&typeof window!="undefined"&&(w.width=window.innerWidth),!w.height&&typeof window!="undefined"&&(w.height=window.innerHeight),w.center||(w.center=[w.width/2,w.height/2]);var E=w.center;if(T===1){x[0].x=E[0],x[0].y=E[1],(g=w.onLayoutEnd)===null||g===void 0||g.call(w);return}var D=w.nodeSize,k=w.nodeSpacing,b=[],f,W=0;(0,R.isArray)(D)?f=Math.max(D[0],D[1]):f=D,(0,R.isArray)(k)?W=Math.max(k[0],k[1]):(0,R.isNumber)(k)&&(W=k),x.forEach(function(H){b.push(H);var Q=f;(0,R.isArray)(H.size)?Q=Math.max(H.size[0],H.size[1]):(0,R.isNumber)(H.size)?Q=H.size:(0,R.isObject)(H.size)&&(Q=Math.max(H.size.width,H.size.height)),f=Math.max(f,Q),(0,R.isFunction)(k)&&(W=Math.max(k(H),W))}),w.clockwise=w.counterclockwise!==void 0?!w.counterclockwise:w.clockwise;var X={},z={};if(b.forEach(function(H,Q){X[H.id]=H,z[H.id]=Q}),(w.sortBy==="degree"||!(0,R.isString)(w.sortBy)||b[0][w.sortBy]===void 0)&&(w.sortBy="degree",!(0,R.isNumber)(x[0].degree))){var U=(0,R.getDegree)(x.length,z,y);b.forEach(function(H,Q){H.degree=U[Q].all})}b.sort(function(H,Q){return Q[w.sortBy]-H[w.sortBy]}),w.maxValueNode=b[0],w.maxLevelDiff=w.maxLevelDiff||w.maxValueNode[w.sortBy]/4;var j=[[]],V=j[0];b.forEach(function(H){if(V.length>0){var Q=Math.abs(V[0][w.sortBy]-H[w.sortBy]);w.maxLevelDiff&&Q>=w.maxLevelDiff&&(V=[],j.push(V))}V.push(H)});var J=f+(W||w.minNodeSpacing);if(!w.preventOverlap){var q=j.length>0&&j[0].length>1,et=Math.min(w.width,w.height)/2-J,st=et/(j.length+(q?1:0));J=Math.min(J,st)}var ot=0;if(j.forEach(function(H){var Q=w.sweep;Q===void 0&&(Q=2*Math.PI-2*Math.PI/H.length);var bt=H.dTheta=Q/Math.max(1,H.length-1);if(H.length>1&&w.preventOverlap){var Ct=Math.cos(bt)-Math.cos(0),nt=Math.sin(bt)-Math.sin(0),dt=Math.sqrt(J*J/(Ct*Ct+nt*nt));ot=Math.max(dt,ot)}H.r=ot,ot+=J}),w.equidistant){for(var mt=0,ft=0,Bt=0;Bt<j.length;Bt++){var St=j[Bt],wt=St.r-ft;mt=Math.max(mt,wt)}ft=0,j.forEach(function(H,Q){Q===0&&(ft=H.r),H.r=ft,ft+=mt})}return j.forEach(function(H){var Q=H.dTheta,bt=H.r;H.forEach(function(Ct,nt){var dt=w.startAngle+(w.clockwise?1:-1)*Q*nt;Ct.x=E[0]+bt*Math.cos(dt),Ct.y=E[1]+bt*Math.sin(dt)})}),w.onLayoutEnd&&w.onLayoutEnd(),{nodes:x,edges:y}},P.prototype.getType=function(){return"concentric"},P}(S.Base);G.ConcentricLayout=M},416470:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.FORCE_LAYOUT_TYPE_MAP=G.LAYOUT_MESSAGE=void 0,G.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},G.FORCE_LAYOUT_TYPE_MAP={gForce:!0,force2:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},920171:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var w=function(x,y){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,E){T.__proto__=E}||function(T,E){for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(T[D]=E[D])},w(x,y)};return function(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");w(x,y);function T(){this.constructor=x}x.prototype=y===null?Object.create(y):(T.prototype=y.prototype,new T)}}(),R=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(G,"__esModule",{value:!0}),G.DagreLayout=void 0;var S=R(C(441106)),M=C(449784),L=C(762329),P=C(627652),p=function(w){m(x,w);function x(y){var T=w.call(this)||this;return T.rankdir="TB",T.nodesep=50,T.ranksep=50,T.controlPoints=!1,T.sortByCombo=!1,T.edgeLabelSpace=!0,T.radial=!1,T.nodes=[],T.edges=[],T.onLayoutEnd=function(){},T.layoutNode=function(E){var D=T,k=D.nodes,b=k.find(function(W){return W.id===E});if(b){var f=b.layout!==!1;return f}return!0},T.updateCfg(y),T}return x.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},x.prototype.execute=function(){var y=this,T,E,D,k=this,b=k.nodes,f=k.nodeSize,W=k.rankdir,X=k.combos,z=k.begin,U=k.radial,j=k.comboEdges,V=j===void 0?[]:j,J=k.vedges,q=J===void 0?[]:J;if(b){var et=k.edges||[],st=new P.Graph({multigraph:!0,compound:!0});k.nodeMap={};var ot={};b.forEach(function(er){k.nodeMap[er.id]=er,er.comboId&&(ot[er.comboId]=ot[er.comboId]||[],ot[er.comboId].push(er.id))});var mt;f?(0,M.isArray)(f)?mt=function(){return f}:mt=function(){return[f,f]}:mt=function(er){return er.size?(0,M.isArray)(er.size)?er.size:(0,M.isObject)(er.size)?[er.size.width||40,er.size.height||40]:[er.size,er.size]:[40,40]};var ft=(0,M.getFunc)(k.ranksep,50,k.ranksepFunc),Bt=(0,M.getFunc)(k.nodesep,50,k.nodesepFunc),St=Bt,wt=ft;(W==="LR"||W==="RL")&&(St=ft,wt=Bt),st.setDefaultEdgeLabel(function(){return{}}),st.setGraph(k);var H={};this.sortByCombo&&X&&X.forEach(function(er){if(H[er.id]=er,er.collapsed){var Rr=mt(er),qr=wt(er),xr=St(er),Gr=Rr[0]+2*xr,Dr=Rr[1]+2*qr;st.setNode(er.id,{width:Gr,height:Dr})}er.parentId&&(H[er.parentId]||st.setNode(er.parentId,{}),st.setParent(er.id,er.parentId))}),b.filter(function(er){return er.layout!==!1}).forEach(function(er){var Rr=mt(er),qr=wt(er),xr=St(er),Gr=Rr[0]+2*xr,Dr=Rr[1]+2*qr,We=er.layer;(0,M.isNumber)(We)?st.setNode(er.id,{width:Gr,height:Dr,layer:We}):st.setNode(er.id,{width:Gr,height:Dr}),y.sortByCombo&&er.comboId&&(H[er.comboId]||(H[er.comboId]={id:er.comboId},st.setNode(er.comboId,{})),st.setParent(er.id,er.comboId))}),et.forEach(function(er){var Rr=(0,M.getEdgeTerminal)(er,"source"),qr=(0,M.getEdgeTerminal)(er,"target");y.layoutNode(Rr)&&y.layoutNode(qr)&&st.setEdge(Rr,qr,{weight:er.weight||1})}),(T=V==null?void 0:V.concat(q||[]))===null||T===void 0||T.forEach(function(er){var Rr,qr,xr=er.source,Gr=er.target,Dr=!((Rr=H[xr])===null||Rr===void 0)&&Rr.collapsed?[xr]:ot[xr]||[xr],We=!((qr=H[Gr])===null||qr===void 0)&&qr.collapsed?[Gr]:ot[Gr]||[Gr];Dr.forEach(function(Je){We.forEach(function(gn){st.setEdge(Je,gn,{weight:er.weight||1})})})});var Q=void 0;!((E=k.preset)===null||E===void 0)&&E.nodes&&(Q=new P.Graph({multigraph:!0,compound:!0}),k.preset.nodes.forEach(function(er){Q==null||Q.setNode(er.id,er)})),S.default.layout(st,{prevGraph:Q,edgeLabelSpace:k.edgeLabelSpace,keepNodeOrder:Boolean(!!k.nodeOrder),nodeOrder:k.nodeOrder});var bt=[0,0];if(z){var Ct=1/0,nt=1/0;st.nodes().forEach(function(er){var Rr=st.node(er);Ct>Rr.x&&(Ct=Rr.x),nt>Rr.y&&(nt=Rr.y)}),st.edges().forEach(function(er){var Rr,qr=st.edge(er);(Rr=qr.points)===null||Rr===void 0||Rr.forEach(function(xr){Ct>xr.x&&(Ct=xr.x),nt>xr.y&&(nt=xr.y)})}),bt[0]=z[0]-Ct,bt[1]=z[1]-nt}var dt=W==="LR"||W==="RL";if(U){var Tt=this,At=Tt.focusNode,xt=Tt.ranksep,Dt=Tt.getRadialPos,Ht=(0,M.isString)(At)?At:At==null?void 0:At.id,se=Ht?(D=st.node(Ht))===null||D===void 0?void 0:D._rank:0,re=[],It=dt?"y":"x",ne=dt?"height":"width",pe=1/0,Wt=-1/0;st.nodes().forEach(function(er){var Rr=st.node(er),qr=b.findIndex(function(gn){return gn.id===er});if(b[qr]){var xr=Bt(b[qr]);if(se===0)re[Rr._rank]||(re[Rr._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),re[Rr._rank].nodes.push(er),re[Rr._rank].totalWidth+=xr*2+Rr[ne],re[Rr._rank].maxSize<Math.max(Rr.width,Rr.height)&&(re[Rr._rank].maxSize=Math.max(Rr.width,Rr.height));else{var Gr=Rr._rank-se;if(Gr===0)re[Gr]||(re[Gr]={nodes:[],totalWidth:0,maxSize:-1/0}),re[Gr].nodes.push(er),re[Gr].totalWidth+=xr*2+Rr[ne],re[Gr].maxSize<Math.max(Rr.width,Rr.height)&&(re[Gr].maxSize=Math.max(Rr.width,Rr.height));else{var Dr=Math.abs(Gr);re[Dr]||(re[Dr]={left:[],right:[],totalWidth:0,maxSize:-1/0}),re[Dr].totalWidth+=xr*2+Rr[ne],re[Dr].maxSize<Math.max(Rr.width,Rr.height)&&(re[Dr].maxSize=Math.max(Rr.width,Rr.height)),Gr<0?re[Dr].left.push(er):re[Dr].right.push(er)}}var We=Rr[It]-Rr[ne]/2-xr,Je=Rr[It]+Rr[ne]/2+xr;We<pe&&(pe=We),Je>Wt&&(Wt=Je)}});var Jt=xt||50,$t={},Kt=(Wt-pe)/.9,ue=[(pe+Wt-Kt)*.5,(pe+Wt+Kt)*.5],Se=function(er,Rr,qr,xr){qr===void 0&&(qr=-1/0),xr===void 0&&(xr=[0,1]);var Gr=qr;return er.forEach(function(Dr){var We=st.node(Dr);$t[Dr]=Rr;var Je=Dt(We[It],ue,Kt,Rr,xr),gn=Je.x,rr=Je.y,jr=b.findIndex(function(kn){return kn.id===Dr});if(b[jr]){b[jr].x=gn+bt[0],b[jr].y=rr+bt[1],b[jr]._order=We._order;var Nr=ft(b[jr]);Gr<Nr&&(Gr=Nr)}}),Gr},Pt=!0,Fe=0;re.forEach(function(er){var Rr,qr,xr,Gr,Dr,We,Je;if(!(!(!((Rr=er==null?void 0:er.nodes)===null||Rr===void 0)&&Rr.length)&&!(!((qr=er==null?void 0:er.left)===null||qr===void 0)&&qr.length)&&!(!((xr=er==null?void 0:er.right)===null||xr===void 0)&&xr.length))){if(Pt&&er.nodes.length===1){var gn=b.findIndex(function(Nr){return Nr.id===er.nodes[0]});if(gn<=-1)return;b[gn].x=bt[0],b[gn].y=bt[1],$t[er.nodes[0]]=0,Jt=ft(b[gn]),Pt=!1;return}Jt=Math.max(Jt,er.totalWidth/(2*Math.PI));var rr=-1/0;if(se===0||!((Gr=er.nodes)===null||Gr===void 0)&&Gr.length)rr=Se(er.nodes,Jt,rr,[0,1]);else{var jr=((Dr=er.left)===null||Dr===void 0?void 0:Dr.length)/(((We=er.left)===null||We===void 0?void 0:We.length)+((Je=er.right)===null||Je===void 0?void 0:Je.length));rr=Se(er.left,Jt,rr,[0,jr]),rr=Se(er.right,Jt,rr,[jr+.05,1])}Jt+=rr,Pt=!1,Fe-er.maxSize}}),st.edges().forEach(function(er){var Rr,qr,xr,Gr=st.edge(er),Dr=et.findIndex(function(on){var dn=(0,M.getEdgeTerminal)(on,"source"),En=(0,M.getEdgeTerminal)(on,"target");return dn===er.v&&En===er.w});if(!(Dr<=-1)&&k.edgeLabelSpace&&k.controlPoints&&et[Dr].type!=="loop"){var We=It==="x"?"y":"x",Je=(Rr=Gr==null?void 0:Gr.points)===null||Rr===void 0?void 0:Rr.slice(1,Gr.points.length-1),gn=[],rr=(qr=st.node(er.v))===null||qr===void 0?void 0:qr[We],jr=rr-((xr=st.node(er.w))===null||xr===void 0?void 0:xr[We]),Nr=$t[er.v],kn=Nr-$t[er.w];Je==null||Je.forEach(function(on){var dn=(on[We]-rr)/jr*kn+Nr,En=Dt(on[It],ue,Kt,dn);gn.push({x:En.x+bt[0],y:En.y+bt[1]})}),et[Dr].controlPoints=gn}})}else{var vr=new Set,Tr=W==="BT"||W==="RL",Or=Tr?function(er,Rr){return Rr-er}:function(er,Rr){return er-Rr};st.nodes().forEach(function(er){var Rr=st.node(er);if(Rr){var qr=y.nodeMap[er];qr||(qr=X==null?void 0:X.find(function(xr){return xr.id===er})),qr&&(qr.x=Rr.x+bt[0],qr.y=Rr.y+bt[1],qr._order=Rr._order,vr.add(dt?qr.x:qr.y))}});var Fr=Array.from(vr).sort(Or),nn=dt?function(er,Rr){return er.x!==Rr.x}:function(er,Rr){return er.y!==Rr.y},an=dt?function(er,Rr,qr){var xr=Math.max(Rr.y,qr.y),Gr=Math.min(Rr.y,qr.y);return er.filter(function(Dr){return Dr.y<=xr&&Dr.y>=Gr})}:function(er,Rr,qr){var xr=Math.max(Rr.x,qr.x),Gr=Math.min(Rr.x,qr.x);return er.filter(function(Dr){return Dr.x<=xr&&Dr.x>=Gr})};st.edges().forEach(function(er){var Rr=st.edge(er),qr=et.findIndex(function(Dr){var We=(0,M.getEdgeTerminal)(Dr,"source"),Je=(0,M.getEdgeTerminal)(Dr,"target");return We===er.v&&Je===er.w});if(!(qr<=-1)&&k.edgeLabelSpace&&k.controlPoints&&et[qr].type!=="loop"){var xr=k.nodeMap[er.v],Gr=k.nodeMap[er.w];et[qr].controlPoints=g(Rr==null?void 0:Rr.points,xr,Gr,Fr,dt,nn,an),et[qr].controlPoints.forEach(function(Dr){Dr.x+=bt[0],Dr.y+=bt[1]})}})}return k.onLayoutEnd&&k.onLayoutEnd(),{nodes:b,edges:et}}},x.prototype.getRadialPos=function(y,T,E,D,k){k===void 0&&(k=[0,1]);var b=(y-T[0])/E;b=b*(k[1]-k[0])+k[0];var f=b*2*Math.PI;return{x:Math.cos(f)*D,y:Math.sin(f)*D}},x.prototype.getType=function(){return"dagre"},x}(L.Base);G.DagreLayout=p;var g=function(w,x,y,T,E,D,k){var b=(w==null?void 0:w.slice(1,w.length-1))||[];if(x&&y){var f=x.x,W=x.y,X=y.x,z=y.y;if(E&&(f=x.y,W=x.x,X=y.y,z=y.x),z!==W&&f!==X){var U=T.indexOf(W),j=T[U+1];if(j){var V=b[0],J=E?{x:(W+j)/2,y:(V==null?void 0:V.y)||X}:{x:(V==null?void 0:V.x)||X,y:(W+j)/2};(!V||D(V,J))&&b.unshift(J)}var q=T.indexOf(z),et=Math.abs(q-U);if(et===1)b=k(b,x,y),b.length||b.push(E?{x:(W+z)/2,y:f}:{x:f,y:(W+z)/2});else if(et>1){var st=T[q-1];if(st){var ot=b[b.length-1],mt=E?{x:(z+st)/2,y:(ot==null?void 0:ot.y)||X}:{x:(ot==null?void 0:ot.x)||f,y:(z+st)/2};(!ot||D(ot,mt))&&b.push(mt)}}}}return b}},627652:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var M=function(L,P){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(p[w]=g[w])},M(L,P)};return function(L,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");M(L,P);function p(){this.constructor=L}L.prototype=P===null?Object.create(P):(p.prototype=P.prototype,new p)}}();Object.defineProperty(G,"__esModule",{value:!0}),G.Graph=void 0;var R=C(199905),S=function(M){m(L,M);function L(){return M!==null&&M.apply(this,arguments)||this}return L}(R.Graph);G.Graph=S},441106:function(ze,G,C){"use strict";var m=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(G,"__esModule",{value:!0});var R=m(C(265236)),S=C(269209);G.default={layout:R.default,util:{time:S.time,notime:S.notime}}},178029:function(ze,G,C){"use strict";var m=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(G,"__esModule",{value:!0});var R=m(C(40773)),S=function(P){var p=function(w){return function(x){var y;return((y=w.edge(x))===null||y===void 0?void 0:y.weight)||1}},g=P.graph().acyclicer==="greedy"?(0,R.default)(P,p(P)):M(P);g==null||g.forEach(function(w){var x=P.edge(w);P.removeEdgeObj(w),x.forwardName=w.name,x.reversed=!0,P.setEdge(w.w,w.v,x,"rev-".concat(Math.random()))})},M=function(P){var p=[],g={},w={},x=function(y){var T;w[y]||(w[y]=!0,g[y]=!0,(T=P.outEdges(y))===null||T===void 0||T.forEach(function(E){g[E.w]?p.push(E):x(E.w)}),delete g[y])};return P.nodes().forEach(x),p},L=function(P){P.edges().forEach(function(p){var g=P.edge(p);if(g.reversed){P.removeEdgeObj(p);var w=g.forwardName;delete g.reversed,delete g.forwardName,P.setEdge(p.w,p.v,g,w)}})};G.default={run:S,undo:L}},111500:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var m=C(269209),R=function(M){var L,P=function(p){var g=M.children(p),w=M.node(p);if(g!=null&&g.length&&g.forEach(function(T){return P(T)}),w.hasOwnProperty("minRank")){w.borderLeft=[],w.borderRight=[];for(var x=w.minRank,y=w.maxRank+1;x<y;x+=1)S(M,"borderLeft","_bl",p,w,x),S(M,"borderRight","_br",p,w,x)}};(L=M.children())===null||L===void 0||L.forEach(function(p){return P(p)})},S=function(M,L,P,p,g,w){var x={rank:w,borderType:L,width:0,height:0},y=g[L][w-1],T=(0,m.addDummyNode)(M,"border",x,P);g[L][w]=T,M.setParent(T,p),y&&M.setEdge(y,T,{weight:1})};G.default=R},335279:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var C=function(g){var w,x=(w=g.graph().rankdir)===null||w===void 0?void 0:w.toLowerCase();(x==="lr"||x==="rl")&&R(g)},m=function(g){var w,x=(w=g.graph().rankdir)===null||w===void 0?void 0:w.toLowerCase();(x==="bt"||x==="rl")&&M(g),(x==="lr"||x==="rl")&&(P(g),R(g))},R=function(g){g.nodes().forEach(function(w){S(g.node(w))}),g.edges().forEach(function(w){S(g.edge(w))})},S=function(g){var w=g.width;g.width=g.height,g.height=w},M=function(g){g.nodes().forEach(function(w){L(g.node(w))}),g.edges().forEach(function(w){var x,y=g.edge(w);(x=y.points)===null||x===void 0||x.forEach(function(T){return L(T)}),y.hasOwnProperty("y")&&L(y)})},L=function(g){g!=null&&g.y&&(g.y=-g.y)},P=function(g){g.nodes().forEach(function(w){p(g.node(w))}),g.edges().forEach(function(w){var x,y=g.edge(w);(x=y.points)===null||x===void 0||x.forEach(function(T){return p(T)}),y.hasOwnProperty("x")&&p(y)})},p=function(g){var w=g.x;g.x=g.y,g.y=w};G.default={adjust:C,undo:m}},455532:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var C=function(S,M){if(S!=="next"&&S!=="prev")return M},m=function(S){S.prev.next=S.next,S.next.prev=S.prev,delete S.next,delete S.prev},R=function(){function S(){var M={};M.prev=M,M.next=M.prev,this.shortcut=M}return S.prototype.dequeue=function(){var M=this.shortcut,L=M.prev;if(L&&L!==M)return m(L),L},S.prototype.enqueue=function(M){var L=this.shortcut;M.prev&&M.next&&m(M),M.next=L.next,L.next.prev=M,L.next=M,M.prev=L},S.prototype.toString=function(){for(var M=[],L=this.shortcut,P=L.prev;P!==L;)M.push(JSON.stringify(P,C)),P=P==null?void 0:P.prev;return"[".concat(M.join(", "),"]")},S}();G.default=R},40773:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var E=function(D,k){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,f){b.__proto__=f}||function(b,f){for(var W in f)Object.prototype.hasOwnProperty.call(f,W)&&(b[W]=f[W])},E(D,k)};return function(D,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");E(D,k);function b(){this.constructor=D}D.prototype=k===null?Object.create(k):(b.prototype=k.prototype,new b)}}(),R=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(G,"__esModule",{value:!0});var S=R(C(455532)),M=C(199905),L=function(E){m(D,E);function D(){return E!==null&&E.apply(this,arguments)||this}return D}(S.default),P=function(E){m(D,E);function D(){return E!==null&&E.apply(this,arguments)||this}return D}(M.Graph),p=function(){return 1},g=function(E,D){var k;if(E.nodeCount()<=1)return[];var b=y(E,D||p),f=w(b.graph,b.buckets,b.zeroIdx);return(k=f.map(function(W){return E.outEdges(W.v,W.w)}))===null||k===void 0?void 0:k.flat()},w=function(E,D,k){for(var b=[],f=D[D.length-1],W=D[0],X;E.nodeCount();){for(;X=W.dequeue();)x(E,D,k,X);for(;X=f.dequeue();)x(E,D,k,X);if(E.nodeCount()){for(var z=D.length-2;z>0;--z)if(X=D[z].dequeue(),X){b=b.concat(x(E,D,k,X,!0));break}}}return b},x=function(E,D,k,b,f){var W,X,z=[];return(W=E.inEdges(b.v))===null||W===void 0||W.forEach(function(U){var j=E.edge(U),V=E.node(U.v);f&&z.push({v:U.v,w:U.w,in:0,out:0}),V.out===void 0&&(V.out=0),V.out-=j,T(D,k,V)}),(X=E.outEdges(b.v))===null||X===void 0||X.forEach(function(U){var j=E.edge(U),V=U.w,J=E.node(V);J.in===void 0&&(J.in=0),J.in-=j,T(D,k,J)}),E.removeNode(b.v),f?z:void 0},y=function(E,D){var k=new P,b=0,f=0;E.nodes().forEach(function(j){k.setNode(j,{v:j,in:0,out:0})}),E.edges().forEach(function(j){var V=k.edge(j)||0,J=(D==null?void 0:D(j))||1,q=V+J;k.setEdge(j.v,j.w,q),f=Math.max(f,k.node(j.v).out+=J),b=Math.max(b,k.node(j.w).in+=J)});for(var W=[],X=f+b+3,z=0;z<X;z++)W.push(new L);var U=b+1;return k.nodes().forEach(function(j){T(W,U,k.node(j))}),{buckets:W,zeroIdx:U,graph:k}},T=function(E,D,k){k.out?k.in?E[k.out-k.in+D].enqueue(k):E[E.length-1].enqueue(k):E[0].enqueue(k)};G.default=g},265236:function(ze,G,C){"use strict";var m=this&&this.__assign||function(){return m=Object.assign||function(xt){for(var Dt,Ht=1,se=arguments.length;Ht<se;Ht++){Dt=arguments[Ht];for(var re in Dt)Object.prototype.hasOwnProperty.call(Dt,re)&&(xt[re]=Dt[re])}return xt},m.apply(this,arguments)},R=this&&this.__importDefault||function(xt){return xt&&xt.__esModule?xt:{default:xt}};Object.defineProperty(G,"__esModule",{value:!0});var S=R(C(178029)),M=R(C(546171)),L=R(C(576827)),P=C(269209),p=R(C(933562)),g=R(C(59596)),w=R(C(111500)),x=R(C(335279)),y=R(C(819597)),T=R(C(100095)),E=R(C(724956)),D=C(627652),k=function(xt,Dt){var Ht=Dt&&Dt.debugTiming?P.time:P.notime;Ht("layout",function(){Dt&&!Dt.keepNodeOrder&&Dt.prevGraph&&Ht("  inheritOrder",function(){f(xt,Dt.prevGraph)});var se=Ht("  buildLayoutGraph",function(){return st(xt)});Dt&&Dt.edgeLabelSpace===!1||Ht("  makeSpaceForEdgeLabels",function(){ot(se)});try{Ht("  runLayout",function(){b(se,Ht,Dt)})}catch(re){if(re.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,re);return}throw re}Ht("  updateInputGraph",function(){W(xt,se)})})},b=function(xt,Dt,Ht){Dt("    removeSelfEdges",function(){Ct(xt)}),Dt("    acyclic",function(){S.default.run(xt)}),Dt("    nestingGraph.run",function(){g.default.run(xt)}),Dt("    rank",function(){(0,L.default)((0,P.asNonCompoundGraph)(xt))}),Dt("    injectEdgeLabelProxies",function(){mt(xt)}),Dt("    removeEmptyRanks",function(){(0,P.removeEmptyRanks)(xt)}),Dt("    nestingGraph.cleanup",function(){g.default.cleanup(xt)}),Dt("    normalizeRanks",function(){(0,P.normalizeRanks)(xt)}),Dt("    assignRankMinMax",function(){ft(xt)}),Dt("    removeEdgeLabelProxies",function(){Bt(xt)}),Dt("    normalize.run",function(){M.default.run(xt)}),Dt("    parentDummyChains",function(){(0,p.default)(xt)}),Dt("    addBorderSegments",function(){(0,w.default)(xt)}),Ht&&Ht.keepNodeOrder&&Dt("    initDataOrder",function(){(0,E.default)(xt,Ht.nodeOrder)}),Dt("    order",function(){(0,y.default)(xt,Ht==null?void 0:Ht.keepNodeOrder)}),Dt("    insertSelfEdges",function(){nt(xt)}),Dt("    adjustCoordinateSystem",function(){x.default.adjust(xt)}),Dt("    position",function(){(0,T.default)(xt)}),Dt("    positionSelfEdges",function(){dt(xt)}),Dt("    removeBorderNodes",function(){bt(xt)}),Dt("    normalize.undo",function(){M.default.undo(xt)}),Dt("    fixupEdgeLabelCoords",function(){H(xt)}),Dt("    undoCoordinateSystem",function(){x.default.undo(xt)}),Dt("    translateGraph",function(){St(xt)}),Dt("    assignNodeIntersects",function(){wt(xt)}),Dt("    reversePoints",function(){Q(xt)}),Dt("    acyclic.undo",function(){S.default.undo(xt)})},f=function(xt,Dt){xt.nodes().forEach(function(Ht){var se=xt.node(Ht),re=Dt.node(Ht);re!==void 0?(se.fixorder=re._order,delete re._order):delete se.fixorder})},W=function(xt,Dt){xt.nodes().forEach(function(Ht){var se,re=xt.node(Ht);if(re){var It=Dt.node(Ht);re.x=It.x,re.y=It.y,re._order=It.order,re._rank=It.rank,!((se=Dt.children(Ht))===null||se===void 0)&&se.length&&(re.width=It.width,re.height=It.height)}}),xt.edges().forEach(function(Ht){var se=xt.edge(Ht),re=Dt.edge(Ht);se.points=re?re.points:[],re&&re.hasOwnProperty("x")&&(se.x=re.x,se.y=re.y)}),xt.graph().width=Dt.graph().width,xt.graph().height=Dt.graph().height},X=["nodesep","edgesep","ranksep","marginx","marginy"],z={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},U=["acyclicer","ranker","rankdir","align"],j=["width","height","layer","fixorder"],V={width:0,height:0},J=["minlen","weight","width","height","labeloffset"],q={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},et=["labelpos"],st=function(xt){var Dt=new D.Graph({multigraph:!0,compound:!0}),Ht=At(xt.graph()),se={};return U==null||U.forEach(function(re){Ht[re]!==void 0&&(se[re]=Ht[re])}),Dt.setGraph(Object.assign({},z,Tt(Ht,X),se)),xt.nodes().forEach(function(re){var It=At(xt.node(re)),ne=m(m({},V),It),pe=Tt(ne,j);Dt.setNode(re,pe),Dt.setParent(re,xt.parent(re))}),xt.edges().forEach(function(re){var It=At(xt.edge(re)),ne={};et==null||et.forEach(function(pe){It[pe]!==void 0&&(ne[pe]=It[pe])}),Dt.setEdgeObj(re,Object.assign({},q,Tt(It,J),ne))}),Dt},ot=function(xt){var Dt=xt.graph();Dt.ranksep||(Dt.ranksep=0),Dt.ranksep/=2,xt.nodes().forEach(function(Ht){var se=xt.node(Ht);isNaN(se.layer)||se.layer||(se.layer=0)}),xt.edges().forEach(function(Ht){var se,re=xt.edge(Ht);re.minlen*=2,((se=re.labelpos)===null||se===void 0?void 0:se.toLowerCase())!=="c"&&(Dt.rankdir==="TB"||Dt.rankdir==="BT"?re.width+=re.labeloffset:re.height+=re.labeloffset)})},mt=function(xt){xt.edges().forEach(function(Dt){var Ht=xt.edge(Dt);if(Ht.width&&Ht.height){var se=xt.node(Dt.v),re=xt.node(Dt.w),It={e:Dt,rank:(re.rank-se.rank)/2+se.rank};(0,P.addDummyNode)(xt,"edge-proxy",It,"_ep")}})},ft=function(xt){var Dt=0;xt.nodes().forEach(function(Ht){var se,re,It=xt.node(Ht);It.borderTop&&(It.minRank=(se=xt.node(It.borderTop))===null||se===void 0?void 0:se.rank,It.maxRank=(re=xt.node(It.borderBottom))===null||re===void 0?void 0:re.rank,Dt=Math.max(Dt,It.maxRank||-1/0))}),xt.graph().maxRank=Dt},Bt=function(xt){xt.nodes().forEach(function(Dt){var Ht=xt.node(Dt);Ht.dummy==="edge-proxy"&&(xt.edge(Ht.e).labelRank=Ht.rank,xt.removeNode(Dt))})},St=function(xt){var Dt,Ht=0,se,re=0,It=xt.graph(),ne=It.marginx||0,pe=It.marginy||0,Wt=function(Jt){if(Jt){var $t=Jt.x,Kt=Jt.y,ue=Jt.width,Se=Jt.height;!isNaN($t)&&!isNaN(ue)&&(Dt===void 0&&(Dt=$t-ue/2),Dt=Math.min(Dt,$t-ue/2),Ht=Math.max(Ht,$t+ue/2)),!isNaN(Kt)&&!isNaN(Se)&&(se===void 0&&(se=Kt-Se/2),se=Math.min(se,Kt-Se/2),re=Math.max(re,Kt+Se/2))}};xt.nodes().forEach(function(Jt){Wt(xt.node(Jt))}),xt.edges().forEach(function(Jt){var $t=xt.edge(Jt);$t!=null&&$t.hasOwnProperty("x")&&Wt($t)}),Dt-=ne,se-=pe,xt.nodes().forEach(function(Jt){var $t=xt.node(Jt);$t&&($t.x-=Dt,$t.y-=se)}),xt.edges().forEach(function(Jt){var $t,Kt=xt.edge(Jt);($t=Kt.points)===null||$t===void 0||$t.forEach(function(ue){ue.x-=Dt,ue.y-=se}),Kt.hasOwnProperty("x")&&(Kt.x-=Dt),Kt.hasOwnProperty("y")&&(Kt.y-=se)}),It.width=Ht-Dt+ne,It.height=re-se+pe},wt=function(xt){xt.edges().forEach(function(Dt){var Ht=xt.edge(Dt),se=xt.node(Dt.v),re=xt.node(Dt.w),It,ne;Ht.points?(It=Ht.points[0],ne=Ht.points[Ht.points.length-1]):(Ht.points=[],It=re,ne=se),Ht.points.unshift((0,P.intersectRect)(se,It)),Ht.points.push((0,P.intersectRect)(re,ne))})},H=function(xt){xt.edges().forEach(function(Dt){var Ht=xt.edge(Dt);if(Ht!=null&&Ht.hasOwnProperty("x"))switch((Ht.labelpos==="l"||Ht.labelpos==="r")&&(Ht.width-=Ht.labeloffset),Ht.labelpos){case"l":Ht.x-=Ht.width/2+Ht.labeloffset;break;case"r":Ht.x+=Ht.width/2+Ht.labeloffset;break}})},Q=function(xt){xt.edges().forEach(function(Dt){var Ht,se=xt.edge(Dt);se.reversed&&((Ht=se.points)===null||Ht===void 0||Ht.reverse())})},bt=function(xt){xt.nodes().forEach(function(Dt){var Ht,se,re;if(!((Ht=xt.children(Dt))===null||Ht===void 0)&&Ht.length){var It=xt.node(Dt),ne=xt.node(It.borderTop),pe=xt.node(It.borderBottom),Wt=xt.node(It.borderLeft[((se=It.borderLeft)===null||se===void 0?void 0:se.length)-1]),Jt=xt.node(It.borderRight[((re=It.borderRight)===null||re===void 0?void 0:re.length)-1]);It.width=Math.abs((Jt==null?void 0:Jt.x)-(Wt==null?void 0:Wt.x))||10,It.height=Math.abs((pe==null?void 0:pe.y)-(ne==null?void 0:ne.y))||10,It.x=((Wt==null?void 0:Wt.x)||0)+It.width/2,It.y=((ne==null?void 0:ne.y)||0)+It.height/2}}),xt.nodes().forEach(function(Dt){var Ht;((Ht=xt.node(Dt))===null||Ht===void 0?void 0:Ht.dummy)==="border"&&xt.removeNode(Dt)})},Ct=function(xt){xt.edges().forEach(function(Dt){if(Dt.v===Dt.w){var Ht=xt.node(Dt.v);Ht.selfEdges||(Ht.selfEdges=[]),Ht.selfEdges.push({e:Dt,label:xt.edge(Dt)}),xt.removeEdgeObj(Dt)}})},nt=function(xt){var Dt=(0,P.buildLayerMatrix)(xt);Dt==null||Dt.forEach(function(Ht){var se=0;Ht==null||Ht.forEach(function(re,It){var ne,pe=xt.node(re);pe.order=It+se,(ne=pe.selfEdges)===null||ne===void 0||ne.forEach(function(Wt){(0,P.addDummyNode)(xt,"selfedge",{width:Wt.label.width,height:Wt.label.height,rank:pe.rank,order:It+ ++se,e:Wt.e,label:Wt.label},"_se")}),delete pe.selfEdges})})},dt=function(xt){xt.nodes().forEach(function(Dt){var Ht=xt.node(Dt);if(Ht.dummy==="selfedge"){var se=xt.node(Ht.e.v),re=se.x+se.width/2,It=se.y,ne=Ht.x-re,pe=se.height/2;xt.setEdgeObj(Ht.e,Ht.label),xt.removeNode(Dt),Ht.label.points=[{x:re+2*ne/3,y:It-pe},{x:re+5*ne/6,y:It-pe},{y:It,x:re+ne},{x:re+5*ne/6,y:It+pe},{x:re+2*ne/3,y:It+pe}],Ht.label.x=Ht.x,Ht.label.y=Ht.y}})},Tt=function(xt,Dt){var Ht={};return Dt==null||Dt.forEach(function(se){xt[se]!==void 0&&(Ht[se]=+xt[se])}),Ht},At=function(xt){xt===void 0&&(xt={});var Dt={};return Object.keys(xt).forEach(function(Ht){Dt[Ht.toLowerCase()]=xt[Ht]}),Dt};G.default=k},59596:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var m=C(269209),R=function(p){var g,w=(0,m.addDummyNode)(p,"root",{},"_root"),x=M(p),y=Math.max.apply(Math,Object.values(x));Math.abs(y)===1/0&&(y=1);var T=y-1,E=2*T+1;p.graph().nestingRoot=w,p.edges().forEach(function(k){p.edge(k).minlen*=E});var D=L(p)+1;(g=p.children())===null||g===void 0||g.forEach(function(k){S(p,w,E,D,T,x,k)}),p.graph().nodeRankFactor=E},S=function(p,g,w,x,y,T,E){var D=p.children(E);if(!(D!=null&&D.length)){E!==g&&p.setEdge(g,E,{weight:0,minlen:w});return}var k=(0,m.addBorderNode)(p,"_bt"),b=(0,m.addBorderNode)(p,"_bb"),f=p.node(E);p.setParent(k,E),f.borderTop=k,p.setParent(b,E),f.borderBottom=b,D==null||D.forEach(function(W){S(p,g,w,x,y,T,W);var X=p.node(W),z=X.borderTop?X.borderTop:W,U=X.borderBottom?X.borderBottom:W,j=X.borderTop?x:2*x,V=z!==U?1:y-T[E]+1;p.setEdge(k,z,{minlen:V,weight:j,nestingEdge:!0}),p.setEdge(U,b,{minlen:V,weight:j,nestingEdge:!0})}),p.parent(E)||p.setEdge(g,k,{weight:0,minlen:y+T[E]})},M=function(p){var g,w={},x=function(y,T){var E=p.children(y);E==null||E.forEach(function(D){return x(D,T+1)}),w[y]=T};return(g=p.children())===null||g===void 0||g.forEach(function(y){return x(y,1)}),w},L=function(p){var g=0;return p.edges().forEach(function(w){g+=p.edge(w).weight}),g},P=function(p){var g=p.graph();g.nestingRoot&&p.removeNode(g.nestingRoot),delete g.nestingRoot,p.edges().forEach(function(w){var x=p.edge(w);x.nestingEdge&&p.removeEdgeObj(w)})};G.default={run:R,cleanup:P}},546171:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var m=C(269209),R=function(L){L.graph().dummyChains=[],L.edges().forEach(function(P){return S(L,P)})},S=function(L,P){var p=P.v,g=L.node(p).rank,w=P.w,x=L.node(w).rank,y=P.name,T=L.edge(P),E=T.labelRank;if(x!==g+1){L.removeEdgeObj(P);var D=L.graph(),k,b,f;for(f=0,++g;g<x;++f,++g)T.points=[],b={edgeLabel:T,width:0,height:0,edgeObj:P,rank:g},k=(0,m.addDummyNode)(L,"edge",b,"_d"),g===E&&(b.width=T.width,b.height=T.height,b.dummy="edge-label",b.labelpos=T.labelpos),L.setEdge(p,k,{weight:T.weight},y),f===0&&(D.dummyChains||(D.dummyChains=[]),D.dummyChains.push(k)),p=k;L.setEdge(p,w,{weight:T.weight},y)}},M=function(L){var P;(P=L.graph().dummyChains)===null||P===void 0||P.forEach(function(p){var g=L.node(p),w=g.edgeLabel,x;g.edgeObj&&L.setEdgeObj(g.edgeObj,w);for(var y=p;g.dummy;)x=L.successors(y)[0],L.removeNode(y),w.points.push({x:g.x,y:g.y}),g.dummy==="edge-label"&&(w.x=g.x,w.y=g.y,w.width=g.width,w.height=g.height),y=x,g=L.node(y)})};G.default={run:R,undo:M}},680314:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var C=function(m,R,S){var M={},L;S==null||S.forEach(function(P){for(var p=m.parent(P),g,w;p;){if(g=m.parent(p),g?(w=M[g],M[g]=p):(w=L,L=p),w&&w!==p){R.setEdge(w,p);return}p=g}})};G.default=C},989921:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var C=function(m,R){return R.map(function(S){var M=m.inEdges(S);if(!(M!=null&&M.length))return{v:S};{var L={sum:0,weight:0};return M==null||M.forEach(function(P){var p=m.edge(P),g=m.node(P.v);L.sum+=p.weight*g.order,L.weight+=p.weight}),{v:S,barycenter:L.sum/L.weight,weight:L.weight}}})};G.default=C},277006:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var m=C(627652),R=function(M,L,P){var p=S(M),g=new m.Graph({compound:!0}).setGraph({root:p}).setDefaultNodeLabel(function(w){return M.node(w)});return M.nodes().forEach(function(w){var x,y=M.node(w),T=M.parent(w);(y.rank===L||y.minRank<=L&&L<=y.maxRank)&&(g.setNode(w),g.setParent(w,T||p),(x=M[P](w))===null||x===void 0||x.forEach(function(E){var D=E.v===w?E.w:E.v,k=g.edgeFromArgs(D,w),b=k!==void 0?k.weight:0;g.setEdge(D,w,{weight:M.edge(E).weight+b})}),y.hasOwnProperty("minRank")&&g.setNode(w,{borderLeft:y.borderLeft[L],borderRight:y.borderRight[L]}))}),g},S=function(M){for(var L;M.hasNode(L="_root".concat(Math.random())););return L};G.default=R},632957:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var m=C(269209),R=function(M,L,P){for(var p=(0,m.zipObject)(P,P.map(function(D,k){return k})),g=L.map(function(D){var k,b=(k=M.outEdges(D))===null||k===void 0?void 0:k.map(function(f){return{pos:p[f.w]||0,weight:M.edge(f).weight}});return b==null?void 0:b.sort(function(f,W){return f.pos-W.pos})}),w=g.flat().filter(function(D){return D!==void 0}),x=1;x<P.length;)x<<=1;var y=2*x-1;x-=1;var T=Array(y).fill(0,0,y),E=0;return w==null||w.forEach(function(D){if(D){var k=D.pos+x;T[k]+=D.weight;for(var b=0;k>0;)k%2&&(b+=T[k+1]),k=k-1>>1,T[k]+=D.weight;E+=D.weight*b}}),E},S=function(M,L){for(var P=0,p=1;p<(L==null?void 0:L.length);p+=1)P+=R(M,L[p-1],L[p]);return P};G.default=S},819597:function(ze,G,C){"use strict";var m=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(G,"__esModule",{value:!0});var R=m(C(115697)),S=m(C(632957)),M=m(C(277006)),L=m(C(680314)),P=m(C(99455)),p=C(449784),g=C(627652),w=C(269209),x=function(D,k){for(var b=(0,w.maxRank)(D),f=[],W=[],X=1;X<b+1;X++)f.push(X);for(var X=b-1;X>-1;X--)W.push(X);var z=y(D,f,"inEdges"),U=y(D,W,"outEdges"),j=(0,R.default)(D);E(D,j);for(var V=Number.POSITIVE_INFINITY,J,X=0,q=0;q<4;++X,++q){T(X%2?z:U,X%4>=2,!1,k),j=(0,w.buildLayerMatrix)(D);var et=(0,S.default)(D,j);et<V&&(q=0,J=(0,p.clone)(j),V=et)}j=(0,R.default)(D),E(D,j);for(var X=0,q=0;q<4;++X,++q){T(X%2?z:U,X%4>=2,!0,k),j=(0,w.buildLayerMatrix)(D);var et=(0,S.default)(D,j);et<V&&(q=0,J=(0,p.clone)(j),V=et)}E(D,J)},y=function(D,k,b){return k.map(function(f){return(0,M.default)(D,f,b)})},T=function(D,k,b,f){var W=new g.Graph;D==null||D.forEach(function(X){for(var z,U=X.graph().root,j=(0,P.default)(X,U,W,k,b,f),V=0;V<((z=j.vs)===null||z===void 0?void 0:z.length);V++){var J=X.node(j.vs[V]);J&&(J.order=V)}(0,L.default)(X,W,j.vs)})},E=function(D,k){k==null||k.forEach(function(b){b==null||b.forEach(function(f,W){D.node(f).order=W})})};G.default=x},724956:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var C=function(m,R){for(var S=m.nodes().filter(function(g){var w;return!(!((w=m.children(g))===null||w===void 0)&&w.length)}),M=S.map(function(g){return m.node(g).rank}),L=Math.max.apply(Math,M),P=[],p=0;p<L+1;p++)P[p]=[];R==null||R.forEach(function(g){var w=m.node(g);!w||w!=null&&w.dummy||isNaN(w.rank)||(w.fixorder=P[w.rank].length,P[w.rank].push(g))})};G.default=C},115697:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var C=function(m){for(var R={},S=m.nodes().filter(function(T){var E;return!(!((E=m.children(T))===null||E===void 0)&&E.length)}),M=S.map(function(T){return m.node(T).rank}),L=Math.max.apply(Math,M),P=[],p=0;p<L+1;p++)P.push([]);var g=function(T){var E;if(!R.hasOwnProperty(T)){R[T]=!0;var D=m.node(T);isNaN(D.rank)||P[D.rank].push(T),(E=m.successors(T))===null||E===void 0||E.forEach(function(k){return g(k)})}},w=S.sort(function(T,E){return m.node(T).rank-m.node(E).rank}),x=w.filter(function(T){return m.node(T).fixorder!==void 0}),y=x.sort(function(T,E){return m.node(T).fixorder-m.node(E).fixorder});return y==null||y.forEach(function(T){isNaN(m.node(T).rank)||P[m.node(T).rank].push(T),R[T]=!0}),w==null||w.forEach(g),P};G.default=C},707043:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var C=function(S,M){var L,P,p,g={};S==null||S.forEach(function(x,y){g[x.v]={i:y,indegree:0,in:[],out:[],vs:[x.v]};var T=g[x.v];x.barycenter!==void 0&&(T.barycenter=x.barycenter,T.weight=x.weight)}),(L=M.edges())===null||L===void 0||L.forEach(function(x){var y=g[x.v],T=g[x.w];y!==void 0&&T!==void 0&&(T.indegree++,y.out.push(g[x.w]))});var w=(p=(P=Object.values(g)).filter)===null||p===void 0?void 0:p.call(P,function(x){return!x.indegree});return m(w)},m=function(S){for(var M,L,P=[],p=function(T){return function(E){E.merged||(E.barycenter===void 0||T.barycenter===void 0||E.barycenter>=T.barycenter)&&R(T,E)}},g=function(T){return function(E){E.in.push(T),--E.indegree===0&&S.push(E)}},w=function(){var T=S.pop();P.push(T),(M=T.in.reverse())===null||M===void 0||M.forEach(function(E){return p(T)(E)}),(L=T.out)===null||L===void 0||L.forEach(function(E){return g(T)(E)})};S!=null&&S.length;)w();var x=P.filter(function(T){return!T.merged}),y=["vs","i","barycenter","weight"];return x.map(function(T){var E={};return y==null||y.forEach(function(D){T[D]!==void 0&&(E[D]=T[D])}),E})},R=function(S,M){var L,P=0,p=0;S.weight&&(P+=S.barycenter*S.weight,p+=S.weight),M.weight&&(P+=M.barycenter*M.weight,p+=M.weight),S.vs=(L=M.vs)===null||L===void 0?void 0:L.concat(S.vs),S.barycenter=P/p,S.weight=p,S.i=Math.min(M.i,S.i),M.merged=!0};G.default=C},99455:function(ze,G,C){"use strict";var m=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(G,"__esModule",{value:!0});var R=m(C(989921)),S=m(C(707043)),M=m(C(421498)),L=function(g,w,x,y,T,E){var D,k,b,f,W=g.children(w),X=g.node(w),z=X?X.borderLeft:void 0,U=X?X.borderRight:void 0,j={};z&&(W=W==null?void 0:W.filter(function(ot){return ot!==z&&ot!==U}));var V=(0,R.default)(g,W||[]);V==null||V.forEach(function(ot){var mt;if(!((mt=g.children(ot.v))===null||mt===void 0)&&mt.length){var ft=L(g,ot.v,x,y,E);j[ot.v]=ft,ft.hasOwnProperty("barycenter")&&p(ot,ft)}});var J=(0,S.default)(V,x);P(J,j),(D=J.filter(function(ot){return ot.vs.length>0}))===null||D===void 0||D.forEach(function(ot){var mt=g.node(ot.vs[0]);mt&&(ot.fixorder=mt.fixorder,ot.order=mt.order)});var q=(0,M.default)(J,y,T,E);if(z&&(q.vs=[z,q.vs,U].flat(),!((k=g.predecessors(z))===null||k===void 0)&&k.length)){var et=g.node(((b=g.predecessors(z))===null||b===void 0?void 0:b[0])||""),st=g.node(((f=g.predecessors(U))===null||f===void 0?void 0:f[0])||"");q.hasOwnProperty("barycenter")||(q.barycenter=0,q.weight=0),q.barycenter=(q.barycenter*q.weight+et.order+st.order)/(q.weight+2),q.weight+=2}return q},P=function(g,w){g==null||g.forEach(function(x){var y,T=(y=x.vs)===null||y===void 0?void 0:y.map(function(E){return w[E]?w[E].vs:E});x.vs=T.flat()})},p=function(g,w){g.barycenter!==void 0?(g.barycenter=(g.barycenter*g.weight+w.barycenter*w.weight)/(g.weight+w.weight),g.weight+=w.weight):(g.barycenter=w.barycenter,g.weight=w.weight)};G.default=L},421498:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var m=C(269209),R=function(L,P,p,g){var w=(0,m.partition)(L,function(f){var W=f.hasOwnProperty("fixorder")&&!isNaN(f.fixorder);return g?!W&&f.hasOwnProperty("barycenter"):W||f.hasOwnProperty("barycenter")}),x=w.lhs,y=w.rhs.sort(function(f,W){return-f.i- -W.i}),T=[],E=0,D=0,k=0;x==null||x.sort(M(!!P,!!p)),k=S(T,y,k),x==null||x.forEach(function(f){var W;k+=(W=f.vs)===null||W===void 0?void 0:W.length,T.push(f.vs),E+=f.barycenter*f.weight,D+=f.weight,k=S(T,y,k)});var b={vs:T.flat()};return D&&(b.barycenter=E/D,b.weight=D),b},S=function(L,P,p){for(var g=p,w;P.length&&(w=P[P.length-1]).i<=g;)P.pop(),L==null||L.push(w.vs),g++;return g},M=function(L,P){return function(p,g){if(p.fixorder!==void 0&&g.fixorder!==void 0)return p.fixorder-g.fixorder;if(p.barycenter<g.barycenter)return-1;if(p.barycenter>g.barycenter)return 1;if(P&&p.order!==void 0&&g.order!==void 0){if(p.order<g.order)return-1;if(p.order>g.order)return 1}return L?g.i-p.i:p.i-g.i}};G.default=R},933562:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var C=function(S){var M,L={},P=0,p=function(g){var w,x=P;(w=S.children(g))===null||w===void 0||w.forEach(p),L[g]={low:x,lim:P++}};return(M=S.children())===null||M===void 0||M.forEach(p),L},m=function(S,M,L,P){var p=[],g=[],w=Math.min(M[L].low,M[P].low),x=Math.max(M[L].lim,M[P].lim),y,T;y=L;do y=S.parent(y),p.push(y);while(y&&(M[y].low>w||x>M[y].lim));for(T=y,y=P;y&&y!==T;)g.push(y),y=S.parent(y);return{lca:T,path:p.concat(g.reverse())}},R=function(S){var M,L=C(S);(M=S.graph().dummyChains)===null||M===void 0||M.forEach(function(P){var p,g,w=P,x=S.node(w),y=x.edgeObj;if(y)for(var T=m(S,L,y.v,y.w),E=T.path,D=T.lca,k=0,b=E[k],f=!0;w!==y.w;){if(x=S.node(w),f){for(;b!==D&&((p=S.node(b))===null||p===void 0?void 0:p.maxRank)<x.rank;)k++,b=E[k];b===D&&(f=!1)}if(!f){for(;k<E.length-1&&((g=S.node(E[k+1]))===null||g===void 0?void 0:g.minRank)<=x.rank;)k++;b=E[k]}S.setParent(w,b),w=S.successors(w)[0]}})};G.default=R},371963:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var X=function(z,U){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,V){j.__proto__=V}||function(j,V){for(var J in V)Object.prototype.hasOwnProperty.call(V,J)&&(j[J]=V[J])},X(z,U)};return function(z,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");X(z,U);function j(){this.constructor=z}z.prototype=U===null?Object.create(U):(j.prototype=U.prototype,new j)}}();Object.defineProperty(G,"__esModule",{value:!0}),G.width=G.sep=G.positionX=G.balance=G.alignCoordinates=G.findSmallestWidthAlignment=G.buildBlockGraph=G.horizontalCompaction=G.verticalAlignment=G.hasConflict=G.addConflict=G.findOtherInnerSegmentNode=G.findType2Conflicts=G.findType1Conflicts=void 0;var R=C(199905),S=C(269209),M=function(X){m(z,X);function z(){return X!==null&&X.apply(this,arguments)||this}return z}(R.Graph),L=function(X,z){var U={},j=function(V,J){var q=0,et=0,st=V.length,ot=J==null?void 0:J[(J==null?void 0:J.length)-1];return J==null||J.forEach(function(mt,ft){var Bt,St=(0,G.findOtherInnerSegmentNode)(X,mt),wt=St?X.node(St).order:st;(St||mt===ot)&&((Bt=J.slice(et,ft+1))===null||Bt===void 0||Bt.forEach(function(H){var Q;(Q=X.predecessors(H))===null||Q===void 0||Q.forEach(function(bt){var Ct,nt=X.node(bt),dt=nt.order;(dt<q||wt<dt)&&!(nt.dummy&&(!((Ct=X.node(H))===null||Ct===void 0)&&Ct.dummy))&&(0,G.addConflict)(U,bt,H)})}),et=ft+1,q=wt)}),J};return z!=null&&z.length&&z.reduce(j),U};G.findType1Conflicts=L;var P=function(X,z){var U={};function j(et,st,ot,mt,ft){for(var Bt,St,wt,H=st;H<ot;H++)wt=et[H],!((Bt=X.node(wt))===null||Bt===void 0)&&Bt.dummy&&((St=X.predecessors(wt))===null||St===void 0||St.forEach(function(Q){var bt=X.node(Q);bt.dummy&&(bt.order<mt||bt.order>ft)&&(0,G.addConflict)(U,Q,wt)}))}function V(et){return JSON.stringify(et.slice(1))}function J(et,st){var ot=V(et);st.get(ot)||(j.apply(void 0,et),st.set(ot,!0))}var q=function(et,st){var ot=-1,mt,ft=0,Bt=new Map;return st==null||st.forEach(function(St,wt){var H;if(((H=X.node(St))===null||H===void 0?void 0:H.dummy)==="border"){var Q=X.predecessors(St)||[];Q.length&&(mt=X.node(Q[0]).order,J([st,ft,wt,ot,mt],Bt),ft=wt,ot=mt)}J([st,ft,st.length,mt,et.length],Bt)}),st};return z!=null&&z.length&&z.reduce(q),U};G.findType2Conflicts=P;var p=function(X,z){var U,j;if(!((U=X.node(z))===null||U===void 0)&&U.dummy)return(j=X.predecessors(z))===null||j===void 0?void 0:j.find(function(V){return X.node(V).dummy})};G.findOtherInnerSegmentNode=p;var g=function(X,z,U){var j=z,V=U;if(j>V){var J=j;j=V,V=J}var q=X[j];q||(X[j]=q={}),q[V]=!0};G.addConflict=g;var w=function(X,z,U){var j=z,V=U;if(j>V){var J=z;j=V,V=J}return!!X[j]};G.hasConflict=w;var x=function(X,z,U,j){var V={},J={},q={};return z==null||z.forEach(function(et){et==null||et.forEach(function(st,ot){V[st]=st,J[st]=st,q[st]=ot})}),z==null||z.forEach(function(et){var st=-1;et==null||et.forEach(function(ot){var mt=j(ot);if(mt.length){mt=mt.sort(function(H,Q){return q[H]-q[Q]});for(var ft=(mt.length-1)/2,Bt=Math.floor(ft),St=Math.ceil(ft);Bt<=St;++Bt){var wt=mt[Bt];J[ot]===ot&&st<q[wt]&&!(0,G.hasConflict)(U,ot,wt)&&(J[wt]=ot,J[ot]=V[ot]=V[wt],st=q[wt])}}})}),{root:V,align:J}};G.verticalAlignment=x;var y=function(X,z,U,j,V){var J,q={},et=(0,G.buildBlockGraph)(X,z,U,V),st=V?"borderLeft":"borderRight",ot=function(Bt,St){for(var wt=et.nodes(),H=wt.pop(),Q={};H;)Q[H]?Bt(H):(Q[H]=!0,wt.push(H),wt=wt.concat(St(H))),H=wt.pop()},mt=function(Bt){q[Bt]=(et.inEdges(Bt)||[]).reduce(function(St,wt){return Math.max(St,(q[wt.v]||0)+et.edge(wt))},0)},ft=function(Bt){var St=(et.outEdges(Bt)||[]).reduce(function(H,Q){return Math.min(H,(q[Q.w]||0)-et.edge(Q))},Number.POSITIVE_INFINITY),wt=X.node(Bt);St!==Number.POSITIVE_INFINITY&&wt.borderType!==st&&(q[Bt]=Math.max(q[Bt],St))};return ot(mt,et.predecessors.bind(et)),ot(ft,et.successors.bind(et)),(J=Object.values(j))===null||J===void 0||J.forEach(function(Bt){q[Bt]=q[U[Bt]]}),q};G.horizontalCompaction=y;var T=function(X,z,U,j){var V=new M,J=X.graph(),q=(0,G.sep)(J.nodesep,J.edgesep,j);return z==null||z.forEach(function(et){var st;et==null||et.forEach(function(ot){var mt=U[ot];if(V.setNode(mt),st){var ft=U[st],Bt=V.edgeFromArgs(ft,mt);V.setEdge(ft,mt,Math.max(q(X,ot,st),Bt||0))}st=ot})}),V};G.buildBlockGraph=T;var E=function(X,z){return(0,S.minBy)(Object.values(z),function(U){var j,V=Number.NEGATIVE_INFINITY,J=Number.POSITIVE_INFINITY;return(j=Object.keys(U))===null||j===void 0||j.forEach(function(q){var et=U[q],st=(0,G.width)(X,q)/2;V=Math.max(et+st,V),J=Math.min(et-st,J)}),V-J})};G.findSmallestWidthAlignment=E;function D(X,z){var U=Object.values(z),j=Math.min.apply(Math,U),V=Math.max.apply(Math,U);["u","d"].forEach(function(J){["l","r"].forEach(function(q){var et=J+q,st=X[et],ot;if(st!==z){var mt=Object.values(st);ot=q==="l"?j-Math.min.apply(Math,mt):V-Math.max.apply(Math,mt),ot&&(X[et]={},Object.keys(st).forEach(function(ft){X[et][ft]=st[ft]+ot}))}})})}G.alignCoordinates=D;var k=function(X,z){var U={};return Object.keys(X.ul).forEach(function(j){if(z)U[j]=X[z.toLowerCase()][j];else{var V=Object.values(X).map(function(J){return J[j]});U[j]=(V[0]+V[1])/2}}),U};G.balance=k;var b=function(X){var z=(0,S.buildLayerMatrix)(X),U=Object.assign((0,G.findType1Conflicts)(X,z),(0,G.findType2Conflicts)(X,z)),j={},V;["u","d"].forEach(function(q){V=q==="u"?z:Object.values(z).reverse(),["l","r"].forEach(function(et){et==="r"&&(V=V.map(function(ft){return Object.values(ft).reverse()}));var st=(q==="u"?X.predecessors:X.successors).bind(X),ot=(0,G.verticalAlignment)(X,V,U,st),mt=(0,G.horizontalCompaction)(X,V,ot.root,ot.align,et==="r");et==="r"&&Object.keys(mt).forEach(function(ft){mt[ft]=-mt[ft]}),j[q+et]=mt})});var J=(0,G.findSmallestWidthAlignment)(X,j);return D(j,J),(0,G.balance)(j,X.graph().align)};G.positionX=b;var f=function(X,z,U){return function(j,V,J){var q=j.node(V),et=j.node(J),st=0,ot;if(st+=q.width/2,q.hasOwnProperty("labelpos"))switch((q.labelpos||"").toLowerCase()){case"l":ot=-q.width/2;break;case"r":ot=q.width/2;break}if(ot&&(st+=U?ot:-ot),ot=0,st+=(q.dummy?z:X)/2,st+=(et.dummy?z:X)/2,st+=et.width/2,et.labelpos)switch((et.labelpos||"").toLowerCase()){case"l":ot=et.width/2;break;case"r":ot=-et.width/2;break}return ot&&(st+=U?ot:-ot),ot=0,st}};G.sep=f;var W=function(X,z){return X.node(z).width||0};G.width=W},100095:function(ze,G,C){"use strict";var m=this&&this.__spreadArray||function(p,g,w){if(w||arguments.length===2)for(var x=0,y=g.length,T;x<y;x++)(T||!(x in g))&&(T||(T=Array.prototype.slice.call(g,0,x)),T[x]=g[x]);return p.concat(T||Array.prototype.slice.call(g))};Object.defineProperty(G,"__esModule",{value:!0});var R=C(269209),S=C(371963),M=function(p){var g=(0,R.buildLayerMatrix)(p),w=p.graph().ranksep,x=0;g==null||g.forEach(function(y){var T=y.map(function(D){return p.node(D).height}),E=Math.max.apply(Math,m(m([],T,!1),[0],!1));y==null||y.forEach(function(D){p.node(D).y=x+E/2}),x+=E+w})},L=function(p){var g=(0,R.buildLayerMatrix)(p),w=Object.assign((0,S.findType1Conflicts)(p,g),(0,S.findType2Conflicts)(p,g)),x={},y=[];["u","d"].forEach(function(E){y=E==="u"?g:Object.values(g).reverse(),["l","r"].forEach(function(D){D==="r"&&(y=y.map(function(W){return Object.values(W).reverse()}));var k=(E==="u"?p.predecessors:p.successors).bind(p),b=(0,S.verticalAlignment)(p,y,w,k),f=(0,S.horizontalCompaction)(p,y,b.root,b.align,D==="r");D==="r"&&Object.keys(f).forEach(function(W){return f[W]=-f[W]}),x[E+D]=f})});var T=(0,S.findSmallestWidthAlignment)(p,x);return T&&(0,S.alignCoordinates)(x,T),(0,S.balance)(x,p.graph().align)},P=function(p){var g,w=(0,R.asNonCompoundGraph)(p);M(w);var x=L(w);(g=Object.keys(x))===null||g===void 0||g.forEach(function(y){w.node(y).x=x[y]})};G.default=P},813614:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.feasibleTreeWithLayer=G.feasibleTree=void 0;var m=C(337323),R=C(269209),S=C(627652),M=function(x){var y=new S.Graph({directed:!1}),T=x.nodes()[0],E=x.nodeCount();y.setNode(T,{});for(var D,k;L(y,x)<E;)D=g(y,x),k=y.hasNode(D.v)?(0,m.slack)(x,D):-(0,m.slack)(x,D),w(y,x,k);return y};G.feasibleTree=M;var L=function(x,y){var T=function(E){y.nodeEdges(E).forEach(function(D){var k=D.v,b=E===k?D.w:k;!x.hasNode(b)&&!(0,m.slack)(y,D)&&(x.setNode(b,{}),x.setEdge(E,b,{}),T(b))})};return x.nodes().forEach(T),x.nodeCount()},P=function(x){var y=new S.Graph({directed:!1}),T=x.nodes()[0],E=x.nodes().filter(function(b){return!!x.node(b)}).length;y.setNode(T,{});for(var D,k;p(y,x)<E;)D=g(y,x),k=y.hasNode(D.v)?(0,m.slack)(x,D):-(0,m.slack)(x,D),w(y,x,k);return y};G.feasibleTreeWithLayer=P;var p=function(x,y){var T=function(E){var D;(D=y.nodeEdges(E))===null||D===void 0||D.forEach(function(k){var b=k.v,f=E===b?k.w:b;!x.hasNode(f)&&(y.node(f).layer!==void 0||!(0,m.slack)(y,k))&&(x.setNode(f,{}),x.setEdge(E,f,{}),T(f))})};return x.nodes().forEach(T),x.nodeCount()},g=function(x,y){return(0,R.minBy)(y.edges(),function(T){return x.hasNode(T.v)!==x.hasNode(T.w)?(0,m.slack)(y,T):1/0})},w=function(x,y,T){x.nodes().forEach(function(E){y.node(E).rank||(y.node(E).rank=0),y.node(E).rank+=T})};G.default={feasibleTree:M,feasibleTreeWithLayer:P}},576827:function(ze,G,C){"use strict";var m=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(G,"__esModule",{value:!0});var R=C(337323),S=C(813614),M=m(C(432253)),L=function(w){switch(w.graph().ranker){case"network-simplex":g(w);break;case"tight-tree":p(w);break;case"longest-path":P(w);break;default:p(w)}},P=R.longestPath,p=function(w){(0,R.longestPathWithLayer)(w),(0,S.feasibleTreeWithLayer)(w)},g=function(w){(0,M.default)(w)};G.default=L},432253:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.exchangeEdges=G.enterEdge=G.leaveEdge=G.initLowLimValues=G.calcCutValue=G.initCutValues=void 0;var m=C(813614),R=C(337323),S=C(269209),M=C(199905),L=M.algorithm.preorder,P=M.algorithm.postorder,p=function(X){var z=(0,S.simplify)(X);(0,R.longestPath)(z);var U=(0,m.feasibleTree)(z);(0,G.initLowLimValues)(U),(0,G.initCutValues)(U,z);for(var j,V;j=(0,G.leaveEdge)(U);)V=(0,G.enterEdge)(U,z,j),(0,G.exchangeEdges)(U,z,j,V)},g=function(X,z){var U=P(X,X.nodes());U=U==null?void 0:U.slice(0,(U==null?void 0:U.length)-1),U==null||U.forEach(function(j){w(X,z,j)})};G.initCutValues=g;var w=function(X,z,U){var j=X.node(U),V=j.parent;X.edgeFromArgs(U,V).cutvalue=(0,G.calcCutValue)(X,z,U)},x=function(X,z,U){var j,V=X.node(U),J=V.parent,q=!0,et=z.edgeFromArgs(U,J),st=0;return et||(q=!1,et=z.edgeFromArgs(J,U)),st=et.weight,(j=z.nodeEdges(U))===null||j===void 0||j.forEach(function(ot){var mt=ot.v===U,ft=mt?ot.w:ot.v;if(ft!==J){var Bt=mt===q,St=z.edge(ot).weight;if(st+=Bt?St:-St,f(X,U,ft)){var wt=X.edgeFromArgs(U,ft).cutvalue;st+=Bt?-wt:wt}}}),st};G.calcCutValue=x;var y=function(X,z){z===void 0&&(z=X.nodes()[0]),T(X,{},1,z)};G.initLowLimValues=y;var T=function(X,z,U,j,V){var J,q=U,et=U,st=X.node(j);return z[j]=!0,(J=X.neighbors(j))===null||J===void 0||J.forEach(function(ot){z[ot]||(et=T(X,z,et,ot,j))}),st.low=q,st.lim=et++,V?st.parent=V:delete st.parent,et},E=function(X){return X.edges().find(function(z){return X.edge(z).cutvalue<0})};G.leaveEdge=E;var D=function(X,z,U){var j=U.v,V=U.w;z.hasEdge(j,V)||(j=U.w,V=U.v);var J=X.node(j),q=X.node(V),et=J,st=!1;J.lim>q.lim&&(et=q,st=!0);var ot=z.edges().filter(function(mt){return st===W(X,X.node(mt.v),et)&&st!==W(X,X.node(mt.w),et)});return(0,S.minBy)(ot,function(mt){return(0,R.slack)(z,mt)})};G.enterEdge=D;var k=function(X,z,U,j){var V=U.v,J=U.w;X.removeEdge(V,J),X.setEdge(j.v,j.w,{}),(0,G.initLowLimValues)(X),(0,G.initCutValues)(X,z),b(X,z)};G.exchangeEdges=k;var b=function(X,z){var U=X.nodes().find(function(V){var J;return!(!((J=z.node(V))===null||J===void 0)&&J.parent)}),j=L(X,U);j=j==null?void 0:j.slice(1),j==null||j.forEach(function(V){var J=X.node(V).parent,q=z.edgeFromArgs(V,J),et=!1;q||(q=z.edgeFromArgs(J,V),et=!0),z.node(V).rank=z.node(J).rank+(et?q.minlen:-q.minlen)})},f=function(X,z,U){return X.hasEdge(z,U)},W=function(X,z,U){return U.low<=z.lim&&z.lim<=U.lim};G.default=p},337323:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.slack=G.longestPathWithLayer=G.longestPath=void 0;var C=function(S){var M,L={},P=function(p){var g,w=S.node(p);if(!w)return 0;if(L[p])return w.rank;L[p]=!0;var x;return(g=S.outEdges(p))===null||g===void 0||g.forEach(function(y){var T=P(y.w),E=S.edge(y).minlen,D=T-E;D&&(x===void 0||D<x)&&(x=D)}),x||(x=0),w.rank=x,x};(M=S.sources())===null||M===void 0||M.forEach(function(p){return P(p)})};G.longestPath=C;var m=function(S){var M,L={},P,p=function(x){var y,T=S.node(x);if(!T)return 0;if(L[x])return T.rank;L[x]=!0;var E;return(y=S.outEdges(x))===null||y===void 0||y.forEach(function(D){var k=p(D.w),b=S.edge(D).minlen,f=k-b;f&&(E===void 0||f<E)&&(E=f)}),E||(E=0),(P===void 0||E<P)&&(P=E),T.rank=E,E};(M=S.sources())===null||M===void 0||M.forEach(function(x){S.node(x)&&p(x)}),P===void 0&&(P=0);var g={},w=function(x,y){var T,E=S.node(x),D=isNaN(E.layer)?y:E.layer;(E.rank===void 0||E.rank<D)&&(E.rank=D),!g[x]&&(g[x]=!0,(T=S.outEdges(x))===null||T===void 0||T.map(function(k){w(k.w,D+S.edge(k).minlen)}))};S.nodes().forEach(function(x){var y=S.node(x);y&&(isNaN(y.layer)?y.rank-=P:w(x,y.layer))})};G.longestPathWithLayer=m;var R=function(S,M){return S.node(M.w).rank-S.node(M.v).rank-S.edge(M).minlen};G.slack=R,G.default={longestPath:C,longestPathWithLayer:m,slack:R}},269209:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.minBy=G.notime=G.time=G.partition=G.maxRank=G.addBorderNode=G.removeEmptyRanks=G.normalizeRanks=G.buildLayerMatrix=G.intersectRect=G.predecessorWeights=G.successorWeights=G.zipObject=G.asNonCompoundGraph=G.simplify=G.addDummyNode=void 0;var m=C(449784),R=C(627652),S=function(z,U){return Number(z)-Number(U)},M=function(z,U,j,V){var J;do J="".concat(V).concat(Math.random());while(z.hasNode(J));return j.dummy=U,z.setNode(J,j),J};G.addDummyNode=M;var L=function(z){var U=new R.Graph().setGraph(z.graph());return z.nodes().forEach(function(j){U.setNode(j,z.node(j))}),z.edges().forEach(function(j){var V=U.edgeFromArgs(j.v,j.w)||{weight:0,minlen:1},J=z.edge(j);U.setEdge(j.v,j.w,{weight:V.weight+J.weight,minlen:Math.max(V.minlen,J.minlen)})}),U};G.simplify=L;var P=function(z){var U=new R.Graph({multigraph:z.isMultigraph()}).setGraph(z.graph());return z.nodes().forEach(function(j){var V;!((V=z.children(j))===null||V===void 0)&&V.length||U.setNode(j,z.node(j))}),z.edges().forEach(function(j){U.setEdgeObj(j,z.edge(j))}),U};G.asNonCompoundGraph=P;var p=function(z,U){return z==null?void 0:z.reduce(function(j,V,J){return j[V]=U[J],j},{})};G.zipObject=p;var g=function(z){var U={};return z.nodes().forEach(function(j){var V,J={};(V=z.outEdges(j))===null||V===void 0||V.forEach(function(q){var et;J[q.w]=(J[q.w]||0)+(((et=z.edge(q))===null||et===void 0?void 0:et.weight)||0)}),U[j]=J}),U};G.successorWeights=g;var w=function(z){var U=z.nodes(),j=U.map(function(V){var J,q={};return(J=z.inEdges(V))===null||J===void 0||J.forEach(function(et){q[et.v]=(q[et.v]||0)+z.edge(et).weight}),q});return(0,G.zipObject)(U,j)};G.predecessorWeights=w;var x=function(z,U){var j=Number(z.x),V=Number(z.y),J=Number(U.x)-j,q=Number(U.y)-V,et=Number(z.width)/2,st=Number(z.height)/2;if(!J&&!q)return{x:0,y:0};var ot,mt;return Math.abs(q)*et>Math.abs(J)*st?(q<0&&(st=-st),ot=st*J/q,mt=st):(J<0&&(et=-et),ot=et,mt=et*q/J),{x:j+ot,y:V+mt}};G.intersectRect=x;var y=function(z){for(var U=[],j=(0,G.maxRank)(z)+1,V=0;V<j;V++)U.push([]);z.nodes().forEach(function(J){var q=z.node(J);if(q){var et=q.rank;et!==void 0&&U[et]&&U[et].push(J)}});for(var V=0;V<j;V++)U[V]=U[V].sort(function(q,et){var st,ot;return S((st=z.node(q))===null||st===void 0?void 0:st.order,(ot=z.node(et))===null||ot===void 0?void 0:ot.order)});return U};G.buildLayerMatrix=y;var T=function(z){var U=z.nodes().filter(function(V){var J;return((J=z.node(V))===null||J===void 0?void 0:J.rank)!==void 0}).map(function(V){return z.node(V).rank}),j=Math.min.apply(Math,U);z.nodes().forEach(function(V){var J=z.node(V);J.hasOwnProperty("rank")&&j!==1/0&&(J.rank-=j)})};G.normalizeRanks=T;var E=function(z){var U=z.nodes(),j=U.filter(function(mt){var ft;return((ft=z.node(mt))===null||ft===void 0?void 0:ft.rank)!==void 0}).map(function(mt){return z.node(mt).rank}),V=Math.min.apply(Math,j),J=[];U.forEach(function(mt){var ft,Bt=(((ft=z.node(mt))===null||ft===void 0?void 0:ft.rank)||0)-V;J[Bt]||(J[Bt]=[]),J[Bt].push(mt)});for(var q=0,et=z.graph().nodeRankFactor||0,st=0;st<J.length;st++){var ot=J[st];ot===void 0?st%et!==0&&(q-=1):q&&(ot==null||ot.forEach(function(mt){var ft=z.node(mt);ft&&(ft.rank=ft.rank||0,ft.rank+=q)}))}};G.removeEmptyRanks=E;var D=function(z,U,j,V){var J={width:0,height:0};return(0,m.isNumber)(j)&&(0,m.isNumber)(V)&&(J.rank=j,J.order=V),(0,G.addDummyNode)(z,"border",J,U)};G.addBorderNode=D;var k=function(z){var U;return z.nodes().forEach(function(j){var V,J=(V=z.node(j))===null||V===void 0?void 0:V.rank;J!==void 0&&(U===void 0||J>U)&&(U=J)}),U||(U=0),U};G.maxRank=k;var b=function(z,U){var j={lhs:[],rhs:[]};return z==null||z.forEach(function(V){U(V)?j.lhs.push(V):j.rhs.push(V)}),j};G.partition=b;var f=function(z,U){var j=Date.now();try{return U()}finally{console.log("".concat(z," time: ").concat(Date.now()-j,"ms"))}};G.time=f;var W=function(z,U){return U()};G.notime=W;var X=function(z,U){return z.reduce(function(j,V){var J=U(j),q=U(V);return J>q?V:j})};G.minBy=X},177057:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var g=function(w,x){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,T){y.__proto__=T}||function(y,T){for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(y[E]=T[E])},g(w,x)};return function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");g(w,x);function y(){this.constructor=w}w.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)}}(),R=this&&this.__assign||function(){return R=Object.assign||function(g){for(var w,x=1,y=arguments.length;x<y;x++){w=arguments[x];for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&(g[T]=w[T])}return g},R.apply(this,arguments)},S=this&&this.__spreadArray||function(g,w,x){if(x||arguments.length===2)for(var y=0,T=w.length,E;y<T;y++)(E||!(y in w))&&(E||(E=Array.prototype.slice.call(w,0,y)),E[y]=w[y]);return g.concat(E||Array.prototype.slice.call(w))};Object.defineProperty(G,"__esModule",{value:!0}),G.DagreCompoundLayout=void 0;var M=C(762329),L=C(631969),P=C(449784),p=function(g){m(w,g);function w(x){var y=g.call(this)||this;return y.rankdir="TB",y.nodesep=50,y.edgesep=5,y.ranksep=50,y.controlPoints=!0,y.anchorPoint=!0,y.nodes=[],y.edges=[],y.combos=[],y.onLayoutEnd=function(){},y.updateCfg(x),y}return w.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},w.prototype.init=function(x){var y=x.hiddenNodes||[],T=x.hiddenEdges||[],E=x.hiddenCombos||[];this.nodes=this.getDataByOrder((x.nodes||[]).concat(y)),this.edges=this.getDataByOrder((x.edges||[]).concat(T)),this.combos=(x.combos||[]).concat(E.map(function(D){return R(R({},D),{collapsed:!0})}))},w.prototype.execute=function(){var x=this,y=x.nodes,T=x.edges;if(y){var E=x.getLayoutConfig(),D=E.graphDef,k=E.graphOption,b=E.graphSettings,f=(0,L.buildGraph)(D,k,b),W=(0,L.flatGraph)(f,!0);return this.updatePosition(W),x.onLayoutEnd&&x.onLayoutEnd(),{nodes:y,edges:T}}},w.prototype.getNodePath=function(x){var y=this,T=y.nodes,E=y.combos,D=T.find(function(b){return b.id===x}),k=function(b,f){f===void 0&&(f=[]);var W=E.find(function(X){return X.id===b});return W?(f.unshift(b),W.parentId?k(W.parentId,f):f):f};return D&&D.comboId?k(D.comboId,[x]):[x]},w.prototype.getLayoutConfig=function(){var x,y,T,E=this,D=E.nodes,k=E.edges,b=E.combos,f=E.nodeSize,W=E.rankdir,X=E.align,z=E.edgesep,U=E.nodesep,j=E.ranksep,V=E.settings,J=(b||[]).reduce(function(Tt,At){var xt=D.filter(function(Ht){return Ht.comboId===At.id}).map(function(Ht){return Ht.id}),Dt=(b||[]).filter(function(Ht){return Ht.parentId===At.id}).map(function(Ht){return Ht.id});return(xt.length||Dt.length)&&(Tt[At.id]=S(S([],xt,!0),Dt,!0)),Tt},{}),q;f?(0,P.isArray)(f)?q=function(){return f}:q=function(){return[f,f]}:q=function(Tt){return Tt&&Tt.size?(0,P.isArray)(Tt.size)?Tt.size:(0,P.isObject)(Tt.size)?[Tt.size.width||40,Tt.size.height||40]:[Tt.size,Tt.size]:[40,40]};var et=function(Tt){return Tt&&Tt.size?(0,P.isArray)(Tt.size)?Tt.size:[Tt.size,Tt.size]:[80,40]},st=et(b==null?void 0:b[0]),ot=st[0],mt=st[1],ft=(y=(x=E.graphSettings)===null||x===void 0?void 0:x.subScene)===null||y===void 0?void 0:y.meta,Bt=((T=b.find(function(Tt){return!Tt.collapsed}))===null||T===void 0?void 0:T.padding)||[20,20,20,20],St=Bt[0],wt=Bt[1],H=Bt[2],Q=Bt[3],bt={compound:J,nodes:S([],(D||[]).map(function(Tt){var At=q(Tt),xt=At[0],Dt=At[1];return R(R({},Tt),{width:xt,height:Dt})}),!0),edges:S([],(k||[]).map(function(Tt){return R(R({},Tt),{v:Tt.source,w:Tt.target})}),!0)},Ct={expanded:(b||[]).filter(function(Tt){return!Tt.collapsed}).map(function(Tt){return Tt.id})},nt={graph:{meta:{align:X,rankDir:W,nodeSep:U,edgeSep:z,rankSep:j}},subScene:{meta:{paddingTop:St||(ft==null?void 0:ft.paddingTop)||20,paddingRight:wt||(ft==null?void 0:ft.paddingRight)||20,paddingBottom:H||(ft==null?void 0:ft.paddingBottom)||20,paddingLeft:Q||(ft==null?void 0:ft.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:ot,height:mt}}},dt=(0,L.mergeConfig)(V,R({},(0,L.mergeConfig)(nt,L.LAYOUT_CONFIG)));return E.graphSettings=dt,{graphDef:bt,graphOption:Ct,graphSettings:dt}},w.prototype.updatePosition=function(x){var y=x.nodes,T=x.edges;this.updateNodePosition(y,T),this.updateEdgePosition(y,T)},w.prototype.getBegin=function(x,y){var T=this,E=T.begin,D=[0,0];if(E){var k=1/0,b=1/0;x.forEach(function(f){k>f.x&&(k=f.x),b>f.y&&(b=f.y)}),y.forEach(function(f){f.points.forEach(function(W){k>W.x&&(k=W.x),b>W.y&&(b=W.y)})}),D[0]=E[0]-k,D[1]=E[1]-b}return D},w.prototype.updateNodePosition=function(x,y){var T=this,E=T.combos,D=T.nodes,k=T.edges,b=T.anchorPoint,f=T.graphSettings,W=this.getBegin(x,y);x.forEach(function(X){var z,U=X.x,j=X.y,V=X.id,J=X.type,q=X.coreBox;if(J===L.HierarchyNodeType.META&&V!==L.ROOT_NAME){var et=E.findIndex(function(Bt){return Bt.id===V}),st=(z=f==null?void 0:f.subScene)===null||z===void 0?void 0:z.meta;E[et].offsetX=U+W[0],E[et].offsetY=j+W[1],E[et].fixSize=[q.width,q.height],E[et].fixCollapseSize=[q.width,q.height],X.expanded?E[et].padding=[st==null?void 0:st.paddingTop,st==null?void 0:st.paddingRight,st==null?void 0:st.paddingBottom,st==null?void 0:st.paddingLeft]:E[et].padding=[0,0,0,0]}else if(J===L.HierarchyNodeType.OP){var et=D.findIndex(function(St){return St.id===V});if(D[et].x=U+W[0],D[et].y=j+W[1],b){var ot=[],mt=y.filter(function(St){return St.v===V}),ft=y.filter(function(St){return St.w===V});mt.length>0&&mt.forEach(function(St){var wt=St.points[0],H=(wt.x-U)/X.width+.5,Q=(wt.y-j)/X.height+.5;ot.push([H,Q]),St.baseEdgeList.forEach(function(bt){var Ct=k.find(function(nt){return nt.source===bt.v&&nt.target===bt.w});Ct&&(Ct.sourceAnchor=ot.length-1)})}),ft.length>0&&ft.forEach(function(St){var wt=St.points[St.points.length-1],H=(wt.x-U)/X.width+.5,Q=(wt.y-j)/X.height+.5;ot.push([H,Q]),St.baseEdgeList.forEach(function(bt){var Ct=k.find(function(nt){return nt.source===bt.v&&nt.target===bt.w});Ct&&(Ct.targetAnchor=ot.length-1)})}),D[et].anchorPoints=ot.length>0?ot:D[et].anchorPoints||[]}}})},w.prototype.updateEdgePosition=function(x,y){var T=this,E=T.combos,D=T.edges,k=T.controlPoints,b=this.getBegin(x,y);k&&(E.forEach(function(f){f.inEdges=[],f.outEdges=[]}),D.forEach(function(f){var W,X,z,U,j=x.find(function(Bt){return Bt.id===f.source}),V=x.find(function(Bt){return Bt.id===f.target}),J=[],q=[];if(j&&V)q=(0,L.getEdges)(j==null?void 0:j.id,V==null?void 0:V.id,x);else if(!j||!V){var et=T.getNodePath(f.source),st=T.getNodePath(f.target),ot=et.reverse().slice(j?0:1).find(function(Bt){return x.find(function(St){return St.id===Bt})}),mt=st.reverse().slice(V?0:1).find(function(Bt){return x.find(function(St){return St.id===Bt})});j=x.find(function(Bt){return Bt.id===ot}),V=x.find(function(Bt){return Bt.id===mt}),q=(0,L.getEdges)(j==null?void 0:j.id,V==null?void 0:V.id,x,{v:f.source,w:f.target})}if(J=q.reduce(function(Bt,St){return S(S([],Bt,!0),St.points.map(function(wt){return R(R({},wt),{x:wt.x+b[0],y:wt.y+b[1]})}),!0)},[]),J=J.slice(1,-1),f.controlPoints=J,(V==null?void 0:V.type)===L.NodeType.META){var ft=E.findIndex(function(Bt){return Bt.id===(V==null?void 0:V.id)});if(!E[ft]||!((W=E[ft].inEdges)===null||W===void 0)&&W.some(function(Bt){return Bt.source===j.id&&Bt.target===V.id}))return;(X=E[ft].inEdges)===null||X===void 0||X.push({source:j.id,target:V.id,controlPoints:J})}if((j==null?void 0:j.type)===L.NodeType.META){var ft=E.findIndex(function(St){return St.id===(j==null?void 0:j.id)});if(!E[ft]||!((z=E[ft].outEdges)===null||z===void 0)&&z.some(function(St){return St.source===j.id&&St.target===V.id}))return;(U=E[ft].outEdges)===null||U===void 0||U.push({source:j.id,target:V.id,controlPoints:J})}}))},w.prototype.getType=function(){return"dagreCompound"},w.prototype.getDataByOrder=function(x){return x.every(function(y){return y.layoutOrder!==void 0})||x.forEach(function(y,T){y.layoutOrder=T}),x.sort(function(y,T){return y.layoutOrder-T.layoutOrder})},w}(M.Base);G.DagreCompoundLayout=p},934015:function(ze,G,C){"use strict";var m=this&&this.__assign||function(){return m=Object.assign||function(y){for(var T,E=1,D=arguments.length;E<D;E++){T=arguments[E];for(var k in T)Object.prototype.hasOwnProperty.call(T,k)&&(y[k]=T[k])}return y},m.apply(this,arguments)},R=this&&this.__createBinding||(Object.create?function(y,T,E,D){D===void 0&&(D=E);var k=Object.getOwnPropertyDescriptor(T,E);(!k||("get"in k?!T.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return T[E]}}),Object.defineProperty(y,D,k)}:function(y,T,E,D){D===void 0&&(D=E),y[D]=T[E]}),S=this&&this.__setModuleDefault||(Object.create?function(y,T){Object.defineProperty(y,"default",{enumerable:!0,value:T})}:function(y,T){y.default=T}),M=this&&this.__importStar||function(y){if(y&&y.__esModule)return y;var T={};if(y!=null)for(var E in y)E!=="default"&&Object.prototype.hasOwnProperty.call(y,E)&&R(T,y,E);return S(T,y),T},L=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(G,"__esModule",{value:!0});var P=M(C(971497)),p=L(C(788221)),g=L(C(87064)),w=C(920171);function x(y,T){var E=y.nodes,D=y.edges,k=T.width,b=T.height;if(!(E!=null&&E.length))return Promise.resolve();var f=[];E.forEach(function(q){var et=D.filter(function(ot){return ot.source===q.id||ot.target===q.id});if(et.length>1){var st=m({},q);delete st.size,f.push(st)}});var W=[];D.forEach(function(q){var et=f.find(function(ot){return ot.id===q.source}),st=f.find(function(ot){return ot.id===q.target});et&&st&&W.push(q)});var X=new w.DagreLayout({type:"dagre",ranksep:T.nodeMinGap,nodesep:T.nodeMinGap}),z=X.layout({nodes:f,edges:W}).nodes;E.forEach(function(q){var et=(z||[]).find(function(st){return st.id===q.id});q.x=(et==null?void 0:et.x)||k/2,q.y=(et==null?void 0:et.y)||b/2});var U=JSON.parse(JSON.stringify(E)),j=JSON.parse(JSON.stringify(D)),V=P.forceSimulation().nodes(U).force("link",P.forceLink(j).id(function(q){return q.id}).distance(function(q){var et=W.find(function(st){return st.source===q.source&&st.target===q.target});return et?30:20})).force("charge",P.forceManyBody()).force("center",P.forceCenter(k/2,b/2)).force("x",P.forceX(k/2)).force("y",P.forceY(b/2)).alpha(.3).alphaDecay(.08).alphaMin(.001),J=new Promise(function(q){V.on("end",function(){E.forEach(function(St){var wt=U.find(function(H){return H.id===St.id});wt&&(St.x=wt.x,St.y=wt.y)});var et=Math.min.apply(Math,E.map(function(St){return St.x})),st=Math.max.apply(Math,E.map(function(St){return St.x})),ot=Math.min.apply(Math,E.map(function(St){return St.y})),mt=Math.max.apply(Math,E.map(function(St){return St.y})),ft=k/(st-et),Bt=b/(mt-ot);E.forEach(function(St){St.x!==void 0&&ft<1&&(St.x=(St.x-et)*ft),St.y!==void 0&&Bt<1&&(St.y=(St.y-ot)*Bt)}),E.forEach(function(St){St.sizeTemp=St.size,St.size=[10,10]}),(0,g.default)(E,D),E.forEach(function(St){St.size=St.sizeTemp||[],delete St.sizeTemp}),(0,p.default)({nodes:E,edges:D},T),q()})});return J}G.default=x},788221:function(ze,G,C){"use strict";var m=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(G,"__esModule",{value:!0});var R=m(C(28611));function S(M,L){if(!M.nodes||M.nodes.length===0)return M;var P=L.width,p=L.height,g=L.nodeMinGap,w=1e4,x=1e4;M.nodes.forEach(function(j){var V=j.size[0]||50,J=j.size[1]||50;w=Math.min(V,w),x=Math.min(J,x)});var y=new R.default;y.init(P,p,{CELL_H:x,CELL_W:w}),M.nodes.forEach(function(j){var V=y.occupyNearest(j);V&&(V.node={id:j.id,size:j.size},j.x=V.x,j.y=V.y,j.dx=V.dx,j.dy=V.dy)});for(var T=0;T<M.nodes.length;T++){var E=M.nodes[T],D=y.findGridByNodeId(E.id);if(!D)throw new Error("can not find node cell");var k=D.column,b=D.row;if(E.size[0]+g>w){for(var f=Math.ceil((E.size[0]+g)/w)-1,W=f,X=0;X<f;X++){var z=y.additionColumn.indexOf(k+X+1)>-1;if(z&&!y.cells[k+X+1][b].node)W--;else break}y.insertColumn(k,W)}if(E.size[1]+g>x){for(var f=Math.ceil((E.size[1]+g)/x)-1,W=f,X=0;X<f;X++){var z=y.additionRow.indexOf(b+X+1)>-1;if(z&&!y.cells[k][b+X+1].node)W--;else break}y.insertRow(b,W)}}for(var T=0;T<y.columnNum;T++)for(var U=function(V){var J=y.cells[T][V];if(J.node){var q=M.nodes.find(function(et){var st;return et.id===((st=J==null?void 0:J.node)===null||st===void 0?void 0:st.id)});q&&(q.x=J.x+q.size[0]/2,q.y=J.y+q.size[1]/2)}},X=0;X<y.rowNum;X++)U(X)}G.default=S},28611:function(ze,G){"use strict";var C=this&&this.__assign||function(){return C=Object.assign||function(R){for(var S,M=1,L=arguments.length;M<L;M++){S=arguments[M];for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(R[P]=S[P])}return R},C.apply(this,arguments)};Object.defineProperty(G,"__esModule",{value:!0});var m=function(){function R(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return R.prototype.init=function(S,M,L){this.cells=[],this.CELL_W=L.CELL_W||R.DEFAULT_CELL_W,this.CELL_H=L.CELL_H||R.DEFAULT_CELL_H,this.columnNum=Math.ceil(S/this.CELL_W),this.rowNum=Math.ceil(M/this.CELL_H),R.MIN_DIST=Math.pow(S,2)+Math.pow(M,2);for(var P=0;P<this.columnNum;P++){for(var p=[],g=0;g<this.rowNum;g++){var w={dx:P,dy:g,x:P*this.CELL_W,y:g*this.CELL_H,occupied:!1};p.push(w)}this.cells.push(p)}},R.prototype.findGridByNodeId=function(S){for(var M,L,P=0;P<this.columnNum;P++)for(var p=0;p<this.rowNum;p++)if(this.cells[P][p].node&&((L=(M=this.cells[P][p])===null||M===void 0?void 0:M.node)===null||L===void 0?void 0:L.id)===S)return{column:P,row:p};return null},R.prototype.sqdist=function(S,M){return Math.pow(S.x-M.x,2)+Math.pow(S.y-M.y,2)},R.prototype.occupyNearest=function(S){for(var M=R.MIN_DIST,L,P=null,p=0;p<this.columnNum;p++)for(var g=0;g<this.rowNum;g++)!this.cells[p][g].occupied&&(L=this.sqdist(S,this.cells[p][g]))<M&&(M=L,P=this.cells[p][g]);return P&&(P.occupied=!0),P},R.prototype.insertColumn=function(S,M){if(!(M<=0)){for(var L=0;L<M;L++){this.cells[L+this.columnNum]=[];for(var P=0;P<this.rowNum;P++)this.cells[L+this.columnNum][P]={dx:L,dy:P,x:L*this.CELL_W,y:P*this.CELL_H,occupied:!1,node:null}}for(var L=this.columnNum-1;L>S;L--)for(var P=0;P<this.rowNum;P++)this.cells[L+M][P]=C(C({},this.cells[L][P]),{x:(L+M)*this.CELL_W,y:P*this.CELL_H}),this.cells[L][P]={x:L*this.CELL_W,y:P*this.CELL_H,occupied:!0,node:null};for(var P=0;P<this.additionColumn.length;P++)this.additionColumn[P]>=S&&(this.additionColumn[P]+=M);for(var L=0;L<M;L++)this.additionColumn.push(S+L+1);this.columnNum+=M}},R.prototype.insertRow=function(S,M){if(!(M<=0)){for(var L=0;L<M;L++)for(var P=0;P<this.columnNum;P++)this.cells[P][L+this.rowNum]={dx:P,dy:L,x:P*this.CELL_W,y:L*this.CELL_H,occupied:!1,node:null};for(var P=0;P<this.columnNum;P++)for(var L=this.rowNum-1;L>S;L--)this.cells[P][L+M]=C(C({},this.cells[P][L]),{dx:P,dy:L+M,x:P*this.CELL_W,y:(L+M)*this.CELL_H}),this.cells[P][L]={dx:P,dy:L,x:P*this.CELL_W,y:L*this.CELL_H,occupied:!1,node:null};for(var L=0;L<this.additionRow.length;L++)this.additionRow[L]>=S&&(this.additionRow[L]+=M);for(var P=0;P<M;P++)this.additionRow.push(S+P+1);this.rowNum+=M}},R.prototype.getNodes=function(){for(var S=[],M=0;M<this.columnNum;M++)for(var L=0;L<this.rowNum;L++)this.cells[M][L].node&&S.push(this.cells[M][L]);return S},R.MIN_DIST=50,R.DEFAULT_CELL_W=80,R.DEFAULT_CELL_H=80,R}();G.default=m},290441:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var P=function(p,g){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,x){w.__proto__=x}||function(w,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(w[y]=x[y])},P(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");P(p,g);function w(){this.constructor=p}p.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}}(),R=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(G,"__esModule",{value:!0}),G.ERLayout=void 0;var S=C(762329),M=R(C(934015)),L=function(P){m(p,P);function p(g){var w=P.call(this)||this;return w.width=300,w.height=300,w.nodeMinGap=50,w.onLayoutEnd=function(){},g&&w.updateCfg(g),w}return p.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},p.prototype.execute=function(){var g=this,w=g.nodes,x=g.edges;return w==null||w.forEach(function(y){y.size||(y.size=[50,50])}),(0,M.default)({nodes:w,edges:x},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(function(){g.onLayoutEnd&&g.onLayoutEnd()})},p.prototype.getType=function(){return"er"},p}(S.Base);G.ERLayout=L},87064:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var C=1200,m=800,R=1e7,S=10,M=3.141592653589793,L=1.5707963267948966,P=M*.375,p=M*.625,g=new Map,w=10,x=10,y=.8,T=.1,E=.5;function D(U,j,V){var J=U.x-U.size[0]/2,q=U.y-U.size[1]/2,et=U.x+U.size[0]/2,st=U.y+U.size[1]/2,ot=j.x-j.size[0]/2,mt=j.y-j.size[1]/2,ft=j.x+j.size[0]/2,Bt=j.y+j.size[1]/2,St=U.x,wt=U.y,H=j.x,Q=j.y,bt=H-St,Ct=Math.atan2(bt,Q-wt),nt=0,dt=0,Tt=0,At=0;Ct>L?(dt=q-Bt,nt=ot-et,Tt=parseFloat(dt?(dt/Math.cos(Ct)).toFixed(2):nt.toFixed(2)),At=parseFloat(nt?(nt/Math.sin(Ct)).toFixed(2):dt.toFixed(2))):0<Ct&&Ct<=L?(dt=mt-st,nt=ot-et,dt>nt?Tt=At=parseFloat(dt?(dt/Math.cos(Ct)).toFixed(2):nt.toFixed(2)):Tt=At=parseFloat(nt?(nt/Math.sin(Ct)).toFixed(2):dt.toFixed(2))):Ct<-L?(dt=q-Bt,nt=-(ft-J),dt>nt?Tt=At=parseFloat(dt?(dt/Math.cos(Ct)).toFixed(2):nt.toFixed(2)):Tt=At=parseFloat(nt?(nt/Math.sin(Ct)).toFixed(2):dt.toFixed(2))):(dt=mt-st,Math.abs(bt)>(et-J)/2?nt=J-ft:nt=bt,dt>nt?Tt=At=parseFloat(dt?(dt/Math.cos(Ct)).toFixed(2):nt.toFixed(2)):Tt=At=parseFloat(nt&&Ct!==0?(nt/Math.sin(Ct)).toFixed(2):dt.toFixed(2)));var xt=parseFloat(Ct.toFixed(2)),Dt=V;return V&&(Dt=P<xt&&xt<p),{distance:Math.abs(Tt<At?Tt:At),isHoriz:Dt}}function k(U,j){var V=g.get(U.id)||[],J=V.find(function(Kt){return Kt.source===j.id||Kt.target===j.id}),q=U.size[0]*U.size[1],et=j.size[0]*j.size[1],st=q>et?j:U,ot=q>et?U:j,mt=st.x-st.size[0]/2,ft=st.y-st.size[1]/2,Bt=st.x+st.size[0]/2,St=st.y+st.size[1]/2,wt=ot.x-ot.size[0]/2,H=ot.y-ot.size[1]/2,Q=ot.x+ot.size[0]/2,bt=ot.y+ot.size[1]/2,Ct=st.x,nt=st.y,dt=ot.x,Tt=ot.y,At=Bt>=wt&&Q>=mt&&St>=H&&bt>=ft,xt=0,Dt=0;if(At){Dt=Math.sqrt(Math.pow(dt-Ct,2)+Math.pow(Tt-nt,2));var Ht=mt>wt?mt:wt,se=ft>H?ft:H,re=Bt<Q?Bt:Q,It=St<bt?St:bt,ne=re-Ht,pe=It-se,Wt=ne*pe;Dt===0&&(Dt=1e-7),xt=S*1/Dt*100+Wt,xt*=R}else{var Jt=!1,$t=D(st,ot,Jt);Dt=$t.distance,Jt=$t.isHoriz,Dt<=S?Dt!==0?J?xt+=S+R*1/Dt:xt+=S+R*S/Dt:xt+=R:(xt+=Dt,J&&(xt+=Dt*Dt))}return xt}function b(U){for(var j=0,V=0;V<U.length;V++){var J=U[V];(J.x<0||J.y<0||J.x>C||J.y>m)&&(j+=1e12);for(var q=V+1;q<U.length;q++)j+=k(J,U[q])}return j}function f(U,j,V,J){var q=new Map;V.forEach(function(Ct,nt){q.set(Ct.id,Ct)});var et=J.filter(function(Ct){return Ct.source===U.id||Ct.target===U.id})||[],st=[];et.forEach(function(Ct){var nt=Ct.source===U.id?Ct.target:Ct.source,dt=q.get(nt);dt&&st.push(dt)});for(var ot=!0,mt=0;mt<st.length;mt++){var ft=st[mt],Bt=Math.atan((U.y-ft.y)/(ft.x-U.y))*180,St=Math.atan((j.y-ft.y)/(ft.x-j.y))*180,wt=Bt<30||Bt>150,H=St<30||St>150,Q=Bt>70&&Bt<110,bt=St>70&&St<110;if(wt&&!H||Bt*St<0){ot=!1;break}else if(Q&&!bt||Bt*St<0){ot=!1;break}else if((ft.x-U.x)*(ft.x-j.x)<0){ot=!1;break}else if((ft.y-U.y)*(ft.y-j.y)<0){ot=!1;break}}return ot}function W(U,j){for(var V=!1,J=1,q=w*J,et=x*J,st=[q,-q,0,0],ot=[0,0,et,-et],mt=0;mt<U.length;++mt)for(var ft=U[mt],Bt=X(ft,U),St=0;St<st.length;St++){var wt=f(ft,{x:ft.x+st[St],y:ft.y+ot[St]},U,j);if(wt){ft.x+=st[St],ft.y+=ot[St];var H=X(ft,U),Q=Math.random();H<Bt||Q<y&&Q>T?(Bt=H,V=!0):(ft.x-=st[St],ft.y-=ot[St])}}return y>T&&(y*=E),V?b(U):0}function X(U,j){var V=0;(U.x<0||U.y<0||U.x+U.size[0]+20>C||U.y+U.size[1]+20>m)&&(V+=1e12);for(var J=0;J<j.length;++J)U.id!==j[J].id&&(V+=k(U,j[J]));return V}function z(U,j){if(U.length===0)return{nodes:U,edges:j};U.forEach(function(ft){var Bt=j.filter(function(St){return St.source===ft.id||St.target===ft.id});g.set(ft,Bt)}),U.sort(function(ft,Bt){var St,wt;return((St=g.get(ft.id))===null||St===void 0?void 0:St.length)-((wt=g.get(Bt.id))===null||wt===void 0?void 0:wt.length)});for(var V=b(U),J=20,q=1,et=0,st=50,ot=0;J>0&&(ot++,!(ot>=st));){var mt=W(U,j);mt!==0&&(et=mt),q=et-V,V=et,q===0?--J:J=20}return U.forEach(function(ft){ft.x=ft.x-ft.size[0]/2,ft.y=ft.y-ft.size[1]/2}),{nodes:U,edges:j}}G.default=z},589806:function(ze,G,C){"use strict";var m=this&&this.__createBinding||(Object.create?function(p,g,w,x){x===void 0&&(x=w);var y=Object.getOwnPropertyDescriptor(g,w);(!y||("get"in y?!g.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return g[w]}}),Object.defineProperty(p,x,y)}:function(p,g,w,x){x===void 0&&(x=w),p[x]=g[w]}),R=this&&this.__setModuleDefault||(Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g}),S=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var w in p)w!=="default"&&Object.prototype.hasOwnProperty.call(p,w)&&m(g,p,w);return R(g,p),g};Object.defineProperty(G,"__esModule",{value:!0});var M=S(C(971497)),L=C(449784);function P(){function p(It){return function(){return It}}var g=function(It){return It.cluster},w=p(1),x=p(-1),y=p(100),T=p(.1),E=[0,0],D=[],k={},b=[],f=100,W=100,X={none:{x:0,y:0}},z=[],U,j="force",V=!0,J=.1;function q(It){if(!V)return q;U.tick(),Bt();for(var ne=0,pe=D.length,Wt=void 0,Jt=It*J;ne<pe;++ne)Wt=D[ne],Wt.vx+=(X[g(Wt)].x-Wt.x)*Jt,Wt.vy+=(X[g(Wt)].y-Wt.y)*Jt}function et(){D&&st()}function st(){if(!(!D||!D.length)){if(g(D[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var It=ot();U=M.forceSimulation(It.nodes).force("x",M.forceX(f).strength(.1)).force("y",M.forceY(W).strength(.1)).force("collide",M.forceCollide(function(ne){return ne.r}).iterations(4)).force("charge",M.forceManyBody().strength(x)).force("links",M.forceLink(It.nodes.length?It.links:[]).distance(y).strength(T)),z=U.nodes(),Bt()}}function ot(){var It=[],ne=[],pe={},Wt=[],Jt={},$t=[];return Jt=mt(D),$t=ft(b),Wt=Object.keys(Jt),Wt.forEach(function(Kt,ue){var Se=Jt[Kt];It.push({id:Kt,size:Se.count,r:Math.sqrt(Se.sumforceNodeSize/Math.PI)}),pe[Kt]=ue}),$t.forEach(function(Kt){var ue=(0,L.getEdgeTerminal)(Kt,"source"),Se=(0,L.getEdgeTerminal)(Kt,"target"),Pt=pe[ue],Fe=pe[Se];Pt!==void 0&&Fe!==void 0&&ne.push({source:Pt,target:Fe,count:Kt.count})}),{nodes:It,links:ne}}function mt(It){var ne={};return It.forEach(function(pe){var Wt=g(pe);ne[Wt]||(ne[Wt]={count:0,sumforceNodeSize:0})}),It.forEach(function(pe){var Wt=g(pe),Jt=w(pe),$t=ne[Wt];$t.count=$t.count+1,$t.sumforceNodeSize=$t.sumforceNodeSize+Math.PI*(Jt*Jt)*1.3,ne[Wt]=$t}),ne}function ft(It){var ne={},pe=[];It.forEach(function(Jt){var $t=St(Jt),Kt=0;ne[$t]!==void 0&&(Kt=ne[$t]),Kt+=1,ne[$t]=Kt});var Wt=Object.entries(ne);return Wt.forEach(function(Jt){var $t=Jt[0],Kt=Jt[1],ue=$t.split("~")[0],Se=$t.split("~")[1];ue!==void 0&&Se!==void 0&&pe.push({source:ue,target:Se,count:Kt})}),pe}function Bt(){return X={none:{x:0,y:0}},z.forEach(function(It){X[It.id]={x:It.x-E[0],y:It.y-E[1]}}),X}function St(It){var ne=(0,L.getEdgeTerminal)(It,"source"),pe=(0,L.getEdgeTerminal)(It,"target"),Wt=g(k[ne]),Jt=g(k[pe]);return Wt<=Jt?"".concat(Wt,"~").concat(Jt):"".concat(Jt,"~").concat(Wt)}function wt(It){k={},It.forEach(function(ne){k[ne.id]=ne})}function H(It){return arguments.length?(j=It,et(),q):j}function Q(It){return arguments.length?typeof It=="string"?(g=function(ne){return ne[It]},q):(g=It,q):g}function bt(It){return arguments.length?(V=It,q):V}function Ct(It){return arguments.length?(J=It,q):J}function nt(It){return arguments.length?(f=It,q):f}function dt(It){return arguments.length?(W=It,q):W}function Tt(It){return arguments.length?(wt(It||[]),D=It||[],q):D}function At(It){return arguments.length?(b=It||[],et(),q):b}function xt(It){return arguments.length?(typeof It=="function"?w=It:w=p(+It),et(),q):w}function Dt(It){return arguments.length?(typeof It=="function"?x=It:x=p(+It),et(),q):x}function Ht(It){return arguments.length?(typeof It=="function"?y=It:y=p(+It),et(),q):y}function se(It){return arguments.length?(typeof It=="function"?T=It:T=p(+It),et(),q):T}function re(It){return arguments.length?(E=It,q):E}return q.initialize=function(It){D=It,et()},q.template=H,q.groupBy=Q,q.enableGrouping=bt,q.strength=Ct,q.centerX=nt,q.centerY=dt,q.nodes=Tt,q.links=At,q.forceNodeSize=xt,q.nodeSize=q.forceNodeSize,q.forceCharge=Dt,q.forceLinkDistance=Ht,q.forceLinkStrength=se,q.offset=re,q.getFocis=Bt,q}G.default=P},508810:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var D=function(k,b){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,W){f.__proto__=W}||function(f,W){for(var X in W)Object.prototype.hasOwnProperty.call(W,X)&&(f[X]=W[X])},D(k,b)};return function(k,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");D(k,b);function f(){this.constructor=k}k.prototype=b===null?Object.create(b):(f.prototype=b.prototype,new f)}}(),R=this&&this.__createBinding||(Object.create?function(D,k,b,f){f===void 0&&(f=b);var W=Object.getOwnPropertyDescriptor(k,b);(!W||("get"in W?!k.__esModule:W.writable||W.configurable))&&(W={enumerable:!0,get:function(){return k[b]}}),Object.defineProperty(D,f,W)}:function(D,k,b,f){f===void 0&&(f=b),D[f]=k[b]}),S=this&&this.__setModuleDefault||(Object.create?function(D,k){Object.defineProperty(D,"default",{enumerable:!0,value:k})}:function(D,k){D.default=k}),M=this&&this.__importStar||function(D){if(D&&D.__esModule)return D;var k={};if(D!=null)for(var b in D)b!=="default"&&Object.prototype.hasOwnProperty.call(D,b)&&R(k,D,b);return S(k,D),k},L=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(G,"__esModule",{value:!0}),G.ForceLayout=void 0;var P=M(C(971497)),p=L(C(589806)),g=C(449784),w=C(762329),x=C(416470),y=function(D){m(k,D);function k(b){var f=D.call(this)||this;return f.center=[0,0],f.nodeStrength=null,f.edgeStrength=null,f.preventOverlap=!1,f.clusterNodeStrength=null,f.clusterEdgeStrength=null,f.clusterEdgeDistance=null,f.clusterNodeSize=null,f.clusterFociStrength=null,f.linkDistance=50,f.alphaDecay=.028,f.alphaMin=.001,f.alpha=.3,f.collideStrength=1,f.workerEnabled=!1,f.tick=function(){},f.onLayoutEnd=function(){},f.ticking=void 0,b&&f.updateCfg(b),f}return k.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},k.prototype.init=function(b){var f=this;f.nodes=b.nodes||[];var W=b.edges||[];f.edges=W.map(function(X){var z={},U=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(X).forEach(function(j){U.indexOf(j)>-1||(z[j]=X[j])}),z}),f.ticking=!1},k.prototype.execute=function(b){var f=this,W=f.nodes,X=f.edges;if(!f.ticking){var z=f.forceSimulation,U=f.alphaMin,j=f.alphaDecay,V=f.alpha;if(z){if(b){if(f.clustering&&f.clusterForce&&(f.clusterForce.nodes(W),f.clusterForce.links(X)),z.nodes(W),X&&f.edgeForce)f.edgeForce.links(X);else if(X&&!f.edgeForce){var et=P.forceLink().id(function(ft){return ft.id}).links(X);f.edgeStrength&&et.strength(f.edgeStrength),f.linkDistance&&et.distance(f.linkDistance),f.edgeForce=et,z.force("link",et)}}f.preventOverlap&&f.overlapProcess(z),z.alpha(V).restart(),this.ticking=!0}else try{var J=P.forceManyBody();if(f.nodeStrength&&J.strength(f.nodeStrength),z=P.forceSimulation().nodes(W),f.clustering){var q=(0,p.default)();q.centerX(f.center[0]).centerY(f.center[1]).template("force").strength(f.clusterFociStrength),X&&q.links(X),W&&q.nodes(W),q.forceLinkDistance(f.clusterEdgeDistance).forceLinkStrength(f.clusterEdgeStrength).forceCharge(f.clusterNodeStrength).forceNodeSize(f.clusterNodeSize),f.clusterForce=q,z.force("group",q)}if(z.force("center",P.forceCenter(f.center[0],f.center[1])).force("charge",J).alpha(V).alphaDecay(j).alphaMin(U),f.preventOverlap&&f.overlapProcess(z),X){var et=P.forceLink().id(function(mt){return mt.id}).links(X);f.edgeStrength&&et.strength(f.edgeStrength),f.linkDistance&&et.distance(f.linkDistance),f.edgeForce=et,z.force("link",et)}if(f.workerEnabled&&!E()&&(f.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!f.workerEnabled)z.on("tick",function(){f.tick()}).on("end",function(){f.ticking=!1,f.onLayoutEnd&&f.onLayoutEnd()}),f.ticking=!0;else{z.stop();for(var st=T(z),ot=1;ot<=st;ot++)z.tick(),postMessage({nodes:W,currentTick:ot,totalTicks:st,type:x.LAYOUT_MESSAGE.TICK},void 0);f.ticking=!1}f.forceSimulation=z,f.ticking=!0}catch(mt){f.ticking=!1,console.warn(mt)}}},k.prototype.overlapProcess=function(b){var f=this,W=f.nodeSize,X=f.nodeSpacing,z,U,j=f.collideStrength;if((0,g.isNumber)(X)?U=function(){return X}:(0,g.isFunction)(X)?U=X:U=function(){return 0},!W)z=function(et){if(et.size){if((0,g.isArray)(et.size)){var st=et.size[0]>et.size[1]?et.size[0]:et.size[1];return st/2+U(et)}if((0,g.isObject)(et.size)){var st=et.size.width>et.size.height?et.size.width:et.size.height;return st/2+U(et)}return et.size/2+U(et)}return 10+U(et)};else if((0,g.isFunction)(W))z=function(et){var st=W(et);return st+U(et)};else if((0,g.isArray)(W)){var V=W[0]>W[1]?W[0]:W[1],J=V/2;z=function(et){return J+U(et)}}else if((0,g.isNumber)(W)){var q=W/2;z=function(et){return q+U(et)}}else z=function(){return 10};b.force("collisionForce",P.forceCollide(z).strength(j))},k.prototype.updateCfg=function(b){var f=this;f.ticking&&(f.forceSimulation.stop(),f.ticking=!1),f.forceSimulation=null,Object.assign(f,b)},k.prototype.destroy=function(){var b=this;b.ticking&&(b.forceSimulation.stop(),b.ticking=!1),b.nodes=null,b.edges=null,b.destroyed=!0},k}(w.Base);G.ForceLayout=y;function T(D){var k=D.alphaMin(),b=D.alphaTarget(),f=D.alpha(),W=Math.log((k-b)/(f-b))/Math.log(1-D.alphaDecay()),X=Math.ceil(W);return X}function E(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}},885717:function(ze,G,C){"use strict";var m=this&&this.__createBinding||(Object.create?function(S,M,L,P){P===void 0&&(P=L);var p=Object.getOwnPropertyDescriptor(M,L);(!p||("get"in p?!M.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return M[L]}}),Object.defineProperty(S,P,p)}:function(S,M,L,P){P===void 0&&(P=L),S[P]=M[L]}),R=this&&this.__exportStar||function(S,M){for(var L in S)L!=="default"&&!Object.prototype.hasOwnProperty.call(M,L)&&m(M,S,L)};Object.defineProperty(G,"__esModule",{value:!0}),R(C(508810),G)},191019:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.forceNBody=void 0;var m=C(971829),R=.81,S=.1;function M(g,w,x,y,T){var E=x/y,D=g.map(function(b,f){var W=w[b.id],X=W.data,z=W.x,U=W.y,j=W.size,V=X.layout.force.nodeStrength;return{x:z,y:U,size:j,index:f,vx:0,vy:0,weight:E*V}}),k=(0,m.quadtree)(D,function(b){return b.x},function(b){return b.y}).visitAfter(L);return D.forEach(function(b){p(b,k)}),D.map(function(b,f){var W=w[g[f].id],X=W.data.layout.force.mass,z=X===void 0?1:X;T[2*f]=b.vx/z,T[2*f+1]=b.vy/z}),T}G.forceNBody=M;function L(g){var w=0,x=0,y=0;if(g.length){for(var T=0;T<4;T++){var E=g[T];E&&E.weight&&(w+=E.weight,x+=E.x*E.weight,y+=E.y*E.weight)}g.x=x/w,g.y=y/w,g.weight=w}else{var E=g;g.x=E.data.x,g.y=E.data.y,g.weight=E.data.weight}}var P=function(g,w,x,y,T,E){var D=E.x-g.x||S,k=E.y-g.y||S,b=y-w,f=D*D+k*k,W=Math.sqrt(f)*f;if(b*b*R<f){var X=g.weight/W;return E.vx+=D*X,E.vy+=k*X,!0}if(g.length)return!1;if(g.data!==E){var X=g.data.weight/W;E.vx+=D*X,E.vy+=k*X}};function p(g,w){w.visit(function(x,y,T,E,D){return P(x,y,T,E,D,g)})}},306740:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var g=function(w,x){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,T){y.__proto__=T}||function(y,T){for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(y[E]=T[E])},g(w,x)};return function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");g(w,x);function y(){this.constructor=w}w.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)}}(),R=this&&this.__assign||function(){return R=Object.assign||function(g){for(var w,x=1,y=arguments.length;x<y;x++){w=arguments[x];for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&(g[T]=w[T])}return g},R.apply(this,arguments)};Object.defineProperty(G,"__esModule",{value:!0}),G.Force2Layout=void 0;var S=C(762329),M=C(449784),L=C(191019),P=function(g,w){var x;return g?(0,M.isNumber)(g)?x=function(y){return g}:x=g:x=function(y){return w||1},x},p=function(g){m(w,g);function w(x){var y=g.call(this)||this;y.maxIteration=1e3,y.workerEnabled=!1,y.edgeStrength=200,y.nodeStrength=1e3,y.coulombDisScale=.005,y.damping=.9,y.maxSpeed=500,y.minMovement=.4,y.interval=.02,y.factor=1,y.linkDistance=200,y.gravity=0,y.clusterNodeStrength=20,y.preventOverlap=!0,y.distanceThresholdMode="mean",y.tick=function(){},y.nodes=[],y.edges=[],y.width=300,y.height=300,y.nodeMap={},y.nodeIdxMap={},y.judgingDistance=0,y.centripetalOptions={leaf:2,single:2,others:1,center:function(E){return{x:y.width/2,y:y.height/2}}};var T=x.getMass;return y.propsGetMass=T,y.updateCfg(x),y}return w.prototype.getCentripetalOptions=function(){var x=this,y=x.leafCluster,T=x.clustering,E=x.nodeClusterBy,D=x.nodes,k=x.nodeMap,b=x.clusterNodeStrength,f=function(st){return typeof b=="function"?b(st):b},W={},X;if(y){X=this.getSameTypeLeafMap()||{};var z=Array.from(new Set(D==null?void 0:D.map(function(st){return st[E]})))||[];W={single:100,leaf:function(st,ot,mt){var ft=X[st.id]||{},Bt=ft.relativeLeafNodes,St=ft.sameTypeLeafNodes;return(St==null?void 0:St.length)===(Bt==null?void 0:Bt.length)||(z==null?void 0:z.length)===1?1:f(st)},others:1,center:function(st,ot,mt){var ft,Bt=(((ft=st.data)===null||ft===void 0?void 0:ft.layout)||{}).degree;if(!Bt)return{x:100,y:100};var St;if(Bt===1){var wt=(X[st.id]||{}).sameTypeLeafNodes,H=wt===void 0?[]:wt;H.length===1?St=void 0:H.length>1&&(St=(0,M.getAvgNodePosition)(H))}else St=void 0;return{x:St==null?void 0:St.x,y:St==null?void 0:St.y}}}}if(T){X||(X=this.getSameTypeLeafMap());var U=Array.from(new Set(D.map(function(st,ot){return st[E]}))).filter(function(st){return st!==void 0}),j={};U.forEach(function(st){var ot=D.filter(function(mt){return mt[E]===st}).map(function(mt){return k[mt.id]});j[st]=(0,M.getAvgNodePosition)(ot)}),W={single:function(st){return f(st)},leaf:function(st){return f(st)},others:function(st){return f(st)},center:function(st,ot,mt){var ft=j[st[E]];return{x:ft==null?void 0:ft.x,y:ft==null?void 0:ft.y}}}}this.centripetalOptions=R(R({},this.centripetalOptions),W);var V=this.centripetalOptions,J=V.leaf,q=V.single,et=V.others;J&&typeof J!="function"&&(this.centripetalOptions.leaf=function(){return J}),q&&typeof q!="function"&&(this.centripetalOptions.single=function(){return q}),et&&typeof et!="function"&&(this.centripetalOptions.others=function(){return et})},w.prototype.updateCfg=function(x){x&&Object.assign(this,x)},w.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},w.prototype.execute=function(){var x=this;x.stop();var y=x.nodes,T=x.edges,E=x.defSpringLen;if(x.judgingDistance=0,!y||y.length===0){x.onLayoutEnd([]);return}!x.width&&typeof window!="undefined"&&(x.width=window.innerWidth),!x.height&&typeof window!="undefined"&&(x.height=window.innerHeight),x.center||(x.center=[x.width/2,x.height/2]);var D=x.center;if(y.length===1){y[0].x=D[0],y[0].y=D[1],x.onLayoutEnd([R({},y[0])]);return}x.degreesMap=(0,M.getDegreeMap)(y,T),x.propsGetMass?x.getMass=x.propsGetMass:x.getMass=function(U){var j=1;(0,M.isNumber)(U.mass)&&(j=U.mass);var V=x.degreesMap[U.id].all;return!V||V<5?j:V*5*j};var k=x.nodeSize,b;if(x.preventOverlap){var f=x.nodeSpacing,W;(0,M.isNumber)(f)?W=function(){return f}:(0,M.isFunction)(f)?W=f:W=function(){return 0},k?(0,M.isArray)(k)?b=function(U){return Math.max(k[0],k[1])+W(U)}:b=function(U){return k+W(U)}:b=function(U){return U.size?(0,M.isArray)(U.size)?Math.max(U.size[0],U.size[1])+W(U):(0,M.isObject)(U.size)?Math.max(U.size.width,U.size.height)+W(U):U.size+W(U):10+W(U)}}x.nodeSize=b,x.linkDistance=P(x.linkDistance,1),x.nodeStrength=P(x.nodeStrength,1),x.edgeStrength=P(x.edgeStrength,1);var X={},z={};y.forEach(function(U,j){(0,M.isNumber)(U.x)||(U.x=Math.random()*x.width),(0,M.isNumber)(U.y)||(U.y=Math.random()*x.height);var V=x.degreesMap[U.id];X[U.id]=R(R({},U),{data:R(R({},U.data),{size:x.nodeSize(U)||30,layout:{inDegree:V.in,outDegree:V.out,degree:V.all,tDegree:V.in,sDegree:V.out,force:{mass:x.getMass(U),nodeStrength:x.nodeStrength(U)}}})}),z[U.id]=j}),x.nodeMap=X,x.nodeIdxMap=z,x.edgeInfos=[],T==null||T.forEach(function(U){var j=X[U.source],V=X[U.target];!j||!V?elf.edgeInfos.push({}):x.edgeInfos.push({edgeStrength:x.edgeStrength(U),linkDistance:E?E(R(R({},U),{source:j,target:V}),j,V):x.linkDistance(U,j,V)||1+(k(j)+k(j)||0)/2})}),this.getCentripetalOptions(),x.onLayoutEnd=x.onLayoutEnd||function(){},x.run()},w.prototype.run=function(){var x=this,y=x.maxIteration,T=x.nodes,E=x.workerEnabled,D=x.minMovement,k=x.animate,b=x.nodeMap;if(T){var f=[];T.forEach(function(V,J){f[2*J]=0,f[2*J+1]=0});var W=y,X=!k;if(E||X){for(var z=0,U=0;(x.judgingDistance>D||U<1)&&U<W;U++)z=U,x.runOneStep(U,f);x.onLayoutEnd(Object.values(b))}else{if(typeof window=="undefined")return;var j=0;this.timeInterval=window.setInterval(function(){T&&(x.runOneStep(j,f),j++,(j>=W||x.judgingDistance<D)&&(x.onLayoutEnd(Object.values(b)),window.clearInterval(x.timeInterval)))},0)}}},w.prototype.runOneStep=function(x,y){var T,E=this,D=E.nodes,k=E.edges,b=E.nodeMap,f=E.monitor,W=[];if(D!=null&&D.length){E.calRepulsive(W),k&&E.calAttractive(W),E.calGravity(W);var X=E.interval;if(E.updateVelocity(W,y,X),E.updatePosition(y,X),(T=E.tick)===null||T===void 0||T.call(E),f){var z=this.calTotalEnergy(W);f({energy:z,nodes:D,edges:k,iterations:x})}}},w.prototype.calTotalEnergy=function(x){var y=this,T=y.nodes,E=y.nodeMap;if(!(T!=null&&T.length))return 0;var D=0;return T.forEach(function(k,b){var f=x[2*b],W=x[2*b+1],X=f*f+W*W,z=E[k.id].data.layout.force.mass,U=z===void 0?1:z;D+=U*X*.5}),D},w.prototype.calRepulsive=function(x){var y=this,T=y.nodes,E=y.nodeMap,D=y.factor,k=y.coulombDisScale,b=y.nodeSize;(0,L.forceNBody)(T,E,D,k*k,x)},w.prototype.calAttractive=function(x){var y=this,T=y.edges,E=y.nodeMap,D=y.nodeIdxMap,k=y.edgeInfos,b=y.nodeSize;T.forEach(function(f,W){var X=(0,M.getEdgeTerminal)(f,"source"),z=(0,M.getEdgeTerminal)(f,"target"),U=E[X],j=E[z];if(!(!U||!j)){var V=j.x-U.x,J=j.y-U.y;!V&&!J&&(V=Math.random()*.01,J=Math.random()*.01);var q=Math.sqrt(V*V+J*J),et=V/q,st=J/q,ot=k[W]||{},mt=ot.linkDistance,ft=mt===void 0?200:mt,Bt=ot.edgeStrength,St=Bt===void 0?200:Bt,wt=ft-q,H=wt*St,Q=U.data.layout.force.mass||1,bt=j.data.layout.force.mass||1,Ct=1/Q,nt=1/bt,dt=et*H,Tt=st*H,At=2*D[X],xt=2*D[z];x[At]-=dt*Ct,x[At+1]-=Tt*Ct,x[xt]+=dt*nt,x[xt+1]+=Tt*nt}})},w.prototype.calGravity=function(x){var y,T=this,E=T.nodes,D=T.edges,k=D===void 0?[]:D,b=T.nodeMap,f=T.width,W=T.height,X=T.center,z=T.gravity,U=T.degreesMap,j=T.centripetalOptions;if(E)for(var V=E.length,J=0;J<V;J++){var q=2*J,et=b[E[J].id],st=et.data.layout.force.mass,ot=st===void 0?1:st,mt=0,ft=0,Bt=z,St=U[et.id],wt=St.in,H=St.out,Q=St.all,bt=(y=T.getCenter)===null||y===void 0?void 0:y.call(T,et,Q);if(bt){var Ct=bt[0],nt=bt[1],dt=bt[2];mt=et.x-Ct,ft=et.y-nt,Bt=dt}else mt=et.x-X[0],ft=et.y-X[1];if(Bt&&(x[q]-=Bt*mt/ot,x[q+1]-=Bt*ft/ot),j){var Tt=j.leaf,At=j.single,xt=j.others,Dt=j.center,Ht=(Dt==null?void 0:Dt(et,E,k,f,W))||{x:0,y:0,centerStrength:0},se=Ht.x,re=Ht.y,It=Ht.centerStrength;if(!(0,M.isNumber)(se)||!(0,M.isNumber)(re))continue;var ne=(et.x-se)/ot,pe=(et.y-re)/ot;if(It&&(x[q]-=It*ne,x[q+1]-=It*pe),Q===0){var Wt=At(et);if(!Wt)continue;x[q]-=Wt*ne,x[q+1]-=Wt*pe;continue}if(wt===0||H===0){var Jt=Tt(et,E,k);if(!Jt)continue;x[q]-=Jt*ne,x[q+1]-=Jt*pe;continue}var $t=xt(et);if(!$t)continue;x[q]-=$t*ne,x[q+1]-=$t*pe}}},w.prototype.updateVelocity=function(x,y,T){var E=this,D=E.nodes,k=E.damping,b=E.maxSpeed;D!=null&&D.length&&D.forEach(function(f,W){var X=(y[2*W]+x[2*W]*T)*k||.01,z=(y[2*W+1]+x[2*W+1]*T)*k||.01,U=Math.sqrt(X*X+z*z);if(U>b){var j=b/U;X=j*X,z=j*z}y[2*W]=X,y[2*W+1]=z})},w.prototype.updatePosition=function(x,y){var T=this,E=T.nodes,D=T.distanceThresholdMode,k=T.nodeMap;if(!(E!=null&&E.length)){this.judgingDistance=0;return}var b=0;D==="max"?T.judgingDistance=-1/0:D==="min"&&(T.judgingDistance=1/0),E.forEach(function(f,W){var X=k[f.id];if((0,M.isNumber)(f.fx)&&(0,M.isNumber)(f.fy)){f.x=f.fx,f.y=f.fy,X.x=f.x,X.y=f.y;return}var z=x[2*W]*y,U=x[2*W+1]*y;f.x+=z,f.y+=U,X.x=f.x,X.y=f.y;var j=Math.sqrt(z*z+U*U);switch(D){case"max":T.judgingDistance<j&&(T.judgingDistance=j);break;case"min":T.judgingDistance>j&&(T.judgingDistance=j);break;default:b=b+j;break}}),(!D||D==="mean")&&(T.judgingDistance=b/E.length)},w.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},w.prototype.destroy=function(){var x=this;x.stop(),x.tick=null,x.nodes=null,x.edges=null,x.destroyed=!0},w.prototype.getType=function(){return"force2"},w.prototype.getSameTypeLeafMap=function(){var x=this,y=x.nodeClusterBy,T=x.nodes,E=x.edges,D=x.nodeMap,k=x.degreesMap;if(T!=null&&T.length){var b={};return T.forEach(function(f,W){var X=k[f.id].all;X===1&&(b[f.id]=(0,M.getCoreNodeAndRelativeLeafNodes)("leaf",f,E,y,k,D))}),b}},w}(S.Base);G.Force2Layout=p},19712:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var C=function(){function m(R){this.id=R.id||0,this.rx=R.rx,this.ry=R.ry,this.fx=0,this.fy=0,this.mass=R.mass,this.degree=R.degree,this.g=R.g||0}return m.prototype.distanceTo=function(R){var S=this.rx-R.rx,M=this.ry-R.ry;return Math.hypot(S,M)},m.prototype.setPos=function(R,S){this.rx=R,this.ry=S},m.prototype.resetForce=function(){this.fx=0,this.fy=0},m.prototype.addForce=function(R){var S=R.rx-this.rx,M=R.ry-this.ry,L=Math.hypot(S,M);L=L<1e-4?1e-4:L;var P=this.g*(this.degree+1)*(R.degree+1)/L;this.fx+=P*S/L,this.fy+=P*M/L},m.prototype.in=function(R){return R.contains(this.rx,this.ry)},m.prototype.add=function(R){var S=this.mass+R.mass,M=(this.rx*this.mass+R.rx*R.mass)/S,L=(this.ry*this.mass+R.ry*R.mass)/S,P=this.degree+R.degree,p={rx:M,ry:L,mass:S,degree:P};return new m(p)},m}();G.default=C},148564:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var w=function(x,y){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,E){T.__proto__=E}||function(T,E){for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(T[D]=E[D])},w(x,y)};return function(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");w(x,y);function T(){this.constructor=x}x.prototype=y===null?Object.create(y):(T.prototype=y.prototype,new T)}}(),R=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(G,"__esModule",{value:!0}),G.ForceAtlas2Layout=void 0;var S=C(762329),M=C(449784),L=R(C(19712)),P=R(C(851638)),p=R(C(762732)),g=function(w){m(x,w);function x(y){var T=w.call(this)||this;return T.center=[0,0],T.width=300,T.height=300,T.nodes=[],T.edges=[],T.kr=5,T.kg=1,T.mode="normal",T.preventOverlap=!1,T.dissuadeHubs=!1,T.barnesHut=void 0,T.maxIteration=0,T.ks=.1,T.ksmax=10,T.tao=.1,T.onLayoutEnd=function(){},T.prune=void 0,T.updateCfg(y),T}return x.prototype.getDefaultCfg=function(){return{}},x.prototype.execute=function(){var y=this,T=y.nodes,E=y.onLayoutEnd,D=y.prune,k=y.maxIteration;!y.width&&typeof window!="undefined"&&(y.width=window.innerWidth),!y.height&&typeof window!="undefined"&&(y.height=window.innerHeight);for(var b=[],f=T.length,W=0;W<f;W+=1){var X=T[W],z=10,U=10;(0,M.isNumber)(X.size)&&(z=X.size,U=X.size),(0,M.isArray)(X.size)?(isNaN(X.size[0])||(z=X.size[0]),isNaN(X.size[1])||(U=X.size[1])):(0,M.isObject)(X.size)&&(z=X.size.width,U=X.size.height),y.getWidth&&!isNaN(y.getWidth(X))&&(U=y.getWidth(X)),y.getHeight&&!isNaN(y.getHeight(X))&&(z=y.getHeight(X));var j=Math.max(z,U);b.push(j)}y.barnesHut===void 0&&f>250&&(y.barnesHut=!0),y.prune===void 0&&f>100&&(y.prune=!0),this.maxIteration===0&&!y.prune?(k=250,f<=200&&f>100?k=1e3:f>200&&(k=1200),this.maxIteration=k):this.maxIteration===0&&D&&(k=100,f<=200&&f>100?k=500:f>200&&(k=950),this.maxIteration=k),y.kr||(y.kr=50,f>100&&f<=500?y.kr=20:f>500&&(y.kr=1)),y.kg||(y.kg=20,f>100&&f<=500?y.kg=10:f>500&&(y.kg=1)),this.nodes=y.updateNodesByForces(b),E()},x.prototype.updateNodesByForces=function(y){for(var T=this,E=T.edges,D=T.maxIteration,k=T.nodes,b=E.filter(function(St){var wt=(0,M.getEdgeTerminal)(St,"source"),H=(0,M.getEdgeTerminal)(St,"target");return wt!==H}),f=k.length,W=b.length,X=[],z={},U={},j=[],V=0;V<f;V+=1)z[k[V].id]=V,X[V]=0,(k[V].x===void 0||isNaN(k[V].x))&&(k[V].x=Math.random()*1e3),(k[V].y===void 0||isNaN(k[V].y))&&(k[V].y=Math.random()*1e3),j.push({x:k[V].x,y:k[V].y});for(var V=0;V<W;V+=1){for(var J=void 0,q=void 0,et=0,st=0,ot=0;ot<f;ot+=1){var mt=(0,M.getEdgeTerminal)(b[V],"source"),ft=(0,M.getEdgeTerminal)(b[V],"target");k[ot].id===mt?(J=k[ot],et=ot):k[ot].id===ft&&(q=k[ot],st=ot),U[V]={sourceIdx:et,targetIdx:st}}J&&(X[z[J.id]]+=1),q&&(X[z[q.id]]+=1)}var Bt=D;if(k=this.iterate(Bt,z,U,W,X,y),T.prune){for(var ot=0;ot<W;ot+=1)X[U[ot].sourceIdx]<=1?(k[U[ot].sourceIdx].x=k[U[ot].targetIdx].x,k[U[ot].sourceIdx].y=k[U[ot].targetIdx].y):X[U[ot].targetIdx]<=1&&(k[U[ot].targetIdx].x=k[U[ot].sourceIdx].x,k[U[ot].targetIdx].y=k[U[ot].sourceIdx].y);T.prune=!1,T.barnesHut=!1,Bt=100,k=this.iterate(Bt,z,U,W,X,y)}return k},x.prototype.iterate=function(y,T,E,D,k,b){for(var f=this,W=f.nodes,X=f.kr,z=f.preventOverlap,U=f.barnesHut,j=W.length,V=0,J=100,q=y,et=50,st=[],ot=[],mt=[],ft=0;ft<j;ft+=1)if(st[2*ft]=0,st[2*ft+1]=0,U){var Bt={id:ft,rx:W[ft].x,ry:W[ft].y,mass:1,g:X,degree:k[ft]};mt[ft]=new L.default(Bt)}for(;q>0;){for(var ft=0;ft<j;ft+=1)ot[2*ft]=st[2*ft],ot[2*ft+1]=st[2*ft+1],st[2*ft]=0,st[2*ft+1]=0;st=this.getAttrForces(q,et,D,T,E,k,b,st),U&&(z&&q>et||!z)?st=this.getOptRepGraForces(st,mt,k):st=this.getRepGraForces(q,et,st,J,b,k);var St=this.updatePos(st,ot,V,k);W=St.nodes,V=St.sg,q--,f.tick&&f.tick()}return W},x.prototype.getAttrForces=function(y,T,E,D,k,b,f,W){for(var X=this,z=X.nodes,U=X.preventOverlap,j=X.dissuadeHubs,V=X.mode,J=X.prune,q=0;q<E;q+=1){var et=z[k[q].sourceIdx],st=k[q].sourceIdx,ot=z[k[q].targetIdx],mt=k[q].targetIdx;if(!(J&&(b[st]<=1||b[mt]<=1))){var ft=[ot.x-et.x,ot.y-et.y],Bt=Math.hypot(ft[0],ft[1]);Bt=Bt<1e-4?1e-4:Bt,ft[0]=ft[0]/Bt,ft[1]=ft[1]/Bt,U&&y<T&&(Bt=Bt-f[st]-f[mt]);var St=Bt,wt=St;V==="linlog"&&(St=Math.log(1+Bt),wt=St),j&&(St=Bt/b[st],wt=Bt/b[mt]),U&&y<T&&Bt<=0?(St=0,wt=0):U&&y<T&&Bt>0&&(St=Bt,wt=Bt),W[2*D[et.id]]+=St*ft[0],W[2*D[ot.id]]-=wt*ft[0],W[2*D[et.id]+1]+=St*ft[1],W[2*D[ot.id]+1]-=wt*ft[1]}}return W},x.prototype.getRepGraForces=function(y,T,E,D,k,b){for(var f=this,W=f.nodes,X=f.preventOverlap,z=f.kr,U=f.kg,j=f.center,V=f.prune,J=W.length,q=0;q<J;q+=1){for(var et=q+1;et<J;et+=1)if(!(V&&(b[q]<=1||b[et]<=1))){var st=[W[et].x-W[q].x,W[et].y-W[q].y],ot=Math.hypot(st[0],st[1]);ot=ot<1e-4?1e-4:ot,st[0]=st[0]/ot,st[1]=st[1]/ot,X&&y<T&&(ot=ot-k[q]-k[et]);var mt=z*(b[q]+1)*(b[et]+1)/ot;X&&y<T&&ot<0?mt=D*(b[q]+1)*(b[et]+1):X&&y<T&&ot===0?mt=0:X&&y<T&&ot>0&&(mt=z*(b[q]+1)*(b[et]+1)/ot),E[2*q]-=mt*st[0],E[2*et]+=mt*st[0],E[2*q+1]-=mt*st[1],E[2*et+1]+=mt*st[1]}var ft=[W[q].x-j[0],W[q].y-j[1]],Bt=Math.hypot(ft[0],ft[1]);ft[0]=ft[0]/Bt,ft[1]=ft[1]/Bt;var St=U*(b[q]+1);E[2*q]-=St*ft[0],E[2*q+1]-=St*ft[1]}return E},x.prototype.getOptRepGraForces=function(y,T,E){for(var D=this,k=D.nodes,b=D.kg,f=D.center,W=D.prune,X=k.length,z=9e10,U=-9e10,j=9e10,V=-9e10,J=0;J<X;J+=1)W&&E[J]<=1||(T[J].setPos(k[J].x,k[J].y),k[J].x>=U&&(U=k[J].x),k[J].x<=z&&(z=k[J].x),k[J].y>=V&&(V=k[J].y),k[J].y<=j&&(j=k[J].y));for(var q=Math.max(U-z,V-j),et={xmid:(U+z)/2,ymid:(V+j)/2,length:q,massCenter:f,mass:X},st=new P.default(et),ot=new p.default(st),J=0;J<X;J+=1)W&&E[J]<=1||T[J].in(st)&&ot.insert(T[J]);for(var J=0;J<X;J+=1)if(!(W&&E[J]<=1)){T[J].resetForce(),ot.updateForce(T[J]),y[2*J]-=T[J].fx,y[2*J+1]-=T[J].fy;var mt=[k[J].x-f[0],k[J].y-f[1]],ft=Math.hypot(mt[0],mt[1]);ft=ft<1e-4?1e-4:ft,mt[0]=mt[0]/ft,mt[1]=mt[1]/ft;var Bt=b*(E[J]+1);y[2*J]-=Bt*mt[0],y[2*J+1]-=Bt*mt[1]}return y},x.prototype.updatePos=function(y,T,E,D){for(var k=this,b=k.nodes,f=k.ks,W=k.tao,X=k.prune,z=k.ksmax,U=b.length,j=[],V=[],J=0,q=0,et=0;et<U;et+=1)if(!(X&&D[et]<=1)){var st=[y[2*et]-T[2*et],y[2*et+1]-T[2*et+1]],ot=Math.hypot(st[0],st[1]),mt=[y[2*et]+T[2*et],y[2*et+1]+T[2*et+1]],ft=Math.hypot(mt[0],mt[1]);j[et]=ot,V[et]=ft/2,J+=(D[et]+1)*j[et],q+=(D[et]+1)*V[et]}var Bt=E;E=W*q/J,Bt!==0&&(E=E>1.5*Bt?1.5*Bt:E);for(var et=0;et<U;et+=1)if(!(X&&D[et]<=1)&&!((0,M.isNumber)(b[et].fx)&&(0,M.isNumber)(b[et].fy))){var St=f*E/(1+E*Math.sqrt(j[et])),wt=Math.hypot(y[2*et],y[2*et+1]);wt=wt<1e-4?1e-4:wt;var H=z/wt;St=St>H?H:St;var Q=St*y[2*et],bt=St*y[2*et+1];b[et].x+=Q,b[et].y+=bt}return{nodes:b,sg:E}},x}(S.Base);G.ForceAtlas2Layout=g},851638:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var C=function(){function m(R){this.xmid=R.xmid,this.ymid=R.ymid,this.length=R.length,this.massCenter=R.massCenter||[0,0],this.mass=R.mass||1}return m.prototype.getLength=function(){return this.length},m.prototype.contains=function(R,S){var M=this.length/2;return R<=this.xmid+M&&R>=this.xmid-M&&S<=this.ymid+M&&S>=this.ymid-M},m.prototype.NW=function(){var R=this.xmid-this.length/4,S=this.ymid+this.length/4,M=this.length/2,L={xmid:R,ymid:S,length:M},P=new m(L);return P},m.prototype.NE=function(){var R=this.xmid+this.length/4,S=this.ymid+this.length/4,M=this.length/2,L={xmid:R,ymid:S,length:M},P=new m(L);return P},m.prototype.SW=function(){var R=this.xmid-this.length/4,S=this.ymid-this.length/4,M=this.length/2,L={xmid:R,ymid:S,length:M},P=new m(L);return P},m.prototype.SE=function(){var R=this.xmid+this.length/4,S=this.ymid-this.length/4,M=this.length/2,L={xmid:R,ymid:S,length:M},P=new m(L);return P},m}();G.default=C},762732:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var C=function(){function m(R){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,R!=null&&(this.quad=R)}return m.prototype.insert=function(R){if(this.body==null){this.body=R;return}this._isExternal()?(this.quad&&(this.NW=new m(this.quad.NW()),this.NE=new m(this.quad.NE()),this.SW=new m(this.quad.SW()),this.SE=new m(this.quad.SE())),this._putBody(this.body),this._putBody(R),this.body=this.body.add(R)):(this.body=this.body.add(R),this._putBody(R))},m.prototype._putBody=function(R){this.quad&&(R.in(this.quad.NW())&&this.NW?this.NW.insert(R):R.in(this.quad.NE())&&this.NE?this.NE.insert(R):R.in(this.quad.SW())&&this.SW?this.SW.insert(R):R.in(this.quad.SE())&&this.SE&&this.SE.insert(R))},m.prototype._isExternal=function(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null},m.prototype.updateForce=function(R){if(!(this.body==null||R===this.body))if(this._isExternal())R.addForce(this.body);else{var S=this.quad?this.quad.getLength():0,M=this.body.distanceTo(R);S/M<this.theta?R.addForce(this.body):(this.NW&&this.NW.updateForce(R),this.NE&&this.NE.updateForce(R),this.SW&&this.SW.updateForce(R),this.SE&&this.SE.updateForce(R))}},m}();G.default=C},880374:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var P=function(p,g){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,x){w.__proto__=x}||function(w,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(w[y]=x[y])},P(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");P(p,g);function w(){this.constructor=p}p.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}}();Object.defineProperty(G,"__esModule",{value:!0}),G.FruchtermanLayout=void 0;var R=C(762329),S=C(449784),M=800,L=function(P){m(p,P);function p(g){var w=P.call(this)||this;return w.maxIteration=1e3,w.workerEnabled=!1,w.gravity=10,w.speed=5,w.clustering=!1,w.clusterGravity=10,w.nodes=[],w.edges=[],w.width=300,w.height=300,w.nodeMap={},w.nodeIdxMap={},w.onLayoutEnd=function(){},w.tick=function(){},w.animate=!0,w.updateCfg(g),w}return p.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},p.prototype.execute=function(){var g=this,w,x,y=this,T=y.nodes;if(y.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(y.timeInterval),!T||T.length===0){(w=y.onLayoutEnd)===null||w===void 0||w.call(y);return}!y.width&&typeof window!="undefined"&&(y.width=window.innerWidth),!y.height&&typeof window!="undefined"&&(y.height=window.innerHeight),y.center||(y.center=[y.width/2,y.height/2]);var E=y.center;if(T.length===1){T[0].x=E[0],T[0].y=E[1],(x=y.onLayoutEnd)===null||x===void 0||x.call(y);return}var D={},k={};return T.forEach(function(b,f){(0,S.isNumber)(b.x)||(b.x=Math.random()*g.width),(0,S.isNumber)(b.y)||(b.y=Math.random()*g.height),D[b.id]=b,k[b.id]=f}),y.nodeMap=D,y.nodeIdxMap=k,y.run()},p.prototype.run=function(){var g,w=this,x=w.nodes;if(x){var y=w.edges,T=w.maxIteration,E=w.workerEnabled,D=w.clustering,k=w.animate,b={};if(D&&x.forEach(function(X){b[X.cluster]===void 0&&(b[X.cluster]={name:X.cluster,cx:0,cy:0,count:0})}),E||!k){for(var f=0;f<T;f++)w.runOneStep(b);(g=w.onLayoutEnd)===null||g===void 0||g.call(w)}else{if(typeof window=="undefined")return;var W=0;this.timeInterval=window.setInterval(function(){var X;w.runOneStep(b),W++,W>=T&&((X=w.onLayoutEnd)===null||X===void 0||X.call(w),window.clearInterval(w.timeInterval))},0)}return{nodes:x,edges:y}}},p.prototype.runOneStep=function(g){var w,x=this,y=x.nodes;if(y){var T=x.edges,E=x.center,D=x.gravity,k=x.speed,b=x.clustering,f=x.height*x.width,W=Math.sqrt(f)/10,X=f/(y.length+1),z=Math.sqrt(X),U=[];if(y.forEach(function(J,q){U[q]={x:0,y:0}}),x.applyCalculate(y,T,U,z,X),b){for(var j in g)g[j].cx=0,g[j].cy=0,g[j].count=0;y.forEach(function(J){var q=g[J.cluster];(0,S.isNumber)(J.x)&&(q.cx+=J.x),(0,S.isNumber)(J.y)&&(q.cy+=J.y),q.count++});for(var j in g)g[j].cx/=g[j].count,g[j].cy/=g[j].count;var V=x.clusterGravity||D;y.forEach(function(J,q){if(!(!(0,S.isNumber)(J.x)||!(0,S.isNumber)(J.y))){var et=g[J.cluster],st=Math.sqrt((J.x-et.cx)*(J.x-et.cx)+(J.y-et.cy)*(J.y-et.cy)),ot=z*V;U[q].x-=ot*(J.x-et.cx)/st,U[q].y-=ot*(J.y-et.cy)/st}})}y.forEach(function(J,q){if(!(!(0,S.isNumber)(J.x)||!(0,S.isNumber)(J.y))){var et=.01*z*D;U[q].x-=et*(J.x-E[0]),U[q].y-=et*(J.y-E[1])}}),y.forEach(function(J,q){if((0,S.isNumber)(J.fx)&&(0,S.isNumber)(J.fy)){J.x=J.fx,J.y=J.fy;return}if(!(!(0,S.isNumber)(J.x)||!(0,S.isNumber)(J.y))){var et=Math.sqrt(U[q].x*U[q].x+U[q].y*U[q].y);if(et>0){var st=Math.min(W*(k/M),et);J.x+=U[q].x/et*st,J.y+=U[q].y/et*st}}}),(w=x.tick)===null||w===void 0||w.call(x)}},p.prototype.applyCalculate=function(g,w,x,y,T){var E=this;E.calRepulsive(g,x,T),w&&E.calAttractive(w,x,y)},p.prototype.calRepulsive=function(g,w,x){g.forEach(function(y,T){w[T]={x:0,y:0},g.forEach(function(E,D){if(T!==D&&!(!(0,S.isNumber)(y.x)||!(0,S.isNumber)(E.x)||!(0,S.isNumber)(y.y)||!(0,S.isNumber)(E.y))){var k=y.x-E.x,b=y.y-E.y,f=k*k+b*b;if(f===0){f=1;var W=T>D?1:-1;k=.01*W,b=.01*W}var X=x/f;w[T].x+=k*X,w[T].y+=b*X}})})},p.prototype.calAttractive=function(g,w,x){var y=this;g.forEach(function(T){var E=(0,S.getEdgeTerminal)(T,"source"),D=(0,S.getEdgeTerminal)(T,"target");if(!(!E||!D)){var k=y.nodeIdxMap[E],b=y.nodeIdxMap[D];if(k!==b){var f=y.nodeMap[E],W=y.nodeMap[D];if(!(!(0,S.isNumber)(W.x)||!(0,S.isNumber)(f.x)||!(0,S.isNumber)(W.y)||!(0,S.isNumber)(f.y))){var X=W.x-f.x,z=W.y-f.y,U=Math.sqrt(X*X+z*z),j=U*U/x;w[b].x-=X/U*j,w[b].y-=z/U*j,w[k].x+=X/U*j,w[k].y+=z/U*j}}}})},p.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},p.prototype.destroy=function(){var g=this;g.stop(),g.tick=null,g.nodes=null,g.edges=null,g.destroyed=!0},p.prototype.getType=function(){return"fruchterman"},p}(R.Base);G.FruchtermanLayout=L},113653:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var P=function(p,g){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,x){w.__proto__=x}||function(w,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(w[y]=x[y])},P(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");P(p,g);function w(){this.constructor=p}p.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}}();Object.defineProperty(G,"__esModule",{value:!0}),G.GForceLayout=void 0;var R=C(762329),S=C(449784),M=function(P,p){var g;return P?(0,S.isNumber)(P)?g=function(w){return P}:g=P:g=function(w){return p||1},g},L=function(P){m(p,P);function p(g){var w=P.call(this)||this;return w.maxIteration=500,w.workerEnabled=!1,w.edgeStrength=200,w.nodeStrength=1e3,w.coulombDisScale=.005,w.damping=.9,w.maxSpeed=1e3,w.minMovement=.5,w.interval=.02,w.factor=1,w.linkDistance=1,w.gravity=10,w.preventOverlap=!0,w.collideStrength=1,w.tick=function(){},w.nodes=[],w.edges=[],w.width=300,w.height=300,w.nodeMap={},w.nodeIdxMap={},w.animate=!0,w.updateCfg(g),w}return p.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},p.prototype.execute=function(){var g,w,x=this,y=x.nodes;if(x.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(x.timeInterval),!y||y.length===0){(g=x.onLayoutEnd)===null||g===void 0||g.call(x);return}!x.width&&typeof window!="undefined"&&(x.width=window.innerWidth),!x.height&&typeof window!="undefined"&&(x.height=window.innerHeight),x.center||(x.center=[x.width/2,x.height/2]);var T=x.center;if(y.length===1){y[0].x=T[0],y[0].y=T[1],(w=x.onLayoutEnd)===null||w===void 0||w.call(x);return}var E={},D={};y.forEach(function(z,U){(0,S.isNumber)(z.x)||(z.x=Math.random()*x.width),(0,S.isNumber)(z.y)||(z.y=Math.random()*x.height),E[z.id]=z,D[z.id]=U}),x.nodeMap=E,x.nodeIdxMap=D,x.linkDistance=M(x.linkDistance,1),x.nodeStrength=M(x.nodeStrength,1),x.edgeStrength=M(x.edgeStrength,1);var k=x.nodeSize,b;if(x.preventOverlap){var f=x.nodeSpacing,W;(0,S.isNumber)(f)?W=function(){return f}:(0,S.isFunction)(f)?W=f:W=function(){return 0},k?(0,S.isArray)(k)?b=function(z){return Math.max(k[0],k[1])+W(z)}:b=function(z){return k+W(z)}:b=function(z){return z.size?(0,S.isArray)(z.size)?Math.max(z.size[0],z.size[1])+W(z):(0,S.isObject)(z.size)?Math.max(z.size.width,z.size.height)+W(z):z.size+W(z):10+W(z)}}x.nodeSize=b;var X=x.edges;x.degrees=(0,S.getDegree)(y.length,x.nodeIdxMap,X),x.getMass||(x.getMass=function(z){var U=z.mass||x.degrees[x.nodeIdxMap[z.id]].all||1;return U}),x.run()},p.prototype.run=function(){var g,w=this,x=w.maxIteration,y=w.nodes,T=w.workerEnabled,E=w.minMovement,D=w.animate;if(y)if(T||!D){for(var k=0;k<x;k++){var b=w.runOneStep(k);if(w.reachMoveThreshold(y,b,E))break}(g=w.onLayoutEnd)===null||g===void 0||g.call(w)}else{if(typeof window=="undefined")return;var f=0;this.timeInterval=window.setInterval(function(){var W,X;if(y){var z=w.runOneStep(f)||[];w.reachMoveThreshold(y,z,E)&&((W=w.onLayoutEnd)===null||W===void 0||W.call(w),window.clearInterval(w.timeInterval)),f++,f>=x&&((X=w.onLayoutEnd)===null||X===void 0||X.call(w),window.clearInterval(w.timeInterval))}},0)}},p.prototype.reachMoveThreshold=function(g,w,x){var y=0;return g.forEach(function(T,E){var D=T.x-w[E].x,k=T.y-w[E].y;y+=Math.sqrt(D*D+k*k)}),y/=g.length,y<x},p.prototype.runOneStep=function(g){var w,x=this,y=x.nodes,T=x.edges,E=[],D=[];if(y){y.forEach(function(f,W){E[2*W]=0,E[2*W+1]=0,D[2*W]=0,D[2*W+1]=0}),x.calRepulsive(E,y),T&&x.calAttractive(E,T),x.calGravity(E,y);var k=Math.max(.02,x.interval-g*.002);x.updateVelocity(E,D,k,y);var b=[];return y.forEach(function(f){b.push({x:f.x,y:f.y})}),x.updatePosition(D,k,y),(w=x.tick)===null||w===void 0||w.call(x),b}},p.prototype.calRepulsive=function(g,w){var x=this,y=x.getMass,T=x.factor,E=x.coulombDisScale,D=x.preventOverlap,k=x.collideStrength,b=k===void 0?1:k,f=x.nodeStrength,W=x.nodeSize;w.forEach(function(X,z){var U=y?y(X):1;w.forEach(function(j,V){if(!(z>=V)){var J=X.x-j.x,q=X.y-j.y;J===0&&q===0&&(J=Math.random()*.01,q=Math.random()*.01);var et=J*J+q*q,st=Math.sqrt(et),ot=(st+.1)*E,mt=J/st,ft=q/st,Bt=(f(X)+f(j))*.5*T/(ot*ot),St=y?y(j):1;if(g[2*z]+=mt*Bt,g[2*z+1]+=ft*Bt,g[2*V]-=mt*Bt,g[2*V+1]-=ft*Bt,D&&(W(X)+W(j))/2>st){var wt=b*(f(X)+f(j))*.5/et;g[2*z]+=mt*wt/U,g[2*z+1]+=ft*wt/U,g[2*V]-=mt*wt/St,g[2*V+1]-=ft*wt/St}}})})},p.prototype.calAttractive=function(g,w){var x=this,y=x.nodeMap,T=x.nodeIdxMap,E=x.linkDistance,D=x.edgeStrength,k=x.nodeSize,b=x.getMass;w.forEach(function(f,W){var X=(0,S.getEdgeTerminal)(f,"source"),z=(0,S.getEdgeTerminal)(f,"target"),U=y[X],j=y[z],V=j.x-U.x,J=j.y-U.y;V===0&&J===0&&(V=Math.random()*.01,J=Math.random()*.01);var q=Math.sqrt(V*V+J*J),et=V/q,st=J/q,ot=E(f,U,j)||1+(k(U)+k(j)||0)/2,mt=ot-q,ft=mt*D(f),Bt=T[X],St=T[z],wt=b?b(U):1,H=b?b(j):1;g[2*Bt]-=et*ft/wt,g[2*Bt+1]-=st*ft/wt,g[2*St]+=et*ft/H,g[2*St+1]+=st*ft/H})},p.prototype.calGravity=function(g,w){for(var x=this,y=x.center,T=x.gravity,E=x.degrees,D=w.length,k=0;k<D;k++){var b=w[k],f=b.x-y[0],W=b.y-y[1],X=T;if(x.getCenter){var z=x.getCenter(b,E[k].all);z&&(0,S.isNumber)(z[0])&&(0,S.isNumber)(z[1])&&(0,S.isNumber)(z[2])&&(f=b.x-z[0],W=b.y-z[1],X=z[2])}X&&(g[2*k]-=X*f,g[2*k+1]-=X*W)}},p.prototype.updateVelocity=function(g,w,x,y){var T=this,E=x*T.damping;y.forEach(function(D,k){var b=g[2*k]*E||.01,f=g[2*k+1]*E||.01,W=Math.sqrt(b*b+f*f);if(W>T.maxSpeed){var X=T.maxSpeed/W;b=X*b,f=X*f}w[2*k]=b,w[2*k+1]=f})},p.prototype.updatePosition=function(g,w,x){x.forEach(function(y,T){if((0,S.isNumber)(y.fx)&&(0,S.isNumber)(y.fy)){y.x=y.fx,y.y=y.fy;return}var E=g[2*T]*w,D=g[2*T+1]*w;y.x+=E,y.y+=D})},p.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},p.prototype.destroy=function(){var g=this;g.stop(),g.tick=null,g.nodes=null,g.edges=null,g.destroyed=!0},p.prototype.getType=function(){return"gForce"},p}(R.Base);G.GForceLayout=L},687745:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var y=function(T,E){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,k){D.__proto__=k}||function(D,k){for(var b in k)Object.prototype.hasOwnProperty.call(k,b)&&(D[b]=k[b])},y(T,E)};return function(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");y(T,E);function D(){this.constructor=T}T.prototype=E===null?Object.create(E):(D.prototype=E.prototype,new D)}}(),R=this&&this.__awaiter||function(y,T,E,D){function k(b){return b instanceof E?b:new E(function(f){f(b)})}return new(E||(E=Promise))(function(b,f){function W(U){try{z(D.next(U))}catch(j){f(j)}}function X(U){try{z(D.throw(U))}catch(j){f(j)}}function z(U){U.done?b(U.value):k(U.value).then(W,X)}z((D=D.apply(y,T||[])).next())})},S=this&&this.__generator||function(y,T){var E={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},D,k,b,f;return f={next:W(0),throw:W(1),return:W(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function W(z){return function(U){return X([z,U])}}function X(z){if(D)throw new TypeError("Generator is already executing.");for(;f&&(f=0,z[0]&&(E=0)),E;)try{if(D=1,k&&(b=z[0]&2?k.return:z[0]?k.throw||((b=k.return)&&b.call(k),0):k.next)&&!(b=b.call(k,z[1])).done)return b;switch(k=0,b&&(z=[z[0]&2,b.value]),z[0]){case 0:case 1:b=z;break;case 4:return E.label++,{value:z[1],done:!1};case 5:E.label++,k=z[1],z=[0];continue;case 7:z=E.ops.pop(),E.trys.pop();continue;default:if(b=E.trys,!(b=b.length>0&&b[b.length-1])&&(z[0]===6||z[0]===2)){E=0;continue}if(z[0]===3&&(!b||z[1]>b[0]&&z[1]<b[3])){E.label=z[1];break}if(z[0]===6&&E.label<b[1]){E.label=b[1],b=z;break}if(b&&E.label<b[2]){E.label=b[2],E.ops.push(z);break}b[2]&&E.ops.pop(),E.trys.pop();continue}z=T.call(y,E)}catch(U){z=[6,U],k=0}finally{D=b=0}if(z[0]&5)throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}};Object.defineProperty(G,"__esModule",{value:!0}),G.FruchtermanGPULayout=void 0;var M=C(762329),L=C(449784),P=C(901029),p=C(248835),g=C(108574),w=C(416470),x=function(y){m(T,y);function T(E){var D=y.call(this)||this;return D.maxIteration=1e3,D.gravity=10,D.speed=1,D.clustering=!1,D.clusterField="cluster",D.clusterGravity=10,D.workerEnabled=!1,D.nodes=[],D.edges=[],D.width=300,D.height=300,D.nodeMap={},D.nodeIdxMap={},D.updateCfg(E),D}return T.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},T.prototype.execute=function(){return R(this,void 0,void 0,function(){var E,D,k,b,f,W=this;return S(this,function(X){switch(X.label){case 0:return E=this,D=E.nodes,!D||D.length===0?(E.onLayoutEnd&&E.onLayoutEnd(),[2]):(!E.width&&typeof window!="undefined"&&(E.width=window.innerWidth),!E.height&&typeof window!="undefined"&&(E.height=window.innerHeight),E.center||(E.center=[E.width/2,E.height/2]),k=E.center,D.length===1?(D[0].x=k[0],D[0].y=k[1],E.onLayoutEnd&&E.onLayoutEnd(),[2]):(b={},f={},D.forEach(function(z,U){(0,L.isNumber)(z.x)||(z.x=Math.random()*W.width),(0,L.isNumber)(z.y)||(z.y=Math.random()*W.height),b[z.id]=z,f[z.id]=U}),E.nodeMap=b,E.nodeIdxMap=f,[4,E.run()]));case 1:return X.sent(),[2]}})})},T.prototype.executeWithWorker=function(E,D){return R(this,void 0,void 0,function(){var k,b,f,W,X,z=this;return S(this,function(U){switch(U.label){case 0:return k=this,b=k.nodes,f=k.center,!b||b.length===0?[2]:b.length===1?(b[0].x=f[0],b[0].y=f[1],[2]):(W={},X={},b.forEach(function(j,V){(0,L.isNumber)(j.x)||(j.x=Math.random()*z.width),(0,L.isNumber)(j.y)||(j.y=Math.random()*z.height),W[j.id]=j,X[j.id]=V}),k.nodeMap=W,k.nodeIdxMap=X,[4,k.run(E,D)]);case 1:return U.sent(),[2]}})})},T.prototype.run=function(E,D){return R(this,void 0,void 0,function(){var k,b,f,W,X,z,U,j,V,J,q,et,st,ot,mt,ft,Bt,St,wt,H,Q,bt,Ct,nt,dt,Tt,At=this;return S(this,function(xt){switch(xt.label){case 0:for(k=this,b=k.nodes,f=k.edges,W=k.maxIteration,X=k.center,z=k.height*k.width,U=Math.sqrt(z)/10,j=z/(b.length+1),V=Math.sqrt(j),J=k.speed,q=k.clustering,et=(0,p.attributesToTextureData)([k.clusterField],b),st=et.array,ot=et.count,b.forEach(function(Dt,Ht){var se=0,re=0;(0,L.isNumber)(Dt.fx)&&(0,L.isNumber)(Dt.fy)&&(se=Dt.fx||.001,re=Dt.fy||.001),st[4*Ht+1]=se,st[4*Ht+2]=re}),mt=b.length,ft=(0,p.buildTextureData)(b,f),Bt=ft.maxEdgePerVetex,St=ft.array,wt=k.workerEnabled,wt?H=P.World.create({canvas:E,engineOptions:{supportCompute:!0}}):H=P.World.create({engineOptions:{supportCompute:!0}}),Q=k.onLayoutEnd,bt=[],Ct=0;Ct<ot;Ct++)bt.push(0,0,0,0);return nt=H.createKernel(g.fruchtermanBundle).setDispatch([mt,1,1]).setBinding({u_Data:St,u_K:V,u_K2:j,u_Gravity:k.gravity,u_ClusterGravity:k.clusterGravity||k.gravity||1,u_Speed:J,u_MaxDisplace:U,u_Clustering:q?1:0,u_Center:X,u_AttributeArray:st,u_ClusterCenters:bt,MAX_EDGE_PER_VERTEX:Bt,VERTEX_COUNT:mt}),q&&(dt=H.createKernel(g.clusterBundle).setDispatch([ot,1,1]).setBinding({u_Data:St,u_NodeAttributes:st,u_ClusterCenters:bt,VERTEX_COUNT:mt,CLUSTER_COUNT:ot})),Tt=function(){return R(At,void 0,void 0,function(){var Dt,Ht;return S(this,function(se){switch(se.label){case 0:Dt=0,se.label=1;case 1:return Dt<W?[4,nt.execute()]:[3,6];case 2:return se.sent(),q?(dt.setBinding({u_Data:nt}),[4,dt.execute()]):[3,4];case 3:se.sent(),nt.setBinding({u_ClusterCenters:dt}),se.label=4;case 4:nt.setBinding({u_MaxDisplace:U*=.99}),se.label=5;case 5:return Dt++,[3,1];case 6:return[4,nt.getOutput()];case 7:return Ht=se.sent(),E?D.postMessage({type:w.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:Ht}):b.forEach(function(re,It){var ne=Ht[4*It],pe=Ht[4*It+1];re.x=ne,re.y=pe}),Q&&Q(),[2]}})})},[4,Tt()];case 1:return xt.sent(),[2]}})})},T.prototype.getType=function(){return"fruchterman-gpu"},T}(M.Base);G.FruchtermanGPULayout=x},108574:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.clusterBundle=G.clusterCode=G.fruchtermanBundle=G.fruchtermanCode=void 0,G.fruchtermanCode=`
import { globalInvocationID } from 'g-webgpu';
const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class Fruchterman {
  @in @out
  u_Data: vec4[];
  @in
  u_K: float;
  @in
  u_K2: float;
  
  @in
  u_Center: vec2;
  @in
  u_Gravity: float;
  @in
  u_ClusterGravity: float;
  @in
  u_Speed: float;
  @in
  u_MaxDisplace: float;
  @in
  u_Clustering: float;
  @in
  u_AttributeArray: vec4[];
  @in
  u_ClusterCenters: vec4[];
  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const xDist = currentNode[0] - nextNode[0];
        const yDist = currentNode[1] - nextNode[1];
        const dist = (xDist * xDist + yDist * yDist) + 0.01;
        let param = this.u_K2 / dist;
        
        if (dist > 0.0) {
          dx += param * xDist;
          dy += param * yDist;
          if (xDist == 0 && yDist == 0) {
            const sign = i < j ? 1 : -1;
            dx += param * sign;
            dy += param * sign;
          }
        }
      }
    }
    return [dx, dy];
  }
  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // 
    let dx = 0, dy = 0;
    const vx = currentNode[0] - this.u_Center[0];
    const vy = currentNode[1] - this.u_Center[1];
    const gf = 0.01 * this.u_K * this.u_Gravity;
    dx = gf * vx;
    dy = gf * vy;
    if (this.u_Clustering == 1) {
      const clusterIdx = int(nodeAttributes[0]);
      const center = this.u_ClusterCenters[clusterIdx];
      const cvx = currentNode[0] - center[0];
      const cvy = currentNode[1] - center[1];
      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;
      const parma = this.u_K * this.u_ClusterGravity / dist;
      dx += parma * cvx;
      dy += parma * cvy;
    }
    return [dx, dy];
  }
  calcAttractive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    const arr_offset = int(floor(currentNode[2] + 0.5));
    const length = int(floor(currentNode[3] + 0.5));
    const node_buffer: vec4;
    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + p;
      // when arr_idx % 4 == 0 update currentNodedx_buffer
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)];
      }
      const float_j = buf_offset == 0 ? node_buffer[0] :
                      buf_offset == 1 ? node_buffer[1] :
                      buf_offset == 2 ? node_buffer[2] :
                                        node_buffer[3];
      const nextNode = this.u_Data[int(float_j)];
      const xDist = currentNode[0] - nextNode[0];
      const yDist = currentNode[1] - nextNode[1];
      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;
      let attractiveF = dist / this.u_K;
    
      if (dist > 0.0) {
        dx -= xDist * attractiveF;
        dy -= yDist * attractiveF;
        if (xDist == 0 && yDist == 0) {
          const sign = i < int(float_j) ? 1 : -1;
          dx -= sign * attractiveF;
          dy -= sign * attractiveF;
        }
      }
    }
    return [dx, dy];
  }
  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    let dx = 0, dy = 0;
    if (i >= VERTEX_COUNT) {
      this.u_Data[i] = currentNode;
      return;
    }

    // [gravity, fx, fy, 0]
    const nodeAttributes = this.u_AttributeArray[i];

    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {
      // the node is fixed
      this.u_Data[i] = [
        nodeAttributes[1],
        nodeAttributes[2],
        currentNode[2],
        currentNode[3]
      ];
      return;
    }

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    dx += repulsive[0];
    dy += repulsive[1];
    // attractive
    const attractive = this.calcAttractive(i, currentNode);
    dx += attractive[0];
    dy += attractive[1];
    // gravity
    const gravity = this.calcGravity(currentNode, nodeAttributes);
    dx -= gravity[0];
    dy -= gravity[1];
    // speed
    dx *= this.u_Speed;
    dy *= this.u_Speed;

    // move
    const distLength = sqrt(dx * dx + dy * dy);
    if (distLength > 0.0) {
      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);
      this.u_Data[i] = [
        currentNode[0] + dx / distLength * limitedDist,
        currentNode[1] + dy / distLength * limitedDist,
        currentNode[2],
        currentNode[3]
      ];
    }
  }
}
`,G.fruchtermanBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',G.clusterCode=`
import { globalInvocationID } from 'g-webgpu';
const VERTEX_COUNT;
const CLUSTER_COUNT;
@numthreads(1, 1, 1)
class CalcCenter {
  @in
  u_Data: vec4[];
  @in
  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]
  @in @out
  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]
  @main
  compute() {
    const i = globalInvocationID.x;
    const center = this.u_ClusterCenters[i];
    let sumx = 0;
    let sumy = 0;
    let count = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      const attributes = this.u_NodeAttributes[j];
      const clusterIdx = int(attributes[0]);
      const vertex = this.u_Data[j];
      if (clusterIdx == i) {
        sumx += vertex.x;
        sumy += vertex.y;
        count += 1;
      }
    }
    this.u_ClusterCenters[i] = [
      sumx / count,
      sumy / count,
      count,
      i
    ];
  }
}
`,G.clusterBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},785194:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var T=function(E,D){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,b){k.__proto__=b}||function(k,b){for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&(k[f]=b[f])},T(E,D)};return function(E,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");T(E,D);function k(){this.constructor=E}E.prototype=D===null?Object.create(D):(k.prototype=D.prototype,new k)}}(),R=this&&this.__awaiter||function(T,E,D,k){function b(f){return f instanceof D?f:new D(function(W){W(f)})}return new(D||(D=Promise))(function(f,W){function X(j){try{U(k.next(j))}catch(V){W(V)}}function z(j){try{U(k.throw(j))}catch(V){W(V)}}function U(j){j.done?f(j.value):b(j.value).then(X,z)}U((k=k.apply(T,E||[])).next())})},S=this&&this.__generator||function(T,E){var D={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},k,b,f,W;return W={next:X(0),throw:X(1),return:X(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function X(U){return function(j){return z([U,j])}}function z(U){if(k)throw new TypeError("Generator is already executing.");for(;W&&(W=0,U[0]&&(D=0)),D;)try{if(k=1,b&&(f=U[0]&2?b.return:U[0]?b.throw||((f=b.return)&&f.call(b),0):b.next)&&!(f=f.call(b,U[1])).done)return f;switch(b=0,f&&(U=[U[0]&2,f.value]),U[0]){case 0:case 1:f=U;break;case 4:return D.label++,{value:U[1],done:!1};case 5:D.label++,b=U[1],U=[0];continue;case 7:U=D.ops.pop(),D.trys.pop();continue;default:if(f=D.trys,!(f=f.length>0&&f[f.length-1])&&(U[0]===6||U[0]===2)){D=0;continue}if(U[0]===3&&(!f||U[1]>f[0]&&U[1]<f[3])){D.label=U[1];break}if(U[0]===6&&D.label<f[1]){D.label=f[1],f=U;break}if(f&&D.label<f[2]){D.label=f[2],D.ops.push(U);break}f[2]&&D.ops.pop(),D.trys.pop();continue}U=E.call(T,D)}catch(j){U=[6,j],b=0}finally{k=f=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}};Object.defineProperty(G,"__esModule",{value:!0}),G.GForceGPULayout=void 0;var M=C(762329),L=C(449784),P=C(901029),p=C(248835),g=C(280628),w=C(549762),x=C(416470),y=function(T){m(E,T);function E(D){var k=T.call(this)||this;return k.maxIteration=1e3,k.edgeStrength=200,k.nodeStrength=1e3,k.coulombDisScale=.005,k.damping=.9,k.maxSpeed=1e3,k.minMovement=.5,k.interval=.02,k.factor=1,k.linkDistance=1,k.gravity=10,k.workerEnabled=!1,k.nodes=[],k.edges=[],k.width=300,k.height=300,k.nodeMap={},k.nodeIdxMap={},k.updateCfg(D),k}return E.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},E.prototype.execute=function(){return R(this,void 0,void 0,function(){var D,k,b,f,W;return S(this,function(X){switch(X.label){case 0:return D=this,k=D.nodes,!k||k.length===0?(D.onLayoutEnd&&D.onLayoutEnd(),[2]):(!D.width&&typeof window!="undefined"&&(D.width=window.innerWidth),!D.height&&typeof window!="undefined"&&(D.height=window.innerHeight),D.center||(D.center=[D.width/2,D.height/2]),b=D.center,k.length===1?(k[0].x=b[0],k[0].y=b[1],D.onLayoutEnd&&D.onLayoutEnd(),[2]):(f={},W={},k.forEach(function(z,U){(0,L.isNumber)(z.x)||(z.x=Math.random()*D.width),(0,L.isNumber)(z.y)||(z.y=Math.random()*D.height),f[z.id]=z,W[z.id]=U}),D.nodeMap=f,D.nodeIdxMap=W,D.nodeStrength=(0,p.proccessToFunc)(D.nodeStrength,1),D.edgeStrength=(0,p.proccessToFunc)(D.edgeStrength,1),[4,D.run()]));case 1:return X.sent(),[2]}})})},E.prototype.executeWithWorker=function(D,k){var b=this,f=b.nodes,W=b.center;if(!(!f||f.length===0)){if(f.length===1){f[0].x=W[0],f[0].y=W[1];return}var X={},z={};f.forEach(function(U,j){(0,L.isNumber)(U.x)||(U.x=Math.random()*b.width),(0,L.isNumber)(U.y)||(U.y=Math.random()*b.height),X[U.id]=U,z[U.id]=j}),b.nodeMap=X,b.nodeIdxMap=z,b.nodeStrength=(0,p.proccessToFunc)(b.nodeStrength,1),b.edgeStrength=(0,p.proccessToFunc)(b.edgeStrength,1),b.run(D,k)}},E.prototype.run=function(D,k){return R(this,void 0,void 0,function(){var b,f,W,X,z,U,j,V,J,q,et,st,ot,mt,ft,Bt,St,wt,H,Q,bt,Ct,nt,dt,Tt,At,xt,Dt=this;return S(this,function(Ht){switch(Ht.label){case 0:for(b=this,f=b.nodes,W=b.edges,X=b.maxIteration,!b.width&&typeof window!="undefined"&&(b.width=window.innerWidth),!b.height&&typeof window!="undefined"&&(b.height=window.innerHeight),z=f.length,b.linkDistance=(0,p.proccessToFunc)(b.linkDistance),b.edgeStrength=(0,p.proccessToFunc)(b.edgeStrength),U=(0,p.buildTextureDataWithTwoEdgeAttr)(f,W,b.linkDistance,b.edgeStrength),j=U.maxEdgePerVetex,V=U.array,b.degrees=(0,g.getDegree)(f.length,b.nodeIdxMap,W).map(function(se){return se.all}),J=[],q=[],et=[],st=[],ot=[],mt=[],ft=[],b.getMass||(b.getMass=function(se){return b.degrees[b.nodeIdxMap[se.id]]||1}),Bt=b.gravity,St=b.center,f.forEach(function(se,re){J.push(b.getMass(se)),q.push(b.nodeStrength(se)),b.degrees[re]||(b.degrees[re]=0);var It=[St[0],St[1],Bt];if(b.getCenter){var ne=b.getCenter(se,b.degrees[re]);ne&&(0,L.isNumber)(ne[0])&&(0,L.isNumber)(ne[1])&&(0,L.isNumber)(ne[2])&&(It=ne)}et.push(It[0]),st.push(It[1]),ot.push(It[2]),(0,L.isNumber)(se.fx)&&(0,L.isNumber)(se.fy)?(mt.push(se.fx||.001),ft.push(se.fy||.001)):(mt.push(0),ft.push(0))}),wt=(0,p.arrayToTextureData)([J,b.degrees,q,mt]),H=(0,p.arrayToTextureData)([et,st,ot,ft]),Q=b.workerEnabled,Q?bt=P.World.create({canvas:D,engineOptions:{supportCompute:!0}}):bt=P.World.create({engineOptions:{supportCompute:!0}}),Ct=b.onLayoutEnd,nt=[],V.forEach(function(se){nt.push(se)}),dt=0;dt<4;dt++)nt.push(0);return Tt=bt.createKernel(w.gForceBundle).setDispatch([z,1,1]).setBinding({u_Data:V,u_damping:b.damping,u_maxSpeed:b.maxSpeed,u_minMovement:b.minMovement,u_coulombDisScale:b.coulombDisScale,u_factor:b.factor,u_NodeAttributeArray1:wt,u_NodeAttributeArray2:H,MAX_EDGE_PER_VERTEX:j,VERTEX_COUNT:z,u_AveMovement:nt,u_interval:b.interval}),At=bt.createKernel(w.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:V,VERTEX_COUNT:z,u_AveMovement:[0,0,0,0]}),xt=function(){return R(Dt,void 0,void 0,function(){var se,re,It;return S(this,function(ne){switch(ne.label){case 0:se=0,ne.label=1;case 1:return se<X?[4,Tt.execute()]:[3,5];case 2:return ne.sent(),At.setBinding({u_Data:Tt}),[4,At.execute()];case 3:ne.sent(),re=Math.max(.02,b.interval-se*.002),Tt.setBinding({u_interval:re,u_AveMovement:At}),ne.label=4;case 4:return se++,[3,1];case 5:return[4,Tt.getOutput()];case 6:return It=ne.sent(),D?k.postMessage({type:x.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:It}):f.forEach(function(pe,Wt){var Jt=It[4*Wt],$t=It[4*Wt+1];pe.x=Jt,pe.y=$t}),Ct&&Ct(),[2]}})})},[4,xt()];case 1:return Ht.sent(),[2]}})})},E.prototype.getType=function(){return"gForce-gpu"},E}(M.Base);G.GForceGPULayout=y},549762:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.aveMovementBundle=G.aveMovementCode=G.gForceBundle=G.gForceCode=void 0,G.gForceCode=`
import { globalInvocationID } from 'g-webgpu';

const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
const SHIFT_20 = 1048576;

@numthreads(1, 1, 1)
class GGForce {
  @in @out
  u_Data: vec4[];

  @in
  u_damping: float;
  
  @in
  u_maxSpeed: float;

  @in
  u_minMovement: float;

  @in
  u_AveMovement: vec4[];

  @in
  u_coulombDisScale: float;

  @in
  u_factor: float;

  @in
  u_NodeAttributeArray1: vec4[];

  @in
  u_NodeAttributeArray2: vec4[];

  @in
  u_interval: float;

  unpack_float(packedValue: float): ivec2 {
    const packedIntValue = int(packedValue);
    const v0 = packedIntValue / SHIFT_20;
    return [v0, packedIntValue - v0 * SHIFT_20];
  }

  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let ax = 0, ay = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const vx = currentNode[0] - nextNode[0];
        const vy = currentNode[1] - nextNode[1];
        const dist = sqrt(vx * vx + vy * vy) + 0.01;
        const n_dist = (dist + 0.1) * this.u_coulombDisScale;
        const direx = vx / dist;
        const direy = vy / dist;
        const attributesi = this.u_NodeAttributeArray1[i];
        const attributesj = this.u_NodeAttributeArray1[j];
        const massi = attributesi[0];
        const nodeStrengthi = attributesi[2];
        const nodeStrengthj = attributesj[2];
        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;
        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);
        const param = nodeStrength * this.u_factor / (n_dist * n_dist);
        ax += direx * param;
        ay += direy * param;
      }
    }
    return [ax, ay];
  }

  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {
    // note: attributes2 = [centerX, centerY, gravity, 0]

    const vx = currentNode[0] - attributes2[0];
    const vy = currentNode[1] - attributes2[1];
    
    const ax = vx * attributes2[2];
    const ay = vy * attributes2[2];
    
    return [ax, ay];
  }

  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {
    // note: attributes1 = [mass, degree, nodeSterngth, 0]

    const mass = attributes1[0];
    let ax = 0, ay = 0;
    // const arr_offset = int(floor(currentNode[2] + 0.5));
    // const length = int(floor(currentNode[3] + 0.5));

    const compressed = this.unpack_float(currentNode[2]);
    const length = compressed[0];
    const arr_offset = compressed[1];

    const node_buffer: vec4;
    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + 4 * p; // i \u8282\u70B9\u7684\u7B2C p \u6761\u8FB9\u5F00\u59CB\u7684\u5C0F\u683C\u5B50\u4F4D\u7F6E
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683C\u5B50\uFF0C\u5927\u683C\u5B50\u4F4D\u7F6E=\u5C0F\u4E2A\u5B50\u4F4D\u7F6E / 4\uFF0C
      }

      let float_j: float = node_buffer[0];

      const nextNode = this.u_Data[int(float_j)];
      const vx = nextNode[0] - currentNode[0];
      const vy = nextNode[1] - currentNode[1];
      const dist = sqrt(vx * vx + vy * vy) + 0.01;
      const direx = vx / dist;
      const direy = vy / dist;
      const edgeLength = node_buffer[1];
      const edgeStrength = node_buffer[2];
      const diff: float = edgeLength - dist;//edgeLength
      // const param = diff * this.u_stiffness / mass; //
      const param = diff * edgeStrength / mass; // 
      ax -= direx * param;
      ay -= direy * param;
    }
    return [ax, ay];
  }

  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    const movement = u_AveMovement[0];
    let ax = 0, ay = 0;

    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {
      this.u_Data[i] = currentNode;
      return;
    }

    // \u6BCF\u4E2A\u8282\u70B9\u5C5E\u6027\u5360\u4E24\u4E2A\u6570\u7EC4\u4E2D\u5404\u4E00\u683C
    // [mass, degree, nodeStrength, fx]
    const nodeAttributes1 = this.u_NodeAttributeArray1[i];
    // [centerX, centerY, centerGravity, fy]
    const nodeAttributes2 = this.u_NodeAttributeArray2[i];

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    ax += repulsive[0];
    ay += repulsive[1];

    // attractive
    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);
    ax += attractive[0];
    ay += attractive[1];

    // gravity
    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);
    ax -= gravity[0];
    ay -= gravity[1];

    // speed
    const param = this.u_interval * this.u_damping;
    let vx = ax * param;
    let vy = ay * param;
    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;
    if (vlength > this.u_maxSpeed) {
      const param2 = this.u_maxSpeed / vlength;
      vx = param2 * vx;
      vy = param2 * vy;
    }

    // move
    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {
      this.u_Data[i] = [
        nodeAttributes1[3],
        nodeAttributes2[3],
        currentNode[2],
        0
      ];
    } else {
      const distx = vx * this.u_interval;
      const disty = vy * this.u_interval;
      const distLength = sqrt(distx * distx + disty * disty);
      this.u_Data[i] = [
        currentNode[0] + distx,
        currentNode[1] + disty,
        currentNode[2],
        distLength
      ];
    }
    
    // the avarage move distance
    // need to share memory
    
  }
}
`,G.gForceBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {float distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',G.aveMovementCode=`
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class CalcAveMovement {
  @in
  u_Data: vec4[];
  @in
  u_iter: float;
  @in @out
  u_AveMovement: vec4[];
  @main
  compute() {
    let movement = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      const vertex = this.u_Data[j];
      movement += vertex[3];
    }
    movement = movement / float(VERTEX_COUNT);
    this.u_AveMovement[0] = [movement, 0, 0, 0];
  }
}
`,G.aveMovementBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},694414:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var L=function(P,p){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(g[x]=w[x])},L(P,p)};return function(P,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");L(P,p);function g(){this.constructor=P}P.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(G,"__esModule",{value:!0}),G.GridLayout=void 0;var R=C(449784),S=C(762329),M=function(L){m(P,L);function P(p){var g=L.call(this)||this;return g.begin=[0,0],g.preventOverlap=!0,g.preventOverlapPadding=10,g.condense=!1,g.sortBy="degree",g.nodes=[],g.edges=[],g.width=300,g.height=300,g.row=0,g.col=0,g.cellWidth=0,g.cellHeight=0,g.cellUsed={},g.id2manPos={},g.onLayoutEnd=function(){},g.updateCfg(p),g}return P.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},P.prototype.execute=function(){var p=this,g=p.nodes,w=p.edges,x=p.begin,y=g.length;if(y===0)return p.onLayoutEnd&&p.onLayoutEnd(),{nodes:g,edges:w};if(y===1)return g[0].x=x[0],g[0].y=x[1],p.onLayoutEnd&&p.onLayoutEnd(),{nodes:g,edges:w};var T=p.sortBy,E=p.width,D=p.height,k=p.condense,b=p.preventOverlapPadding,f=p.preventOverlap,W=p.nodeSpacing,X=p.nodeSize,z=[];g.forEach(function(wt){z.push(wt)});var U={};if(z.forEach(function(wt,H){U[wt.id]=H}),(T==="degree"||!(0,R.isString)(T)||z[0][T]===void 0)&&(T="degree",(0,R.isNaN)(g[0].degree))){var j=(0,R.getDegree)(z.length,U,w);z.forEach(function(wt,H){wt.degree=j[H].all})}z.sort(function(wt,H){return H[T]-wt[T]}),!E&&typeof window!="undefined"&&(E=window.innerWidth),!D&&typeof window!="undefined"&&(D=window.innerHeight);var V=p.rows,J=p.cols!=null?p.cols:p.columns;if(p.cells=y,V!=null&&J!=null?(p.rows=V,p.cols=J):V!=null&&J==null?(p.rows=V,p.cols=Math.ceil(p.cells/p.rows)):V==null&&J!=null?(p.cols=J,p.rows=Math.ceil(p.cells/p.cols)):(p.splits=Math.sqrt(p.cells*p.height/p.width),p.rows=Math.round(p.splits),p.cols=Math.round(p.width/p.height*p.splits)),p.rows=Math.max(p.rows,1),p.cols=Math.max(p.cols,1),p.cols*p.rows>p.cells){var q=p.small(),et=p.large();(q-1)*et>=p.cells?p.small(q-1):(et-1)*q>=p.cells&&p.large(et-1)}else for(;p.cols*p.rows<p.cells;){var q=p.small(),et=p.large();(et+1)*q>=p.cells?p.large(et+1):p.small(q+1)}if(p.cellWidth=E/p.cols,p.cellHeight=D/p.rows,k&&(p.cellWidth=0,p.cellHeight=0),f||W){var st=(0,R.getFuncByUnknownType)(10,W),ot=(0,R.getFuncByUnknownType)(30,X,!1);z.forEach(function(wt){(!wt.x||!wt.y)&&(wt.x=0,wt.y=0);var H=ot(wt)||30,Q,bt;(0,R.isArray)(H)?(Q=H[0],bt=H[1]):(Q=H,bt=H);var Ct=st!==void 0?st(wt):b,nt=Q+Ct,dt=bt+Ct;p.cellWidth=Math.max(p.cellWidth,nt),p.cellHeight=Math.max(p.cellHeight,dt)})}p.cellUsed={},p.row=0,p.col=0,p.id2manPos={};for(var mt=0;mt<z.length;mt++){var ft=z[mt],Bt=void 0;if(p.position&&(Bt=p.position(ft)),Bt&&(Bt.row!==void 0||Bt.col!==void 0)){var St={row:Bt.row,col:Bt.col};if(St.col===void 0)for(St.col=0;p.used(St.row,St.col);)St.col++;else if(St.row===void 0)for(St.row=0;p.used(St.row,St.col);)St.row++;p.id2manPos[ft.id]=St,p.use(St.row,St.col)}p.getPos(ft)}return p.onLayoutEnd&&p.onLayoutEnd(),{edges:w,nodes:z}},P.prototype.small=function(p){var g=this,w,x=g.rows||5,y=g.cols||5;if(p==null)w=Math.min(x,y);else{var T=Math.min(x,y);T===g.rows?g.rows=p:g.cols=p}return w},P.prototype.large=function(p){var g=this,w,x=g.rows||5,y=g.cols||5;if(p==null)w=Math.max(x,y);else{var T=Math.max(x,y);T===g.rows?g.rows=p:g.cols=p}return w},P.prototype.used=function(p,g){var w=this;return w.cellUsed["c-".concat(p,"-").concat(g)]||!1},P.prototype.use=function(p,g){var w=this;w.cellUsed["c-".concat(p,"-").concat(g)]=!0},P.prototype.moveToNextCell=function(){var p=this,g=p.cols||5;p.col++,p.col>=g&&(p.col=0,p.row++)},P.prototype.getPos=function(p){var g=this,w=g.begin,x=g.cellWidth,y=g.cellHeight,T,E,D=g.id2manPos[p.id];if(D)T=D.col*x+x/2+w[0],E=D.row*y+y/2+w[1];else{for(;g.used(g.row,g.col);)g.moveToNextCell();T=g.col*x+x/2+w[0],E=g.row*y+y/2+w[1],g.use(g.row,g.col),g.moveToNextCell()}p.x=T,p.y=E},P.prototype.getType=function(){return"grid"},P}(S.Base);G.GridLayout=M},702584:function(ze,G,C){"use strict";var m=this&&this.__createBinding||(Object.create?function(j,V,J,q){q===void 0&&(q=J);var et=Object.getOwnPropertyDescriptor(V,J);(!et||("get"in et?!V.__esModule:et.writable||et.configurable))&&(et={enumerable:!0,get:function(){return V[J]}}),Object.defineProperty(j,q,et)}:function(j,V,J,q){q===void 0&&(q=J),j[q]=V[J]}),R=this&&this.__exportStar||function(j,V){for(var J in j)J!=="default"&&!Object.prototype.hasOwnProperty.call(V,J)&&m(V,j,J)};Object.defineProperty(G,"__esModule",{value:!0}),G.ERLayout=G.ForceAtlas2Layout=G.ComboCombinedLayout=G.ComboForceLayout=G.GForceGPULayout=G.FruchtermanGPULayout=G.FruchtermanLayout=G.MDSLayout=G.ConcentricLayout=G.RadialLayout=G.DagreCompoundLayout=G.DagreLayout=G.CircularLayout=G.ForceLayout=G.Force2Layout=G.GForceLayout=G.RandomLayout=G.GridLayout=G.Layouts=G.Layout=void 0;var S=C(694414);Object.defineProperty(G,"GridLayout",{enumerable:!0,get:function(){return S.GridLayout}});var M=C(539711);Object.defineProperty(G,"RandomLayout",{enumerable:!0,get:function(){return M.RandomLayout}});var L=C(113653);Object.defineProperty(G,"GForceLayout",{enumerable:!0,get:function(){return L.GForceLayout}});var P=C(306740);Object.defineProperty(G,"Force2Layout",{enumerable:!0,get:function(){return P.Force2Layout}});var p=C(885717);Object.defineProperty(G,"ForceLayout",{enumerable:!0,get:function(){return p.ForceLayout}});var g=C(964885);Object.defineProperty(G,"CircularLayout",{enumerable:!0,get:function(){return g.CircularLayout}});var w=C(920171);Object.defineProperty(G,"DagreLayout",{enumerable:!0,get:function(){return w.DagreLayout}});var x=C(177057);Object.defineProperty(G,"DagreCompoundLayout",{enumerable:!0,get:function(){return x.DagreCompoundLayout}});var y=C(847944);Object.defineProperty(G,"RadialLayout",{enumerable:!0,get:function(){return y.RadialLayout}});var T=C(843281);Object.defineProperty(G,"ConcentricLayout",{enumerable:!0,get:function(){return T.ConcentricLayout}});var E=C(352899);Object.defineProperty(G,"MDSLayout",{enumerable:!0,get:function(){return E.MDSLayout}});var D=C(880374);Object.defineProperty(G,"FruchtermanLayout",{enumerable:!0,get:function(){return D.FruchtermanLayout}});var k=C(687745);Object.defineProperty(G,"FruchtermanGPULayout",{enumerable:!0,get:function(){return k.FruchtermanGPULayout}});var b=C(785194);Object.defineProperty(G,"GForceGPULayout",{enumerable:!0,get:function(){return b.GForceGPULayout}});var f=C(366590);Object.defineProperty(G,"ComboForceLayout",{enumerable:!0,get:function(){return f.ComboForceLayout}});var W=C(263861);Object.defineProperty(G,"ComboCombinedLayout",{enumerable:!0,get:function(){return W.ComboCombinedLayout}});var X=C(148564);Object.defineProperty(G,"ForceAtlas2Layout",{enumerable:!0,get:function(){return X.ForceAtlas2Layout}});var z=C(290441);Object.defineProperty(G,"ERLayout",{enumerable:!0,get:function(){return z.ERLayout}});var U=C(842875);Object.defineProperty(G,"Layout",{enumerable:!0,get:function(){return U.Layout}}),Object.defineProperty(G,"Layouts",{enumerable:!0,get:function(){return U.Layouts}}),R(C(932867),G)},842875:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.Layouts=G.Layout=void 0;var m=C(695326),R=C(694414),S=C(539711),M=C(306740),L=C(113653),P=C(885717),p=C(964885),g=C(920171),w=C(847944),x=C(843281),y=C(352899),T=C(880374),E=C(687745),D=C(785194),k=C(366590),b=C(263861),f=C(148564),W=C(290441),X=C(177057),z=C(449784),U=function(){function j(V){var J=(0,m.getLayoutByName)(V.type);this.layoutInstance=new J(V)}return j.prototype.layout=function(V){return this.layoutInstance.layout(V)},j.prototype.updateCfg=function(V){this.layoutInstance.updateCfg(V)},j.prototype.init=function(V){this.correctLayers(V.nodes),this.layoutInstance.init(V)},j.prototype.correctLayers=function(V){if(V!=null&&V.length){var J=1/0,q=[];if(V.forEach(function(st){(0,z.isString)(st.layer)&&(st.layer=parseInt(st.layer,10)),!(st.layer===void 0||isNaN(st.layer))&&(q.push(st),st.layer<J&&(J=st.layer))}),J<=0){var et=Math.abs(J)+1;q.forEach(function(st){return st.layer+=et})}}},j.prototype.execute=function(){this.layoutInstance.execute()},j.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},j.prototype.destroy=function(){return this.layoutInstance.destroy()},j}();G.Layout=U,G.Layouts={force:P.ForceLayout,fruchterman:T.FruchtermanLayout,forceAtlas2:f.ForceAtlas2Layout,gForce:L.GForceLayout,force2:M.Force2Layout,dagre:g.DagreLayout,dagreCompound:X.DagreCompoundLayout,circular:p.CircularLayout,radial:w.RadialLayout,concentric:x.ConcentricLayout,grid:R.GridLayout,mds:y.MDSLayout,comboForce:k.ComboForceLayout,comboCombined:b.ComboCombinedLayout,random:S.RandomLayout,"gForce-gpu":D.GForceGPULayout,"fruchterman-gpu":E.FruchtermanGPULayout,er:W.ERLayout}},352899:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var P=function(p,g){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,x){w.__proto__=x}||function(w,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(w[y]=x[y])},P(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");P(p,g);function w(){this.constructor=p}p.prototype=g===null?Object.create(g):(w.prototype=g.prototype,new w)}}();Object.defineProperty(G,"__esModule",{value:!0}),G.MDSLayout=void 0;var R=C(405237),S=C(449784),M=C(762329),L=function(P){m(p,P);function p(g){var w=P.call(this)||this;return w.center=[0,0],w.linkDistance=50,w.nodes=[],w.edges=[],w.onLayoutEnd=function(){},w.updateCfg(g),w}return p.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},p.prototype.execute=function(){var g=this,w=g.nodes,x=g.edges,y=x===void 0?[]:x,T=g.center;if(!w||w.length===0){g.onLayoutEnd&&g.onLayoutEnd();return}if(w.length===1){w[0].x=T[0],w[0].y=T[1],g.onLayoutEnd&&g.onLayoutEnd();return}var E=g.linkDistance,D=(0,S.getAdjMatrix)({nodes:w,edges:y},!1),k=(0,S.floydWarshall)(D);g.handleInfinity(k);var b=(0,S.scaleMatrix)(k,E);g.scaledDistances=b;var f=g.runMDS();return g.positions=f,f.forEach(function(W,X){w[X].x=W[0]+T[0],w[X].y=W[1]+T[1]}),g.onLayoutEnd&&g.onLayoutEnd(),{nodes:w,edges:y}},p.prototype.runMDS=function(){var g=this,w=2,x=g.scaledDistances,y=R.Matrix.mul(R.Matrix.pow(x,2),-.5),T=y.mean("row"),E=y.mean("column"),D=y.mean();y.add(D).subRowVector(T).subColumnVector(E);var k=new R.SingularValueDecomposition(y),b=R.Matrix.sqrt(k.diagonalMatrix).diagonal();return k.leftSingularVectors.toJSON().map(function(f){return R.Matrix.mul([f],[b]).toJSON()[0].splice(0,w)})},p.prototype.handleInfinity=function(g){var w=-999999;g.forEach(function(x){x.forEach(function(y){y!==1/0&&w<y&&(w=y)})}),g.forEach(function(x,y){x.forEach(function(T,E){T===1/0&&(g[y][E]=w)})})},p.prototype.getType=function(){return"mds"},p}(M.Base);G.MDSLayout=L},847944:function(ze,G,C){"use strict";var m=this&&this.__createBinding||(Object.create?function(S,M,L,P){P===void 0&&(P=L);var p=Object.getOwnPropertyDescriptor(M,L);(!p||("get"in p?!M.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return M[L]}}),Object.defineProperty(S,P,p)}:function(S,M,L,P){P===void 0&&(P=L),S[P]=M[L]}),R=this&&this.__exportStar||function(S,M){for(var L in S)L!=="default"&&!Object.prototype.hasOwnProperty.call(M,L)&&m(M,S,L)};Object.defineProperty(G,"__esModule",{value:!0}),R(C(255974),G)},366082:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var m=C(405237),R=function(){function S(M){this.distances=M.distances,this.dimension=M.dimension||2,this.linkDistance=M.linkDistance}return S.prototype.layout=function(){var M=this,L=M.dimension,P=M.distances,p=M.linkDistance;try{var g=m.Matrix.mul(m.Matrix.pow(P,2),-.5),w=g.mean("row"),x=g.mean("column"),y=g.mean();g.add(y).subRowVector(w).subColumnVector(x);var T=new m.SingularValueDecomposition(g),E=m.Matrix.sqrt(T.diagonalMatrix).diagonal();return T.leftSingularVectors.toJSON().map(function(W){return m.Matrix.mul([W],[E]).toJSON()[0].splice(0,L)})}catch(W){for(var D=[],k=0;k<P.length;k++){var b=Math.random()*p,f=Math.random()*p;D.push([b,f])}return D}},S}();G.default=R},255974:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var y=function(T,E){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,k){D.__proto__=k}||function(D,k){for(var b in k)Object.prototype.hasOwnProperty.call(k,b)&&(D[b]=k[b])},y(T,E)};return function(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");y(T,E);function D(){this.constructor=T}T.prototype=E===null?Object.create(E):(D.prototype=E.prototype,new D)}}(),R=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(G,"__esModule",{value:!0}),G.RadialLayout=void 0;var S=C(449784),M=C(762329),L=R(C(366082)),P=R(C(706290));function p(y){for(var T=y.length,E=y[0].length,D=[],k=0;k<T;k++){for(var b=[],f=0;f<E;f++)y[k][f]!==0?b.push(1/(y[k][f]*y[k][f])):b.push(0);D.push(b)}return D}function g(y,T){var E=-1;return y.forEach(function(D,k){D.id===T&&(E=k)}),E}function w(y,T){return Math.sqrt((y[0]-T[0])*(y[0]-T[0])+(y[1]-T[1])*(y[1]-T[1]))}var x=function(y){m(T,y);function T(E){var D=y.call(this)||this;return D.maxIteration=1e3,D.focusNode=null,D.unitRadius=null,D.linkDistance=50,D.preventOverlap=!1,D.strictRadial=!0,D.maxPreventOverlapIteration=200,D.sortStrength=10,D.nodes=[],D.edges=[],D.updateCfg(E),D}return T.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},T.prototype.execute=function(){var E=this,D=E.nodes,k=E.edges||[];if(!D||D.length===0){E.onLayoutEnd&&E.onLayoutEnd();return}!E.width&&typeof window!="undefined"&&(E.width=window.innerWidth),!E.height&&typeof window!="undefined"&&(E.height=window.innerHeight),E.center||(E.center=[E.width/2,E.height/2]);var b=E.center;if(D.length===1){D[0].x=b[0],D[0].y=b[1],E.onLayoutEnd&&E.onLayoutEnd();return}var f=E.linkDistance,W=null;if((0,S.isString)(E.focusNode)){for(var X=!1,z=0;z<D.length;z++)D[z].id===E.focusNode&&(W=D[z],E.focusNode=W,X=!0,z=D.length);X||(W=null)}else W=E.focusNode;W||(W=D[0],E.focusNode=W);var U=g(D,W.id);U<0&&(U=0),E.focusIndex=U;var j=(0,S.getAdjMatrix)({nodes:D,edges:k},!1),V=(0,S.floydWarshall)(j),J=E.maxToFocus(V,U);E.handleInfinity(V,U,J+1),E.distances=V;var q=V[U],et=E.width||500,st=E.height||500,ot=et-b[0]>b[0]?b[0]:et-b[0],mt=st-b[1]>b[1]?b[1]:st-b[1];ot===0&&(ot=et/2),mt===0&&(mt=st/2);var ft=mt>ot?ot:mt,Bt=Math.max.apply(Math,q),St=[];q.forEach(function(se,re){E.unitRadius||(E.unitRadius=ft/Bt),St[re]=se*E.unitRadius}),E.radii=St;var wt=E.eIdealDisMatrix();E.eIdealDistances=wt;var H=p(wt);E.weights=H;var Q=new L.default({linkDistance:f,distances:wt}),bt=Q.layout();bt.forEach(function(se){(0,S.isNaN)(se[0])&&(se[0]=Math.random()*f),(0,S.isNaN)(se[1])&&(se[1]=Math.random()*f)}),E.positions=bt,bt.forEach(function(se,re){D[re].x=se[0]+b[0],D[re].y=se[1]+b[1]}),bt.forEach(function(se){se[0]-=bt[U][0],se[1]-=bt[U][1]}),E.run();var Ct=E.preventOverlap,nt=E.nodeSize,dt,Tt=E.strictRadial;if(Ct){var At=E.nodeSpacing,xt;(0,S.isNumber)(At)?xt=function(){return At}:(0,S.isFunction)(At)?xt=At:xt=function(){return 0},nt?(0,S.isArray)(nt)?dt=function(se){var re=nt[0]>nt[1]?nt[0]:nt[1];return re+xt(se)}:dt=function(se){return nt+xt(se)}:dt=function(se){if(se.size){if((0,S.isArray)(se.size)){var re=se.size[0]>se.size[1]?se.size[0]:se.size[1];return re+xt(se)}if((0,S.isObject)(se.size)){var re=se.size.width>se.size.height?se.size.width:se.size.height;return re+xt(se)}return se.size+xt(se)}return 10+xt(se)};var Dt={nodes:D,nodeSizeFunc:dt,adjMatrix:j,positions:bt,radii:St,height:st,width:et,strictRadial:Tt,focusID:U,iterations:E.maxPreventOverlapIteration||200,k:bt.length/4.5},Ht=new P.default(Dt);bt=Ht.layout()}return bt.forEach(function(se,re){D[re].x=se[0]+b[0],D[re].y=se[1]+b[1]}),E.onLayoutEnd&&E.onLayoutEnd(),{nodes:D,edges:k}},T.prototype.run=function(){for(var E=this,D=E.maxIteration,k=E.positions||[],b=E.weights||[],f=E.eIdealDistances||[],W=E.radii||[],X=0;X<=D;X++){var z=X/D;E.oneIteration(z,k,W,f,b)}},T.prototype.oneIteration=function(E,D,k,b,f){var W=this,X=1-E,z=W.focusIndex;D.forEach(function(U,j){var V=w(U,[0,0]),J=V===0?0:1/V;if(j!==z){var q=0,et=0,st=0;D.forEach(function(mt,ft){if(j!==ft){var Bt=w(U,mt),St=Bt===0?0:1/Bt,wt=b[ft][j];st+=f[j][ft],q+=f[j][ft]*(mt[0]+wt*(U[0]-mt[0])*St),et+=f[j][ft]*(mt[1]+wt*(U[1]-mt[1])*St)}});var ot=k[j]===0?0:1/k[j];st*=X,st+=E*ot*ot,q*=X,q+=E*ot*U[0]*J,U[0]=q/st,et*=X,et+=E*ot*U[1]*J,U[1]=et/st}})},T.prototype.eIdealDisMatrix=function(){var E=this,D=E.nodes;if(!D)return[];var k=E.distances,b=E.linkDistance,f=E.radii||[],W=E.unitRadius||50,X=[];return k&&k.forEach(function(z,U){var j=[];z.forEach(function(V,J){if(U===J)j.push(0);else if(f[U]===f[J])if(E.sortBy==="data")j.push(V*(Math.abs(U-J)*E.sortStrength)/(f[U]/W));else if(E.sortBy){var q=D[U][E.sortBy]||0,et=D[J][E.sortBy]||0;(0,S.isString)(q)&&(q=q.charCodeAt(0)),(0,S.isString)(et)&&(et=et.charCodeAt(0)),j.push(V*(Math.abs(q-et)*E.sortStrength)/(f[U]/W))}else j.push(V*b/(f[U]/W));else{var st=(b+W)/2;j.push(V*st)}}),X.push(j)}),X},T.prototype.handleInfinity=function(E,D,k){for(var b=E.length,f=0;f<b;f++)if(E[D][f]===1/0){E[D][f]=k,E[f][D]=k;for(var W=0;W<b;W++)E[f][W]!==1/0&&E[D][W]===1/0&&(E[D][W]=k+E[f][W],E[W][D]=k+E[f][W])}for(var f=0;f<b;f++)if(f!==D){for(var W=0;W<b;W++)if(E[f][W]===1/0){var X=Math.abs(E[D][f]-E[D][W]);X=X===0?1:X,E[f][W]=X}}},T.prototype.maxToFocus=function(E,D){for(var k=0,b=0;b<E[D].length;b++)E[D][b]!==1/0&&(k=E[D][b]>k?E[D][b]:k);return k},T.prototype.getType=function(){return"radial"},T}(M.Base);G.RadialLayout=x},706290:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0});var C=800,m=function(){function R(S){this.disp=[],this.positions=S.positions,this.adjMatrix=S.adjMatrix,this.focusID=S.focusID,this.radii=S.radii,this.iterations=S.iterations||10,this.height=S.height||10,this.width=S.width||10,this.speed=S.speed||100,this.gravity=S.gravity||10,this.nodeSizeFunc=S.nodeSizeFunc,this.k=S.k||5,this.strictRadial=S.strictRadial,this.nodes=S.nodes}return R.prototype.layout=function(){var S=this,M=S.positions,L=[],P=S.iterations,p=S.width/10;S.maxDisplace=p,S.disp=L;for(var g=0;g<P;g++)M.forEach(function(w,x){L[x]={x:0,y:0}}),S.getRepulsion(),S.updatePositions();return M},R.prototype.getRepulsion=function(){var S=this,M=S.positions,L=S.nodes,P=S.disp,p=S.k,g=S.radii||[];M.forEach(function(w,x){P[x]={x:0,y:0},M.forEach(function(y,T){if(x!==T&&g[x]===g[T]){var E=w[0]-y[0],D=w[1]-y[1],k=Math.sqrt(E*E+D*D);if(k===0){k=1;var b=x>T?1:-1;E=.01*b,D=.01*b}if(k<S.nodeSizeFunc(L[x])/2+S.nodeSizeFunc(L[T])/2){var f=p*p/k;P[x].x+=E/k*f,P[x].y+=D/k*f}}})})},R.prototype.updatePositions=function(){var S=this,M=S.positions,L=S.disp,P=S.speed,p=S.strictRadial,g=S.focusID,w=S.maxDisplace||S.width/10;p&&L.forEach(function(y,T){var E=M[T][0]-M[g][0],D=M[T][1]-M[g][1],k=Math.sqrt(E*E+D*D),b=D/k,f=-E/k,W=Math.sqrt(y.x*y.x+y.y*y.y),X=Math.acos((b*y.x+f*y.y)/W);X>Math.PI/2&&(X-=Math.PI/2,b*=-1,f*=-1);var z=Math.cos(X)*W;y.x=b*z,y.y=f*z});var x=S.radii;M.forEach(function(y,T){if(T!==g){var E=Math.sqrt(L[T].x*L[T].x+L[T].y*L[T].y);if(E>0&&T!==g){var D=Math.min(w*(P/C),E);if(y[0]+=L[T].x/E*D,y[1]+=L[T].y/E*D,p){var k=y[0]-M[g][0],b=y[1]-M[g][1],f=Math.sqrt(k*k+b*b);k=k/f*x[T],b=b/f*x[T],y[0]=M[g][0]+k,y[1]=M[g][1]+b}}}})},R}();G.default=m},539711:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var M=function(L,P){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(p[w]=g[w])},M(L,P)};return function(L,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");M(L,P);function p(){this.constructor=L}L.prototype=P===null?Object.create(P):(p.prototype=P.prototype,new p)}}();Object.defineProperty(G,"__esModule",{value:!0}),G.RandomLayout=void 0;var R=C(762329),S=function(M){m(L,M);function L(P){var p=M.call(this)||this;return p.center=[0,0],p.width=300,p.height=300,p.nodes=[],p.edges=[],p.onLayoutEnd=function(){},p.updateCfg(P),p}return L.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},L.prototype.execute=function(){var P=this,p=P.nodes,g=.9,w=P.center;return!P.width&&typeof window!="undefined"&&(P.width=window.innerWidth),!P.height&&typeof window!="undefined"&&(P.height=window.innerHeight),p&&p.forEach(function(x){x.x=(Math.random()-.5)*g*P.width+w[0],x.y=(Math.random()-.5)*g*P.height+w[1]}),P.onLayoutEnd&&P.onLayoutEnd(),{nodes:p,edges:this.edges}},L.prototype.getType=function(){return"random"},L}(R.Base);G.RandomLayout=S},932867:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0})},695326:function(ze,G,C){"use strict";var m=this&&this.__extends||function(){var g=function(w,x){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,T){y.__proto__=T}||function(y,T){for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&(y[E]=T[E])},g(w,x)};return function(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");g(w,x);function y(){this.constructor=w}w.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)}}();Object.defineProperty(G,"__esModule",{value:!0}),G.getLayoutByName=G.unRegisterLayout=G.registerLayout=void 0;var R=C(762329),S=C(449784),M=new Map,L=function(g,w){if(M.get(g)&&console.warn("The layout with the name ".concat(g," exists already, it will be overridden")),(0,S.isObject)(w)){var x=function(y){m(T,y);function T(E){var D=y.call(this)||this,k=D,b={},f=k.getDefaultCfg();return Object.assign(b,f,w,E),Object.keys(b).forEach(function(W){var X=b[W];k[W]=X}),D}return T}(R.Base);M.set(g,x)}else M.set(g,w);return M.get(g)};G.registerLayout=L;var P=function(g){M.has(g)&&M.delete(g)};G.unRegisterLayout=P;var p=function(g){return M.has(g)?M.get(g):null};G.getLayoutByName=p},185087:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.isArray=void 0,G.isArray=Array.isArray},578732:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.getFuncByUnknownType=G.getFunc=G.isFunction=void 0;var m=C(449784),R=C(330627),S=function(P){return typeof P=="function"};G.isFunction=S;var M=function(P,p,g){var w;return g?w=g:(0,R.isNumber)(P)?w=function(){return P}:w=function(){return p},w};G.getFunc=M;var L=function(P,p,g){return g===void 0&&(g=!0),!p&&p!==0?function(w){return w.size?(0,m.isArray)(w.size)?w.size[0]>w.size[1]?w.size[0]:w.size[1]:(0,m.isObject)(w.size)?w.size.width>w.size.height?w.size.width:w.size.height:w.size:P}:(0,G.isFunction)(p)?p:(0,R.isNumber)(p)?function(){return p}:(0,m.isArray)(p)?function(){if(g){var w=Math.max.apply(Math,p);return isNaN(w)?P:w}return p}:(0,m.isObject)(p)?function(){if(g){var w=Math.max(p.width,p.height);return isNaN(w)?P:w}return[p.width,p.height]}:function(){return P}};G.getFuncByUnknownType=L},248835:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.arrayToTextureData=G.attributesToTextureData=G.buildTextureDataWithTwoEdgeAttr=G.buildTextureData=G.proccessToFunc=void 0;var m=C(449784),R=C(280628),S=function(g,w){var x;return g?(0,m.isNumber)(g)?x=function(){return g}:x=g:x=function(){return w||1},x};G.proccessToFunc=S;var M=function(g,w){var x=[],y=[],T={},E=0;for(E=0;E<g.length;E++){var D=g[E];T[D.id]=E,x.push(D.x),x.push(D.y),x.push(0),x.push(0),y.push([])}for(E=0;E<w.length;E++){var k=w[E],b=(0,R.getEdgeTerminal)(k,"source"),f=(0,R.getEdgeTerminal)(k,"target");!isNaN(T[b])&&!isNaN(T[f])&&(y[T[b]].push(T[f]),y[T[f]].push(T[b]))}var W=0;for(E=0;E<g.length;E++){var X=x.length,z=y[E],U=z.length;x[E*4+2]=X,x[E*4+3]=U,W=Math.max(W,U);for(var j=0;j<U;++j){var V=z[j];x.push(+V)}}for(;x.length%4!==0;)x.push(0);return{maxEdgePerVetex:W,array:new Float32Array(x)}};G.buildTextureData=M;var L=function(g,w,x,y){var T=[],E=[],D={},k=0;for(k=0;k<g.length;k++){var b=g[k];D[b.id]=k,T.push(b.x),T.push(b.y),T.push(0),T.push(0),E.push([])}for(k=0;k<w.length;k++){var f=w[k],W=(0,R.getEdgeTerminal)(f,"source"),X=(0,R.getEdgeTerminal)(f,"target");E[D[W]].push(D[X]),E[D[W]].push(x(f)),E[D[W]].push(y(f)),E[D[W]].push(0),E[D[X]].push(D[W]),E[D[X]].push(x(f)),E[D[X]].push(y(f)),E[D[X]].push(0)}var z=0;for(k=0;k<g.length;k++){var U=T.length,j=E[k],V=j.length;T[k*4+2]=U+1048576*V/4,T[k*4+3]=0,z=Math.max(z,V/4);for(var J=0;J<V;++J){var q=j[J];T.push(+q)}}for(;T.length%4!==0;)T.push(0);return{maxEdgePerVetex:z,array:new Float32Array(T)}};G.buildTextureDataWithTwoEdgeAttr=L;var P=function(g,w){var x=[],y=g.length,T={};return w.forEach(function(E){g.forEach(function(D,k){if(T[E[D]]===void 0&&(T[E[D]]=Object.keys(T).length),x.push(T[E[D]]),k===y-1)for(;x.length%4!==0;)x.push(0)})}),{array:new Float32Array(x),count:Object.keys(T).length}};G.attributesToTextureData=P;var p=function(g){for(var w=[],x=g.length,y=g[0].length,T=function(D){g.forEach(function(k,b){if(w.push(k[D]),b===x-1)for(;w.length%4!==0;)w.push(0)})},E=0;E<y;E++)T(E);return new Float32Array(w)};G.arrayToTextureData=p},449784:function(ze,G,C){"use strict";var m=this&&this.__createBinding||(Object.create?function(S,M,L,P){P===void 0&&(P=L);var p=Object.getOwnPropertyDescriptor(M,L);(!p||("get"in p?!M.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return M[L]}}),Object.defineProperty(S,P,p)}:function(S,M,L,P){P===void 0&&(P=L),S[P]=M[L]}),R=this&&this.__exportStar||function(S,M){for(var L in S)L!=="default"&&!Object.prototype.hasOwnProperty.call(M,L)&&m(M,S,L)};Object.defineProperty(G,"__esModule",{value:!0}),R(C(708055),G),R(C(185087),G),R(C(330627),G),R(C(280628),G),R(C(898130),G),R(C(578732),G)},280628:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.getCoreNodeAndRelativeLeafNodes=G.getAvgNodePosition=G.getLayoutBBox=G.traverseTreeUp=G.scaleMatrix=G.getAdjMatrix=G.floydWarshall=G.getDegreeMap=G.getDegree=G.getEdgeTerminal=void 0;var m=C(185087),R=C(330627),S=C(898130),M=function(W,X){var z=W[X];return(0,S.isObject)(z)?z.cell:z};G.getEdgeTerminal=M;var L=function(W,X,z){for(var U=[],j=0;j<W;j++)U[j]={in:0,out:0,all:0};return z&&z.forEach(function(V){var J=(0,G.getEdgeTerminal)(V,"source"),q=(0,G.getEdgeTerminal)(V,"target");J&&U[X[J]]&&(U[X[J]].out+=1,U[X[J]].all+=1),q&&U[X[q]]&&(U[X[q]].in+=1,U[X[q]].all+=1)}),U};G.getDegree=L;var P=function(W,X){var z={};return W.forEach(function(U){z[U.id]={in:0,out:0,all:0}}),X&&X.forEach(function(U){var j=(0,G.getEdgeTerminal)(U,"source"),V=(0,G.getEdgeTerminal)(U,"target");j&&(z[j].out+=1,z[j].all+=1),V&&(z[V].in+=1,z[V].all+=1)}),z};G.getDegreeMap=P;var p=function(W){for(var X=[],z=W.length,U=0;U<z;U+=1){X[U]=[];for(var j=0;j<z;j+=1)U===j?X[U][j]=0:W[U][j]===0||!W[U][j]?X[U][j]=1/0:X[U][j]=W[U][j]}for(var V=0;V<z;V+=1)for(var U=0;U<z;U+=1)for(var j=0;j<z;j+=1)X[U][j]>X[U][V]+X[V][j]&&(X[U][j]=X[U][V]+X[V][j]);return X};G.floydWarshall=p;var g=function(W,X){var z=W.nodes,U=W.edges,j=[],V={};if(!z)throw new Error("invalid nodes data!");return z&&z.forEach(function(J,q){V[J.id]=q;var et=[];j.push(et)}),U==null||U.forEach(function(J){var q=(0,G.getEdgeTerminal)(J,"source"),et=(0,G.getEdgeTerminal)(J,"target"),st=V[q],ot=V[et];st===void 0||ot===void 0||(j[st][ot]=1,X||(j[ot][st]=1))}),j};G.getAdjMatrix=g;var w=function(W,X){var z=[];return W.forEach(function(U){var j=[];U.forEach(function(V){j.push(V*X)}),z.push(j)}),z};G.scaleMatrix=w;var x=function(W,X){if(W&&W.children){for(var z=W.children.length-1;z>=0;z--)if(!x(W.children[z],X))return}return!!X(W)},y=function(W,X){typeof X=="function"&&x(W,X)};G.traverseTreeUp=y;var T=function(W){var X=1/0,z=1/0,U=-1/0,j=-1/0;return W.forEach(function(V){var J=V.size;(0,m.isArray)(J)?J.length===1&&(J=[J[0],J[0]]):(0,R.isNumber)(J)?J=[J,J]:(J===void 0||isNaN(J))&&(J=[30,30]);var q=[J[0]/2,J[1]/2],et=V.x-q[0],st=V.x+q[0],ot=V.y-q[1],mt=V.y+q[1];X>et&&(X=et),z>ot&&(z=ot),U<st&&(U=st),j<mt&&(j=mt)}),{minX:X,minY:z,maxX:U,maxY:j}};G.getLayoutBBox=T;var E=function(W){var X={x:0,y:0};W.forEach(function(U){X.x+=U.x||0,X.y+=U.y||0});var z=W.length||1;return{x:X.x/z,y:X.y/z}};G.getAvgNodePosition=E;var D=function(W,X,z){var U,j;return W==="source"?((U=z==null?void 0:z.find(function(V){return V.target===X.id}))===null||U===void 0?void 0:U.source)||{}:((j=z==null?void 0:z.find(function(V){return V.source===X.id}))===null||j===void 0?void 0:j.target)||{}},k=function(W,X,z){var U=[];switch(W){case"source":U=z==null?void 0:z.filter(function(V){return V.source===X.id}).map(function(V){return V.target});break;case"target":U=z==null?void 0:z.filter(function(V){return V.target===X.id}).map(function(V){return V.source});break;case"both":U=z==null?void 0:z.filter(function(V){return V.source===X.id}).map(function(V){return V.target}).concat(z==null?void 0:z.filter(function(V){return V.target===X.id}).map(function(V){return V.source}));break;default:break}var j=new Set(U);return Array.from(j)},b=function(W,X,z,U,j){var V=z[X]||"",J=(U==null?void 0:U.filter(function(q){return q[X]===V}))||[];return W==="leaf"&&(J=J.filter(function(q){var et,st;return((et=j[q.id])===null||et===void 0?void 0:et.in)===0||((st=j[q.id])===null||st===void 0?void 0:st.out)===0})),J},f=function(W,X,z,U,j,V){var J=j[X.id],q=J.in,et=J.out,st=X,ot=[];q===0?(st=D("source",X,z),ot=k("both",st,z).map(function(ft){return V[ft]})):et===0&&(st=D("target",X,z),ot=k("both",st,z).map(function(ft){return V[ft]})),ot=ot.filter(function(ft){return j[ft.id]&&(j[ft.id].in===0||j[ft.id].out===0)});var mt=b(W,U,X,ot,j);return{coreNode:st,relativeLeafNodes:ot,sameTypeLeafNodes:mt}};G.getCoreNodeAndRelativeLeafNodes=f},330627:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.toNumber=G.isNaN=G.isNumber=void 0;var C=function(S){return typeof S=="number"};G.isNumber=C;var m=function(S){return Number.isNaN(Number(S))};G.isNaN=m;var R=function(S){var M=parseFloat(S);return(0,G.isNaN)(M)?S:M};G.toNumber=R},898130:function(ze,G){"use strict";var C=this&&this.__assign||function(){return C=Object.assign||function(S){for(var M,L=1,P=arguments.length;L<P;L++){M=arguments[L];for(var p in M)Object.prototype.hasOwnProperty.call(M,p)&&(S[p]=M[p])}return S},C.apply(this,arguments)};Object.defineProperty(G,"__esModule",{value:!0}),G.clone=G.isObject=void 0;var m=function(S){return S!==null&&typeof S=="object"};G.isObject=m;var R=function(S){if(S===null)return S;if(S instanceof Date)return new Date(S.getTime());if(S instanceof Array){var M=[];return S.forEach(function(P){M.push(P)}),M.map(function(P){return(0,G.clone)(P)})}if(typeof S=="object"&&Object.keys(S).length){var L=C({},S);return Object.keys(L).forEach(function(P){L[P]=(0,G.clone)(L[P])}),L}return S};G.clone=R},708055:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.camelize=G.isString=void 0;var C=function(S){return typeof S=="string"};G.isString=C;var m=function(S){var M=Object.create(null);return function(L){var P=M[L];return P||(M[L]=S(L))}},R=/-(\w)/g;G.camelize=m(function(S){return S.replace(R,function(M,L){return L?L.toUpperCase():""})})},731278:function(ze,G,C){"use strict";var m;m={value:!0};var R=C(858204);function S(y,T,E){var D=[0,0,0,0,0,0,0,0,0];return R.mat3.fromTranslation(D,E),R.mat3.multiply(y,D,T)}m=S;function M(y,T,E){var D=[0,0,0,0,0,0,0,0,0];return R.mat3.fromRotation(D,E),R.mat3.multiply(y,D,T)}m=M;function L(y,T,E){var D=[0,0,0,0,0,0,0,0,0];return R.mat3.fromScaling(D,E),R.mat3.multiply(y,D,T)}m=L;function P(y,T,E){return R.mat3.multiply(y,E,T)}function p(y,T){for(var E=y?[].concat(y):[1,0,0,0,1,0,0,0,1],D=0,k=T.length;D<k;D++){var b=T[D];switch(b[0]){case"t":S(E,E,[b[1],b[2]]);break;case"s":L(E,E,[b[1],b[2]]);break;case"r":M(E,E,b[1]);break;case"m":P(E,E,b[1]);break;default:break}}return E}G.vs=p;function g(y,T){return y[0]*T[1]-T[0]*y[1]}m=g;function w(y,T,E){var D=R.vec2.angle(y,T),k=g(y,T)>=0;return E?k?Math.PI*2-D:D:k?D:Math.PI*2-D}m=w;function x(y,T,E){return E?(y[0]=T[1],y[1]=-1*T[0]):(y[0]=-1*T[1],y[1]=T[0]),y}m=x},413810:function(ze,G,C){"use strict";C.r(G),C.d(G,{Cache:function(){return ha},assign:function(){return Kr},augment:function(){return Mn},clamp:function(){return Qt},clearAnimationFrame:function(){return Sr},clone:function(){return Wn},contains:function(){return M},debounce:function(){return na},deepMix:function(){return Da},difference:function(){return g},each:function(){return W},endsWith:function(){return Rr},every:function(){return xr},extend:function(){return li},filter:function(){return P},find:function(){return ot},findIndex:function(){return ft},firstValue:function(){return St},fixedBase:function(){return Nt},flatten:function(){return H},flattenDeep:function(){return bt},forIn:function(){return he},get:function(){return Ni},getEllipsisText:function(){return Wo},getRange:function(){return Tt},getType:function(){return zi},getWrapBehavior:function(){return kn},group:function(){return jr},groupBy:function(){return gn},groupToMap:function(){return rr},has:function(){return Me},hasKey:function(){return be},hasValue:function(){return cr},head:function(){return Or},identity:function(){return co},includes:function(){return M},indexOf:function(){return Na},isArguments:function(){return ui},isArray:function(){return k},isArrayLike:function(){return R},isBoolean:function(){return qi},isDate:function(){return Ba},isDecimal:function(){return ae},isElement:function(){return nr},isEmpty:function(){return di},isEqual:function(){return hi},isEqualWith:function(){return Ri},isError:function(){return uo},isEven:function(){return ut},isFinite:function(){return to},isFunction:function(){return T},isInteger:function(){return O},isMatch:function(){return j},isNegative:function(){return $},isNil:function(){return D},isNull:function(){return Si},isNumber:function(){return vt},isNumberEqual:function(){return Ft},isObject:function(){return b},isObjectLike:function(){return J},isOdd:function(){return te},isPlainObject:function(){return et},isPositive:function(){return me},isPrototype:function(){return Za},isRegExp:function(){return Hn},isString:function(){return Kt},isType:function(){return y},isUndefined:function(){return fe},keys:function(){return z},last:function(){return Fr},lowerCase:function(){return un},lowerFirst:function(){return sn},map:function(){return Gi},mapValues:function(){return Oo},max:function(){return Ct},maxBy:function(){return Ue},measureTextWidth:function(){return Uo},memoize:function(){return Ua},min:function(){return nt},minBy:function(){return fr},mix:function(){return Kr},mod:function(){return Lr},noop:function(){return yi},number2color:function(){return Nn},omit:function(){return Sa},parseRadius:function(){return Xe},pick:function(){return ki},pull:function(){return se},pullAt:function(){return ne},reduce:function(){return Wt},remove:function(){return $t},requestAnimationFrame:function(){return _r},set:function(){return Ra},size:function(){return Go},some:function(){return Dr},sortBy:function(){return Se},startsWith:function(){return an},substitute:function(){return qn},throttle:function(){return Ui},toArray:function(){return lo},toDegree:function(){return or},toInteger:function(){return Ar},toRadian:function(){return Xt},toString:function(){return en},union:function(){return vr},uniq:function(){return Pt},uniqueId:function(){return Lo},upperCase:function(){return oa},upperFirst:function(){return oi},values:function(){return ir},valuesOfKey:function(){return Tr},wrapBehavior:function(){return dn}});var m=function(Yt){return Yt!==null&&typeof Yt!="function"&&isFinite(Yt.length)},R=m,S=function(Yt,Le){return R(Yt)?Yt.indexOf(Le)>-1:!1},M=S,L=function(Yt,Le){if(!R(Yt))return Yt;for(var qe=[],mr=0;mr<Yt.length;mr++){var Zr=Yt[mr];Le(Zr,mr)&&qe.push(Zr)}return qe},P=L,p=function(Yt,Le){return Le===void 0&&(Le=[]),P(Yt,function(qe){return!M(Le,qe)})},g=p,w={}.toString,x=function(Yt,Le){return w.call(Yt)==="[object "+Le+"]"},y=x,T=function(Yt){return y(Yt,"Function")},E=function(Yt){return Yt==null},D=E,k=function(Yt){return Array.isArray?Array.isArray(Yt):y(Yt,"Array")},b=function(Yt){var Le=typeof Yt;return Yt!==null&&Le==="object"||Le==="function"};function f(Yt,Le){if(Yt){var qe;if(k(Yt))for(var mr=0,Zr=Yt.length;mr<Zr&&(qe=Le(Yt[mr],mr),qe!==!1);mr++);else if(b(Yt)){for(var fn in Yt)if(Yt.hasOwnProperty(fn)&&(qe=Le(Yt[fn],fn),qe===!1))break}}}var W=f,X=Object.keys?function(Yt){return Object.keys(Yt)}:function(Yt){var Le=[];return W(Yt,function(qe,mr){T(Yt)&&mr==="prototype"||Le.push(mr)}),Le},z=X;function U(Yt,Le){var qe=z(Le),mr=qe.length;if(D(Yt))return!mr;for(var Zr=0;Zr<mr;Zr+=1){var fn=qe[Zr];if(Le[fn]!==Yt[fn]||!(fn in Yt))return!1}return!0}var j=U,V=function(Yt){return typeof Yt=="object"&&Yt!==null},J=V,q=function(Yt){if(!J(Yt)||!y(Yt,"Object"))return!1;if(Object.getPrototypeOf(Yt)===null)return!0;for(var Le=Yt;Object.getPrototypeOf(Le)!==null;)Le=Object.getPrototypeOf(Le);return Object.getPrototypeOf(Yt)===Le},et=q;function st(Yt,Le){if(!k(Yt))return null;var qe;if(T(Le)&&(qe=Le),et(Le)&&(qe=function(Zr){return j(Zr,Le)}),qe){for(var mr=0;mr<Yt.length;mr+=1)if(qe(Yt[mr]))return Yt[mr]}return null}var ot=st;function mt(Yt,Le,qe){qe===void 0&&(qe=0);for(var mr=qe;mr<Yt.length;mr++)if(Le(Yt[mr],mr))return mr;return-1}var ft=mt,Bt=function(Yt,Le){for(var qe=null,mr=0;mr<Yt.length;mr++){var Zr=Yt[mr],fn=Zr[Le];if(!D(fn)){k(fn)?qe=fn[0]:qe=fn;break}}return qe},St=Bt,wt=function(Yt){if(!k(Yt))return[];for(var Le=[],qe=0;qe<Yt.length;qe++)Le=Le.concat(Yt[qe]);return Le},H=wt,Q=function(Yt,Le){if(Le===void 0&&(Le=[]),!k(Yt))Le.push(Yt);else for(var qe=0;qe<Yt.length;qe+=1)Q(Yt[qe],Le);return Le},bt=Q,Ct=function(Yt){if(k(Yt))return Yt.reduce(function(Le,qe){return Math.max(Le,qe)},Yt[0])},nt=function(Yt){if(k(Yt))return Yt.reduce(function(Le,qe){return Math.min(Le,qe)},Yt[0])},dt=function(Yt){var Le=Yt.filter(function(zn){return!isNaN(zn)});if(!Le.length)return{min:0,max:0};if(k(Yt[0])){for(var qe=[],mr=0;mr<Yt.length;mr++)qe=qe.concat(Yt[mr]);Le=qe}var Zr=Ct(Le),fn=nt(Le);return{min:fn,max:Zr}},Tt=dt,At=Array.prototype,xt=At.splice,Dt=At.indexOf,Ht=function(Yt){for(var Le=[],qe=1;qe<arguments.length;qe++)Le[qe-1]=arguments[qe];for(var mr=0;mr<Le.length;mr++)for(var Zr=Le[mr],fn=-1;(fn=Dt.call(Yt,Zr))>-1;)xt.call(Yt,fn,1);return Yt},se=Ht,re=Array.prototype.splice,It=function(Le,qe){if(!R(Le))return[];for(var mr=Le?qe.length:0,Zr=mr-1;mr--;){var fn=void 0,zn=qe[mr];(mr===Zr||zn!==fn)&&(fn=zn,re.call(Le,zn,1))}return Le},ne=It,pe=function(Yt,Le,qe){if(!k(Yt)&&!et(Yt))return Yt;var mr=qe;return W(Yt,function(Zr,fn){mr=Le(mr,Zr,fn)}),mr},Wt=pe,Jt=function(Yt,Le){var qe=[];if(!R(Yt))return qe;for(var mr=-1,Zr=[],fn=Yt.length;++mr<fn;){var zn=Yt[mr];Le(zn,mr,Yt)&&(qe.push(zn),Zr.push(mr))}return ne(Yt,Zr),qe},$t=Jt,Kt=function(Yt){return y(Yt,"String")};function ue(Yt,Le){var qe;if(T(Le))qe=function(Zr,fn){return Le(Zr)-Le(fn)};else{var mr=[];Kt(Le)?mr.push(Le):k(Le)&&(mr=Le),qe=function(Zr,fn){for(var zn=0;zn<mr.length;zn+=1){var Ia=mr[zn];if(Zr[Ia]>fn[Ia])return 1;if(Zr[Ia]<fn[Ia])return-1}return 0}}return Yt.sort(qe),Yt}var Se=ue;function Pt(Yt,Le){Le===void 0&&(Le=new Map);var qe=[];if(Array.isArray(Yt))for(var mr=0,Zr=Yt.length;mr<Zr;mr++){var fn=Yt[mr];Le.has(fn)||(qe.push(fn),Le.set(fn,!0))}return qe}var Fe=function(){for(var Yt=[],Le=0;Le<arguments.length;Le++)Yt[Le]=arguments[Le];return Pt([].concat.apply([],Yt))},vr=Fe,Tr=function(Yt,Le){for(var qe=[],mr={},Zr=0;Zr<Yt.length;Zr++){var fn=Yt[Zr],zn=fn[Le];if(!D(zn)){k(zn)||(zn=[zn]);for(var Ia=0;Ia<zn.length;Ia++){var vi=zn[Ia];mr[vi]||(qe.push(vi),mr[vi]=!0)}}}return qe};function Or(Yt){if(R(Yt))return Yt[0]}function Fr(Yt){if(R(Yt)){var Le=Yt;return Le[Le.length-1]}}function nn(Yt,Le){return k(Yt)||Kt(Yt)?Yt[0]===Le:!1}var an=nn;function er(Yt,Le){return k(Yt)||Kt(Yt)?Yt[Yt.length-1]===Le:!1}var Rr=er,qr=function(Yt,Le){for(var qe=0;qe<Yt.length;qe++)if(!Le(Yt[qe],qe))return!1;return!0},xr=qr,Gr=function(Yt,Le){for(var qe=0;qe<Yt.length;qe++)if(Le(Yt[qe],qe))return!0;return!1},Dr=Gr,We=Object.prototype.hasOwnProperty;function Je(Yt,Le){if(!Le||!k(Yt))return{};for(var qe={},mr=T(Le)?Le:function(Ia){return Ia[Le]},Zr,fn=0;fn<Yt.length;fn++){var zn=Yt[fn];Zr=mr(zn),We.call(qe,Zr)?qe[Zr].push(zn):qe[Zr]=[zn]}return qe}var gn=Je;function rr(Yt,Le){if(!Le)return{0:Yt};if(!T(Le)){var qe=k(Le)?Le:Le.replace(/\s+/g,"").split("*");Le=function(mr){for(var Zr="_",fn=0,zn=qe.length;fn<zn;fn++)Zr+=mr[qe[fn]]&&mr[qe[fn]].toString();return Zr}}return gn(Yt,Le)}var jr=function(Yt,Le){if(!Le)return[Yt];var qe=rr(Yt,Le),mr=[];for(var Zr in qe)mr.push(qe[Zr]);return mr};function Nr(Yt,Le){return Yt["_wrap_"+Le]}var kn=Nr;function on(Yt,Le){if(Yt["_wrap_"+Le])return Yt["_wrap_"+Le];var qe=function(mr){Yt[Le](mr)};return Yt["_wrap_"+Le]=qe,qe}var dn=on,En={};function Pn(Yt){var Le=En[Yt];if(!Le){for(var qe=Yt.toString(16),mr=qe.length;mr<6;mr++)qe="0"+qe;Le="#"+qe,En[Yt]=Le}return Le}var Nn=Pn;function at(Yt){var Le=0,qe=0,mr=0,Zr=0;return k(Yt)?Yt.length===1?Le=qe=mr=Zr=Yt[0]:Yt.length===2?(Le=mr=Yt[0],qe=Zr=Yt[1]):Yt.length===3?(Le=Yt[0],qe=Zr=Yt[1],mr=Yt[2]):(Le=Yt[0],qe=Yt[1],mr=Yt[2],Zr=Yt[3]):Le=qe=mr=Zr=Yt,{r1:Le,r2:qe,r3:mr,r4:Zr}}var Xe=at,Zt=function(Yt,Le,qe){return Yt<Le?Le:Yt>qe?qe:Yt},Qt=Zt,Mt=function(Yt,Le){var qe=Le.toString(),mr=qe.indexOf(".");if(mr===-1)return Math.round(Yt);var Zr=qe.substr(mr+1).length;return Zr>20&&(Zr=20),parseFloat(Yt.toFixed(Zr))},Nt=Mt,Ut=function(Yt){return y(Yt,"Number")},vt=Ut,Rt=function(Yt){return vt(Yt)&&Yt%1!==0},ae=Rt,tt=function(Yt){return vt(Yt)&&Yt%2===0},ut=tt,B=Number.isInteger?Number.isInteger:function(Yt){return vt(Yt)&&Yt%1===0},O=B,_=function(Yt){return vt(Yt)&&Yt<0},$=_,gt=1e-5;function Ft(Yt,Le,qe){return qe===void 0&&(qe=gt),Math.abs(Yt-Le)<qe}var zt=function(Yt){return vt(Yt)&&Yt%2!==0},te=zt,_e=function(Yt){return vt(Yt)&&Yt>0},me=_e,Ue=function(Yt,Le){if(k(Yt)){for(var qe,mr=-1/0,Zr=0;Zr<Yt.length;Zr++){var fn=Yt[Zr],zn=T(Le)?Le(fn):fn[Le];zn>mr&&(qe=fn,mr=zn)}return qe}},fr=function(Yt,Le){if(k(Yt)){for(var qe,mr=1/0,Zr=0;Zr<Yt.length;Zr++){var fn=Yt[Zr],zn=T(Le)?Le(fn):fn[Le];zn<mr&&(qe=fn,mr=zn)}return qe}},je=function(Yt,Le){return(Yt%Le+Le)%Le},Lr=je,ln=180/Math.PI,Ve=function(Yt){return ln*Yt},or=Ve,Ar=parseInt,Mr=Math.PI/180,ce=function(Yt){return Mr*Yt},Xt=ce,he=W,Me=function(Yt,Le){return Yt.hasOwnProperty(Le)},be=Me,Ne=Object.values?function(Yt){return Object.values(Yt)}:function(Yt){var Le=[];return W(Yt,function(qe,mr){T(Yt)&&mr==="prototype"||Le.push(qe)}),Le},ir=Ne,cr=function(Yt,Le){return M(ir(Yt),Le)},en=function(Yt){return D(Yt)?"":Yt.toString()},Dn=function(Yt){return en(Yt).toLowerCase()},un=Dn,Fn=function(Yt){var Le=en(Yt);return Le.charAt(0).toLowerCase()+Le.substring(1)},sn=Fn;function Bn(Yt,Le){return!Yt||!Le?Yt:Yt.replace(/\\?\{([^{}]+)\}/g,function(qe,mr){return qe.charAt(0)==="\\"?qe.slice(1):Le[mr]===void 0?"":Le[mr]})}var qn=Bn,sa=function(Yt){return en(Yt).toUpperCase()},oa=sa,Ti=function(Yt){var Le=en(Yt);return Le.charAt(0).toUpperCase()+Le.substring(1)},oi=Ti,Va={}.toString,ti=function(Yt){return Va.call(Yt).replace(/^\[object /,"").replace(/]$/,"")},zi=ti,si=function(Yt){return y(Yt,"Arguments")},ui=si,ba=function(Yt){return y(Yt,"Boolean")},qi=ba,Co=function(Yt){return y(Yt,"Date")},Ba=Co,Ji=function(Yt){return y(Yt,"Error")},uo=Ji;function to(Yt){return vt(Yt)&&isFinite(Yt)}var gi=function(Yt){return Yt===null},Si=gi,Po=Object.prototype,bo=function(Yt){var Le=Yt&&Yt.constructor,qe=typeof Le=="function"&&Le.prototype||Po;return Yt===qe},Za=bo,Mi=function(Yt){return y(Yt,"RegExp")},Hn=Mi,ee=function(Yt){return Yt===void 0},fe=ee,Pe=function(Yt){return Yt instanceof Element||Yt instanceof HTMLDocument},nr=Pe;function _r(Yt){var Le=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(qe){return setTimeout(qe,16)};return Le(Yt)}function Sr(Yt){var Le=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;Le(Yt)}function br(Yt,Le){for(var qe in Le)Le.hasOwnProperty(qe)&&qe!=="constructor"&&Le[qe]!==void 0&&(Yt[qe]=Le[qe])}function Kr(Yt,Le,qe,mr){return Le&&br(Yt,Le),qe&&br(Yt,qe),mr&&br(Yt,mr),Yt}var cn=function(){for(var Yt=[],Le=0;Le<arguments.length;Le++)Yt[Le]=arguments[Le];for(var qe=Yt[0],mr=1;mr<Yt.length;mr++){var Zr=Yt[mr];T(Zr)&&(Zr=Zr.prototype),Kr(qe.prototype,Zr)}},Mn=cn,Kn=function(Yt){if(typeof Yt!="object"||Yt===null)return Yt;var Le;if(k(Yt)){Le=[];for(var qe=0,mr=Yt.length;qe<mr;qe++)typeof Yt[qe]=="object"&&Yt[qe]!=null?Le[qe]=Kn(Yt[qe]):Le[qe]=Yt[qe]}else{Le={};for(var Zr in Yt)typeof Yt[Zr]=="object"&&Yt[Zr]!=null?Le[Zr]=Kn(Yt[Zr]):Le[Zr]=Yt[Zr]}return Le},Wn=Kn;function ra(Yt,Le,qe){var mr;return function(){var Zr=this,fn=arguments,zn=function(){mr=null,qe||Yt.apply(Zr,fn)},Ia=qe&&!mr;clearTimeout(mr),mr=setTimeout(zn,Le),Ia&&Yt.apply(Zr,fn)}}var na=ra,Ua=function(Yt,Le){if(!T(Yt))throw new TypeError("Expected a function");var qe=function(){for(var mr=[],Zr=0;Zr<arguments.length;Zr++)mr[Zr]=arguments[Zr];var fn=Le?Le.apply(this,mr):mr[0],zn=qe.cache;if(zn.has(fn))return zn.get(fn);var Ia=Yt.apply(this,mr);return zn.set(fn,Ia),Ia};return qe.cache=new Map,qe},ua=5;function Qn(Yt,Le,qe,mr){qe=qe||0,mr=mr||ua;for(var Zr in Le)if(Le.hasOwnProperty(Zr)){var fn=Le[Zr];fn!==null&&et(fn)?(et(Yt[Zr])||(Yt[Zr]={}),qe<mr?Qn(Yt[Zr],fn,qe+1,mr):Yt[Zr]=Le[Zr]):k(fn)?(Yt[Zr]=[],Yt[Zr]=Yt[Zr].concat(fn)):fn!==void 0&&(Yt[Zr]=fn)}}var Fa=function(Yt){for(var Le=[],qe=1;qe<arguments.length;qe++)Le[qe-1]=arguments[qe];for(var mr=0;mr<Le.length;mr+=1)Qn(Yt,Le[mr]);return Yt},Da=Fa,xa=function(Yt,Le,qe,mr){T(Le)||(qe=Le,Le=Yt,Yt=function(){});var Zr=Object.create?function(zn,Ia){return Object.create(zn,{constructor:{value:Ia}})}:function(zn,Ia){function vi(){}vi.prototype=zn;var eo=new vi;return eo.constructor=Ia,eo},fn=Zr(Le.prototype,Yt);return Yt.prototype=Kr(fn,Yt.prototype),Yt.superclass=Zr(Le.prototype,Le),Kr(fn,qe),Kr(Yt,mr),Yt},li=xa,Qa=function(Yt,Le){if(!R(Yt))return-1;var qe=Array.prototype.indexOf;if(qe)return qe.call(Yt,Le);for(var mr=-1,Zr=0;Zr<Yt.length;Zr++)if(Yt[Zr]===Le){mr=Zr;break}return mr},Na=Qa,_a=Object.prototype.hasOwnProperty;function va(Yt){if(D(Yt))return!0;if(R(Yt))return!Yt.length;var Le=zi(Yt);if(Le==="Map"||Le==="Set")return!Yt.size;if(Za(Yt))return!Object.keys(Yt).length;for(var qe in Yt)if(_a.call(Yt,qe))return!1;return!0}var di=va,ni=function(Yt,Le){if(Yt===Le)return!0;if(!Yt||!Le||Kt(Yt)||Kt(Le))return!1;if(R(Yt)||R(Le)){if(Yt.length!==Le.length)return!1;for(var qe=!0,mr=0;mr<Yt.length&&(qe=ni(Yt[mr],Le[mr]),!!qe);mr++);return qe}if(J(Yt)||J(Le)){var Zr=Object.keys(Yt),fn=Object.keys(Le);if(Zr.length!==fn.length)return!1;for(var qe=!0,mr=0;mr<Zr.length&&(qe=ni(Yt[Zr[mr]],Le[Zr[mr]]),!!qe);mr++);return qe}return!1},hi=ni,Ri=function(Yt,Le,qe){return T(qe)?!!qe(Yt,Le):hi(Yt,Le)},Ii=function(Yt,Le){if(!R(Yt))return Yt;for(var qe=[],mr=0;mr<Yt.length;mr++){var Zr=Yt[mr];qe.push(Le(Zr,mr))}return qe},Gi=Ii,Ao=function(Yt){return Yt},Oo=function(Yt,Le){Le===void 0&&(Le=Ao);var qe={};return b(Yt)&&!D(Yt)&&Object.keys(Yt).forEach(function(mr){qe[mr]=Le(Yt[mr],mr)}),qe},Ni=function(Yt,Le,qe){for(var mr=0,Zr=Kt(Le)?Le.split("."):Le;Yt&&mr<Zr.length;)Yt=Yt[Zr[mr++]];return Yt===void 0||mr<Zr.length?qe:Yt},Ra=function(Yt,Le,qe){var mr=Yt,Zr=Kt(Le)?Le.split("."):Le;return Zr.forEach(function(fn,zn){zn<Zr.length-1?(b(mr[fn])||(mr[fn]=vt(Zr[zn+1])?[]:{}),mr=mr[fn]):mr[fn]=qe}),Yt},mi=Object.prototype.hasOwnProperty,ki=function(Yt,Le){if(Yt===null||!et(Yt))return{};var qe={};return W(Le,function(mr){mi.call(Yt,mr)&&(qe[mr]=Yt[mr])}),qe},Sa=function(Yt,Le){return Wt(Yt,function(qe,mr,Zr){return Le.includes(Zr)||(qe[Zr]=mr),qe},{})},Ui=function(Yt,Le,qe){var mr,Zr,fn,zn,Ia=0;qe||(qe={});var vi=function(){Ia=qe.leading===!1?0:Date.now(),mr=null,zn=Yt.apply(Zr,fn),mr||(Zr=fn=null)},eo=function(){var xo=Date.now();!Ia&&qe.leading===!1&&(Ia=xo);var ds=Le-(xo-Ia);return Zr=this,fn=arguments,ds<=0||ds>Le?(mr&&(clearTimeout(mr),mr=null),Ia=xo,zn=Yt.apply(Zr,fn),mr||(Zr=fn=null)):!mr&&qe.trailing!==!1&&(mr=setTimeout(vi,ds)),zn};return eo.cancel=function(){clearTimeout(mr),Ia=0,mr=Zr=fn=null},eo},lo=function(Yt){return R(Yt)?Array.prototype.slice.call(Yt):[]},Ai={},Lo=function(Yt){return Yt=Yt||"g",Ai[Yt]?Ai[Yt]+=1:Ai[Yt]=1,Yt+Ai[Yt]},yi=function(){},co=function(Yt){return Yt};function Go(Yt){return D(Yt)?0:R(Yt)?Yt.length:Object.keys(Yt).length}var ts=C(570655),Wi,Uo=Ua(function(Yt,Le){Le===void 0&&(Le={});var qe=Le.fontSize,mr=Le.fontFamily,Zr=Le.fontWeight,fn=Le.fontStyle,zn=Le.fontVariant;return Wi||(Wi=document.createElement("canvas").getContext("2d")),Wi.font=[fn,zn,Zr,qe+"px",mr].join(" "),Wi.measureText(Kt(Yt)?Yt:"").width},function(Yt,Le){return Le===void 0&&(Le={}),(0,ts.__spreadArrays)([Yt],ir(Le)).join("")}),Wo=function(Yt,Le,qe,mr){mr===void 0&&(mr="...");var Zr=16,fn=Uo(mr,qe),zn=Kt(Yt)?Yt:en(Yt),Ia=Le,vi=[],eo,xo;if(Uo(Yt,qe)<=Le)return Yt;for(;eo=zn.substr(0,Zr),xo=Uo(eo,qe),!(xo+fn>Ia&&xo>Ia);)if(vi.push(eo),Ia-=xo,zn=zn.substr(Zr),!zn)return vi.join("");for(;eo=zn.substr(0,1),xo=Uo(eo,qe),!(xo+fn>Ia);)if(vi.push(eo),Ia-=xo,zn=zn.substr(1),!zn)return vi.join("");return""+vi.join("")+mr},fs=function(){function Yt(){this.map={}}return Yt.prototype.has=function(Le){return this.map[Le]!==void 0},Yt.prototype.get=function(Le,qe){var mr=this.map[Le];return mr===void 0?qe:mr},Yt.prototype.set=function(Le,qe){this.map[Le]=qe},Yt.prototype.clear=function(){this.map={}},Yt.prototype.delete=function(Le){delete this.map[Le]},Yt.prototype.size=function(){return Object.keys(this.map).length},Yt}(),ha=fs},960887:function(ze,G,C){"use strict";C.d(G,{LB:function(){return sa},g4:function(){return Dr},we:function(){return on},VK:function(){return Tt},Cj:function(){return ti},O1:function(){return Va},Zj:function(){return ui},VT:function(){return f}});var m=C(667294),R=C(973935),S=C(724285);const M={display:"none"};function L(ee){let{id:fe,value:Pe}=ee;return m.createElement("div",{id:fe,style:M},Pe)}const P={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function p(ee){let{id:fe,announcement:Pe}=ee;return m.createElement("div",{id:fe,style:P,role:"status","aria-live":"assertive","aria-atomic":!0},Pe)}function g(){const[ee,fe]=(0,m.useState)("");return{announce:(0,m.useCallback)(nr=>{nr!=null&&fe(nr)},[]),announcement:ee}}const w=(0,m.createContext)(null);function x(ee){const fe=(0,m.useContext)(w);(0,m.useEffect)(()=>{if(!fe)throw new Error("useDndMonitor must be used within a children of <DndContext>");return fe(ee)},[ee,fe])}function y(){const[ee]=(0,m.useState)(()=>new Set),fe=(0,m.useCallback)(nr=>(ee.add(nr),()=>ee.delete(nr)),[ee]);return[(0,m.useCallback)(nr=>{let{type:_r,event:Sr}=nr;ee.forEach(br=>{var Kr;return(Kr=br[_r])==null?void 0:Kr.call(br,Sr)})},[ee]),fe]}const T={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},E={onDragStart(ee){let{active:fe}=ee;return"Picked up draggable item "+fe.id+"."},onDragOver(ee){let{active:fe,over:Pe}=ee;return Pe?"Draggable item "+fe.id+" was moved over droppable area "+Pe.id+".":"Draggable item "+fe.id+" is no longer over a droppable area."},onDragEnd(ee){let{active:fe,over:Pe}=ee;return Pe?"Draggable item "+fe.id+" was dropped over droppable area "+Pe.id:"Draggable item "+fe.id+" was dropped."},onDragCancel(ee){let{active:fe}=ee;return"Dragging was cancelled. Draggable item "+fe.id+" was dropped."}};function D(ee){let{announcements:fe=E,container:Pe,hiddenTextDescribedById:nr,screenReaderInstructions:_r=T}=ee;const{announce:Sr,announcement:br}=g(),Kr=(0,S.Ld)("DndLiveRegion"),[cn,Mn]=(0,m.useState)(!1);if((0,m.useEffect)(()=>{Mn(!0)},[]),x((0,m.useMemo)(()=>({onDragStart(Wn){let{active:ra}=Wn;Sr(fe.onDragStart({active:ra}))},onDragMove(Wn){let{active:ra,over:na}=Wn;fe.onDragMove&&Sr(fe.onDragMove({active:ra,over:na}))},onDragOver(Wn){let{active:ra,over:na}=Wn;Sr(fe.onDragOver({active:ra,over:na}))},onDragEnd(Wn){let{active:ra,over:na}=Wn;Sr(fe.onDragEnd({active:ra,over:na}))},onDragCancel(Wn){let{active:ra,over:na}=Wn;Sr(fe.onDragCancel({active:ra,over:na}))}}),[Sr,fe])),!cn)return null;const Kn=m.createElement(m.Fragment,null,m.createElement(L,{id:nr,value:_r.draggable}),m.createElement(p,{id:Kr,announcement:br}));return Pe?(0,R.createPortal)(Kn,Pe):Kn}var k;(function(ee){ee.DragStart="dragStart",ee.DragMove="dragMove",ee.DragEnd="dragEnd",ee.DragCancel="dragCancel",ee.DragOver="dragOver",ee.RegisterDroppable="registerDroppable",ee.SetDroppableDisabled="setDroppableDisabled",ee.UnregisterDroppable="unregisterDroppable"})(k||(k={}));function b(){}function f(ee,fe){return(0,m.useMemo)(()=>({sensor:ee,options:fe!=null?fe:{}}),[ee,fe])}function W(){for(var ee=arguments.length,fe=new Array(ee),Pe=0;Pe<ee;Pe++)fe[Pe]=arguments[Pe];return useMemo(()=>[...fe].filter(nr=>nr!=null),[...fe])}const X=Object.freeze({x:0,y:0});function z(ee,fe){return Math.sqrt(Math.pow(ee.x-fe.x,2)+Math.pow(ee.y-fe.y,2))}function U(ee,fe){const Pe=getEventCoordinates(ee);if(!Pe)return"0 0";const nr={x:(Pe.x-fe.left)/fe.width*100,y:(Pe.y-fe.top)/fe.height*100};return nr.x+"% "+nr.y+"%"}function j(ee,fe){let{data:{value:Pe}}=ee,{data:{value:nr}}=fe;return Pe-nr}function V(ee,fe){let{data:{value:Pe}}=ee,{data:{value:nr}}=fe;return nr-Pe}function J(ee){let{left:fe,top:Pe,height:nr,width:_r}=ee;return[{x:fe,y:Pe},{x:fe+_r,y:Pe},{x:fe,y:Pe+nr},{x:fe+_r,y:Pe+nr}]}function q(ee,fe){if(!ee||ee.length===0)return null;const[Pe]=ee;return fe?Pe[fe]:Pe}function et(ee,fe,Pe){return fe===void 0&&(fe=ee.left),Pe===void 0&&(Pe=ee.top),{x:fe+ee.width*.5,y:Pe+ee.height*.5}}const st=ee=>{let{collisionRect:fe,droppableRects:Pe,droppableContainers:nr}=ee;const _r=et(fe,fe.left,fe.top),Sr=[];for(const br of nr){const{id:Kr}=br,cn=Pe.get(Kr);if(cn){const Mn=z(et(cn),_r);Sr.push({id:Kr,data:{droppableContainer:br,value:Mn}})}}return Sr.sort(j)},ot=ee=>{let{collisionRect:fe,droppableRects:Pe,droppableContainers:nr}=ee;const _r=J(fe),Sr=[];for(const br of nr){const{id:Kr}=br,cn=Pe.get(Kr);if(cn){const Mn=J(cn),Kn=_r.reduce((ra,na,Ua)=>ra+z(Mn[Ua],na),0),Wn=Number((Kn/4).toFixed(4));Sr.push({id:Kr,data:{droppableContainer:br,value:Wn}})}}return Sr.sort(j)};function mt(ee,fe){const Pe=Math.max(fe.top,ee.top),nr=Math.max(fe.left,ee.left),_r=Math.min(fe.left+fe.width,ee.left+ee.width),Sr=Math.min(fe.top+fe.height,ee.top+ee.height),br=_r-nr,Kr=Sr-Pe;if(nr<_r&&Pe<Sr){const cn=fe.width*fe.height,Mn=ee.width*ee.height,Kn=br*Kr,Wn=Kn/(cn+Mn-Kn);return Number(Wn.toFixed(4))}return 0}const ft=ee=>{let{collisionRect:fe,droppableRects:Pe,droppableContainers:nr}=ee;const _r=[];for(const Sr of nr){const{id:br}=Sr,Kr=Pe.get(br);if(Kr){const cn=mt(Kr,fe);cn>0&&_r.push({id:br,data:{droppableContainer:Sr,value:cn}})}}return _r.sort(V)};function Bt(ee,fe){const{top:Pe,left:nr,bottom:_r,right:Sr}=fe;return Pe<=ee.y&&ee.y<=_r&&nr<=ee.x&&ee.x<=Sr}const St=ee=>{let{droppableContainers:fe,droppableRects:Pe,pointerCoordinates:nr}=ee;if(!nr)return[];const _r=[];for(const Sr of fe){const{id:br}=Sr,Kr=Pe.get(br);if(Kr&&Bt(nr,Kr)){const Mn=J(Kr).reduce((Wn,ra)=>Wn+z(nr,ra),0),Kn=Number((Mn/4).toFixed(4));_r.push({id:br,data:{droppableContainer:Sr,value:Kn}})}}return _r.sort(j)};function wt(ee,fe,Pe){return so(wa({},ee),{scaleX:fe&&Pe?fe.width/Pe.width:1,scaleY:fe&&Pe?fe.height/Pe.height:1})}function H(ee,fe){return ee&&fe?{x:ee.left-fe.left,y:ee.top-fe.top}:X}function Q(ee){return function(Pe){for(var nr=arguments.length,_r=new Array(nr>1?nr-1:0),Sr=1;Sr<nr;Sr++)_r[Sr-1]=arguments[Sr];return _r.reduce((br,Kr)=>so(wa({},br),{top:br.top+ee*Kr.y,bottom:br.bottom+ee*Kr.y,left:br.left+ee*Kr.x,right:br.right+ee*Kr.x}),wa({},Pe))}}const bt=Q(1);function Ct(ee){if(ee.startsWith("matrix3d(")){const fe=ee.slice(9,-1).split(/, /);return{x:+fe[12],y:+fe[13],scaleX:+fe[0],scaleY:+fe[5]}}else if(ee.startsWith("matrix(")){const fe=ee.slice(7,-1).split(/, /);return{x:+fe[4],y:+fe[5],scaleX:+fe[0],scaleY:+fe[3]}}return null}function nt(ee,fe,Pe){const nr=Ct(fe);if(!nr)return ee;const{scaleX:_r,scaleY:Sr,x:br,y:Kr}=nr,cn=ee.left-br-(1-_r)*parseFloat(Pe),Mn=ee.top-Kr-(1-Sr)*parseFloat(Pe.slice(Pe.indexOf(" ")+1)),Kn=_r?ee.width/_r:ee.width,Wn=Sr?ee.height/Sr:ee.height;return{width:Kn,height:Wn,top:Mn,right:cn+Kn,bottom:Mn+Wn,left:cn}}const dt={ignoreTransform:!1};function Tt(ee,fe){fe===void 0&&(fe=dt);let Pe=ee.getBoundingClientRect();if(fe.ignoreTransform){const{transform:Mn,transformOrigin:Kn}=(0,S.Jj)(ee).getComputedStyle(ee);Mn&&(Pe=nt(Pe,Mn,Kn))}const{top:nr,left:_r,width:Sr,height:br,bottom:Kr,right:cn}=Pe;return{top:nr,left:_r,width:Sr,height:br,bottom:Kr,right:cn}}function At(ee){return Tt(ee,{ignoreTransform:!0})}function xt(ee){const fe=ee.innerWidth,Pe=ee.innerHeight;return{top:0,left:0,right:fe,bottom:Pe,width:fe,height:Pe}}function Dt(ee,fe){return fe===void 0&&(fe=(0,S.Jj)(ee).getComputedStyle(ee)),fe.position==="fixed"}function Ht(ee,fe){fe===void 0&&(fe=(0,S.Jj)(ee).getComputedStyle(ee));const Pe=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(_r=>{const Sr=fe[_r];return typeof Sr=="string"?Pe.test(Sr):!1})}function se(ee,fe){const Pe=[];function nr(_r){if(fe!=null&&Pe.length>=fe||!_r)return Pe;if((0,S.qk)(_r)&&_r.scrollingElement!=null&&!Pe.includes(_r.scrollingElement))return Pe.push(_r.scrollingElement),Pe;if(!(0,S.Re)(_r)||(0,S.vZ)(_r)||Pe.includes(_r))return Pe;const Sr=(0,S.Jj)(ee).getComputedStyle(_r);return _r!==ee&&Ht(_r,Sr)&&Pe.push(_r),Dt(_r,Sr)?Pe:nr(_r.parentNode)}return ee?nr(ee):Pe}function re(ee){const[fe]=se(ee,1);return fe!=null?fe:null}function It(ee){return!S.Nq||!ee?null:(0,S.FJ)(ee)?ee:(0,S.UG)(ee)?(0,S.qk)(ee)||ee===(0,S.r3)(ee).scrollingElement?window:(0,S.Re)(ee)?ee:null:null}function ne(ee){return(0,S.FJ)(ee)?ee.scrollX:ee.scrollLeft}function pe(ee){return(0,S.FJ)(ee)?ee.scrollY:ee.scrollTop}function Wt(ee){return{x:ne(ee),y:pe(ee)}}var Jt;(function(ee){ee[ee.Forward=1]="Forward",ee[ee.Backward=-1]="Backward"})(Jt||(Jt={}));function $t(ee){return!S.Nq||!ee?!1:ee===document.scrollingElement}function Kt(ee){const fe={x:0,y:0},Pe=$t(ee)?{height:window.innerHeight,width:window.innerWidth}:{height:ee.clientHeight,width:ee.clientWidth},nr={x:ee.scrollWidth-Pe.width,y:ee.scrollHeight-Pe.height},_r=ee.scrollTop<=fe.y,Sr=ee.scrollLeft<=fe.x,br=ee.scrollTop>=nr.y,Kr=ee.scrollLeft>=nr.x;return{isTop:_r,isLeft:Sr,isBottom:br,isRight:Kr,maxScroll:nr,minScroll:fe}}const ue={x:.2,y:.2};function Se(ee,fe,Pe,nr,_r){let{top:Sr,left:br,right:Kr,bottom:cn}=Pe;nr===void 0&&(nr=10),_r===void 0&&(_r=ue);const{isTop:Mn,isBottom:Kn,isLeft:Wn,isRight:ra}=Kt(ee),na={x:0,y:0},Ua={x:0,y:0},ua={height:fe.height*_r.y,width:fe.width*_r.x};return!Mn&&Sr<=fe.top+ua.height?(na.y=Jt.Backward,Ua.y=nr*Math.abs((fe.top+ua.height-Sr)/ua.height)):!Kn&&cn>=fe.bottom-ua.height&&(na.y=Jt.Forward,Ua.y=nr*Math.abs((fe.bottom-ua.height-cn)/ua.height)),!ra&&Kr>=fe.right-ua.width?(na.x=Jt.Forward,Ua.x=nr*Math.abs((fe.right-ua.width-Kr)/ua.width)):!Wn&&br<=fe.left+ua.width&&(na.x=Jt.Backward,Ua.x=nr*Math.abs((fe.left+ua.width-br)/ua.width)),{direction:na,speed:Ua}}function Pt(ee){if(ee===document.scrollingElement){const{innerWidth:Sr,innerHeight:br}=window;return{top:0,left:0,right:Sr,bottom:br,width:Sr,height:br}}const{top:fe,left:Pe,right:nr,bottom:_r}=ee.getBoundingClientRect();return{top:fe,left:Pe,right:nr,bottom:_r,width:ee.clientWidth,height:ee.clientHeight}}function Fe(ee){return ee.reduce((fe,Pe)=>(0,S.IH)(fe,Wt(Pe)),X)}function vr(ee){return ee.reduce((fe,Pe)=>fe+ne(Pe),0)}function Tr(ee){return ee.reduce((fe,Pe)=>fe+pe(Pe),0)}function Or(ee,fe){if(fe===void 0&&(fe=Tt),!ee)return;const{top:Pe,left:nr,bottom:_r,right:Sr}=fe(ee);re(ee)&&(_r<=0||Sr<=0||Pe>=window.innerHeight||nr>=window.innerWidth)&&ee.scrollIntoView({block:"center",inline:"center"})}const Fr=[["x",["left","right"],vr],["y",["top","bottom"],Tr]];class nn{constructor(fe,Pe){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const nr=se(Pe),_r=Fe(nr);this.rect=wa({},fe),this.width=fe.width,this.height=fe.height;for(const[Sr,br,Kr]of Fr)for(const cn of br)Object.defineProperty(this,cn,{get:()=>{const Mn=Kr(nr),Kn=_r[Sr]-Mn;return this.rect[cn]+Kn},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class an{constructor(fe){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(Pe=>{var nr;return(nr=this.target)==null?void 0:nr.removeEventListener(...Pe)})},this.target=fe}add(fe,Pe,nr){var _r;(_r=this.target)==null||_r.addEventListener(fe,Pe,nr),this.listeners.push([fe,Pe,nr])}}function er(ee){const{EventTarget:fe}=(0,S.Jj)(ee);return ee instanceof fe?ee:(0,S.r3)(ee)}function Rr(ee,fe){const Pe=Math.abs(ee.x),nr=Math.abs(ee.y);return typeof fe=="number"?Math.sqrt(Av(Pe,2)+Av(nr,2))>fe:"x"in fe&&"y"in fe?Pe>fe.x&&nr>fe.y:"x"in fe?Pe>fe.x:"y"in fe?nr>fe.y:!1}var qr;(function(ee){ee.Click="click",ee.DragStart="dragstart",ee.Keydown="keydown",ee.ContextMenu="contextmenu",ee.Resize="resize",ee.SelectionChange="selectionchange",ee.VisibilityChange="visibilitychange"})(qr||(qr={}));function xr(ee){ee.preventDefault()}function Gr(ee){ee.stopPropagation()}var Dr;(function(ee){ee.Space="Space",ee.Down="ArrowDown",ee.Right="ArrowRight",ee.Left="ArrowLeft",ee.Up="ArrowUp",ee.Esc="Escape",ee.Enter="Enter"})(Dr||(Dr={}));const We={start:[Dr.Space,Dr.Enter],cancel:[Dr.Esc],end:[Dr.Space,Dr.Enter]},Je=(ee,fe)=>{let{currentCoordinates:Pe}=fe;switch(ee.code){case Dr.Right:return so(wa({},Pe),{x:Pe.x+25});case Dr.Left:return so(wa({},Pe),{x:Pe.x-25});case Dr.Down:return so(wa({},Pe),{y:Pe.y+25});case Dr.Up:return so(wa({},Pe),{y:Pe.y-25})}};class gn{constructor(fe){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=fe;const{event:{target:Pe}}=fe;this.props=fe,this.listeners=new an((0,S.r3)(Pe)),this.windowListeners=new an((0,S.Jj)(Pe)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(qr.Resize,this.handleCancel),this.windowListeners.add(qr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(qr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:fe,onStart:Pe}=this.props,nr=fe.node.current;nr&&Or(nr),Pe(X)}handleKeyDown(fe){if((0,S.vd)(fe)){const{active:Pe,context:nr,options:_r}=this.props,{keyboardCodes:Sr=We,coordinateGetter:br=Je,scrollBehavior:Kr="smooth"}=_r,{code:cn}=fe;if(Sr.end.includes(cn)){this.handleEnd(fe);return}if(Sr.cancel.includes(cn)){this.handleCancel(fe);return}const{collisionRect:Mn}=nr.current,Kn=Mn?{x:Mn.left,y:Mn.top}:X;this.referenceCoordinates||(this.referenceCoordinates=Kn);const Wn=br(fe,{active:Pe,context:nr.current,currentCoordinates:Kn});if(Wn){const ra=(0,S.$X)(Wn,Kn),na={x:0,y:0},{scrollableAncestors:Ua}=nr.current;for(const ua of Ua){const Qn=fe.code,{isTop:Fa,isRight:Da,isLeft:xa,isBottom:li,maxScroll:Qa,minScroll:Na}=Kt(ua),_a=Pt(ua),va={x:Math.min(Qn===Dr.Right?_a.right-_a.width/2:_a.right,Math.max(Qn===Dr.Right?_a.left:_a.left+_a.width/2,Wn.x)),y:Math.min(Qn===Dr.Down?_a.bottom-_a.height/2:_a.bottom,Math.max(Qn===Dr.Down?_a.top:_a.top+_a.height/2,Wn.y))},di=Qn===Dr.Right&&!Da||Qn===Dr.Left&&!xa,ni=Qn===Dr.Down&&!li||Qn===Dr.Up&&!Fa;if(di&&va.x!==Wn.x){const hi=ua.scrollLeft+ra.x,Ri=Qn===Dr.Right&&hi<=Qa.x||Qn===Dr.Left&&hi>=Na.x;if(Ri&&!ra.y){ua.scrollTo({left:hi,behavior:Kr});return}Ri?na.x=ua.scrollLeft-hi:na.x=Qn===Dr.Right?ua.scrollLeft-Qa.x:ua.scrollLeft-Na.x,na.x&&ua.scrollBy({left:-na.x,behavior:Kr});break}else if(ni&&va.y!==Wn.y){const hi=ua.scrollTop+ra.y,Ri=Qn===Dr.Down&&hi<=Qa.y||Qn===Dr.Up&&hi>=Na.y;if(Ri&&!ra.x){ua.scrollTo({top:hi,behavior:Kr});return}Ri?na.y=ua.scrollTop-hi:na.y=Qn===Dr.Down?ua.scrollTop-Qa.y:ua.scrollTop-Na.y,na.y&&ua.scrollBy({top:-na.y,behavior:Kr});break}}this.handleMove(fe,(0,S.IH)((0,S.$X)(Wn,this.referenceCoordinates),na))}}}handleMove(fe,Pe){const{onMove:nr}=this.props;fe.preventDefault(),nr(Pe)}handleEnd(fe){const{onEnd:Pe}=this.props;fe.preventDefault(),this.detach(),Pe()}handleCancel(fe){const{onCancel:Pe}=this.props;fe.preventDefault(),this.detach(),Pe()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gn.activators=[{eventName:"onKeyDown",handler:(ee,fe,Pe)=>{let{keyboardCodes:nr=We,onActivation:_r}=fe,{active:Sr}=Pe;const{code:br}=ee.nativeEvent;if(nr.start.includes(br)){const Kr=Sr.activatorNode.current;return Kr&&ee.target!==Kr?!1:(ee.preventDefault(),_r==null||_r({event:ee.nativeEvent}),!0)}return!1}}];function rr(ee){return Boolean(ee&&"distance"in ee)}function jr(ee){return Boolean(ee&&"delay"in ee)}class Nr{constructor(fe,Pe,nr){var _r;nr===void 0&&(nr=er(fe.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=fe,this.events=Pe;const{event:Sr}=fe,{target:br}=Sr;this.props=fe,this.events=Pe,this.document=(0,S.r3)(br),this.documentListeners=new an(this.document),this.listeners=new an(nr),this.windowListeners=new an((0,S.Jj)(br)),this.initialCoordinates=(_r=(0,S.DC)(Sr))!=null?_r:X,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:fe,props:{options:{activationConstraint:Pe}}}=this;if(this.listeners.add(fe.move.name,this.handleMove,{passive:!1}),this.listeners.add(fe.end.name,this.handleEnd),this.windowListeners.add(qr.Resize,this.handleCancel),this.windowListeners.add(qr.DragStart,xr),this.windowListeners.add(qr.VisibilityChange,this.handleCancel),this.windowListeners.add(qr.ContextMenu,xr),this.documentListeners.add(qr.Keydown,this.handleKeydown),Pe){if(rr(Pe))return;if(jr(Pe)){this.timeoutId=setTimeout(this.handleStart,Pe.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:fe}=this,{onStart:Pe}=this.props;fe&&(this.activated=!0,this.documentListeners.add(qr.Click,Gr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(qr.SelectionChange,this.removeTextSelection),Pe(fe))}handleMove(fe){var Pe;const{activated:nr,initialCoordinates:_r,props:Sr}=this,{onMove:br,options:{activationConstraint:Kr}}=Sr;if(!_r)return;const cn=(Pe=(0,S.DC)(fe))!=null?Pe:X,Mn=(0,S.$X)(_r,cn);if(!nr&&Kr){if(jr(Kr))return Rr(Mn,Kr.tolerance)?this.handleCancel():void 0;if(rr(Kr))return Kr.tolerance!=null&&Rr(Mn,Kr.tolerance)?this.handleCancel():Rr(Mn,Kr.distance)?this.handleStart():void 0}fe.cancelable&&fe.preventDefault(),br(cn)}handleEnd(){const{onEnd:fe}=this.props;this.detach(),fe()}handleCancel(){const{onCancel:fe}=this.props;this.detach(),fe()}handleKeydown(fe){fe.code===Dr.Esc&&this.handleCancel()}removeTextSelection(){var fe;(fe=this.document.getSelection())==null||fe.removeAllRanges()}}const kn={move:{name:"pointermove"},end:{name:"pointerup"}};class on extends Nr{constructor(fe){const{event:Pe}=fe,nr=(0,S.r3)(Pe.target);super(fe,kn,nr)}}on.activators=[{eventName:"onPointerDown",handler:(ee,fe)=>{let{nativeEvent:Pe}=ee,{onActivation:nr}=fe;return!Pe.isPrimary||Pe.button!==0?!1:(nr==null||nr({event:Pe}),!0)}}];const dn={move:{name:"mousemove"},end:{name:"mouseup"}};var En;(function(ee){ee[ee.RightClick=2]="RightClick"})(En||(En={}));class Pn extends Nr{constructor(fe){super(fe,dn,(0,S.r3)(fe.event.target))}}Pn.activators=[{eventName:"onMouseDown",handler:(ee,fe)=>{let{nativeEvent:Pe}=ee,{onActivation:nr}=fe;return Pe.button===En.RightClick?!1:(nr==null||nr({event:Pe}),!0)}}];const Nn={move:{name:"touchmove"},end:{name:"touchend"}};class at extends Nr{constructor(fe){super(fe,Nn)}static setup(){return window.addEventListener(Nn.move.name,fe,{capture:!1,passive:!1}),function(){window.removeEventListener(Nn.move.name,fe)};function fe(){}}}at.activators=[{eventName:"onTouchStart",handler:(ee,fe)=>{let{nativeEvent:Pe}=ee,{onActivation:nr}=fe;const{touches:_r}=Pe;return _r.length>1?!1:(nr==null||nr({event:Pe}),!0)}}];var Xe;(function(ee){ee[ee.Pointer=0]="Pointer",ee[ee.DraggableRect=1]="DraggableRect"})(Xe||(Xe={}));var Zt;(function(ee){ee[ee.TreeOrder=0]="TreeOrder",ee[ee.ReversedTreeOrder=1]="ReversedTreeOrder"})(Zt||(Zt={}));function Qt(ee){let{acceleration:fe,activator:Pe=Xe.Pointer,canScroll:nr,draggingRect:_r,enabled:Sr,interval:br=5,order:Kr=Zt.TreeOrder,pointerCoordinates:cn,scrollableAncestors:Mn,scrollableAncestorRects:Kn,delta:Wn,threshold:ra}=ee;const na=Nt({delta:Wn,disabled:!Sr}),[Ua,ua]=(0,S.Yz)(),Qn=(0,m.useRef)({x:0,y:0}),Fa=(0,m.useRef)({x:0,y:0}),Da=(0,m.useMemo)(()=>{switch(Pe){case Xe.Pointer:return cn?{top:cn.y,bottom:cn.y,left:cn.x,right:cn.x}:null;case Xe.DraggableRect:return _r}},[Pe,_r,cn]),xa=(0,m.useRef)(null),li=(0,m.useCallback)(()=>{const Na=xa.current;if(!Na)return;const _a=Qn.current.x*Fa.current.x,va=Qn.current.y*Fa.current.y;Na.scrollBy(_a,va)},[]),Qa=(0,m.useMemo)(()=>Kr===Zt.TreeOrder?[...Mn].reverse():Mn,[Kr,Mn]);(0,m.useEffect)(()=>{if(!Sr||!Mn.length||!Da){ua();return}for(const Na of Qa){if((nr==null?void 0:nr(Na))===!1)continue;const _a=Mn.indexOf(Na),va=Kn[_a];if(!va)continue;const{direction:di,speed:ni}=Se(Na,va,Da,fe,ra);for(const hi of["x","y"])na[hi][di[hi]]||(ni[hi]=0,di[hi]=0);if(ni.x>0||ni.y>0){ua(),xa.current=Na,Ua(li,br),Qn.current=ni,Fa.current=di;return}}Qn.current={x:0,y:0},Fa.current={x:0,y:0},ua()},[fe,li,nr,ua,Sr,br,JSON.stringify(Da),JSON.stringify(na),Ua,Mn,Qa,Kn,JSON.stringify(ra)])}const Mt={x:{[Jt.Backward]:!1,[Jt.Forward]:!1},y:{[Jt.Backward]:!1,[Jt.Forward]:!1}};function Nt(ee){let{delta:fe,disabled:Pe}=ee;const nr=(0,S.D9)(fe);return(0,S.Gj)(_r=>{if(Pe||!nr||!_r)return Mt;const Sr={x:Math.sign(fe.x-nr.x),y:Math.sign(fe.y-nr.y)};return{x:{[Jt.Backward]:_r.x[Jt.Backward]||Sr.x===-1,[Jt.Forward]:_r.x[Jt.Forward]||Sr.x===1},y:{[Jt.Backward]:_r.y[Jt.Backward]||Sr.y===-1,[Jt.Forward]:_r.y[Jt.Forward]||Sr.y===1}}},[Pe,fe,nr])}function Ut(ee,fe){const Pe=fe!==null?ee.get(fe):void 0,nr=Pe?Pe.node.current:null;return(0,S.Gj)(_r=>{var Sr;return fe===null?null:(Sr=nr!=null?nr:_r)!=null?Sr:null},[nr,fe])}function vt(ee,fe){return(0,m.useMemo)(()=>ee.reduce((Pe,nr)=>{const{sensor:_r}=nr,Sr=_r.activators.map(br=>({eventName:br.eventName,handler:fe(br.handler,nr)}));return[...Pe,...Sr]},[]),[ee,fe])}var Rt;(function(ee){ee[ee.Always=0]="Always",ee[ee.BeforeDragging=1]="BeforeDragging",ee[ee.WhileDragging=2]="WhileDragging"})(Rt||(Rt={}));var ae;(function(ee){ee.Optimized="optimized"})(ae||(ae={}));const tt=new Map;function ut(ee,fe){let{dragging:Pe,dependencies:nr,config:_r}=fe;const[Sr,br]=(0,m.useState)(null),{frequency:Kr,measure:cn,strategy:Mn}=_r,Kn=(0,m.useRef)(ee),Wn=Qn(),ra=(0,S.Ey)(Wn),na=(0,m.useCallback)(function(Fa){Fa===void 0&&(Fa=[]),!ra.current&&br(Da=>Da===null?Fa:Da.concat(Fa.filter(xa=>!Da.includes(xa))))},[ra]),Ua=(0,m.useRef)(null),ua=(0,S.Gj)(Fa=>{if(Wn&&!Pe)return tt;if(!Fa||Fa===tt||Kn.current!==ee||Sr!=null){const Da=new Map;for(let xa of ee){if(!xa)continue;if(Sr&&Sr.length>0&&!Sr.includes(xa.id)&&xa.rect.current){Da.set(xa.id,xa.rect.current);continue}const li=xa.node.current,Qa=li?new nn(cn(li),li):null;xa.rect.current=Qa,Qa&&Da.set(xa.id,Qa)}return Da}return Fa},[ee,Sr,Pe,Wn,cn]);return(0,m.useEffect)(()=>{Kn.current=ee},[ee]),(0,m.useEffect)(()=>{Wn||na()},[Pe,Wn]),(0,m.useEffect)(()=>{Sr&&Sr.length>0&&br(null)},[JSON.stringify(Sr)]),(0,m.useEffect)(()=>{Wn||typeof Kr!="number"||Ua.current!==null||(Ua.current=setTimeout(()=>{na(),Ua.current=null},Kr))},[Kr,Wn,na,...nr]),{droppableRects:ua,measureDroppableContainers:na,measuringScheduled:Sr!=null};function Qn(){switch(Mn){case Rt.Always:return!1;case Rt.BeforeDragging:return Pe;default:return!Pe}}}function B(ee,fe){return(0,S.Gj)(Pe=>ee?Pe||(typeof fe=="function"?fe(ee):ee):null,[fe,ee])}function O(ee,fe){return B(ee,fe)}function _(ee){let{callback:fe,disabled:Pe}=ee;const nr=(0,S.zX)(fe),_r=(0,m.useMemo)(()=>{if(Pe||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:Sr}=window;return new Sr(nr)},[nr,Pe]);return(0,m.useEffect)(()=>()=>_r==null?void 0:_r.disconnect(),[_r]),_r}function $(ee){let{callback:fe,disabled:Pe}=ee;const nr=(0,S.zX)(fe),_r=(0,m.useMemo)(()=>{if(Pe||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:Sr}=window;return new Sr(nr)},[Pe]);return(0,m.useEffect)(()=>()=>_r==null?void 0:_r.disconnect(),[_r]),_r}function gt(ee){return new nn(Tt(ee),ee)}function Ft(ee,fe,Pe){fe===void 0&&(fe=gt);const[nr,_r]=(0,m.useReducer)(Kr,null),Sr=_({callback(cn){if(ee)for(const Mn of cn){const{type:Kn,target:Wn}=Mn;if(Kn==="childList"&&Wn instanceof HTMLElement&&Wn.contains(ee)){_r();break}}}}),br=$({callback:_r});return(0,S.LI)(()=>{_r(),ee?(br==null||br.observe(ee),Sr==null||Sr.observe(document.body,{childList:!0,subtree:!0})):(br==null||br.disconnect(),Sr==null||Sr.disconnect())},[ee]),nr;function Kr(cn){if(!ee)return null;if(ee.isConnected===!1){var Mn;return(Mn=cn!=null?cn:Pe)!=null?Mn:null}const Kn=fe(ee);return JSON.stringify(cn)===JSON.stringify(Kn)?cn:Kn}}function zt(ee){const fe=B(ee);return H(ee,fe)}const te=[];function _e(ee){const fe=(0,m.useRef)(ee),Pe=(0,S.Gj)(nr=>ee?nr&&nr!==te&&ee&&fe.current&&ee.parentNode===fe.current.parentNode?nr:se(ee):te,[ee]);return(0,m.useEffect)(()=>{fe.current=ee},[ee]),Pe}function me(ee){const[fe,Pe]=(0,m.useState)(null),nr=(0,m.useRef)(ee),_r=(0,m.useCallback)(Sr=>{const br=It(Sr.target);br&&Pe(Kr=>Kr?(Kr.set(br,Wt(br)),new Map(Kr)):null)},[]);return(0,m.useEffect)(()=>{const Sr=nr.current;if(ee!==Sr){br(Sr);const Kr=ee.map(cn=>{const Mn=It(cn);return Mn?(Mn.addEventListener("scroll",_r,{passive:!0}),[Mn,Wt(Mn)]):null}).filter(cn=>cn!=null);Pe(Kr.length?new Map(Kr):null),nr.current=ee}return()=>{br(ee),br(Sr)};function br(Kr){Kr.forEach(cn=>{const Mn=It(cn);Mn==null||Mn.removeEventListener("scroll",_r)})}},[_r,ee]),(0,m.useMemo)(()=>ee.length?fe?Array.from(fe.values()).reduce((Sr,br)=>(0,S.IH)(Sr,br),X):Fe(ee):X,[ee,fe])}function Ue(ee,fe){fe===void 0&&(fe=[]);const Pe=(0,m.useRef)(null);return(0,m.useEffect)(()=>{Pe.current=null},fe),(0,m.useEffect)(()=>{const nr=ee!==X;nr&&!Pe.current&&(Pe.current=ee),!nr&&Pe.current&&(Pe.current=null)},[ee]),Pe.current?(0,S.$X)(ee,Pe.current):X}function fr(ee){(0,m.useEffect)(()=>{if(!S.Nq)return;const fe=ee.map(Pe=>{let{sensor:nr}=Pe;return nr.setup==null?void 0:nr.setup()});return()=>{for(const Pe of fe)Pe==null||Pe()}},ee.map(fe=>{let{sensor:Pe}=fe;return Pe}))}function je(ee,fe){return(0,m.useMemo)(()=>ee.reduce((Pe,nr)=>{let{eventName:_r,handler:Sr}=nr;return Pe[_r]=br=>{Sr(br,fe)},Pe},{}),[ee,fe])}function Lr(ee){return(0,m.useMemo)(()=>ee?xt(ee):null,[ee])}const ln=[];function Ve(ee,fe){fe===void 0&&(fe=Tt);const[Pe]=ee,nr=Lr(Pe?(0,S.Jj)(Pe):null),[_r,Sr]=(0,m.useReducer)(Kr,ln),br=$({callback:Sr});return ee.length>0&&_r===ln&&Sr(),(0,S.LI)(()=>{ee.length?ee.forEach(cn=>br==null?void 0:br.observe(cn)):(br==null||br.disconnect(),Sr())},[ee]),_r;function Kr(){return ee.length?ee.map(cn=>$t(cn)?nr:new nn(fe(cn),cn)):ln}}function or(ee){if(!ee)return null;if(ee.children.length>1)return ee;const fe=ee.children[0];return(0,S.Re)(fe)?fe:ee}function Ar(ee){let{measure:fe}=ee;const[Pe,nr]=(0,m.useState)(null),_r=(0,m.useCallback)(Mn=>{for(const{target:Kn}of Mn)if((0,S.Re)(Kn)){nr(Wn=>{const ra=fe(Kn);return Wn?so(wa({},Wn),{width:ra.width,height:ra.height}):ra});break}},[fe]),Sr=$({callback:_r}),br=(0,m.useCallback)(Mn=>{const Kn=or(Mn);Sr==null||Sr.disconnect(),Kn&&(Sr==null||Sr.observe(Kn)),nr(Kn?fe(Kn):null)},[fe,Sr]),[Kr,cn]=(0,S.wm)(br);return(0,m.useMemo)(()=>({nodeRef:Kr,rect:Pe,setRef:cn}),[Pe,Kr,cn])}const Mr=[{sensor:on,options:{}},{sensor:gn,options:{}}],ce={current:{}},Xt={draggable:{measure:At},droppable:{measure:At,strategy:Rt.WhileDragging,frequency:ae.Optimized},dragOverlay:{measure:Tt}};class he extends Map{get(fe){var Pe;return fe!=null&&(Pe=super.get(fe))!=null?Pe:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(fe=>{let{disabled:Pe}=fe;return!Pe})}getNodeFor(fe){var Pe,nr;return(Pe=(nr=this.get(fe))==null?void 0:nr.node.current)!=null?Pe:void 0}}const Me={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new he,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:b},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Xt,measureDroppableContainers:b,windowRect:null,measuringScheduled:!1},be={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:b,draggableNodes:new Map,over:null,measureDroppableContainers:b},Ne=(0,m.createContext)(be),ir=(0,m.createContext)(Me);function cr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new he}}}function en(ee,fe){switch(fe.type){case k.DragStart:return so(wa({},ee),{draggable:so(wa({},ee.draggable),{initialCoordinates:fe.initialCoordinates,active:fe.active})});case k.DragMove:return ee.draggable.active?so(wa({},ee),{draggable:so(wa({},ee.draggable),{translate:{x:fe.coordinates.x-ee.draggable.initialCoordinates.x,y:fe.coordinates.y-ee.draggable.initialCoordinates.y}})}):ee;case k.DragEnd:case k.DragCancel:return so(wa({},ee),{draggable:so(wa({},ee.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case k.RegisterDroppable:{const{element:Pe}=fe,{id:nr}=Pe,_r=new he(ee.droppable.containers);return _r.set(nr,Pe),so(wa({},ee),{droppable:so(wa({},ee.droppable),{containers:_r})})}case k.SetDroppableDisabled:{const{id:Pe,key:nr,disabled:_r}=fe,Sr=ee.droppable.containers.get(Pe);if(!Sr||nr!==Sr.key)return ee;const br=new he(ee.droppable.containers);return br.set(Pe,so(wa({},Sr),{disabled:_r})),so(wa({},ee),{droppable:so(wa({},ee.droppable),{containers:br})})}case k.UnregisterDroppable:{const{id:Pe,key:nr}=fe,_r=ee.droppable.containers.get(Pe);if(!_r||nr!==_r.key)return ee;const Sr=new he(ee.droppable.containers);return Sr.delete(Pe),so(wa({},ee),{droppable:so(wa({},ee.droppable),{containers:Sr})})}default:return ee}}function Dn(ee){let{disabled:fe}=ee;const{active:Pe,activatorEvent:nr,draggableNodes:_r}=(0,m.useContext)(Ne),Sr=(0,S.D9)(nr),br=(0,S.D9)(Pe==null?void 0:Pe.id);return(0,m.useEffect)(()=>{if(!fe&&!nr&&Sr&&br!=null){if(!(0,S.vd)(Sr)||document.activeElement===Sr.target)return;const Kr=_r.get(br);if(!Kr)return;const{activatorNode:cn,node:Mn}=Kr;if(!cn.current&&!Mn.current)return;requestAnimationFrame(()=>{for(const Kn of[cn.current,Mn.current]){if(!Kn)continue;const Wn=(0,S.so)(Kn);if(Wn){Wn.focus();break}}})}},[nr,fe,_r,br,Sr]),null}function un(ee,fe){let _r=fe,{transform:Pe}=_r,nr=Ch(_r,["transform"]);return ee!=null&&ee.length?ee.reduce((Sr,br)=>br(wa({transform:Sr},nr)),Pe):Pe}function Fn(ee){return(0,m.useMemo)(()=>({draggable:wa(wa({},Xt.draggable),ee==null?void 0:ee.draggable),droppable:wa(wa({},Xt.droppable),ee==null?void 0:ee.droppable),dragOverlay:wa(wa({},Xt.dragOverlay),ee==null?void 0:ee.dragOverlay)}),[ee==null?void 0:ee.draggable,ee==null?void 0:ee.droppable,ee==null?void 0:ee.dragOverlay])}function sn(ee){let{activeNode:fe,measure:Pe,initialRect:nr,config:_r=!0}=ee;const Sr=(0,m.useRef)(!1),{x:br,y:Kr}=typeof _r=="boolean"?{x:_r,y:_r}:_r;(0,S.LI)(()=>{if(!br&&!Kr||!fe){Sr.current=!1;return}if(Sr.current||!nr)return;const Mn=fe==null?void 0:fe.node.current;if(!Mn||Mn.isConnected===!1)return;const Kn=Pe(Mn),Wn=H(Kn,nr);if(br||(Wn.x=0),Kr||(Wn.y=0),Sr.current=!0,Math.abs(Wn.x)>0||Math.abs(Wn.y)>0){const ra=re(Mn);ra&&ra.scrollBy({top:Wn.y,left:Wn.x})}},[fe,br,Kr,nr,Pe])}const Bn=(0,m.createContext)(so(wa({},X),{scaleX:1,scaleY:1}));var qn;(function(ee){ee[ee.Uninitialized=0]="Uninitialized",ee[ee.Initializing=1]="Initializing",ee[ee.Initialized=2]="Initialized"})(qn||(qn={}));const sa=(0,m.memo)(function(fe){var Pe,nr,_r,Sr;let Eu=fe,{id:br,accessibility:Kr,autoScroll:cn=!0,children:Mn,sensors:Kn=Mr,collisionDetection:Wn=ft,measuring:ra,modifiers:na}=Eu,Ua=Ch(Eu,["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"]);const ua=(0,m.useReducer)(en,void 0,cr),[Qn,Fa]=ua,[Da,xa]=y(),[li,Qa]=(0,m.useState)(qn.Uninitialized),Na=li===qn.Initialized,{draggable:{active:_a,nodes:va,translate:di},droppable:{containers:ni}}=Qn,hi=_a?va.get(_a):null,Ri=(0,m.useRef)({initial:null,translated:null}),Ii=(0,m.useMemo)(()=>{var Yi;return _a!=null?{id:_a,data:(Yi=hi==null?void 0:hi.data)!=null?Yi:ce,rect:Ri}:null},[_a,hi]),Gi=(0,m.useRef)(null),[Ao,Oo]=(0,m.useState)(null),[Ni,Ra]=(0,m.useState)(null),mi=(0,S.Ey)(Ua,Object.values(Ua)),ki=(0,S.Ld)("DndDescribedBy",br),Sa=(0,m.useMemo)(()=>ni.getEnabled(),[ni]),Ui=Fn(ra),{droppableRects:lo,measureDroppableContainers:Ai,measuringScheduled:Lo}=ut(Sa,{dragging:Na,dependencies:[di.x,di.y],config:Ui.droppable}),yi=Ut(va,_a),co=(0,m.useMemo)(()=>Ni?(0,S.DC)(Ni):null,[Ni]),Go=xu(),ts=O(yi,Ui.draggable.measure);sn({activeNode:_a?va.get(_a):null,config:Go.layoutShiftCompensation,initialRect:ts,measure:Ui.draggable.measure});const Wi=Ft(yi,Ui.draggable.measure,ts),Uo=Ft(yi?yi.parentElement:null),Wo=(0,m.useRef)({activatorEvent:null,active:null,activeNode:yi,collisionRect:null,collisions:null,droppableRects:lo,draggableNodes:va,draggingNode:null,draggingNodeRect:null,droppableContainers:ni,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),fs=ni.getNodeFor((Pe=Wo.current.over)==null?void 0:Pe.id),ha=Ar({measure:Ui.dragOverlay.measure}),Yt=(nr=ha.nodeRef.current)!=null?nr:yi,Le=Na?(_r=ha.rect)!=null?_r:Wi:null,qe=Boolean(ha.nodeRef.current&&ha.rect),mr=zt(qe?null:Wi),Zr=Lr(Yt?(0,S.Jj)(Yt):null),fn=_e(Na?fs!=null?fs:yi:null),zn=Ve(fn),Ia=un(na,{transform:{x:di.x-mr.x,y:di.y-mr.y,scaleX:1,scaleY:1},activatorEvent:Ni,active:Ii,activeNodeRect:Wi,containerNodeRect:Uo,draggingNodeRect:Le,over:Wo.current.over,overlayNodeRect:ha.rect,scrollableAncestors:fn,scrollableAncestorRects:zn,windowRect:Zr}),vi=co?(0,S.IH)(co,di):null,eo=me(fn),xo=Ue(eo),ds=Ue(eo,[Wi]),Di=(0,S.IH)(Ia,xo),ro=Le?bt(Le,Ia):null,Yo=Ii&&ro?Wn({active:Ii,collisionRect:ro,droppableRects:lo,droppableContainers:Sa,pointerCoordinates:vi}):null,hs=q(Yo,"id"),[qo,Es]=(0,m.useState)(null),As=qe?Ia:(0,S.IH)(Ia,ds),ws=wt(As,(Sr=qo==null?void 0:qo.rect)!=null?Sr:null,Wi),nu=(0,m.useCallback)((Yi,Eo)=>{let{sensor:Ro,options:h}=Eo;if(Gi.current==null)return;const Y=va.get(Gi.current);if(!Y)return;const Et=Yi.nativeEvent,Gt=new Ro({active:Gi.current,activeNode:Y,event:Et,options:h,context:Wo,onStart(de){const ve=Gi.current;if(ve==null)return;const Ce=va.get(ve);if(!Ce)return;const{onDragStart:De}=mi.current,Ye={active:{id:ve,data:Ce.data,rect:Ri}};(0,R.unstable_batchedUpdates)(()=>{De==null||De(Ye),Qa(qn.Initializing),Fa({type:k.DragStart,initialCoordinates:de,active:ve}),Da({type:"onDragStart",event:Ye})})},onMove(de){Fa({type:k.DragMove,coordinates:de})},onEnd:qt(k.DragEnd),onCancel:qt(k.DragCancel)});(0,R.unstable_batchedUpdates)(()=>{Oo(Gt),Ra(Yi.nativeEvent)});function qt(de){return function(){return B0(this,null,function*(){const{active:Ce,collisions:De,over:Ye,scrollAdjustedTranslate:sr}=Wo.current;let Br=null;if(Ce&&sr){const{cancelDrop:Wr}=mi.current;Br={activatorEvent:Et,active:Ce,collisions:De,delta:sr,over:Ye},de===k.DragEnd&&typeof Wr=="function"&&(yield Promise.resolve(Wr(Br)))&&(de=k.DragCancel)}Gi.current=null,(0,R.unstable_batchedUpdates)(()=>{Fa({type:de}),Qa(qn.Uninitialized),Es(null),Oo(null),Ra(null);const Wr=de===k.DragEnd?"onDragEnd":"onDragCancel";if(Br){const zr=mi.current[Wr];zr==null||zr(Br),Da({type:Wr,event:Br})}})})}}},[va]),Ko=(0,m.useCallback)((Yi,Eo)=>(Ro,h)=>{const Y=Ro.nativeEvent,Et=va.get(h);if(Gi.current!==null||!Et||Y.dndKit||Y.defaultPrevented)return;const Gt={active:Et};Yi(Ro,Eo.options,Gt)===!0&&(Y.dndKit={capturedBy:Eo.sensor},Gi.current=h,nu(Ro,Eo))},[va,nu]),is=vt(Kn,Ko);fr(Kn),(0,S.LI)(()=>{Wi&&li===qn.Initializing&&Qa(qn.Initialized)},[Wi,li]),(0,m.useEffect)(()=>{const{onDragMove:Yi}=mi.current,{active:Eo,activatorEvent:Ro,collisions:h,over:Y}=Wo.current;if(!Eo||!Ro)return;const Et={active:Eo,activatorEvent:Ro,collisions:h,delta:{x:Di.x,y:Di.y},over:Y};(0,R.unstable_batchedUpdates)(()=>{Yi==null||Yi(Et),Da({type:"onDragMove",event:Et})})},[Di.x,Di.y]),(0,m.useEffect)(()=>{const{active:Yi,activatorEvent:Eo,collisions:Ro,droppableContainers:h,scrollAdjustedTranslate:Y}=Wo.current;if(!Yi||Gi.current==null||!Eo||!Y)return;const{onDragOver:Et}=mi.current,Gt=h.get(hs),qt=Gt&&Gt.rect.current?{id:Gt.id,rect:Gt.rect.current,data:Gt.data,disabled:Gt.disabled}:null,de={active:Yi,activatorEvent:Eo,collisions:Ro,delta:{x:Y.x,y:Y.y},over:qt};(0,R.unstable_batchedUpdates)(()=>{Es(qt),Et==null||Et(de),Da({type:"onDragOver",event:de})})},[hs]),(0,S.LI)(()=>{Wo.current={activatorEvent:Ni,active:Ii,activeNode:yi,collisionRect:ro,collisions:Yo,droppableRects:lo,draggableNodes:va,draggingNode:Yt,draggingNodeRect:Le,droppableContainers:ni,over:qo,scrollableAncestors:fn,scrollAdjustedTranslate:Di},Ri.current={initial:Le,translated:ro}},[Ii,yi,Yo,ro,va,Yt,Le,lo,ni,qo,fn,Di]),Qt(so(wa({},Go),{delta:di,draggingRect:ro,pointerCoordinates:vi,scrollableAncestors:fn,scrollableAncestorRects:zn}));const vs=(0,m.useMemo)(()=>({active:Ii,activeNode:yi,activeNodeRect:Wi,activatorEvent:Ni,collisions:Yo,containerNodeRect:Uo,dragOverlay:ha,draggableNodes:va,droppableContainers:ni,droppableRects:lo,over:qo,measureDroppableContainers:Ai,scrollableAncestors:fn,scrollableAncestorRects:zn,measuringConfiguration:Ui,measuringScheduled:Lo,windowRect:Zr}),[Ii,yi,Wi,Ni,Yo,Uo,ha,va,ni,lo,qo,Ai,fn,zn,Ui,Lo,Zr]),No=(0,m.useMemo)(()=>({activatorEvent:Ni,activators:is,active:Ii,activeNodeRect:Wi,ariaDescribedById:{draggable:ki},dispatch:Fa,draggableNodes:va,over:qo,measureDroppableContainers:Ai}),[Ni,is,Ii,Wi,Fa,ki,va,qo,Ai]);return m.createElement(w.Provider,{value:xa},m.createElement(Ne.Provider,{value:No},m.createElement(ir.Provider,{value:vs},m.createElement(Bn.Provider,{value:ws},Mn)),m.createElement(Dn,{disabled:(Kr==null?void 0:Kr.restoreFocus)===!1})),m.createElement(D,so(wa({},Kr),{hiddenTextDescribedById:ki})));function xu(){const Yi=(Ao==null?void 0:Ao.autoScrollEnabled)===!1,Eo=typeof cn=="object"?cn.enabled===!1:cn===!1,Ro=Na&&!Yi&&!Eo;return typeof cn=="object"?so(wa({},cn),{enabled:Ro}):{enabled:Ro}}}),oa=(0,m.createContext)(null),Ti="button",oi="Droppable";function Va(ee){let{id:fe,data:Pe,disabled:nr=!1,attributes:_r}=ee;const Sr=(0,S.Ld)(oi),{activators:br,activatorEvent:Kr,active:cn,activeNodeRect:Mn,ariaDescribedById:Kn,draggableNodes:Wn,over:ra}=(0,m.useContext)(Ne),{role:na=Ti,roleDescription:Ua="draggable",tabIndex:ua=0}=_r!=null?_r:{},Qn=(cn==null?void 0:cn.id)===fe,Fa=(0,m.useContext)(Qn?Bn:oa),[Da,xa]=(0,S.wm)(),[li,Qa]=(0,S.wm)(),Na=je(br,fe),_a=(0,S.Ey)(Pe);(0,S.LI)(()=>(Wn.set(fe,{id:fe,key:Sr,node:Da,activatorNode:li,data:_a}),()=>{const di=Wn.get(fe);di&&di.key===Sr&&Wn.delete(fe)}),[Wn,fe]);const va=(0,m.useMemo)(()=>({role:na,tabIndex:ua,"aria-disabled":nr,"aria-pressed":Qn&&na===Ti?!0:void 0,"aria-roledescription":Ua,"aria-describedby":Kn.draggable}),[nr,na,ua,Qn,Ua,Kn.draggable]);return{active:cn,activatorEvent:Kr,activeNodeRect:Mn,attributes:va,isDragging:Qn,listeners:nr?void 0:Na,node:Da,over:ra,setNodeRef:xa,setActivatorNodeRef:Qa,transform:Fa}}function ti(){return(0,m.useContext)(ir)}const zi="Droppable",si={timeout:25};function ui(ee){let{data:fe,disabled:Pe=!1,id:nr,resizeObserverConfig:_r}=ee;const Sr=(0,S.Ld)(zi),{active:br,dispatch:Kr,over:cn,measureDroppableContainers:Mn}=(0,m.useContext)(Ne),Kn=(0,m.useRef)({disabled:Pe}),Wn=(0,m.useRef)(!1),ra=(0,m.useRef)(null),na=(0,m.useRef)(null),{disabled:Ua,updateMeasurementsFor:ua,timeout:Qn}=wa(wa({},si),_r),Fa=(0,S.Ey)(ua!=null?ua:nr),Da=(0,m.useCallback)(()=>{if(!Wn.current){Wn.current=!0;return}na.current!=null&&clearTimeout(na.current),na.current=setTimeout(()=>{Mn(Array.isArray(Fa.current)?Fa.current:[Fa.current]),na.current=null},Qn)},[Qn]),xa=$({callback:Da,disabled:Ua||!br}),li=(0,m.useCallback)((va,di)=>{xa&&(di&&(xa.unobserve(di),Wn.current=!1),va&&xa.observe(va))},[xa]),[Qa,Na]=(0,S.wm)(li),_a=(0,S.Ey)(fe);return(0,m.useEffect)(()=>{!xa||!Qa.current||(xa.disconnect(),Wn.current=!1,xa.observe(Qa.current))},[Qa,xa]),(0,S.LI)(()=>(Kr({type:k.RegisterDroppable,element:{id:nr,key:Sr,disabled:Pe,node:Qa,rect:ra,data:_a}}),()=>Kr({type:k.UnregisterDroppable,key:Sr,id:nr})),[nr]),(0,m.useEffect)(()=>{Pe!==Kn.current.disabled&&(Kr({type:k.SetDroppableDisabled,id:nr,key:Sr,disabled:Pe}),Kn.current.disabled=Pe)},[nr,Sr,Pe,Kr]),{active:br,rect:ra,isOver:(cn==null?void 0:cn.id)===nr,node:Qa,over:cn,setNodeRef:Na}}function ba(ee){let{animation:fe,children:Pe}=ee;const[nr,_r]=useState(null),[Sr,br]=useState(null),Kr=usePrevious(Pe);return!Pe&&!nr&&Kr&&_r(Kr),useIsomorphicLayoutEffect(()=>{if(!Sr)return;const cn=nr==null?void 0:nr.key,Mn=nr==null?void 0:nr.props.id;if(cn==null||Mn==null){_r(null);return}Promise.resolve(fe(Mn,Sr)).then(()=>{_r(null)})},[fe,nr,Sr]),React.createElement(React.Fragment,null,Pe,nr?cloneElement(nr,{ref:br}):null)}const qi={x:0,y:0,scaleX:1,scaleY:1};function Co(ee){let{children:fe}=ee;return React.createElement(Ne.Provider,{value:be},React.createElement(Bn.Provider,{value:qi},fe))}const Ba={position:"fixed",touchAction:"none"},Ji=ee=>isKeyboardEvent(ee)?"transform 250ms ease":void 0,uo=null,Si={duration:250,easing:"ease",keyframes:ee=>{let{transform:{initial:fe,final:Pe}}=ee;return[{transform:S.ux.Transform.toString(fe)},{transform:S.ux.Transform.toString(Pe)}]},sideEffects:(ee=>fe=>{let{active:Pe,dragOverlay:nr}=fe;const _r={},{styles:Sr,className:br}=ee;if(Sr!=null&&Sr.active)for(const[Kr,cn]of Object.entries(Sr.active))cn!==void 0&&(_r[Kr]=Pe.node.style.getPropertyValue(Kr),Pe.node.style.setProperty(Kr,cn));if(Sr!=null&&Sr.dragOverlay)for(const[Kr,cn]of Object.entries(Sr.dragOverlay))cn!==void 0&&nr.node.style.setProperty(Kr,cn);return br!=null&&br.active&&Pe.node.classList.add(br.active),br!=null&&br.dragOverlay&&nr.node.classList.add(br.dragOverlay),function(){for(const[cn,Mn]of Object.entries(_r))Pe.node.style.setProperty(cn,Mn);br!=null&&br.active&&Pe.node.classList.remove(br.active)}})({styles:{active:{opacity:"0"}}})};function Po(ee){let{config:fe,draggableNodes:Pe,droppableContainers:nr,measuringConfiguration:_r}=ee;return useEvent((Sr,br)=>{if(fe===null)return;const Kr=Pe.get(Sr);if(!Kr)return;const cn=Kr.node.current;if(!cn)return;const Mn=or(br);if(!Mn)return;const{transform:Kn}=getWindow(br).getComputedStyle(br),Wn=Ct(Kn);if(!Wn)return;const ra=typeof fe=="function"?fe:bo(fe);return Or(cn,_r.draggable.measure),ra({active:{id:Sr,data:Kr.data,node:cn,rect:_r.draggable.measure(cn)},draggableNodes:Pe,dragOverlay:{node:br,rect:_r.dragOverlay.measure(Mn)},droppableContainers:nr,measuringConfiguration:_r,transform:Wn})})}function bo(ee){const{duration:fe,easing:Pe,sideEffects:nr,keyframes:_r}=wa(wa({},Si),ee);return Sr=>{let Da=Sr,{active:br,dragOverlay:Kr,transform:cn}=Da,Mn=Ch(Da,["active","dragOverlay","transform"]);if(!fe)return;const Kn={x:Kr.rect.left-br.rect.left,y:Kr.rect.top-br.rect.top},Wn={scaleX:cn.scaleX!==1?br.rect.width*cn.scaleX/Kr.rect.width:1,scaleY:cn.scaleY!==1?br.rect.height*cn.scaleY/Kr.rect.height:1},ra=wa({x:cn.x-Kn.x,y:cn.y-Kn.y},Wn),na=_r(so(wa({},Mn),{active:br,dragOverlay:Kr,transform:{initial:cn,final:ra}})),[Ua]=na,ua=na[na.length-1];if(JSON.stringify(Ua)===JSON.stringify(ua))return;const Qn=nr==null?void 0:nr(wa({active:br,dragOverlay:Kr},Mn)),Fa=Kr.node.animate(na,{duration:fe,easing:Pe,fill:"forwards"});return new Promise(xa=>{Fa.onfinish=()=>{Qn==null||Qn(),xa()}})}}let Za=0;function Mi(ee){return useMemo(()=>{if(ee!=null)return Za++,Za},[ee])}const Hn=null},245587:function(ze,G,C){"use strict";C.d(G,{Fo:function(){return z},PG:function(){return y},Rp:function(){return M},nB:function(){return ot},qw:function(){return b}});var m=C(667294),R=C(960887),S=C(724285);function M(Q,bt,Ct){const nt=Q.slice();return nt.splice(Ct<0?nt.length+Ct:Ct,0,nt.splice(bt,1)[0]),nt}function L(Q,bt,Ct){const nt=Q.slice();return nt[bt]=Q[Ct],nt[Ct]=Q[bt],nt}function P(Q,bt){return Q.reduce((Ct,nt,dt)=>{const Tt=bt.get(nt);return Tt&&(Ct[dt]=Tt),Ct},Array(Q.length))}function p(Q){return Q!==null&&Q>=0}function g(Q,bt){if(Q===bt)return!0;if(Q.length!==bt.length)return!1;for(let Ct=0;Ct<Q.length;Ct++)if(Q[Ct]!==bt[Ct])return!1;return!0}function w(Q){return typeof Q=="boolean"?{draggable:Q,droppable:Q}:Q}const x={scaleX:1,scaleY:1},y=Q=>{var bt;let{rects:Ct,activeNodeRect:nt,activeIndex:dt,overIndex:Tt,index:At}=Q;const xt=(bt=Ct[dt])!=null?bt:nt;if(!xt)return null;const Dt=T(Ct,At,dt);if(At===dt){const Ht=Ct[Tt];return Ht?wa({x:dt<Tt?Ht.left+Ht.width-(xt.left+xt.width):Ht.left-xt.left,y:0},x):null}return At>dt&&At<=Tt?wa({x:-xt.width-Dt,y:0},x):At<dt&&At>=Tt?wa({x:xt.width+Dt,y:0},x):wa({x:0,y:0},x)};function T(Q,bt,Ct){const nt=Q[bt],dt=Q[bt-1],Tt=Q[bt+1];return!nt||!dt&&!Tt?0:Ct<bt?dt?nt.left-(dt.left+dt.width):Tt.left-(nt.left+nt.width):Tt?Tt.left-(nt.left+nt.width):nt.left-(dt.left+dt.width)}const E=Q=>{let{rects:bt,activeIndex:Ct,overIndex:nt,index:dt}=Q;const Tt=M(bt,nt,Ct),At=bt[dt],xt=Tt[dt];return!xt||!At?null:{x:xt.left-At.left,y:xt.top-At.top,scaleX:xt.width/At.width,scaleY:xt.height/At.height}},D=Q=>{let{activeIndex:bt,index:Ct,rects:nt,overIndex:dt}=Q,Tt,At;return Ct===bt&&(Tt=nt[Ct],At=nt[dt]),Ct===dt&&(Tt=nt[Ct],At=nt[bt]),!At||!Tt?null:{x:At.left-Tt.left,y:At.top-Tt.top,scaleX:At.width/Tt.width,scaleY:At.height/Tt.height}},k={scaleX:1,scaleY:1},b=Q=>{var bt;let{activeIndex:Ct,activeNodeRect:nt,index:dt,rects:Tt,overIndex:At}=Q;const xt=(bt=Tt[Ct])!=null?bt:nt;if(!xt)return null;if(dt===Ct){const Ht=Tt[At];return Ht?wa({x:0,y:Ct<At?Ht.top+Ht.height-(xt.top+xt.height):Ht.top-xt.top},k):null}const Dt=f(Tt,dt,Ct);return dt>Ct&&dt<=At?wa({x:0,y:-xt.height-Dt},k):dt<Ct&&dt>=At?wa({x:0,y:xt.height+Dt},k):wa({x:0,y:0},k)};function f(Q,bt,Ct){const nt=Q[bt],dt=Q[bt-1],Tt=Q[bt+1];return nt?Ct<bt?dt?nt.top-(dt.top+dt.height):Tt?Tt.top-(nt.top+nt.height):0:Tt?Tt.top-(nt.top+nt.height):dt?nt.top-(dt.top+dt.height):0:0}const W="Sortable",X=m.createContext({activeIndex:-1,containerId:W,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:E,disabled:{draggable:!1,droppable:!1}});function z(Q){let{children:bt,id:Ct,items:nt,strategy:dt=E,disabled:Tt=!1}=Q;const{active:At,dragOverlay:xt,droppableRects:Dt,over:Ht,measureDroppableContainers:se}=(0,R.Cj)(),re=(0,S.Ld)(W,Ct),It=Boolean(xt.rect!==null),ne=(0,m.useMemo)(()=>nt.map(Fe=>typeof Fe=="object"&&"id"in Fe?Fe.id:Fe),[nt]),pe=At!=null,Wt=At?ne.indexOf(At.id):-1,Jt=Ht?ne.indexOf(Ht.id):-1,$t=(0,m.useRef)(ne),Kt=!g(ne,$t.current),ue=Jt!==-1&&Wt===-1||Kt,Se=w(Tt);(0,S.LI)(()=>{Kt&&pe&&se(ne)},[Kt,ne,pe,se]),(0,m.useEffect)(()=>{$t.current=ne},[ne]);const Pt=(0,m.useMemo)(()=>({activeIndex:Wt,containerId:re,disabled:Se,disableTransforms:ue,items:ne,overIndex:Jt,useDragOverlay:It,sortedRects:P(ne,Dt),strategy:dt}),[Wt,re,Se.draggable,Se.droppable,ue,ne,Jt,Dt,It,dt]);return m.createElement(X.Provider,{value:Pt},bt)}const U=Q=>{let{id:bt,items:Ct,activeIndex:nt,overIndex:dt}=Q;return M(Ct,nt,dt).indexOf(bt)},j=Q=>{let{containerId:bt,isSorting:Ct,wasDragging:nt,index:dt,items:Tt,newIndex:At,previousItems:xt,previousContainerId:Dt,transition:Ht}=Q;return!Ht||!nt||xt!==Tt&&dt===At?!1:Ct?!0:At!==dt&&bt===Dt},V={duration:200,easing:"ease"},J="transform",q=S.ux.Transition.toString({property:J,duration:0,easing:"linear"}),et={roleDescription:"sortable"};function st(Q){let{disabled:bt,index:Ct,node:nt,rect:dt}=Q;const[Tt,At]=(0,m.useState)(null),xt=(0,m.useRef)(Ct);return(0,S.LI)(()=>{if(!bt&&Ct!==xt.current&&nt.current){const Dt=dt.current;if(Dt){const Ht=(0,R.VK)(nt.current,{ignoreTransform:!0}),se={x:Dt.left-Ht.left,y:Dt.top-Ht.top,scaleX:Dt.width/Ht.width,scaleY:Dt.height/Ht.height};(se.x||se.y)&&At(se)}}Ct!==xt.current&&(xt.current=Ct)},[bt,Ct,nt,dt]),(0,m.useEffect)(()=>{Tt&&At(null)},[Tt]),Tt}function ot(Q){let{animateLayoutChanges:bt=j,attributes:Ct,disabled:nt,data:dt,getNewIndex:Tt=U,id:At,strategy:xt,resizeObserverConfig:Dt,transition:Ht=V}=Q;const{items:se,containerId:re,activeIndex:It,disabled:ne,disableTransforms:pe,sortedRects:Wt,overIndex:Jt,useDragOverlay:$t,strategy:Kt}=(0,m.useContext)(X),ue=mt(nt,ne),Se=se.indexOf(At),Pt=(0,m.useMemo)(()=>wa({sortable:{containerId:re,index:Se,items:se}},dt),[re,dt,Se,se]),Fe=(0,m.useMemo)(()=>se.slice(se.indexOf(At)),[se,At]),{rect:vr,node:Tr,isOver:Or,setNodeRef:Fr}=(0,R.Zj)({id:At,data:Pt,disabled:ue.droppable,resizeObserverConfig:wa({updateMeasurementsFor:Fe},Dt)}),{active:nn,activatorEvent:an,activeNodeRect:er,attributes:Rr,setNodeRef:qr,listeners:xr,isDragging:Gr,over:Dr,setActivatorNodeRef:We,transform:Je}=(0,R.O1)({id:At,data:Pt,attributes:wa(wa({},et),Ct),disabled:ue.draggable}),gn=(0,S.HB)(Fr,qr),rr=Boolean(nn),jr=rr&&!pe&&p(It)&&p(Jt),Nr=!$t&&Gr,kn=Nr&&jr?Je:null,on=xt!=null?xt:Kt,dn=jr?kn!=null?kn:on({rects:Wt,activeNodeRect:er,activeIndex:It,overIndex:Jt,index:Se}):null,En=p(It)&&p(Jt)?Tt({id:At,items:se,activeIndex:It,overIndex:Jt}):Se,Pn=nn==null?void 0:nn.id,Nn=(0,m.useRef)({activeId:Pn,items:se,newIndex:En,containerId:re}),at=se!==Nn.current.items,Xe=bt({active:nn,containerId:re,isDragging:Gr,isSorting:rr,id:At,index:Se,items:se,newIndex:Nn.current.newIndex,previousItems:Nn.current.items,previousContainerId:Nn.current.containerId,transition:Ht,wasDragging:Nn.current.activeId!=null}),Zt=st({disabled:!Xe,index:Se,node:Tr,rect:vr});return(0,m.useEffect)(()=>{rr&&Nn.current.newIndex!==En&&(Nn.current.newIndex=En),re!==Nn.current.containerId&&(Nn.current.containerId=re),se!==Nn.current.items&&(Nn.current.items=se)},[rr,En,re,se]),(0,m.useEffect)(()=>{if(Pn===Nn.current.activeId)return;if(Pn&&!Nn.current.activeId){Nn.current.activeId=Pn;return}const Mt=setTimeout(()=>{Nn.current.activeId=Pn},50);return()=>clearTimeout(Mt)},[Pn]),{active:nn,activeIndex:It,attributes:Rr,data:Pt,rect:vr,index:Se,newIndex:En,items:se,isOver:Or,isSorting:rr,isDragging:Gr,listeners:xr,node:Tr,overIndex:Jt,over:Dr,setNodeRef:gn,setActivatorNodeRef:We,setDroppableNodeRef:Fr,setDraggableNodeRef:qr,transform:Zt!=null?Zt:dn,transition:Qt()};function Qt(){if(Zt||at&&Nn.current.newIndex===Se)return q;if(!(Nr&&!(0,S.vd)(an)||!Ht)&&(rr||Xe))return S.ux.Transition.toString(so(wa({},Ht),{property:J}))}}function mt(Q,bt){var Ct,nt;return typeof Q=="boolean"?{draggable:Q,droppable:!1}:{draggable:(Ct=Q==null?void 0:Q.draggable)!=null?Ct:bt.draggable,droppable:(nt=Q==null?void 0:Q.droppable)!=null?nt:bt.droppable}}function ft(Q){if(!Q)return!1;const bt=Q.data.current;return!!(bt&&"sortable"in bt&&typeof bt.sortable=="object"&&"containerId"in bt.sortable&&"items"in bt.sortable&&"index"in bt.sortable)}const Bt=[R.g4.Down,R.g4.Right,R.g4.Up,R.g4.Left],St=(Q,bt)=>{let{context:{active:Ct,collisionRect:nt,droppableRects:dt,droppableContainers:Tt,over:At,scrollableAncestors:xt}}=bt;if(Bt.includes(Q.code)){if(Q.preventDefault(),!Ct||!nt)return;const Dt=[];Tt.getEnabled().forEach(re=>{if(!re||re!=null&&re.disabled)return;const It=dt.get(re.id);if(It)switch(Q.code){case KeyboardCode.Down:nt.top<It.top&&Dt.push(re);break;case KeyboardCode.Up:nt.top>It.top&&Dt.push(re);break;case KeyboardCode.Left:nt.left>It.left&&Dt.push(re);break;case KeyboardCode.Right:nt.left<It.left&&Dt.push(re);break}});const Ht=closestCorners({active:Ct,collisionRect:nt,droppableRects:dt,droppableContainers:Dt,pointerCoordinates:null});let se=getFirstCollision(Ht,"id");if(se===(At==null?void 0:At.id)&&Ht.length>1&&(se=Ht[1].id),se!=null){const re=Tt.get(Ct.id),It=Tt.get(se),ne=It?dt.get(It.id):null,pe=It==null?void 0:It.node.current;if(pe&&ne&&re&&It){const Jt=getScrollableAncestors(pe).some((Fe,vr)=>xt[vr]!==Fe),$t=wt(re,It),Kt=H(re,It),ue=Jt||!$t?{x:0,y:0}:{x:Kt?nt.width-ne.width:0,y:Kt?nt.height-ne.height:0},Se={x:ne.left,y:ne.top};return ue.x&&ue.y?Se:subtract(Se,ue)}}}};function wt(Q,bt){return!ft(Q)||!ft(bt)?!1:Q.data.current.sortable.containerId===bt.data.current.sortable.containerId}function H(Q,bt){return!ft(Q)||!ft(bt)||!wt(Q,bt)?!1:Q.data.current.sortable.index<bt.data.current.sortable.index}},724285:function(ze,G,C){"use strict";C.d(G,{$X:function(){return j},D9:function(){return f},DC:function(){return et},Ey:function(){return D},FJ:function(){return M},Gj:function(){return k},HB:function(){return R},IH:function(){return U},Jj:function(){return P},LI:function(){return y},Ld:function(){return X},Nq:function(){return S},Re:function(){return g},UG:function(){return L},Yz:function(){return E},qk:function(){return p},r3:function(){return x},so:function(){return mt},ux:function(){return st},vZ:function(){return w},vd:function(){return J},wm:function(){return b},zX:function(){return T}});var m=C(667294);function R(){for(var ft=arguments.length,Bt=new Array(ft),St=0;St<ft;St++)Bt[St]=arguments[St];return(0,m.useMemo)(()=>wt=>{Bt.forEach(H=>H(wt))},Bt)}const S=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function M(ft){const Bt=Object.prototype.toString.call(ft);return Bt==="[object Window]"||Bt==="[object global]"}function L(ft){return"nodeType"in ft}function P(ft){var Bt,St;return ft?M(ft)?ft:L(ft)&&(Bt=(St=ft.ownerDocument)==null?void 0:St.defaultView)!=null?Bt:window:window}function p(ft){const{Document:Bt}=P(ft);return ft instanceof Bt}function g(ft){return M(ft)?!1:ft instanceof P(ft).HTMLElement}function w(ft){return ft instanceof P(ft).SVGElement}function x(ft){return ft?M(ft)?ft.document:L(ft)?p(ft)?ft:g(ft)?ft.ownerDocument:document:document:document}const y=S?m.useLayoutEffect:m.useEffect;function T(ft){const Bt=(0,m.useRef)(ft);return y(()=>{Bt.current=ft}),(0,m.useCallback)(function(){for(var St=arguments.length,wt=new Array(St),H=0;H<St;H++)wt[H]=arguments[H];return Bt.current==null?void 0:Bt.current(...wt)},[])}function E(){const ft=(0,m.useRef)(null),Bt=(0,m.useCallback)((wt,H)=>{ft.current=setInterval(wt,H)},[]),St=(0,m.useCallback)(()=>{ft.current!==null&&(clearInterval(ft.current),ft.current=null)},[]);return[Bt,St]}function D(ft,Bt){Bt===void 0&&(Bt=[ft]);const St=(0,m.useRef)(ft);return y(()=>{St.current!==ft&&(St.current=ft)},Bt),St}function k(ft,Bt){const St=(0,m.useRef)();return(0,m.useMemo)(()=>{const wt=ft(St.current);return St.current=wt,wt},[...Bt])}function b(ft){const Bt=T(ft),St=(0,m.useRef)(null),wt=(0,m.useCallback)(H=>{H!==St.current&&(Bt==null||Bt(H,St.current)),St.current=H},[]);return[St,wt]}function f(ft){const Bt=(0,m.useRef)();return(0,m.useEffect)(()=>{Bt.current=ft},[ft]),Bt.current}let W={};function X(ft,Bt){return(0,m.useMemo)(()=>{if(Bt)return Bt;const St=W[ft]==null?0:W[ft]+1;return W[ft]=St,ft+"-"+St},[ft,Bt])}function z(ft){return function(Bt){for(var St=arguments.length,wt=new Array(St>1?St-1:0),H=1;H<St;H++)wt[H-1]=arguments[H];return wt.reduce((Q,bt)=>{const Ct=Object.entries(bt);for(const[nt,dt]of Ct){const Tt=Q[nt];Tt!=null&&(Q[nt]=Tt+ft*dt)}return Q},wa({},Bt))}}const U=z(1),j=z(-1);function V(ft){return"clientX"in ft&&"clientY"in ft}function J(ft){if(!ft)return!1;const{KeyboardEvent:Bt}=P(ft.target);return Bt&&ft instanceof Bt}function q(ft){if(!ft)return!1;const{TouchEvent:Bt}=P(ft.target);return Bt&&ft instanceof Bt}function et(ft){if(q(ft)){if(ft.touches&&ft.touches.length){const{clientX:Bt,clientY:St}=ft.touches[0];return{x:Bt,y:St}}else if(ft.changedTouches&&ft.changedTouches.length){const{clientX:Bt,clientY:St}=ft.changedTouches[0];return{x:Bt,y:St}}}return V(ft)?{x:ft.clientX,y:ft.clientY}:null}const st=Object.freeze({Translate:{toString(ft){if(!ft)return;const{x:Bt,y:St}=ft;return"translate3d("+(Bt?Math.round(Bt):0)+"px, "+(St?Math.round(St):0)+"px, 0)"}},Scale:{toString(ft){if(!ft)return;const{scaleX:Bt,scaleY:St}=ft;return"scaleX("+Bt+") scaleY("+St+")"}},Transform:{toString(ft){if(ft)return[st.Translate.toString(ft),st.Scale.toString(ft)].join(" ")}},Transition:{toString(ft){let{property:Bt,duration:St,easing:wt}=ft;return Bt+" "+St+"ms "+wt}}}),ot="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function mt(ft){return ft.matches(ot)?ft:ft.querySelector(ot)}},971497:function(ze,G,C){"use strict";C.r(G),C.d(G,{forceCenter:function(){return m},forceCollide:function(){return p},forceLink:function(){return T},forceManyBody:function(){return ft},forceRadial:function(){return Bt},forceSimulation:function(){return mt},forceX:function(){return St},forceY:function(){return wt}});function m(H,Q){var bt,Ct=1;H==null&&(H=0),Q==null&&(Q=0);function nt(){var dt,Tt=bt.length,At,xt=0,Dt=0;for(dt=0;dt<Tt;++dt)At=bt[dt],xt+=At.x,Dt+=At.y;for(xt=(xt/Tt-H)*Ct,Dt=(Dt/Tt-Q)*Ct,dt=0;dt<Tt;++dt)At=bt[dt],At.x-=xt,At.y-=Dt}return nt.initialize=function(dt){bt=dt},nt.x=function(dt){return arguments.length?(H=+dt,nt):H},nt.y=function(dt){return arguments.length?(Q=+dt,nt):Q},nt.strength=function(dt){return arguments.length?(Ct=+dt,nt):Ct},nt}var R=C(547148);function S(H){return function(){return H}}function M(H){return(H()-.5)*1e-6}function L(H){return H.x+H.vx}function P(H){return H.y+H.vy}function p(H){var Q,bt,Ct,nt=1,dt=1;typeof H!="function"&&(H=S(H==null?1:+H));function Tt(){for(var Dt,Ht=Q.length,se,re,It,ne,pe,Wt,Jt=0;Jt<dt;++Jt)for(se=(0,R.Z)(Q,L,P).visitAfter(At),Dt=0;Dt<Ht;++Dt)re=Q[Dt],pe=bt[re.index],Wt=pe*pe,It=re.x+re.vx,ne=re.y+re.vy,se.visit($t);function $t(Kt,ue,Se,Pt,Fe){var vr=Kt.data,Tr=Kt.r,Or=pe+Tr;if(vr){if(vr.index>re.index){var Fr=It-vr.x-vr.vx,nn=ne-vr.y-vr.vy,an=Fr*Fr+nn*nn;an<Or*Or&&(Fr===0&&(Fr=M(Ct),an+=Fr*Fr),nn===0&&(nn=M(Ct),an+=nn*nn),an=(Or-(an=Math.sqrt(an)))/an*nt,re.vx+=(Fr*=an)*(Or=(Tr*=Tr)/(Wt+Tr)),re.vy+=(nn*=an)*Or,vr.vx-=Fr*(Or=1-Or),vr.vy-=nn*Or)}return}return ue>It+Or||Pt<It-Or||Se>ne+Or||Fe<ne-Or}}function At(Dt){if(Dt.data)return Dt.r=bt[Dt.data.index];for(var Ht=Dt.r=0;Ht<4;++Ht)Dt[Ht]&&Dt[Ht].r>Dt.r&&(Dt.r=Dt[Ht].r)}function xt(){if(Q){var Dt,Ht=Q.length,se;for(bt=new Array(Ht),Dt=0;Dt<Ht;++Dt)se=Q[Dt],bt[se.index]=+H(se,Dt,Q)}}return Tt.initialize=function(Dt,Ht){Q=Dt,Ct=Ht,xt()},Tt.iterations=function(Dt){return arguments.length?(dt=+Dt,Tt):dt},Tt.strength=function(Dt){return arguments.length?(nt=+Dt,Tt):nt},Tt.radius=function(Dt){return arguments.length?(H=typeof Dt=="function"?Dt:S(+Dt),xt(),Tt):H},Tt}var g=C(918698),w=C.n(g);function x(H){return H.index}function y(H,Q){var bt=H.get(Q);if(!bt)throw new Error("node not found: "+Q);return bt}function T(H){var Q=x,bt=se,Ct,nt=S(30),dt,Tt,At,xt,Dt,Ht=1;H==null&&(H=[]);function se(Wt){return 1/Math.min(At[Wt.source.index],At[Wt.target.index])}function re(Wt){for(var Jt=0,$t=H.length;Jt<Ht;++Jt)for(var Kt=0,ue,Se,Pt,Fe,vr,Tr,Or;Kt<$t;++Kt)ue=H[Kt],Se=ue.source,Pt=ue.target,Fe=Pt.x+Pt.vx-Se.x-Se.vx||M(Dt),vr=Pt.y+Pt.vy-Se.y-Se.vy||M(Dt),Tr=Math.sqrt(Fe*Fe+vr*vr),Tr=(Tr-dt[Kt])/Tr*Wt*Ct[Kt],Fe*=Tr,vr*=Tr,Pt.vx-=Fe*(Or=xt[Kt]),Pt.vy-=vr*Or,Se.vx+=Fe*(Or=1-Or),Se.vy+=vr*Or}function It(){if(Tt){var Wt,Jt=Tt.length,$t=H.length,Kt=new Map(Tt.map(function(Se,Pt){return[Q(Se,Pt,Tt),Se]})),ue;for(Wt=0,At=new Array(Jt);Wt<$t;++Wt)ue=H[Wt],ue.index=Wt,w()(ue.source)!=="object"&&(ue.source=y(Kt,ue.source)),w()(ue.target)!=="object"&&(ue.target=y(Kt,ue.target)),At[ue.source.index]=(At[ue.source.index]||0)+1,At[ue.target.index]=(At[ue.target.index]||0)+1;for(Wt=0,xt=new Array($t);Wt<$t;++Wt)ue=H[Wt],xt[Wt]=At[ue.source.index]/(At[ue.source.index]+At[ue.target.index]);Ct=new Array($t),ne(),dt=new Array($t),pe()}}function ne(){if(Tt)for(var Wt=0,Jt=H.length;Wt<Jt;++Wt)Ct[Wt]=+bt(H[Wt],Wt,H)}function pe(){if(Tt)for(var Wt=0,Jt=H.length;Wt<Jt;++Wt)dt[Wt]=+nt(H[Wt],Wt,H)}return re.initialize=function(Wt,Jt){Tt=Wt,Dt=Jt,It()},re.links=function(Wt){return arguments.length?(H=Wt,It(),re):H},re.id=function(Wt){return arguments.length?(Q=Wt,re):Q},re.iterations=function(Wt){return arguments.length?(Ht=+Wt,re):Ht},re.strength=function(Wt){return arguments.length?(bt=typeof Wt=="function"?Wt:S(+Wt),ne(),re):bt},re.distance=function(Wt){return arguments.length?(nt=typeof Wt=="function"?Wt:S(+Wt),pe(),re):nt},re}var E={value:function(){}};function D(){for(var H=0,Q=arguments.length,bt={},Ct;H<Q;++H){if(!(Ct=arguments[H]+"")||Ct in bt||/[\s.]/.test(Ct))throw new Error("illegal type: "+Ct);bt[Ct]=[]}return new k(bt)}function k(H){this._=H}function b(H,Q){return H.trim().split(/^|\s+/).map(function(bt){var Ct="",nt=bt.indexOf(".");if(nt>=0&&(Ct=bt.slice(nt+1),bt=bt.slice(0,nt)),bt&&!Q.hasOwnProperty(bt))throw new Error("unknown type: "+bt);return{type:bt,name:Ct}})}k.prototype=D.prototype={constructor:k,on:function(Q,bt){var Ct=this._,nt=b(Q+"",Ct),dt,Tt=-1,At=nt.length;if(arguments.length<2){for(;++Tt<At;)if((dt=(Q=nt[Tt]).type)&&(dt=f(Ct[dt],Q.name)))return dt;return}if(bt!=null&&typeof bt!="function")throw new Error("invalid callback: "+bt);for(;++Tt<At;)if(dt=(Q=nt[Tt]).type)Ct[dt]=W(Ct[dt],Q.name,bt);else if(bt==null)for(dt in Ct)Ct[dt]=W(Ct[dt],Q.name,null);return this},copy:function(){var Q={},bt=this._;for(var Ct in bt)Q[Ct]=bt[Ct].slice();return new k(Q)},call:function(Q,bt){if((dt=arguments.length-2)>0)for(var Ct=new Array(dt),nt=0,dt,Tt;nt<dt;++nt)Ct[nt]=arguments[nt+2];if(!this._.hasOwnProperty(Q))throw new Error("unknown type: "+Q);for(Tt=this._[Q],nt=0,dt=Tt.length;nt<dt;++nt)Tt[nt].value.apply(bt,Ct)},apply:function(Q,bt,Ct){if(!this._.hasOwnProperty(Q))throw new Error("unknown type: "+Q);for(var nt=this._[Q],dt=0,Tt=nt.length;dt<Tt;++dt)nt[dt].value.apply(bt,Ct)}};function f(H,Q){for(var bt=0,Ct=H.length,nt;bt<Ct;++bt)if((nt=H[bt]).name===Q)return nt.value}function W(H,Q,bt){for(var Ct=0,nt=H.length;Ct<nt;++Ct)if(H[Ct].name===Q){H[Ct]=E,H=H.slice(0,Ct).concat(H.slice(Ct+1));break}return bt!=null&&H.push({name:Q,value:bt}),H}var X=D,z=C(235374),U=1664525,j=1013904223,V=4294967296;function J(){var H=1;return function(){return(H=(U*H+j)%V)/V}}function q(H){return H.x}function et(H){return H.y}var st=10,ot=Math.PI*(3-Math.sqrt(5));function mt(H){var Q,bt=1,Ct=.001,nt=1-Math.pow(Ct,1/300),dt=0,Tt=.6,At=new Map,xt=(0,z.HT)(se),Dt=X("tick","end"),Ht=J();H==null&&(H=[]);function se(){re(),Dt.call("tick",Q),bt<Ct&&(xt.stop(),Dt.call("end",Q))}function re(pe){var Wt,Jt=H.length,$t;pe===void 0&&(pe=1);for(var Kt=0;Kt<pe;++Kt)for(bt+=(dt-bt)*nt,At.forEach(function(ue){ue(bt)}),Wt=0;Wt<Jt;++Wt)$t=H[Wt],$t.fx==null?$t.x+=$t.vx*=Tt:($t.x=$t.fx,$t.vx=0),$t.fy==null?$t.y+=$t.vy*=Tt:($t.y=$t.fy,$t.vy=0);return Q}function It(){for(var pe=0,Wt=H.length,Jt;pe<Wt;++pe){if(Jt=H[pe],Jt.index=pe,Jt.fx!=null&&(Jt.x=Jt.fx),Jt.fy!=null&&(Jt.y=Jt.fy),isNaN(Jt.x)||isNaN(Jt.y)){var $t=st*Math.sqrt(.5+pe),Kt=pe*ot;Jt.x=$t*Math.cos(Kt),Jt.y=$t*Math.sin(Kt)}(isNaN(Jt.vx)||isNaN(Jt.vy))&&(Jt.vx=Jt.vy=0)}}function ne(pe){return pe.initialize&&pe.initialize(H,Ht),pe}return It(),Q={tick:re,restart:function(){return xt.restart(se),Q},stop:function(){return xt.stop(),Q},nodes:function(Wt){return arguments.length?(H=Wt,It(),At.forEach(ne),Q):H},alpha:function(Wt){return arguments.length?(bt=+Wt,Q):bt},alphaMin:function(Wt){return arguments.length?(Ct=+Wt,Q):Ct},alphaDecay:function(Wt){return arguments.length?(nt=+Wt,Q):+nt},alphaTarget:function(Wt){return arguments.length?(dt=+Wt,Q):dt},velocityDecay:function(Wt){return arguments.length?(Tt=1-Wt,Q):1-Tt},randomSource:function(Wt){return arguments.length?(Ht=Wt,At.forEach(ne),Q):Ht},force:function(Wt,Jt){return arguments.length>1?(Jt==null?At.delete(Wt):At.set(Wt,ne(Jt)),Q):At.get(Wt)},find:function(Wt,Jt,$t){var Kt=0,ue=H.length,Se,Pt,Fe,vr,Tr;for($t==null?$t=1/0:$t*=$t,Kt=0;Kt<ue;++Kt)vr=H[Kt],Se=Wt-vr.x,Pt=Jt-vr.y,Fe=Se*Se+Pt*Pt,Fe<$t&&(Tr=vr,$t=Fe);return Tr},on:function(Wt,Jt){return arguments.length>1?(Dt.on(Wt,Jt),Q):Dt.on(Wt)}}}function ft(){var H,Q,bt,Ct,nt=S(-30),dt,Tt=1,At=1/0,xt=.81;function Dt(It){var ne,pe=H.length,Wt=(0,R.Z)(H,q,et).visitAfter(se);for(Ct=It,ne=0;ne<pe;++ne)Q=H[ne],Wt.visit(re)}function Ht(){if(H){var It,ne=H.length,pe;for(dt=new Array(ne),It=0;It<ne;++It)pe=H[It],dt[pe.index]=+nt(pe,It,H)}}function se(It){var ne=0,pe,Wt,Jt=0,$t,Kt,ue;if(It.length){for($t=Kt=ue=0;ue<4;++ue)(pe=It[ue])&&(Wt=Math.abs(pe.value))&&(ne+=pe.value,Jt+=Wt,$t+=Wt*pe.x,Kt+=Wt*pe.y);It.x=$t/Jt,It.y=Kt/Jt}else{pe=It,pe.x=pe.data.x,pe.y=pe.data.y;do ne+=dt[pe.data.index];while(pe=pe.next)}It.value=ne}function re(It,ne,pe,Wt){if(!It.value)return!0;var Jt=It.x-Q.x,$t=It.y-Q.y,Kt=Wt-ne,ue=Jt*Jt+$t*$t;if(Kt*Kt/xt<ue)return ue<At&&(Jt===0&&(Jt=M(bt),ue+=Jt*Jt),$t===0&&($t=M(bt),ue+=$t*$t),ue<Tt&&(ue=Math.sqrt(Tt*ue)),Q.vx+=Jt*It.value*Ct/ue,Q.vy+=$t*It.value*Ct/ue),!0;if(It.length||ue>=At)return;(It.data!==Q||It.next)&&(Jt===0&&(Jt=M(bt),ue+=Jt*Jt),$t===0&&($t=M(bt),ue+=$t*$t),ue<Tt&&(ue=Math.sqrt(Tt*ue)));do It.data!==Q&&(Kt=dt[It.data.index]*Ct/ue,Q.vx+=Jt*Kt,Q.vy+=$t*Kt);while(It=It.next)}return Dt.initialize=function(It,ne){H=It,bt=ne,Ht()},Dt.strength=function(It){return arguments.length?(nt=typeof It=="function"?It:S(+It),Ht(),Dt):nt},Dt.distanceMin=function(It){return arguments.length?(Tt=It*It,Dt):Math.sqrt(Tt)},Dt.distanceMax=function(It){return arguments.length?(At=It*It,Dt):Math.sqrt(At)},Dt.theta=function(It){return arguments.length?(xt=It*It,Dt):Math.sqrt(xt)},Dt}function Bt(H,Q,bt){var Ct,nt=S(.1),dt,Tt;typeof H!="function"&&(H=S(+H)),Q==null&&(Q=0),bt==null&&(bt=0);function At(Dt){for(var Ht=0,se=Ct.length;Ht<se;++Ht){var re=Ct[Ht],It=re.x-Q||1e-6,ne=re.y-bt||1e-6,pe=Math.sqrt(It*It+ne*ne),Wt=(Tt[Ht]-pe)*dt[Ht]*Dt/pe;re.vx+=It*Wt,re.vy+=ne*Wt}}function xt(){if(Ct){var Dt,Ht=Ct.length;for(dt=new Array(Ht),Tt=new Array(Ht),Dt=0;Dt<Ht;++Dt)Tt[Dt]=+H(Ct[Dt],Dt,Ct),dt[Dt]=isNaN(Tt[Dt])?0:+nt(Ct[Dt],Dt,Ct)}}return At.initialize=function(Dt){Ct=Dt,xt()},At.strength=function(Dt){return arguments.length?(nt=typeof Dt=="function"?Dt:S(+Dt),xt(),At):nt},At.radius=function(Dt){return arguments.length?(H=typeof Dt=="function"?Dt:S(+Dt),xt(),At):H},At.x=function(Dt){return arguments.length?(Q=+Dt,At):Q},At.y=function(Dt){return arguments.length?(bt=+Dt,At):bt},At}function St(H){var Q=S(.1),bt,Ct,nt;typeof H!="function"&&(H=S(H==null?0:+H));function dt(At){for(var xt=0,Dt=bt.length,Ht;xt<Dt;++xt)Ht=bt[xt],Ht.vx+=(nt[xt]-Ht.x)*Ct[xt]*At}function Tt(){if(bt){var At,xt=bt.length;for(Ct=new Array(xt),nt=new Array(xt),At=0;At<xt;++At)Ct[At]=isNaN(nt[At]=+H(bt[At],At,bt))?0:+Q(bt[At],At,bt)}}return dt.initialize=function(At){bt=At,Tt()},dt.strength=function(At){return arguments.length?(Q=typeof At=="function"?At:S(+At),Tt(),dt):Q},dt.x=function(At){return arguments.length?(H=typeof At=="function"?At:S(+At),Tt(),dt):H},dt}function wt(H){var Q=S(.1),bt,Ct,nt;typeof H!="function"&&(H=S(H==null?0:+H));function dt(At){for(var xt=0,Dt=bt.length,Ht;xt<Dt;++xt)Ht=bt[xt],Ht.vy+=(nt[xt]-Ht.y)*Ct[xt]*At}function Tt(){if(bt){var At,xt=bt.length;for(Ct=new Array(xt),nt=new Array(xt),At=0;At<xt;++At)Ct[At]=isNaN(nt[At]=+H(bt[At],At,bt))?0:+Q(bt[At],At,bt)}}return dt.initialize=function(At){bt=At,Tt()},dt.strength=function(At){return arguments.length?(Q=typeof At=="function"?At:S(+At),Tt(),dt):Q},dt.y=function(At){return arguments.length?(H=typeof At=="function"?At:S(+At),Tt(),dt):H},dt}},405237:function(ze,G,C){"use strict";C.r(G),C.d(G,{AbstractMatrix:function(){return ue},CHO:function(){return Rt},CholeskyDecomposition:function(){return Rt},EVD:function(){return Zt},EigenvalueDecomposition:function(){return Zt},LU:function(){return Je},LuDecomposition:function(){return Je},Matrix:function(){return Fe},MatrixColumnSelectionView:function(){return Or},MatrixColumnView:function(){return Tr},MatrixFlipColumnView:function(){return Fr},MatrixFlipRowView:function(){return nn},MatrixRowSelectionView:function(){return er},MatrixRowView:function(){return an},MatrixSelectionView:function(){return Rr},MatrixSubView:function(){return qr},MatrixTransposeView:function(){return xr},NIPALS:function(){return ae},Nipals:function(){return ae},QR:function(){return rr},QrDecomposition:function(){return rr},SVD:function(){return jr},SingularValueDecomposition:function(){return jr},WrapperMatrix1D:function(){return Gr},WrapperMatrix2D:function(){return Dr},correlation:function(){return Xe},covariance:function(){return at},default:function(){return Fe},determinant:function(){return on},inverse:function(){return Nr},linearDependencies:function(){return Pn},pseudoInverse:function(){return Nn},solve:function(){return kn},wrap:function(){return We}});var m=C(994993),R=C.n(m),S=C(861655),M=C.n(S),L=C(226389),P=C.n(L),p=C(918698),g=C.n(p),w=C(856690),x=C.n(w),y=C(689728),T=C.n(y);const E=Object.prototype.toString;function D(tt){return E.call(tt).endsWith("Array]")}function k(tt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!D(tt))throw new TypeError("input must be an array");if(tt.length===0)throw new TypeError("input must not be empty");var B=ut.fromIndex,O=B===void 0?0:B,_=ut.toIndex,$=_===void 0?tt.length:_;if(O<0||O>=tt.length||!Number.isInteger(O))throw new Error("fromIndex must be a positive integer smaller than length");if($<=O||$>tt.length||!Number.isInteger($))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var gt=tt[O],Ft=O+1;Ft<$;Ft++)tt[Ft]>gt&&(gt=tt[Ft]);return gt}function b(tt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!D(tt))throw new TypeError("input must be an array");if(tt.length===0)throw new TypeError("input must not be empty");var B=ut.fromIndex,O=B===void 0?0:B,_=ut.toIndex,$=_===void 0?tt.length:_;if(O<0||O>=tt.length||!Number.isInteger(O))throw new Error("fromIndex must be a positive integer smaller than length");if($<=O||$>tt.length||!Number.isInteger($))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var gt=tt[O],Ft=O+1;Ft<$;Ft++)tt[Ft]<gt&&(gt=tt[Ft]);return gt}function f(tt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(D(tt)){if(tt.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var B;if(ut.output!==void 0){if(!D(ut.output))throw new TypeError("output option must be an array if specified");B=ut.output}else B=new Array(tt.length);var O=b(tt),_=k(tt);if(O===_)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var $=ut.min,gt=$===void 0?ut.autoMinMax?O:0:$,Ft=ut.max,zt=Ft===void 0?ut.autoMinMax?_:1:Ft;if(gt>=zt)throw new RangeError("min option must be smaller than max option");for(var te=(zt-gt)/(_-O),_e=0;_e<tt.length;_e++)B[_e]=(tt[_e]-O)*te+gt;return B}var W=" ".repeat(2),X=" ".repeat(4);function z(){return U(this)}function U(tt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=ut.maxRows,O=B===void 0?15:B,_=ut.maxColumns,$=_===void 0?10:_,gt=ut.maxNumSize,Ft=gt===void 0?8:gt,zt=ut.padMinus,te=zt===void 0?"auto":zt;return"".concat(tt.constructor.name,` {
`).concat(W,`[
`).concat(X).concat(j(tt,O,$,Ft,te),`
`).concat(W,`]
`).concat(W,"rows: ").concat(tt.rows,`
`).concat(W,"columns: ").concat(tt.columns,`
}`)}function j(tt,ut,B,O,_){var $=tt.rows,gt=tt.columns,Ft=Math.min($,ut),zt=Math.min(gt,B),te=[];if(_==="auto"){_=!1;t:for(var _e=0;_e<Ft;_e++)for(var me=0;me<zt;me++)if(tt.get(_e,me)<0){_=!0;break t}}for(var Ue=0;Ue<Ft;Ue++){for(var fr=[],je=0;je<zt;je++)fr.push(V(tt.get(Ue,je),O,_));te.push("".concat(fr.join(" ")))}return zt!==gt&&(te[te.length-1]+=" ... ".concat(gt-B," more columns")),Ft!==$&&te.push("... ".concat($-ut," more rows")),te.join(`
`.concat(X))}function V(tt,ut,B){return(tt>=0&&B?" ".concat(J(tt,ut-1)):J(tt,ut)).padEnd(ut)}function J(tt,ut){var B=tt.toString();if(B.length<=ut)return B;var O=tt.toFixed(ut);if(O.length>ut&&(O=tt.toFixed(Math.max(0,ut-(O.length-ut)))),O.length<=ut&&!O.startsWith("0.000")&&!O.startsWith("-0.000"))return O;var _=tt.toExponential(ut);return _.length>ut&&(_=tt.toExponential(Math.max(0,ut-(_.length-ut)))),_.slice(0)}function q(tt,ut){tt.prototype.add=function(O){return typeof O=="number"?this.addS(O):this.addM(O)},tt.prototype.addS=function(O){for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)+O);return this},tt.prototype.addM=function(O){if(O=ut.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)+O.get(_,$));return this},tt.add=function(O,_){var $=new ut(O);return $.add(_)},tt.prototype.sub=function(O){return typeof O=="number"?this.subS(O):this.subM(O)},tt.prototype.subS=function(O){for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)-O);return this},tt.prototype.subM=function(O){if(O=ut.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)-O.get(_,$));return this},tt.sub=function(O,_){var $=new ut(O);return $.sub(_)},tt.prototype.subtract=tt.prototype.sub,tt.prototype.subtractS=tt.prototype.subS,tt.prototype.subtractM=tt.prototype.subM,tt.subtract=tt.sub,tt.prototype.mul=function(O){return typeof O=="number"?this.mulS(O):this.mulM(O)},tt.prototype.mulS=function(O){for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)*O);return this},tt.prototype.mulM=function(O){if(O=ut.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)*O.get(_,$));return this},tt.mul=function(O,_){var $=new ut(O);return $.mul(_)},tt.prototype.multiply=tt.prototype.mul,tt.prototype.multiplyS=tt.prototype.mulS,tt.prototype.multiplyM=tt.prototype.mulM,tt.multiply=tt.mul,tt.prototype.div=function(O){return typeof O=="number"?this.divS(O):this.divM(O)},tt.prototype.divS=function(O){for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)/O);return this},tt.prototype.divM=function(O){if(O=ut.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)/O.get(_,$));return this},tt.div=function(O,_){var $=new ut(O);return $.div(_)},tt.prototype.divide=tt.prototype.div,tt.prototype.divideS=tt.prototype.divS,tt.prototype.divideM=tt.prototype.divM,tt.divide=tt.div,tt.prototype.mod=function(O){return typeof O=="number"?this.modS(O):this.modM(O)},tt.prototype.modS=function(O){for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)%O);return this},tt.prototype.modM=function(O){if(O=ut.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)%O.get(_,$));return this},tt.mod=function(O,_){var $=new ut(O);return $.mod(_)},tt.prototype.modulus=tt.prototype.mod,tt.prototype.modulusS=tt.prototype.modS,tt.prototype.modulusM=tt.prototype.modM,tt.modulus=tt.mod,tt.prototype.and=function(O){return typeof O=="number"?this.andS(O):this.andM(O)},tt.prototype.andS=function(O){for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)&O);return this},tt.prototype.andM=function(O){if(O=ut.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)&O.get(_,$));return this},tt.and=function(O,_){var $=new ut(O);return $.and(_)},tt.prototype.or=function(O){return typeof O=="number"?this.orS(O):this.orM(O)},tt.prototype.orS=function(O){for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)|O);return this},tt.prototype.orM=function(O){if(O=ut.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)|O.get(_,$));return this},tt.or=function(O,_){var $=new ut(O);return $.or(_)},tt.prototype.xor=function(O){return typeof O=="number"?this.xorS(O):this.xorM(O)},tt.prototype.xorS=function(O){for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)^O);return this},tt.prototype.xorM=function(O){if(O=ut.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)^O.get(_,$));return this},tt.xor=function(O,_){var $=new ut(O);return $.xor(_)},tt.prototype.leftShift=function(O){return typeof O=="number"?this.leftShiftS(O):this.leftShiftM(O)},tt.prototype.leftShiftS=function(O){for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)<<O);return this},tt.prototype.leftShiftM=function(O){if(O=ut.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)<<O.get(_,$));return this},tt.leftShift=function(O,_){var $=new ut(O);return $.leftShift(_)},tt.prototype.signPropagatingRightShift=function(O){return typeof O=="number"?this.signPropagatingRightShiftS(O):this.signPropagatingRightShiftM(O)},tt.prototype.signPropagatingRightShiftS=function(O){for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)>>O);return this},tt.prototype.signPropagatingRightShiftM=function(O){if(O=ut.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)>>O.get(_,$));return this},tt.signPropagatingRightShift=function(O,_){var $=new ut(O);return $.signPropagatingRightShift(_)},tt.prototype.rightShift=function(O){return typeof O=="number"?this.rightShiftS(O):this.rightShiftM(O)},tt.prototype.rightShiftS=function(O){for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)>>>O);return this},tt.prototype.rightShiftM=function(O){if(O=ut.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,this.get(_,$)>>>O.get(_,$));return this},tt.rightShift=function(O,_){var $=new ut(O);return $.rightShift(_)},tt.prototype.zeroFillRightShift=tt.prototype.rightShift,tt.prototype.zeroFillRightShiftS=tt.prototype.rightShiftS,tt.prototype.zeroFillRightShiftM=tt.prototype.rightShiftM,tt.zeroFillRightShift=tt.rightShift,tt.prototype.not=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,~this.get(O,_));return this},tt.not=function(O){var _=new ut(O);return _.not()},tt.prototype.abs=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.abs(this.get(O,_)));return this},tt.abs=function(O){var _=new ut(O);return _.abs()},tt.prototype.acos=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.acos(this.get(O,_)));return this},tt.acos=function(O){var _=new ut(O);return _.acos()},tt.prototype.acosh=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.acosh(this.get(O,_)));return this},tt.acosh=function(O){var _=new ut(O);return _.acosh()},tt.prototype.asin=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.asin(this.get(O,_)));return this},tt.asin=function(O){var _=new ut(O);return _.asin()},tt.prototype.asinh=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.asinh(this.get(O,_)));return this},tt.asinh=function(O){var _=new ut(O);return _.asinh()},tt.prototype.atan=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.atan(this.get(O,_)));return this},tt.atan=function(O){var _=new ut(O);return _.atan()},tt.prototype.atanh=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.atanh(this.get(O,_)));return this},tt.atanh=function(O){var _=new ut(O);return _.atanh()},tt.prototype.cbrt=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.cbrt(this.get(O,_)));return this},tt.cbrt=function(O){var _=new ut(O);return _.cbrt()},tt.prototype.ceil=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.ceil(this.get(O,_)));return this},tt.ceil=function(O){var _=new ut(O);return _.ceil()},tt.prototype.clz32=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.clz32(this.get(O,_)));return this},tt.clz32=function(O){var _=new ut(O);return _.clz32()},tt.prototype.cos=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.cos(this.get(O,_)));return this},tt.cos=function(O){var _=new ut(O);return _.cos()},tt.prototype.cosh=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.cosh(this.get(O,_)));return this},tt.cosh=function(O){var _=new ut(O);return _.cosh()},tt.prototype.exp=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.exp(this.get(O,_)));return this},tt.exp=function(O){var _=new ut(O);return _.exp()},tt.prototype.expm1=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.expm1(this.get(O,_)));return this},tt.expm1=function(O){var _=new ut(O);return _.expm1()},tt.prototype.floor=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.floor(this.get(O,_)));return this},tt.floor=function(O){var _=new ut(O);return _.floor()},tt.prototype.fround=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.fround(this.get(O,_)));return this},tt.fround=function(O){var _=new ut(O);return _.fround()},tt.prototype.log=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.log(this.get(O,_)));return this},tt.log=function(O){var _=new ut(O);return _.log()},tt.prototype.log1p=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.log1p(this.get(O,_)));return this},tt.log1p=function(O){var _=new ut(O);return _.log1p()},tt.prototype.log10=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.log10(this.get(O,_)));return this},tt.log10=function(O){var _=new ut(O);return _.log10()},tt.prototype.log2=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.log2(this.get(O,_)));return this},tt.log2=function(O){var _=new ut(O);return _.log2()},tt.prototype.round=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.round(this.get(O,_)));return this},tt.round=function(O){var _=new ut(O);return _.round()},tt.prototype.sign=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.sign(this.get(O,_)));return this},tt.sign=function(O){var _=new ut(O);return _.sign()},tt.prototype.sin=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.sin(this.get(O,_)));return this},tt.sin=function(O){var _=new ut(O);return _.sin()},tt.prototype.sinh=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.sinh(this.get(O,_)));return this},tt.sinh=function(O){var _=new ut(O);return _.sinh()},tt.prototype.sqrt=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.sqrt(this.get(O,_)));return this},tt.sqrt=function(O){var _=new ut(O);return _.sqrt()},tt.prototype.tan=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.tan(this.get(O,_)));return this},tt.tan=function(O){var _=new ut(O);return _.tan()},tt.prototype.tanh=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.tanh(this.get(O,_)));return this},tt.tanh=function(O){var _=new ut(O);return _.tanh()},tt.prototype.trunc=function(){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,Math.trunc(this.get(O,_)));return this},tt.trunc=function(O){var _=new ut(O);return _.trunc()},tt.pow=function(O,_){var $=new ut(O);return $.pow(_)},tt.prototype.pow=function(O){return typeof O=="number"?this.powS(O):this.powM(O)},tt.prototype.powS=function(O){for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,Math.pow(this.get(_,$),O));return this},tt.prototype.powM=function(O){if(O=ut.checkMatrix(O),this.rows!==O.rows||this.columns!==O.columns)throw new RangeError("Matrices dimensions must be equal");for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.set(_,$,Math.pow(this.get(_,$),O.get(_,$)));return this}}function et(tt,ut,B){var O=B?tt.rows:tt.rows-1;if(ut<0||ut>O)throw new RangeError("Row index out of range")}function st(tt,ut,B){var O=B?tt.columns:tt.columns-1;if(ut<0||ut>O)throw new RangeError("Column index out of range")}function ot(tt,ut){if(ut.to1DArray&&(ut=ut.to1DArray()),ut.length!==tt.columns)throw new RangeError("vector size must be the same as the number of columns");return ut}function mt(tt,ut){if(ut.to1DArray&&(ut=ut.to1DArray()),ut.length!==tt.rows)throw new RangeError("vector size must be the same as the number of rows");return ut}function ft(tt,ut){if(!D(ut))throw new TypeError("row indices must be an array");for(var B=0;B<ut.length;B++)if(ut[B]<0||ut[B]>=tt.rows)throw new RangeError("row indices are out of range")}function Bt(tt,ut){if(!D(ut))throw new TypeError("column indices must be an array");for(var B=0;B<ut.length;B++)if(ut[B]<0||ut[B]>=tt.columns)throw new RangeError("column indices are out of range")}function St(tt,ut,B,O,_){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(H("startRow",ut),H("endRow",B),H("startColumn",O),H("endColumn",_),ut>B||O>_||ut<0||ut>=tt.rows||B<0||B>=tt.rows||O<0||O>=tt.columns||_<0||_>=tt.columns)throw new RangeError("Submatrix indices are out of range")}function wt(tt){for(var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],O=0;O<tt;O++)B.push(ut);return B}function H(tt,ut){if(typeof ut!="number")throw new TypeError("".concat(tt," must be a number"))}function Q(tt){if(tt.isEmpty())throw new Error("Empty matrix has no elements to index")}function bt(tt){for(var ut=wt(tt.rows),B=0;B<tt.rows;++B)for(var O=0;O<tt.columns;++O)ut[B]+=tt.get(B,O);return ut}function Ct(tt){for(var ut=wt(tt.columns),B=0;B<tt.rows;++B)for(var O=0;O<tt.columns;++O)ut[O]+=tt.get(B,O);return ut}function nt(tt){for(var ut=0,B=0;B<tt.rows;B++)for(var O=0;O<tt.columns;O++)ut+=tt.get(B,O);return ut}function dt(tt){for(var ut=wt(tt.rows,1),B=0;B<tt.rows;++B)for(var O=0;O<tt.columns;++O)ut[B]*=tt.get(B,O);return ut}function Tt(tt){for(var ut=wt(tt.columns,1),B=0;B<tt.rows;++B)for(var O=0;O<tt.columns;++O)ut[O]*=tt.get(B,O);return ut}function At(tt){for(var ut=1,B=0;B<tt.rows;B++)for(var O=0;O<tt.columns;O++)ut*=tt.get(B,O);return ut}function xt(tt,ut,B){for(var O=tt.rows,_=tt.columns,$=[],gt=0;gt<O;gt++){for(var Ft=0,zt=0,te=0,_e=0;_e<_;_e++)te=tt.get(gt,_e)-B[gt],Ft+=te,zt+=te*te;ut?$.push((zt-Ft*Ft/_)/(_-1)):$.push((zt-Ft*Ft/_)/_)}return $}function Dt(tt,ut,B){for(var O=tt.rows,_=tt.columns,$=[],gt=0;gt<_;gt++){for(var Ft=0,zt=0,te=0,_e=0;_e<O;_e++)te=tt.get(_e,gt)-B[gt],Ft+=te,zt+=te*te;ut?$.push((zt-Ft*Ft/O)/(O-1)):$.push((zt-Ft*Ft/O)/O)}return $}function Ht(tt,ut,B){for(var O=tt.rows,_=tt.columns,$=O*_,gt=0,Ft=0,zt=0,te=0;te<O;te++)for(var _e=0;_e<_;_e++)zt=tt.get(te,_e)-B,gt+=zt,Ft+=zt*zt;return ut?(Ft-gt*gt/$)/($-1):(Ft-gt*gt/$)/$}function se(tt,ut){for(var B=0;B<tt.rows;B++)for(var O=0;O<tt.columns;O++)tt.set(B,O,tt.get(B,O)-ut[B])}function re(tt,ut){for(var B=0;B<tt.rows;B++)for(var O=0;O<tt.columns;O++)tt.set(B,O,tt.get(B,O)-ut[O])}function It(tt,ut){for(var B=0;B<tt.rows;B++)for(var O=0;O<tt.columns;O++)tt.set(B,O,tt.get(B,O)-ut)}function ne(tt){for(var ut=[],B=0;B<tt.rows;B++){for(var O=0,_=0;_<tt.columns;_++)O+=Math.pow(tt.get(B,_),2)/(tt.columns-1);ut.push(Math.sqrt(O))}return ut}function pe(tt,ut){for(var B=0;B<tt.rows;B++)for(var O=0;O<tt.columns;O++)tt.set(B,O,tt.get(B,O)/ut[B])}function Wt(tt){for(var ut=[],B=0;B<tt.columns;B++){for(var O=0,_=0;_<tt.rows;_++)O+=Math.pow(tt.get(_,B),2)/(tt.rows-1);ut.push(Math.sqrt(O))}return ut}function Jt(tt,ut){for(var B=0;B<tt.rows;B++)for(var O=0;O<tt.columns;O++)tt.set(B,O,tt.get(B,O)/ut[O])}function $t(tt){for(var ut=tt.size-1,B=0,O=0;O<tt.columns;O++)for(var _=0;_<tt.rows;_++)B+=Math.pow(tt.get(_,O),2)/ut;return Math.sqrt(B)}function Kt(tt,ut){for(var B=0;B<tt.rows;B++)for(var O=0;O<tt.columns;O++)tt.set(B,O,tt.get(B,O)/ut)}var ue=function(){function tt(){x()(this,tt)}return T()(tt,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(B){if(typeof B!="function")throw new TypeError("callback must be a function");for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)B.call(this,O,_);return this}},{key:"to1DArray",value:function(){for(var B=[],O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)B.push(this.get(O,_));return B}},{key:"to2DArray",value:function(){for(var B=[],O=0;O<this.rows;O++){B.push([]);for(var _=0;_<this.columns;_++)B[O].push(this.get(O,_))}return B}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var B=0;B<this.rows;B++)for(var O=0;O<=B;O++)if(this.get(B,O)!==this.get(O,B))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var B=0,O=0,_=-1,$=!0,gt=!1;B<this.rows&&$;){for(O=0,gt=!1;O<this.columns&&gt===!1;)this.get(B,O)===0?O++:this.get(B,O)===1&&O>_?(gt=!0,_=O):($=!1,gt=!0);B++}return $}},{key:"isReducedEchelonForm",value:function(){for(var B=0,O=0,_=-1,$=!0,gt=!1;B<this.rows&&$;){for(O=0,gt=!1;O<this.columns&&gt===!1;)this.get(B,O)===0?O++:this.get(B,O)===1&&O>_?(gt=!0,_=O):($=!1,gt=!0);for(var Ft=O+1;Ft<this.rows;Ft++)this.get(B,Ft)!==0&&($=!1);B++}return $}},{key:"echelonForm",value:function(){for(var B=this.clone(),O=0,_=0;O<B.rows&&_<B.columns;){for(var $=O,gt=O;gt<B.rows;gt++)B.get(gt,_)>B.get($,_)&&($=gt);if(B.get($,_)===0)_++;else{B.swapRows(O,$);for(var Ft=B.get(O,_),zt=_;zt<B.columns;zt++)B.set(O,zt,B.get(O,zt)/Ft);for(var te=O+1;te<B.rows;te++){var _e=B.get(te,_)/B.get(O,_);B.set(te,_,0);for(var me=_+1;me<B.columns;me++)B.set(te,me,B.get(te,me)-B.get(O,me)*_e)}O++,_++}}return B}},{key:"reducedEchelonForm",value:function(){for(var B=this.echelonForm(),O=B.columns,_=B.rows,$=_-1;$>=0;)if(B.maxRow($)===0)$--;else{for(var gt=0,Ft=!1;gt<_&&Ft===!1;)B.get($,gt)===1?Ft=!0:gt++;for(var zt=0;zt<$;zt++)for(var te=B.get(zt,gt),_e=gt;_e<O;_e++){var me=B.get(zt,_e)-te*B.get($,_e);B.set(zt,_e,me)}$--}return B}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g()(B)!=="object")throw new TypeError("options must be an object");var O=B.rows,_=O===void 0?1:O,$=B.columns,gt=$===void 0?1:$;if(!Number.isInteger(_)||_<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(gt)||gt<=0)throw new TypeError("columns must be a positive integer");for(var Ft=new Fe(this.rows*_,this.columns*gt),zt=0;zt<_;zt++)for(var te=0;te<gt;te++)Ft.setSubMatrix(this,this.rows*zt,this.columns*te);return Ft}},{key:"fill",value:function(B){for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,B);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(B){et(this,B);for(var O=[],_=0;_<this.columns;_++)O.push(this.get(B,_));return O}},{key:"getRowVector",value:function(B){return Fe.rowVector(this.getRow(B))}},{key:"setRow",value:function(B,O){et(this,B),O=ot(this,O);for(var _=0;_<this.columns;_++)this.set(B,_,O[_]);return this}},{key:"swapRows",value:function(B,O){et(this,B),et(this,O);for(var _=0;_<this.columns;_++){var $=this.get(B,_);this.set(B,_,this.get(O,_)),this.set(O,_,$)}return this}},{key:"getColumn",value:function(B){st(this,B);for(var O=[],_=0;_<this.rows;_++)O.push(this.get(_,B));return O}},{key:"getColumnVector",value:function(B){return Fe.columnVector(this.getColumn(B))}},{key:"setColumn",value:function(B,O){st(this,B),O=mt(this,O);for(var _=0;_<this.rows;_++)this.set(_,B,O[_]);return this}},{key:"swapColumns",value:function(B,O){st(this,B),st(this,O);for(var _=0;_<this.rows;_++){var $=this.get(_,B);this.set(_,B,this.get(_,O)),this.set(_,O,$)}return this}},{key:"addRowVector",value:function(B){B=ot(this,B);for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,this.get(O,_)+B[_]);return this}},{key:"subRowVector",value:function(B){B=ot(this,B);for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,this.get(O,_)-B[_]);return this}},{key:"mulRowVector",value:function(B){B=ot(this,B);for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,this.get(O,_)*B[_]);return this}},{key:"divRowVector",value:function(B){B=ot(this,B);for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,this.get(O,_)/B[_]);return this}},{key:"addColumnVector",value:function(B){B=mt(this,B);for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,this.get(O,_)+B[O]);return this}},{key:"subColumnVector",value:function(B){B=mt(this,B);for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,this.get(O,_)-B[O]);return this}},{key:"mulColumnVector",value:function(B){B=mt(this,B);for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,this.get(O,_)*B[O]);return this}},{key:"divColumnVector",value:function(B){B=mt(this,B);for(var O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)this.set(O,_,this.get(O,_)/B[O]);return this}},{key:"mulRow",value:function(B,O){et(this,B);for(var _=0;_<this.columns;_++)this.set(B,_,this.get(B,_)*O);return this}},{key:"mulColumn",value:function(B,O){st(this,B);for(var _=0;_<this.rows;_++)this.set(_,B,this.get(_,B)*O);return this}},{key:"max",value:function(B){if(this.isEmpty())return NaN;switch(B){case"row":{for(var O=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),_=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.get(_,$)>O[_]&&(O[_]=this.get(_,$));return O}case"column":{for(var gt=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),Ft=0;Ft<this.rows;Ft++)for(var zt=0;zt<this.columns;zt++)this.get(Ft,zt)>gt[zt]&&(gt[zt]=this.get(Ft,zt));return gt}case void 0:{for(var te=this.get(0,0),_e=0;_e<this.rows;_e++)for(var me=0;me<this.columns;me++)this.get(_e,me)>te&&(te=this.get(_e,me));return te}default:throw new Error("invalid option: ".concat(B))}}},{key:"maxIndex",value:function(){Q(this);for(var B=this.get(0,0),O=[0,0],_=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.get(_,$)>B&&(B=this.get(_,$),O[0]=_,O[1]=$);return O}},{key:"min",value:function(B){if(this.isEmpty())return NaN;switch(B){case"row":{for(var O=new Array(this.rows).fill(Number.POSITIVE_INFINITY),_=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.get(_,$)<O[_]&&(O[_]=this.get(_,$));return O}case"column":{for(var gt=new Array(this.columns).fill(Number.POSITIVE_INFINITY),Ft=0;Ft<this.rows;Ft++)for(var zt=0;zt<this.columns;zt++)this.get(Ft,zt)<gt[zt]&&(gt[zt]=this.get(Ft,zt));return gt}case void 0:{for(var te=this.get(0,0),_e=0;_e<this.rows;_e++)for(var me=0;me<this.columns;me++)this.get(_e,me)<te&&(te=this.get(_e,me));return te}default:throw new Error("invalid option: ".concat(B))}}},{key:"minIndex",value:function(){Q(this);for(var B=this.get(0,0),O=[0,0],_=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)this.get(_,$)<B&&(B=this.get(_,$),O[0]=_,O[1]=$);return O}},{key:"maxRow",value:function(B){if(et(this,B),this.isEmpty())return NaN;for(var O=this.get(B,0),_=1;_<this.columns;_++)this.get(B,_)>O&&(O=this.get(B,_));return O}},{key:"maxRowIndex",value:function(B){et(this,B),Q(this);for(var O=this.get(B,0),_=[B,0],$=1;$<this.columns;$++)this.get(B,$)>O&&(O=this.get(B,$),_[1]=$);return _}},{key:"minRow",value:function(B){if(et(this,B),this.isEmpty())return NaN;for(var O=this.get(B,0),_=1;_<this.columns;_++)this.get(B,_)<O&&(O=this.get(B,_));return O}},{key:"minRowIndex",value:function(B){et(this,B),Q(this);for(var O=this.get(B,0),_=[B,0],$=1;$<this.columns;$++)this.get(B,$)<O&&(O=this.get(B,$),_[1]=$);return _}},{key:"maxColumn",value:function(B){if(st(this,B),this.isEmpty())return NaN;for(var O=this.get(0,B),_=1;_<this.rows;_++)this.get(_,B)>O&&(O=this.get(_,B));return O}},{key:"maxColumnIndex",value:function(B){st(this,B),Q(this);for(var O=this.get(0,B),_=[0,B],$=1;$<this.rows;$++)this.get($,B)>O&&(O=this.get($,B),_[0]=$);return _}},{key:"minColumn",value:function(B){if(st(this,B),this.isEmpty())return NaN;for(var O=this.get(0,B),_=1;_<this.rows;_++)this.get(_,B)<O&&(O=this.get(_,B));return O}},{key:"minColumnIndex",value:function(B){st(this,B),Q(this);for(var O=this.get(0,B),_=[0,B],$=1;$<this.rows;$++)this.get($,B)<O&&(O=this.get($,B),_[0]=$);return _}},{key:"diag",value:function(){for(var B=Math.min(this.rows,this.columns),O=[],_=0;_<B;_++)O.push(this.get(_,_));return O}},{key:"norm",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",O=0;if(B==="max")return this.max();if(B==="frobenius"){for(var _=0;_<this.rows;_++)for(var $=0;$<this.columns;$++)O=O+this.get(_,$)*this.get(_,$);return Math.sqrt(O)}else throw new RangeError("unknown norm type: ".concat(B))}},{key:"cumulativeSum",value:function(){for(var B=0,O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)B+=this.get(O,_),this.set(O,_,B);return this}},{key:"dot",value:function(B){tt.isMatrix(B)&&(B=B.to1DArray());var O=this.to1DArray();if(O.length!==B.length)throw new RangeError("vectors do not have the same size");for(var _=0,$=0;$<O.length;$++)_+=O[$]*B[$];return _}},{key:"mmul",value:function(B){B=Fe.checkMatrix(B);for(var O=this.rows,_=this.columns,$=B.columns,gt=new Fe(O,$),Ft=new Float64Array(_),zt=0;zt<$;zt++){for(var te=0;te<_;te++)Ft[te]=B.get(te,zt);for(var _e=0;_e<O;_e++){for(var me=0,Ue=0;Ue<_;Ue++)me+=this.get(_e,Ue)*Ft[Ue];gt.set(_e,zt,me)}}return gt}},{key:"strassen2x2",value:function(B){B=Fe.checkMatrix(B);var O=new Fe(2,2),_=this.get(0,0),$=B.get(0,0),gt=this.get(0,1),Ft=B.get(0,1),zt=this.get(1,0),te=B.get(1,0),_e=this.get(1,1),me=B.get(1,1),Ue=(_+_e)*($+me),fr=(zt+_e)*$,je=_*(Ft-me),Lr=_e*(te-$),ln=(_+gt)*me,Ve=(zt-_)*($+Ft),or=(gt-_e)*(te+me),Ar=Ue+Lr-ln+or,Mr=je+ln,ce=fr+Lr,Xt=Ue-fr+je+Ve;return O.set(0,0,Ar),O.set(0,1,Mr),O.set(1,0,ce),O.set(1,1,Xt),O}},{key:"strassen3x3",value:function(B){B=Fe.checkMatrix(B);var O=new Fe(3,3),_=this.get(0,0),$=this.get(0,1),gt=this.get(0,2),Ft=this.get(1,0),zt=this.get(1,1),te=this.get(1,2),_e=this.get(2,0),me=this.get(2,1),Ue=this.get(2,2),fr=B.get(0,0),je=B.get(0,1),Lr=B.get(0,2),ln=B.get(1,0),Ve=B.get(1,1),or=B.get(1,2),Ar=B.get(2,0),Mr=B.get(2,1),ce=B.get(2,2),Xt=(_+$+gt-Ft-zt-me-Ue)*Ve,he=(_-Ft)*(-je+Ve),Me=zt*(-fr+je+ln-Ve-or-Ar+ce),be=(-_+Ft+zt)*(fr-je+Ve),Ne=(Ft+zt)*(-fr+je),ir=_*fr,cr=(-_+_e+me)*(fr-Lr+or),en=(-_+_e)*(Lr-or),Dn=(_e+me)*(-fr+Lr),un=(_+$+gt-zt-te-_e-me)*or,Fn=me*(-fr+Lr+ln-Ve-or-Ar+Mr),sn=(-gt+me+Ue)*(Ve+Ar-Mr),Bn=(gt-Ue)*(Ve-Mr),qn=gt*Ar,sa=(me+Ue)*(-Ar+Mr),oa=(-gt+zt+te)*(or+Ar-ce),Ti=(gt-te)*(or-ce),oi=(zt+te)*(-Ar+ce),Va=$*ln,ti=te*Mr,zi=Ft*Lr,si=_e*je,ui=Ue*ce,ba=ir+qn+Va,qi=Xt+be+Ne+ir+sn+qn+sa,Co=ir+cr+Dn+un+qn+oa+oi,Ba=he+Me+be+ir+qn+oa+Ti,Ji=he+be+Ne+ir+ti,uo=qn+oa+Ti+oi+zi,to=ir+cr+en+Fn+sn+Bn+qn,gi=sn+Bn+qn+sa+si,Si=ir+cr+en+Dn+ui;return O.set(0,0,ba),O.set(0,1,qi),O.set(0,2,Co),O.set(1,0,Ba),O.set(1,1,Ji),O.set(1,2,uo),O.set(2,0,to),O.set(2,1,gi),O.set(2,2,Si),O}},{key:"mmulStrassen",value:function(B){B=Fe.checkMatrix(B);var O=this.clone(),_=O.rows,$=O.columns,gt=B.rows,Ft=B.columns;$!==gt&&console.warn("Multiplying ".concat(_," x ").concat($," and ").concat(gt," x ").concat(Ft," matrix: dimensions do not match."));function zt(Ue,fr,je){var Lr=Ue.rows,ln=Ue.columns;if(Lr===fr&&ln===je)return Ue;var Ve=tt.zeros(fr,je);return Ve=Ve.setSubMatrix(Ue,0,0),Ve}var te=Math.max(_,gt),_e=Math.max($,Ft);O=zt(O,te,_e),B=zt(B,te,_e);function me(Ue,fr,je,Lr){if(je<=512||Lr<=512)return Ue.mmul(fr);je%2===1&&Lr%2===1?(Ue=zt(Ue,je+1,Lr+1),fr=zt(fr,je+1,Lr+1)):je%2===1?(Ue=zt(Ue,je+1,Lr),fr=zt(fr,je+1,Lr)):Lr%2===1&&(Ue=zt(Ue,je,Lr+1),fr=zt(fr,je,Lr+1));var ln=parseInt(Ue.rows/2,10),Ve=parseInt(Ue.columns/2,10),or=Ue.subMatrix(0,ln-1,0,Ve-1),Ar=fr.subMatrix(0,ln-1,0,Ve-1),Mr=Ue.subMatrix(0,ln-1,Ve,Ue.columns-1),ce=fr.subMatrix(0,ln-1,Ve,fr.columns-1),Xt=Ue.subMatrix(ln,Ue.rows-1,0,Ve-1),he=fr.subMatrix(ln,fr.rows-1,0,Ve-1),Me=Ue.subMatrix(ln,Ue.rows-1,Ve,Ue.columns-1),be=fr.subMatrix(ln,fr.rows-1,Ve,fr.columns-1),Ne=me(tt.add(or,Me),tt.add(Ar,be),ln,Ve),ir=me(tt.add(Xt,Me),Ar,ln,Ve),cr=me(or,tt.sub(ce,be),ln,Ve),en=me(Me,tt.sub(he,Ar),ln,Ve),Dn=me(tt.add(or,Mr),be,ln,Ve),un=me(tt.sub(Xt,or),tt.add(Ar,ce),ln,Ve),Fn=me(tt.sub(Mr,Me),tt.add(he,be),ln,Ve),sn=tt.add(Ne,en);sn.sub(Dn),sn.add(Fn);var Bn=tt.add(cr,Dn),qn=tt.add(ir,en),sa=tt.sub(Ne,ir);sa.add(cr),sa.add(un);var oa=tt.zeros(2*sn.rows,2*sn.columns);return oa=oa.setSubMatrix(sn,0,0),oa=oa.setSubMatrix(Bn,sn.rows,0),oa=oa.setSubMatrix(qn,0,sn.columns),oa=oa.setSubMatrix(sa,sn.rows,sn.columns),oa.subMatrix(0,je-1,0,Lr-1)}return me(O,B,te,_e)}},{key:"scaleRows",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g()(B)!=="object")throw new TypeError("options must be an object");var O=B.min,_=O===void 0?0:O,$=B.max,gt=$===void 0?1:$;if(!Number.isFinite(_))throw new TypeError("min must be a number");if(!Number.isFinite(gt))throw new TypeError("max must be a number");if(_>=gt)throw new RangeError("min must be smaller than max");for(var Ft=new Fe(this.rows,this.columns),zt=0;zt<this.rows;zt++){var te=this.getRow(zt);te.length>0&&f(te,{min:_,max:gt,output:te}),Ft.setRow(zt,te)}return Ft}},{key:"scaleColumns",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g()(B)!=="object")throw new TypeError("options must be an object");var O=B.min,_=O===void 0?0:O,$=B.max,gt=$===void 0?1:$;if(!Number.isFinite(_))throw new TypeError("min must be a number");if(!Number.isFinite(gt))throw new TypeError("max must be a number");if(_>=gt)throw new RangeError("min must be smaller than max");for(var Ft=new Fe(this.rows,this.columns),zt=0;zt<this.columns;zt++){var te=this.getColumn(zt);te.length&&f(te,{min:_,max:gt,output:te}),Ft.setColumn(zt,te)}return Ft}},{key:"flipRows",value:function(){for(var B=Math.ceil(this.columns/2),O=0;O<this.rows;O++)for(var _=0;_<B;_++){var $=this.get(O,_),gt=this.get(O,this.columns-1-_);this.set(O,_,gt),this.set(O,this.columns-1-_,$)}return this}},{key:"flipColumns",value:function(){for(var B=Math.ceil(this.rows/2),O=0;O<this.columns;O++)for(var _=0;_<B;_++){var $=this.get(_,O),gt=this.get(this.rows-1-_,O);this.set(_,O,gt),this.set(this.rows-1-_,O,$)}return this}},{key:"kroneckerProduct",value:function(B){B=Fe.checkMatrix(B);for(var O=this.rows,_=this.columns,$=B.rows,gt=B.columns,Ft=new Fe(O*$,_*gt),zt=0;zt<O;zt++)for(var te=0;te<_;te++)for(var _e=0;_e<$;_e++)for(var me=0;me<gt;me++)Ft.set($*zt+_e,gt*te+me,this.get(zt,te)*B.get(_e,me));return Ft}},{key:"kroneckerSum",value:function(B){if(B=Fe.checkMatrix(B),!this.isSquare()||!B.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var O=this.rows,_=B.rows,$=this.kroneckerProduct(Fe.eye(_,_)),gt=Fe.eye(O,O).kroneckerProduct(B);return $.add(gt)}},{key:"transpose",value:function(){for(var B=new Fe(this.columns,this.rows),O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)B.set(_,O,this.get(O,_));return B}},{key:"sortRows",value:function(){for(var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Se,O=0;O<this.rows;O++)this.setRow(O,this.getRow(O).sort(B));return this}},{key:"sortColumns",value:function(){for(var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Se,O=0;O<this.columns;O++)this.setColumn(O,this.getColumn(O).sort(B));return this}},{key:"subMatrix",value:function(B,O,_,$){St(this,B,O,_,$);for(var gt=new Fe(O-B+1,$-_+1),Ft=B;Ft<=O;Ft++)for(var zt=_;zt<=$;zt++)gt.set(Ft-B,zt-_,this.get(Ft,zt));return gt}},{key:"subMatrixRow",value:function(B,O,_){if(O===void 0&&(O=0),_===void 0&&(_=this.columns-1),O>_||O<0||O>=this.columns||_<0||_>=this.columns)throw new RangeError("Argument out of range");for(var $=new Fe(B.length,_-O+1),gt=0;gt<B.length;gt++)for(var Ft=O;Ft<=_;Ft++){if(B[gt]<0||B[gt]>=this.rows)throw new RangeError("Row index out of range: ".concat(B[gt]));$.set(gt,Ft-O,this.get(B[gt],Ft))}return $}},{key:"subMatrixColumn",value:function(B,O,_){if(O===void 0&&(O=0),_===void 0&&(_=this.rows-1),O>_||O<0||O>=this.rows||_<0||_>=this.rows)throw new RangeError("Argument out of range");for(var $=new Fe(_-O+1,B.length),gt=0;gt<B.length;gt++)for(var Ft=O;Ft<=_;Ft++){if(B[gt]<0||B[gt]>=this.columns)throw new RangeError("Column index out of range: ".concat(B[gt]));$.set(Ft-O,gt,this.get(Ft,B[gt]))}return $}},{key:"setSubMatrix",value:function(B,O,_){if(B=Fe.checkMatrix(B),B.isEmpty())return this;var $=O+B.rows-1,gt=_+B.columns-1;St(this,O,$,_,gt);for(var Ft=0;Ft<B.rows;Ft++)for(var zt=0;zt<B.columns;zt++)this.set(O+Ft,_+zt,B.get(Ft,zt));return this}},{key:"selection",value:function(B,O){ft(this,B),Bt(this,O);for(var _=new Fe(B.length,O.length),$=0;$<B.length;$++)for(var gt=B[$],Ft=0;Ft<O.length;Ft++){var zt=O[Ft];_.set($,Ft,this.get(gt,zt))}return _}},{key:"trace",value:function(){for(var B=Math.min(this.rows,this.columns),O=0,_=0;_<B;_++)O+=this.get(_,_);return O}},{key:"clone",value:function(){for(var B=new Fe(this.rows,this.columns),O=0;O<this.rows;O++)for(var _=0;_<this.columns;_++)B.set(O,_,this.get(O,_));return B}},{key:"sum",value:function(B){switch(B){case"row":return bt(this);case"column":return Ct(this);case void 0:return nt(this);default:throw new Error("invalid option: ".concat(B))}}},{key:"product",value:function(B){switch(B){case"row":return dt(this);case"column":return Tt(this);case void 0:return At(this);default:throw new Error("invalid option: ".concat(B))}}},{key:"mean",value:function(B){var O=this.sum(B);switch(B){case"row":{for(var _=0;_<this.rows;_++)O[_]/=this.columns;return O}case"column":{for(var $=0;$<this.columns;$++)O[$]/=this.rows;return O}case void 0:return O/this.size;default:throw new Error("invalid option: ".concat(B))}}},{key:"variance",value:function(B){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g()(B)==="object"&&(O=B,B=void 0),g()(O)!=="object")throw new TypeError("options must be an object");var _=O,$=_.unbiased,gt=$===void 0?!0:$,Ft=_.mean,zt=Ft===void 0?this.mean(B):Ft;if(typeof gt!="boolean")throw new TypeError("unbiased must be a boolean");switch(B){case"row":{if(!D(zt))throw new TypeError("mean must be an array");return xt(this,gt,zt)}case"column":{if(!D(zt))throw new TypeError("mean must be an array");return Dt(this,gt,zt)}case void 0:{if(typeof zt!="number")throw new TypeError("mean must be a number");return Ht(this,gt,zt)}default:throw new Error("invalid option: ".concat(B))}}},{key:"standardDeviation",value:function(B,O){g()(B)==="object"&&(O=B,B=void 0);var _=this.variance(B,O);if(B===void 0)return Math.sqrt(_);for(var $=0;$<_.length;$++)_[$]=Math.sqrt(_[$]);return _}},{key:"center",value:function(B){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g()(B)==="object"&&(O=B,B=void 0),g()(O)!=="object")throw new TypeError("options must be an object");var _=O,$=_.center,gt=$===void 0?this.mean(B):$;switch(B){case"row":{if(!D(gt))throw new TypeError("center must be an array");return se(this,gt),this}case"column":{if(!D(gt))throw new TypeError("center must be an array");return re(this,gt),this}case void 0:{if(typeof gt!="number")throw new TypeError("center must be a number");return It(this,gt),this}default:throw new Error("invalid option: ".concat(B))}}},{key:"scale",value:function(B){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g()(B)==="object"&&(O=B,B=void 0),g()(O)!=="object")throw new TypeError("options must be an object");var _=O.scale;switch(B){case"row":{if(_===void 0)_=ne(this);else if(!D(_))throw new TypeError("scale must be an array");return pe(this,_),this}case"column":{if(_===void 0)_=Wt(this);else if(!D(_))throw new TypeError("scale must be an array");return Jt(this,_),this}case void 0:{if(_===void 0)_=$t(this);else if(typeof _!="number")throw new TypeError("scale must be a number");return Kt(this,_),this}default:throw new Error("invalid option: ".concat(B))}}},{key:"toString",value:function(B){return U(this,B)}}],[{key:"from1DArray",value:function(B,O,_){var $=B*O;if($!==_.length)throw new RangeError("data length does not match given dimensions");for(var gt=new Fe(B,O),Ft=0;Ft<B;Ft++)for(var zt=0;zt<O;zt++)gt.set(Ft,zt,_[Ft*O+zt]);return gt}},{key:"rowVector",value:function(B){for(var O=new Fe(1,B.length),_=0;_<B.length;_++)O.set(0,_,B[_]);return O}},{key:"columnVector",value:function(B){for(var O=new Fe(B.length,1),_=0;_<B.length;_++)O.set(_,0,B[_]);return O}},{key:"zeros",value:function(B,O){return new Fe(B,O)}},{key:"ones",value:function(B,O){return new Fe(B,O).fill(1)}},{key:"rand",value:function(B,O){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(g()(_)!=="object")throw new TypeError("options must be an object");for(var $=_.random,gt=$===void 0?Math.random:$,Ft=new Fe(B,O),zt=0;zt<B;zt++)for(var te=0;te<O;te++)Ft.set(zt,te,gt());return Ft}},{key:"randInt",value:function(B,O){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(g()(_)!=="object")throw new TypeError("options must be an object");var $=_.min,gt=$===void 0?0:$,Ft=_.max,zt=Ft===void 0?1e3:Ft,te=_.random,_e=te===void 0?Math.random:te;if(!Number.isInteger(gt))throw new TypeError("min must be an integer");if(!Number.isInteger(zt))throw new TypeError("max must be an integer");if(gt>=zt)throw new RangeError("min must be smaller than max");for(var me=zt-gt,Ue=new Fe(B,O),fr=0;fr<B;fr++)for(var je=0;je<O;je++){var Lr=gt+Math.round(_e()*me);Ue.set(fr,je,Lr)}return Ue}},{key:"eye",value:function(B,O,_){O===void 0&&(O=B),_===void 0&&(_=1);for(var $=Math.min(B,O),gt=this.zeros(B,O),Ft=0;Ft<$;Ft++)gt.set(Ft,Ft,_);return gt}},{key:"diag",value:function(B,O,_){var $=B.length;O===void 0&&(O=$),_===void 0&&(_=O);for(var gt=Math.min($,O,_),Ft=this.zeros(O,_),zt=0;zt<gt;zt++)Ft.set(zt,zt,B[zt]);return Ft}},{key:"min",value:function(B,O){B=this.checkMatrix(B),O=this.checkMatrix(O);for(var _=B.rows,$=B.columns,gt=new Fe(_,$),Ft=0;Ft<_;Ft++)for(var zt=0;zt<$;zt++)gt.set(Ft,zt,Math.min(B.get(Ft,zt),O.get(Ft,zt)));return gt}},{key:"max",value:function(B,O){B=this.checkMatrix(B),O=this.checkMatrix(O);for(var _=B.rows,$=B.columns,gt=new this(_,$),Ft=0;Ft<_;Ft++)for(var zt=0;zt<$;zt++)gt.set(Ft,zt,Math.max(B.get(Ft,zt),O.get(Ft,zt)));return gt}},{key:"checkMatrix",value:function(B){return tt.isMatrix(B)?B:new Fe(B)}},{key:"isMatrix",value:function(B){return B!=null&&B.klass==="Matrix"}}]),tt}();ue.prototype.klass="Matrix",typeof Symbol!="undefined"&&(ue.prototype[Symbol.for("nodejs.util.inspect.custom")]=z);function Se(tt,ut){return tt-ut}function Pt(tt){return tt.every(function(ut){return typeof ut=="number"})}ue.random=ue.rand,ue.randomInt=ue.randInt,ue.diagonal=ue.diag,ue.prototype.diagonal=ue.prototype.diag,ue.identity=ue.eye,ue.prototype.negate=ue.prototype.neg,ue.prototype.tensorProduct=ue.prototype.kroneckerProduct;var Fe=function(tt){M()(B,tt);var ut=P()(B);function B(O,_){var $;if(x()(this,B),$=ut.call(this),B.isMatrix(O))return R()($,O.clone());if(Number.isInteger(O)&&O>=0)if($.data=[],Number.isInteger(_)&&_>=0)for(var gt=0;gt<O;gt++)$.data.push(new Float64Array(_));else throw new TypeError("nColumns must be a positive integer");else if(D(O)){var Ft=O;if(O=Ft.length,_=O?Ft[0].length:0,typeof _!="number")throw new TypeError("Data must be a 2D array with at least one element");$.data=[];for(var zt=0;zt<O;zt++){if(Ft[zt].length!==_)throw new RangeError("Inconsistent array dimensions");if(!Pt(Ft[zt]))throw new TypeError("Input data contains non-numeric values");$.data.push(Float64Array.from(Ft[zt]))}}else throw new TypeError("First argument must be a positive number or an array");return $.rows=O,$.columns=_,$}return T()(B,[{key:"set",value:function(_,$,gt){return this.data[_][$]=gt,this}},{key:"get",value:function(_,$){return this.data[_][$]}},{key:"removeRow",value:function(_){return et(this,_),this.data.splice(_,1),this.rows-=1,this}},{key:"addRow",value:function(_,$){return $===void 0&&($=_,_=this.rows),et(this,_,!0),$=Float64Array.from(ot(this,$)),this.data.splice(_,0,$),this.rows+=1,this}},{key:"removeColumn",value:function(_){st(this,_);for(var $=0;$<this.rows;$++){for(var gt=new Float64Array(this.columns-1),Ft=0;Ft<_;Ft++)gt[Ft]=this.data[$][Ft];for(var zt=_+1;zt<this.columns;zt++)gt[zt-1]=this.data[$][zt];this.data[$]=gt}return this.columns-=1,this}},{key:"addColumn",value:function(_,$){typeof $=="undefined"&&($=_,_=this.columns),st(this,_,!0),$=mt(this,$);for(var gt=0;gt<this.rows;gt++){for(var Ft=new Float64Array(this.columns+1),zt=0;zt<_;zt++)Ft[zt]=this.data[gt][zt];for(Ft[zt++]=$[gt];zt<this.columns+1;zt++)Ft[zt]=this.data[gt][zt-1];this.data[gt]=Ft}return this.columns+=1,this}}]),B}(ue);q(ue,Fe);var vr=function(tt){M()(B,tt);var ut=P()(B);function B(O,_,$){var gt;return x()(this,B),gt=ut.call(this),gt.matrix=O,gt.rows=_,gt.columns=$,gt}return T()(B)}(ue),Tr=function(tt){M()(B,tt);var ut=P()(B);function B(O,_){var $;return x()(this,B),st(O,_),$=ut.call(this,O,O.rows,1),$.column=_,$}return T()(B,[{key:"set",value:function(_,$,gt){return this.matrix.set(_,this.column,gt),this}},{key:"get",value:function(_){return this.matrix.get(_,this.column)}}]),B}(vr),Or=function(tt){M()(B,tt);var ut=P()(B);function B(O,_){var $;return x()(this,B),Bt(O,_),$=ut.call(this,O,O.rows,_.length),$.columnIndices=_,$}return T()(B,[{key:"set",value:function(_,$,gt){return this.matrix.set(_,this.columnIndices[$],gt),this}},{key:"get",value:function(_,$){return this.matrix.get(_,this.columnIndices[$])}}]),B}(vr),Fr=function(tt){M()(B,tt);var ut=P()(B);function B(O){return x()(this,B),ut.call(this,O,O.rows,O.columns)}return T()(B,[{key:"set",value:function(_,$,gt){return this.matrix.set(_,this.columns-$-1,gt),this}},{key:"get",value:function(_,$){return this.matrix.get(_,this.columns-$-1)}}]),B}(vr),nn=function(tt){M()(B,tt);var ut=P()(B);function B(O){return x()(this,B),ut.call(this,O,O.rows,O.columns)}return T()(B,[{key:"set",value:function(_,$,gt){return this.matrix.set(this.rows-_-1,$,gt),this}},{key:"get",value:function(_,$){return this.matrix.get(this.rows-_-1,$)}}]),B}(vr),an=function(tt){M()(B,tt);var ut=P()(B);function B(O,_){var $;return x()(this,B),et(O,_),$=ut.call(this,O,1,O.columns),$.row=_,$}return T()(B,[{key:"set",value:function(_,$,gt){return this.matrix.set(this.row,$,gt),this}},{key:"get",value:function(_,$){return this.matrix.get(this.row,$)}}]),B}(vr),er=function(tt){M()(B,tt);var ut=P()(B);function B(O,_){var $;return x()(this,B),ft(O,_),$=ut.call(this,O,_.length,O.columns),$.rowIndices=_,$}return T()(B,[{key:"set",value:function(_,$,gt){return this.matrix.set(this.rowIndices[_],$,gt),this}},{key:"get",value:function(_,$){return this.matrix.get(this.rowIndices[_],$)}}]),B}(vr),Rr=function(tt){M()(B,tt);var ut=P()(B);function B(O,_,$){var gt;return x()(this,B),ft(O,_),Bt(O,$),gt=ut.call(this,O,_.length,$.length),gt.rowIndices=_,gt.columnIndices=$,gt}return T()(B,[{key:"set",value:function(_,$,gt){return this.matrix.set(this.rowIndices[_],this.columnIndices[$],gt),this}},{key:"get",value:function(_,$){return this.matrix.get(this.rowIndices[_],this.columnIndices[$])}}]),B}(vr),qr=function(tt){M()(B,tt);var ut=P()(B);function B(O,_,$,gt,Ft){var zt;return x()(this,B),St(O,_,$,gt,Ft),zt=ut.call(this,O,$-_+1,Ft-gt+1),zt.startRow=_,zt.startColumn=gt,zt}return T()(B,[{key:"set",value:function(_,$,gt){return this.matrix.set(this.startRow+_,this.startColumn+$,gt),this}},{key:"get",value:function(_,$){return this.matrix.get(this.startRow+_,this.startColumn+$)}}]),B}(vr),xr=function(tt){M()(B,tt);var ut=P()(B);function B(O){return x()(this,B),ut.call(this,O,O.columns,O.rows)}return T()(B,[{key:"set",value:function(_,$,gt){return this.matrix.set($,_,gt),this}},{key:"get",value:function(_,$){return this.matrix.get($,_)}}]),B}(vr),Gr=function(tt){M()(B,tt);var ut=P()(B);function B(O){var _,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};x()(this,B);var gt=$.rows,Ft=gt===void 0?1:gt;if(O.length%Ft!==0)throw new Error("the data length is not divisible by the number of rows");return _=ut.call(this),_.rows=Ft,_.columns=O.length/Ft,_.data=O,_}return T()(B,[{key:"set",value:function(_,$,gt){var Ft=this._calculateIndex(_,$);return this.data[Ft]=gt,this}},{key:"get",value:function(_,$){var gt=this._calculateIndex(_,$);return this.data[gt]}},{key:"_calculateIndex",value:function(_,$){return _*this.columns+$}}]),B}(ue),Dr=function(tt){M()(B,tt);var ut=P()(B);function B(O){var _;return x()(this,B),_=ut.call(this),_.data=O,_.rows=O.length,_.columns=O[0].length,_}return T()(B,[{key:"set",value:function(_,$,gt){return this.data[_][$]=gt,this}},{key:"get",value:function(_,$){return this.data[_][$]}}]),B}(ue);function We(tt,ut){if(D(tt))return tt[0]&&D(tt[0])?new Dr(tt):new Gr(tt,ut);throw new Error("the argument is not an array")}var Je=function(){function tt(ut){x()(this,tt),ut=Dr.checkMatrix(ut);var B=ut.clone(),O=B.rows,_=B.columns,$=new Float64Array(O),gt=1,Ft,zt,te,_e,me,Ue,fr,je,Lr;for(Ft=0;Ft<O;Ft++)$[Ft]=Ft;for(je=new Float64Array(O),zt=0;zt<_;zt++){for(Ft=0;Ft<O;Ft++)je[Ft]=B.get(Ft,zt);for(Ft=0;Ft<O;Ft++){for(Lr=Math.min(Ft,zt),me=0,te=0;te<Lr;te++)me+=B.get(Ft,te)*je[te];je[Ft]-=me,B.set(Ft,zt,je[Ft])}for(_e=zt,Ft=zt+1;Ft<O;Ft++)Math.abs(je[Ft])>Math.abs(je[_e])&&(_e=Ft);if(_e!==zt){for(te=0;te<_;te++)Ue=B.get(_e,te),B.set(_e,te,B.get(zt,te)),B.set(zt,te,Ue);fr=$[_e],$[_e]=$[zt],$[zt]=fr,gt=-gt}if(zt<O&&B.get(zt,zt)!==0)for(Ft=zt+1;Ft<O;Ft++)B.set(Ft,zt,B.get(Ft,zt)/B.get(zt,zt))}this.LU=B,this.pivotVector=$,this.pivotSign=gt}return T()(tt,[{key:"isSingular",value:function(){for(var B=this.LU,O=B.columns,_=0;_<O;_++)if(B.get(_,_)===0)return!0;return!1}},{key:"solve",value:function(B){B=Fe.checkMatrix(B);var O=this.LU,_=O.rows;if(_!==B.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var $=B.columns,gt=B.subMatrixRow(this.pivotVector,0,$-1),Ft=O.columns,zt,te,_e;for(_e=0;_e<Ft;_e++)for(zt=_e+1;zt<Ft;zt++)for(te=0;te<$;te++)gt.set(zt,te,gt.get(zt,te)-gt.get(_e,te)*O.get(zt,_e));for(_e=Ft-1;_e>=0;_e--){for(te=0;te<$;te++)gt.set(_e,te,gt.get(_e,te)/O.get(_e,_e));for(zt=0;zt<_e;zt++)for(te=0;te<$;te++)gt.set(zt,te,gt.get(zt,te)-gt.get(_e,te)*O.get(zt,_e))}return gt}},{key:"determinant",get:function(){var B=this.LU;if(!B.isSquare())throw new Error("Matrix must be square");for(var O=this.pivotSign,_=B.columns,$=0;$<_;$++)O*=B.get($,$);return O}},{key:"lowerTriangularMatrix",get:function(){for(var B=this.LU,O=B.rows,_=B.columns,$=new Fe(O,_),gt=0;gt<O;gt++)for(var Ft=0;Ft<_;Ft++)gt>Ft?$.set(gt,Ft,B.get(gt,Ft)):gt===Ft?$.set(gt,Ft,1):$.set(gt,Ft,0);return $}},{key:"upperTriangularMatrix",get:function(){for(var B=this.LU,O=B.rows,_=B.columns,$=new Fe(O,_),gt=0;gt<O;gt++)for(var Ft=0;Ft<_;Ft++)gt<=Ft?$.set(gt,Ft,B.get(gt,Ft)):$.set(gt,Ft,0);return $}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),tt}();function gn(tt,ut){var B=0;return Math.abs(tt)>Math.abs(ut)?(B=ut/tt,Math.abs(tt)*Math.sqrt(1+B*B)):ut!==0?(B=tt/ut,Math.abs(ut)*Math.sqrt(1+B*B)):0}var rr=function(){function tt(ut){x()(this,tt),ut=Dr.checkMatrix(ut);var B=ut.clone(),O=ut.rows,_=ut.columns,$=new Float64Array(_),gt,Ft,zt,te;for(zt=0;zt<_;zt++){var _e=0;for(gt=zt;gt<O;gt++)_e=gn(_e,B.get(gt,zt));if(_e!==0){for(B.get(zt,zt)<0&&(_e=-_e),gt=zt;gt<O;gt++)B.set(gt,zt,B.get(gt,zt)/_e);for(B.set(zt,zt,B.get(zt,zt)+1),Ft=zt+1;Ft<_;Ft++){for(te=0,gt=zt;gt<O;gt++)te+=B.get(gt,zt)*B.get(gt,Ft);for(te=-te/B.get(zt,zt),gt=zt;gt<O;gt++)B.set(gt,Ft,B.get(gt,Ft)+te*B.get(gt,zt))}}$[zt]=-_e}this.QR=B,this.Rdiag=$}return T()(tt,[{key:"solve",value:function(B){B=Fe.checkMatrix(B);var O=this.QR,_=O.rows;if(B.rows!==_)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var $=B.columns,gt=B.clone(),Ft=O.columns,zt,te,_e,me;for(_e=0;_e<Ft;_e++)for(te=0;te<$;te++){for(me=0,zt=_e;zt<_;zt++)me+=O.get(zt,_e)*gt.get(zt,te);for(me=-me/O.get(_e,_e),zt=_e;zt<_;zt++)gt.set(zt,te,gt.get(zt,te)+me*O.get(zt,_e))}for(_e=Ft-1;_e>=0;_e--){for(te=0;te<$;te++)gt.set(_e,te,gt.get(_e,te)/this.Rdiag[_e]);for(zt=0;zt<_e;zt++)for(te=0;te<$;te++)gt.set(zt,te,gt.get(zt,te)-gt.get(_e,te)*O.get(zt,_e))}return gt.subMatrix(0,Ft-1,0,$-1)}},{key:"isFullRank",value:function(){for(var B=this.QR.columns,O=0;O<B;O++)if(this.Rdiag[O]===0)return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var B=this.QR,O=B.columns,_=new Fe(O,O),$,gt;for($=0;$<O;$++)for(gt=0;gt<O;gt++)$<gt?_.set($,gt,B.get($,gt)):$===gt?_.set($,gt,this.Rdiag[$]):_.set($,gt,0);return _}},{key:"orthogonalMatrix",get:function(){var B=this.QR,O=B.rows,_=B.columns,$=new Fe(O,_),gt,Ft,zt,te;for(zt=_-1;zt>=0;zt--){for(gt=0;gt<O;gt++)$.set(gt,zt,0);for($.set(zt,zt,1),Ft=zt;Ft<_;Ft++)if(B.get(zt,zt)!==0){for(te=0,gt=zt;gt<O;gt++)te+=B.get(gt,zt)*$.get(gt,Ft);for(te=-te/B.get(zt,zt),gt=zt;gt<O;gt++)$.set(gt,Ft,$.get(gt,Ft)+te*B.get(gt,zt))}}return $}}]),tt}(),jr=function(){function tt(ut){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(x()(this,tt),ut=Dr.checkMatrix(ut),ut.isEmpty())throw new Error("Matrix must be non-empty");var O=ut.rows,_=ut.columns,$=B.computeLeftSingularVectors,gt=$===void 0?!0:$,Ft=B.computeRightSingularVectors,zt=Ft===void 0?!0:Ft,te=B.autoTranspose,_e=te===void 0?!1:te,me=Boolean(gt),Ue=Boolean(zt),fr=!1,je;if(O<_)if(!_e)je=ut.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{je=ut.transpose(),O=je.rows,_=je.columns,fr=!0;var Lr=me;me=Ue,Ue=Lr}else je=ut.clone();for(var ln=Math.min(O,_),Ve=Math.min(O+1,_),or=new Float64Array(Ve),Ar=new Fe(O,ln),Mr=new Fe(_,_),ce=new Float64Array(_),Xt=new Float64Array(O),he=new Float64Array(Ve),Me=0;Me<Ve;Me++)he[Me]=Me;for(var be=Math.min(O-1,_),Ne=Math.max(0,Math.min(_-2,O)),ir=Math.max(be,Ne),cr=0;cr<ir;cr++){if(cr<be){or[cr]=0;for(var en=cr;en<O;en++)or[cr]=gn(or[cr],je.get(en,cr));if(or[cr]!==0){je.get(cr,cr)<0&&(or[cr]=-or[cr]);for(var Dn=cr;Dn<O;Dn++)je.set(Dn,cr,je.get(Dn,cr)/or[cr]);je.set(cr,cr,je.get(cr,cr)+1)}or[cr]=-or[cr]}for(var un=cr+1;un<_;un++){if(cr<be&&or[cr]!==0){for(var Fn=0,sn=cr;sn<O;sn++)Fn+=je.get(sn,cr)*je.get(sn,un);Fn=-Fn/je.get(cr,cr);for(var Bn=cr;Bn<O;Bn++)je.set(Bn,un,je.get(Bn,un)+Fn*je.get(Bn,cr))}ce[un]=je.get(cr,un)}if(me&&cr<be)for(var qn=cr;qn<O;qn++)Ar.set(qn,cr,je.get(qn,cr));if(cr<Ne){ce[cr]=0;for(var sa=cr+1;sa<_;sa++)ce[cr]=gn(ce[cr],ce[sa]);if(ce[cr]!==0){ce[cr+1]<0&&(ce[cr]=0-ce[cr]);for(var oa=cr+1;oa<_;oa++)ce[oa]/=ce[cr];ce[cr+1]+=1}if(ce[cr]=-ce[cr],cr+1<O&&ce[cr]!==0){for(var Ti=cr+1;Ti<O;Ti++)Xt[Ti]=0;for(var oi=cr+1;oi<O;oi++)for(var Va=cr+1;Va<_;Va++)Xt[oi]+=ce[Va]*je.get(oi,Va);for(var ti=cr+1;ti<_;ti++)for(var zi=-ce[ti]/ce[cr+1],si=cr+1;si<O;si++)je.set(si,ti,je.get(si,ti)+zi*Xt[si])}if(Ue)for(var ui=cr+1;ui<_;ui++)Mr.set(ui,cr,ce[ui])}}var ba=Math.min(_,O+1);if(be<_&&(or[be]=je.get(be,be)),O<ba&&(or[ba-1]=0),Ne+1<ba&&(ce[Ne]=je.get(Ne,ba-1)),ce[ba-1]=0,me){for(var qi=be;qi<ln;qi++){for(var Co=0;Co<O;Co++)Ar.set(Co,qi,0);Ar.set(qi,qi,1)}for(var Ba=be-1;Ba>=0;Ba--)if(or[Ba]!==0){for(var Ji=Ba+1;Ji<ln;Ji++){for(var uo=0,to=Ba;to<O;to++)uo+=Ar.get(to,Ba)*Ar.get(to,Ji);uo=-uo/Ar.get(Ba,Ba);for(var gi=Ba;gi<O;gi++)Ar.set(gi,Ji,Ar.get(gi,Ji)+uo*Ar.get(gi,Ba))}for(var Si=Ba;Si<O;Si++)Ar.set(Si,Ba,-Ar.get(Si,Ba));Ar.set(Ba,Ba,1+Ar.get(Ba,Ba));for(var Po=0;Po<Ba-1;Po++)Ar.set(Po,Ba,0)}else{for(var bo=0;bo<O;bo++)Ar.set(bo,Ba,0);Ar.set(Ba,Ba,1)}}if(Ue)for(var Za=_-1;Za>=0;Za--){if(Za<Ne&&ce[Za]!==0)for(var Mi=Za+1;Mi<_;Mi++){for(var Hn=0,ee=Za+1;ee<_;ee++)Hn+=Mr.get(ee,Za)*Mr.get(ee,Mi);Hn=-Hn/Mr.get(Za+1,Za);for(var fe=Za+1;fe<_;fe++)Mr.set(fe,Mi,Mr.get(fe,Mi)+Hn*Mr.get(fe,Za))}for(var Pe=0;Pe<_;Pe++)Mr.set(Pe,Za,0);Mr.set(Za,Za,1)}for(var nr=ba-1,_r=0,Sr=Number.EPSILON;ba>0;){var br=void 0,Kr=void 0;for(br=ba-2;br>=-1&&br!==-1;br--){var cn=Number.MIN_VALUE+Sr*Math.abs(or[br]+Math.abs(or[br+1]));if(Math.abs(ce[br])<=cn||Number.isNaN(ce[br])){ce[br]=0;break}}if(br===ba-2)Kr=4;else{var Mn=void 0;for(Mn=ba-1;Mn>=br&&Mn!==br;Mn--){var Kn=(Mn!==ba?Math.abs(ce[Mn]):0)+(Mn!==br+1?Math.abs(ce[Mn-1]):0);if(Math.abs(or[Mn])<=Sr*Kn){or[Mn]=0;break}}Mn===br?Kr=3:Mn===ba-1?Kr=1:(Kr=2,br=Mn)}switch(br++,Kr){case 1:{var Wn=ce[ba-2];ce[ba-2]=0;for(var ra=ba-2;ra>=br;ra--){var na=gn(or[ra],Wn),Ua=or[ra]/na,ua=Wn/na;if(or[ra]=na,ra!==br&&(Wn=-ua*ce[ra-1],ce[ra-1]=Ua*ce[ra-1]),Ue)for(var Qn=0;Qn<_;Qn++)na=Ua*Mr.get(Qn,ra)+ua*Mr.get(Qn,ba-1),Mr.set(Qn,ba-1,-ua*Mr.get(Qn,ra)+Ua*Mr.get(Qn,ba-1)),Mr.set(Qn,ra,na)}break}case 2:{var Fa=ce[br-1];ce[br-1]=0;for(var Da=br;Da<ba;Da++){var xa=gn(or[Da],Fa),li=or[Da]/xa,Qa=Fa/xa;if(or[Da]=xa,Fa=-Qa*ce[Da],ce[Da]=li*ce[Da],me)for(var Na=0;Na<O;Na++)xa=li*Ar.get(Na,Da)+Qa*Ar.get(Na,br-1),Ar.set(Na,br-1,-Qa*Ar.get(Na,Da)+li*Ar.get(Na,br-1)),Ar.set(Na,Da,xa)}break}case 3:{var _a=Math.max(Math.abs(or[ba-1]),Math.abs(or[ba-2]),Math.abs(ce[ba-2]),Math.abs(or[br]),Math.abs(ce[br])),va=or[ba-1]/_a,di=or[ba-2]/_a,ni=ce[ba-2]/_a,hi=or[br]/_a,Ri=ce[br]/_a,Ii=((di+va)*(di-va)+ni*ni)/2,Gi=va*ni*(va*ni),Ao=0;(Ii!==0||Gi!==0)&&(Ii<0?Ao=0-Math.sqrt(Ii*Ii+Gi):Ao=Math.sqrt(Ii*Ii+Gi),Ao=Gi/(Ii+Ao));for(var Oo=(hi+va)*(hi-va)+Ao,Ni=hi*Ri,Ra=br;Ra<ba-1;Ra++){var mi=gn(Oo,Ni);mi===0&&(mi=Number.MIN_VALUE);var ki=Oo/mi,Sa=Ni/mi;if(Ra!==br&&(ce[Ra-1]=mi),Oo=ki*or[Ra]+Sa*ce[Ra],ce[Ra]=ki*ce[Ra]-Sa*or[Ra],Ni=Sa*or[Ra+1],or[Ra+1]=ki*or[Ra+1],Ue)for(var Ui=0;Ui<_;Ui++)mi=ki*Mr.get(Ui,Ra)+Sa*Mr.get(Ui,Ra+1),Mr.set(Ui,Ra+1,-Sa*Mr.get(Ui,Ra)+ki*Mr.get(Ui,Ra+1)),Mr.set(Ui,Ra,mi);if(mi=gn(Oo,Ni),mi===0&&(mi=Number.MIN_VALUE),ki=Oo/mi,Sa=Ni/mi,or[Ra]=mi,Oo=ki*ce[Ra]+Sa*or[Ra+1],or[Ra+1]=-Sa*ce[Ra]+ki*or[Ra+1],Ni=Sa*ce[Ra+1],ce[Ra+1]=ki*ce[Ra+1],me&&Ra<O-1)for(var lo=0;lo<O;lo++)mi=ki*Ar.get(lo,Ra)+Sa*Ar.get(lo,Ra+1),Ar.set(lo,Ra+1,-Sa*Ar.get(lo,Ra)+ki*Ar.get(lo,Ra+1)),Ar.set(lo,Ra,mi)}ce[ba-2]=Oo,_r=_r+1;break}case 4:{if(or[br]<=0&&(or[br]=or[br]<0?-or[br]:0,Ue))for(var Ai=0;Ai<=nr;Ai++)Mr.set(Ai,br,-Mr.get(Ai,br));for(;br<nr&&!(or[br]>=or[br+1]);){var Lo=or[br];if(or[br]=or[br+1],or[br+1]=Lo,Ue&&br<_-1)for(var yi=0;yi<_;yi++)Lo=Mr.get(yi,br+1),Mr.set(yi,br+1,Mr.get(yi,br)),Mr.set(yi,br,Lo);if(me&&br<O-1)for(var co=0;co<O;co++)Lo=Ar.get(co,br+1),Ar.set(co,br+1,Ar.get(co,br)),Ar.set(co,br,Lo);br++}_r=0,ba--;break}}}if(fr){var Go=Mr;Mr=Ar,Ar=Go}this.m=O,this.n=_,this.s=or,this.U=Ar,this.V=Mr}return T()(tt,[{key:"solve",value:function(B){for(var O=B,_=this.threshold,$=this.s.length,gt=Fe.zeros($,$),Ft=0;Ft<$;Ft++)Math.abs(this.s[Ft])<=_?gt.set(Ft,Ft,0):gt.set(Ft,Ft,1/this.s[Ft]);for(var zt=this.U,te=this.rightSingularVectors,_e=te.mmul(gt),me=te.rows,Ue=zt.rows,fr=Fe.zeros(me,Ue),je=0;je<me;je++)for(var Lr=0;Lr<Ue;Lr++){for(var ln=0,Ve=0;Ve<$;Ve++)ln+=_e.get(je,Ve)*zt.get(Lr,Ve);fr.set(je,Lr,ln)}return fr.mmul(O)}},{key:"solveForDiagonal",value:function(B){return this.solve(Fe.diag(B))}},{key:"inverse",value:function(){for(var B=this.V,O=this.threshold,_=B.rows,$=B.columns,gt=new Fe(_,this.s.length),Ft=0;Ft<_;Ft++)for(var zt=0;zt<$;zt++)Math.abs(this.s[zt])>O&&gt.set(Ft,zt,B.get(Ft,zt)/this.s[zt]);for(var te=this.U,_e=te.rows,me=te.columns,Ue=new Fe(_,_e),fr=0;fr<_;fr++)for(var je=0;je<_e;je++){for(var Lr=0,ln=0;ln<me;ln++)Lr+=gt.get(fr,ln)*te.get(je,ln);Ue.set(fr,je,Lr)}return Ue}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var B=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,O=0,_=this.s,$=0,gt=_.length;$<gt;$++)_[$]>B&&O++;return O}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Fe.diag(this.s)}}]),tt}();function Nr(tt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return tt=Dr.checkMatrix(tt),ut?new jr(tt).inverse():kn(tt,Fe.eye(tt.rows))}function kn(tt,ut){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return tt=Dr.checkMatrix(tt),ut=Dr.checkMatrix(ut),B?new jr(tt).solve(ut):tt.isSquare()?new Je(tt).solve(ut):new rr(tt).solve(ut)}function on(tt){if(tt=Fe.checkMatrix(tt),tt.isSquare()){if(tt.columns===0)return 1;var ut,B,O,_;if(tt.columns===2)return ut=tt.get(0,0),B=tt.get(0,1),O=tt.get(1,0),_=tt.get(1,1),ut*_-B*O;if(tt.columns===3){var $,gt,Ft;return $=new Rr(tt,[1,2],[1,2]),gt=new Rr(tt,[1,2],[0,2]),Ft=new Rr(tt,[1,2],[0,1]),ut=tt.get(0,0),B=tt.get(0,1),O=tt.get(0,2),ut*on($)-B*on(gt)+O*on(Ft)}else return new Je(tt).determinant}else throw Error("determinant can only be calculated for a square matrix")}function dn(tt,ut){for(var B=[],O=0;O<tt;O++)O!==ut&&B.push(O);return B}function En(tt,ut,B){var O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-9,_=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-9;if(tt>_)return new Array(ut.rows+1).fill(0);for(var $=ut.addRow(B,[0]),gt=0;gt<$.rows;gt++)Math.abs($.get(gt,0))<O&&$.set(gt,0,0);return $.to1DArray()}function Pn(tt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=ut.thresholdValue,O=B===void 0?1e-9:B,_=ut.thresholdError,$=_===void 0?1e-9:_;tt=Fe.checkMatrix(tt);for(var gt=tt.rows,Ft=new Fe(gt,gt),zt=0;zt<gt;zt++){var te=Fe.columnVector(tt.getRow(zt)),_e=tt.subMatrixRow(dn(gt,zt)).transpose(),me=new jr(_e),Ue=me.solve(te),fr=Fe.sub(te,_e.mmul(Ue)).abs().max();Ft.setRow(zt,En(fr,Ue,zt,O,$))}return Ft}function Nn(tt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.EPSILON;if(tt=Fe.checkMatrix(tt),tt.isEmpty())return tt.transpose();for(var B=new jr(tt,{autoTranspose:!0}),O=B.leftSingularVectors,_=B.rightSingularVectors,$=B.diagonal,gt=0;gt<$.length;gt++)Math.abs($[gt])>ut?$[gt]=1/$[gt]:$[gt]=0;return _.mmul(Fe.diag($).mmul(O.transpose()))}function at(tt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};tt=new Fe(tt);var O=!1;if(g()(ut)==="object"&&!Fe.isMatrix(ut)&&!D(ut)?(B=ut,ut=tt,O=!0):ut=new Fe(ut),tt.rows!==ut.rows)throw new TypeError("Both matrices must have the same number of rows");var _=B,$=_.center,gt=$===void 0?!0:$;gt&&(tt=tt.center("column"),O||(ut=ut.center("column")));for(var Ft=tt.transpose().mmul(ut),zt=0;zt<Ft.rows;zt++)for(var te=0;te<Ft.columns;te++)Ft.set(zt,te,Ft.get(zt,te)*(1/(tt.rows-1)));return Ft}function Xe(tt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};tt=new Fe(tt);var O=!1;if(g()(ut)==="object"&&!Fe.isMatrix(ut)&&!D(ut)?(B=ut,ut=tt,O=!0):ut=new Fe(ut),tt.rows!==ut.rows)throw new TypeError("Both matrices must have the same number of rows");var _=B,$=_.center,gt=$===void 0?!0:$,Ft=_.scale,zt=Ft===void 0?!0:Ft;gt&&(tt.center("column"),O||ut.center("column")),zt&&(tt.scale("column"),O||ut.scale("column"));for(var te=tt.standardDeviation("column",{unbiased:!0}),_e=O?te:ut.standardDeviation("column",{unbiased:!0}),me=tt.transpose().mmul(ut),Ue=0;Ue<me.rows;Ue++)for(var fr=0;fr<me.columns;fr++)me.set(Ue,fr,me.get(Ue,fr)*(1/(te[Ue]*_e[fr]))*(1/(tt.rows-1)));return me}var Zt=function(){function tt(ut){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};x()(this,tt);var O=B.assumeSymmetric,_=O===void 0?!1:O;if(ut=Dr.checkMatrix(ut),!ut.isSquare())throw new Error("Matrix is not a square matrix");if(ut.isEmpty())throw new Error("Matrix must be non-empty");var $=ut.columns,gt=new Fe($,$),Ft=new Float64Array($),zt=new Float64Array($),te=ut,_e,me,Ue=!1;if(_?Ue=!0:Ue=ut.isSymmetric(),Ue){for(_e=0;_e<$;_e++)for(me=0;me<$;me++)gt.set(_e,me,te.get(_e,me));Qt($,zt,Ft,gt),Mt($,zt,Ft,gt)}else{var fr=new Fe($,$),je=new Float64Array($);for(me=0;me<$;me++)for(_e=0;_e<$;_e++)fr.set(_e,me,te.get(_e,me));Nt($,fr,je,gt),Ut($,zt,Ft,gt,fr)}this.n=$,this.e=zt,this.d=Ft,this.V=gt}return T()(tt,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var B=this.n,O=this.e,_=this.d,$=new Fe(B,B),gt,Ft;for(gt=0;gt<B;gt++){for(Ft=0;Ft<B;Ft++)$.set(gt,Ft,0);$.set(gt,gt,_[gt]),O[gt]>0?$.set(gt,gt+1,O[gt]):O[gt]<0&&$.set(gt,gt-1,O[gt])}return $}}]),tt}();function Qt(tt,ut,B,O){var _,$,gt,Ft,zt,te,_e,me;for(zt=0;zt<tt;zt++)B[zt]=O.get(tt-1,zt);for(Ft=tt-1;Ft>0;Ft--){for(me=0,gt=0,te=0;te<Ft;te++)me=me+Math.abs(B[te]);if(me===0)for(ut[Ft]=B[Ft-1],zt=0;zt<Ft;zt++)B[zt]=O.get(Ft-1,zt),O.set(Ft,zt,0),O.set(zt,Ft,0);else{for(te=0;te<Ft;te++)B[te]/=me,gt+=B[te]*B[te];for(_=B[Ft-1],$=Math.sqrt(gt),_>0&&($=-$),ut[Ft]=me*$,gt=gt-_*$,B[Ft-1]=_-$,zt=0;zt<Ft;zt++)ut[zt]=0;for(zt=0;zt<Ft;zt++){for(_=B[zt],O.set(zt,Ft,_),$=ut[zt]+O.get(zt,zt)*_,te=zt+1;te<=Ft-1;te++)$+=O.get(te,zt)*B[te],ut[te]+=O.get(te,zt)*_;ut[zt]=$}for(_=0,zt=0;zt<Ft;zt++)ut[zt]/=gt,_+=ut[zt]*B[zt];for(_e=_/(gt+gt),zt=0;zt<Ft;zt++)ut[zt]-=_e*B[zt];for(zt=0;zt<Ft;zt++){for(_=B[zt],$=ut[zt],te=zt;te<=Ft-1;te++)O.set(te,zt,O.get(te,zt)-(_*ut[te]+$*B[te]));B[zt]=O.get(Ft-1,zt),O.set(Ft,zt,0)}}B[Ft]=gt}for(Ft=0;Ft<tt-1;Ft++){if(O.set(tt-1,Ft,O.get(Ft,Ft)),O.set(Ft,Ft,1),gt=B[Ft+1],gt!==0){for(te=0;te<=Ft;te++)B[te]=O.get(te,Ft+1)/gt;for(zt=0;zt<=Ft;zt++){for($=0,te=0;te<=Ft;te++)$+=O.get(te,Ft+1)*O.get(te,zt);for(te=0;te<=Ft;te++)O.set(te,zt,O.get(te,zt)-$*B[te])}}for(te=0;te<=Ft;te++)O.set(te,Ft+1,0)}for(zt=0;zt<tt;zt++)B[zt]=O.get(tt-1,zt),O.set(tt-1,zt,0);O.set(tt-1,tt-1,1),ut[0]=0}function Mt(tt,ut,B,O){var _,$,gt,Ft,zt,te,_e,me,Ue,fr,je,Lr,ln,Ve,or,Ar,Mr;for(gt=1;gt<tt;gt++)ut[gt-1]=ut[gt];ut[tt-1]=0;var ce=0,Xt=0,he=Number.EPSILON;for(te=0;te<tt;te++){for(Xt=Math.max(Xt,Math.abs(B[te])+Math.abs(ut[te])),_e=te;_e<tt&&!(Math.abs(ut[_e])<=he*Xt);)_e++;if(_e>te){Mr=0;do{for(Mr=Mr+1,_=B[te],me=(B[te+1]-_)/(2*ut[te]),Ue=gn(me,1),me<0&&(Ue=-Ue),B[te]=ut[te]/(me+Ue),B[te+1]=ut[te]*(me+Ue),fr=B[te+1],$=_-B[te],gt=te+2;gt<tt;gt++)B[gt]-=$;for(ce=ce+$,me=B[_e],je=1,Lr=je,ln=je,Ve=ut[te+1],or=0,Ar=0,gt=_e-1;gt>=te;gt--)for(ln=Lr,Lr=je,Ar=or,_=je*ut[gt],$=je*me,Ue=gn(me,ut[gt]),ut[gt+1]=or*Ue,or=ut[gt]/Ue,je=me/Ue,me=je*B[gt]-or*_,B[gt+1]=$+or*(je*_+or*B[gt]),zt=0;zt<tt;zt++)$=O.get(zt,gt+1),O.set(zt,gt+1,or*O.get(zt,gt)+je*$),O.set(zt,gt,je*O.get(zt,gt)-or*$);me=-or*Ar*ln*Ve*ut[te]/fr,ut[te]=or*me,B[te]=je*me}while(Math.abs(ut[te])>he*Xt)}B[te]=B[te]+ce,ut[te]=0}for(gt=0;gt<tt-1;gt++){for(zt=gt,me=B[gt],Ft=gt+1;Ft<tt;Ft++)B[Ft]<me&&(zt=Ft,me=B[Ft]);if(zt!==gt)for(B[zt]=B[gt],B[gt]=me,Ft=0;Ft<tt;Ft++)me=O.get(Ft,gt),O.set(Ft,gt,O.get(Ft,zt)),O.set(Ft,zt,me)}}function Nt(tt,ut,B,O){var _=0,$=tt-1,gt,Ft,zt,te,_e,me,Ue;for(me=_+1;me<=$-1;me++){for(Ue=0,te=me;te<=$;te++)Ue=Ue+Math.abs(ut.get(te,me-1));if(Ue!==0){for(zt=0,te=$;te>=me;te--)B[te]=ut.get(te,me-1)/Ue,zt+=B[te]*B[te];for(Ft=Math.sqrt(zt),B[me]>0&&(Ft=-Ft),zt=zt-B[me]*Ft,B[me]=B[me]-Ft,_e=me;_e<tt;_e++){for(gt=0,te=$;te>=me;te--)gt+=B[te]*ut.get(te,_e);for(gt=gt/zt,te=me;te<=$;te++)ut.set(te,_e,ut.get(te,_e)-gt*B[te])}for(te=0;te<=$;te++){for(gt=0,_e=$;_e>=me;_e--)gt+=B[_e]*ut.get(te,_e);for(gt=gt/zt,_e=me;_e<=$;_e++)ut.set(te,_e,ut.get(te,_e)-gt*B[_e])}B[me]=Ue*B[me],ut.set(me,me-1,Ue*Ft)}}for(te=0;te<tt;te++)for(_e=0;_e<tt;_e++)O.set(te,_e,te===_e?1:0);for(me=$-1;me>=_+1;me--)if(ut.get(me,me-1)!==0){for(te=me+1;te<=$;te++)B[te]=ut.get(te,me-1);for(_e=me;_e<=$;_e++){for(Ft=0,te=me;te<=$;te++)Ft+=B[te]*O.get(te,_e);for(Ft=Ft/B[me]/ut.get(me,me-1),te=me;te<=$;te++)O.set(te,_e,O.get(te,_e)+Ft*B[te])}}}function Ut(tt,ut,B,O,_){var $=tt-1,gt=0,Ft=tt-1,zt=Number.EPSILON,te=0,_e=0,me=0,Ue=0,fr=0,je=0,Lr=0,ln=0,Ve,or,Ar,Mr,ce,Xt,he,Me,be,Ne,ir,cr,en,Dn,un;for(Ve=0;Ve<tt;Ve++)for((Ve<gt||Ve>Ft)&&(B[Ve]=_.get(Ve,Ve),ut[Ve]=0),or=Math.max(Ve-1,0);or<tt;or++)_e=_e+Math.abs(_.get(Ve,or));for(;$>=gt;){for(Mr=$;Mr>gt&&(je=Math.abs(_.get(Mr-1,Mr-1))+Math.abs(_.get(Mr,Mr)),je===0&&(je=_e),!(Math.abs(_.get(Mr,Mr-1))<zt*je));)Mr--;if(Mr===$)_.set($,$,_.get($,$)+te),B[$]=_.get($,$),ut[$]=0,$--,ln=0;else if(Mr===$-1){if(he=_.get($,$-1)*_.get($-1,$),me=(_.get($-1,$-1)-_.get($,$))/2,Ue=me*me+he,Lr=Math.sqrt(Math.abs(Ue)),_.set($,$,_.get($,$)+te),_.set($-1,$-1,_.get($-1,$-1)+te),Me=_.get($,$),Ue>=0){for(Lr=me>=0?me+Lr:me-Lr,B[$-1]=Me+Lr,B[$]=B[$-1],Lr!==0&&(B[$]=Me-he/Lr),ut[$-1]=0,ut[$]=0,Me=_.get($,$-1),je=Math.abs(Me)+Math.abs(Lr),me=Me/je,Ue=Lr/je,fr=Math.sqrt(me*me+Ue*Ue),me=me/fr,Ue=Ue/fr,or=$-1;or<tt;or++)Lr=_.get($-1,or),_.set($-1,or,Ue*Lr+me*_.get($,or)),_.set($,or,Ue*_.get($,or)-me*Lr);for(Ve=0;Ve<=$;Ve++)Lr=_.get(Ve,$-1),_.set(Ve,$-1,Ue*Lr+me*_.get(Ve,$)),_.set(Ve,$,Ue*_.get(Ve,$)-me*Lr);for(Ve=gt;Ve<=Ft;Ve++)Lr=O.get(Ve,$-1),O.set(Ve,$-1,Ue*Lr+me*O.get(Ve,$)),O.set(Ve,$,Ue*O.get(Ve,$)-me*Lr)}else B[$-1]=Me+me,B[$]=Me+me,ut[$-1]=Lr,ut[$]=-Lr;$=$-2,ln=0}else{if(Me=_.get($,$),be=0,he=0,Mr<$&&(be=_.get($-1,$-1),he=_.get($,$-1)*_.get($-1,$)),ln===10){for(te+=Me,Ve=gt;Ve<=$;Ve++)_.set(Ve,Ve,_.get(Ve,Ve)-Me);je=Math.abs(_.get($,$-1))+Math.abs(_.get($-1,$-2)),Me=be=.75*je,he=-.4375*je*je}if(ln===30&&(je=(be-Me)/2,je=je*je+he,je>0)){for(je=Math.sqrt(je),be<Me&&(je=-je),je=Me-he/((be-Me)/2+je),Ve=gt;Ve<=$;Ve++)_.set(Ve,Ve,_.get(Ve,Ve)-je);te+=je,Me=be=he=.964}for(ln=ln+1,ce=$-2;ce>=Mr&&(Lr=_.get(ce,ce),fr=Me-Lr,je=be-Lr,me=(fr*je-he)/_.get(ce+1,ce)+_.get(ce,ce+1),Ue=_.get(ce+1,ce+1)-Lr-fr-je,fr=_.get(ce+2,ce+1),je=Math.abs(me)+Math.abs(Ue)+Math.abs(fr),me=me/je,Ue=Ue/je,fr=fr/je,!(ce===Mr||Math.abs(_.get(ce,ce-1))*(Math.abs(Ue)+Math.abs(fr))<zt*(Math.abs(me)*(Math.abs(_.get(ce-1,ce-1))+Math.abs(Lr)+Math.abs(_.get(ce+1,ce+1))))));)ce--;for(Ve=ce+2;Ve<=$;Ve++)_.set(Ve,Ve-2,0),Ve>ce+2&&_.set(Ve,Ve-3,0);for(Ar=ce;Ar<=$-1&&(Dn=Ar!==$-1,Ar!==ce&&(me=_.get(Ar,Ar-1),Ue=_.get(Ar+1,Ar-1),fr=Dn?_.get(Ar+2,Ar-1):0,Me=Math.abs(me)+Math.abs(Ue)+Math.abs(fr),Me!==0&&(me=me/Me,Ue=Ue/Me,fr=fr/Me)),Me!==0);Ar++)if(je=Math.sqrt(me*me+Ue*Ue+fr*fr),me<0&&(je=-je),je!==0){for(Ar!==ce?_.set(Ar,Ar-1,-je*Me):Mr!==ce&&_.set(Ar,Ar-1,-_.get(Ar,Ar-1)),me=me+je,Me=me/je,be=Ue/je,Lr=fr/je,Ue=Ue/me,fr=fr/me,or=Ar;or<tt;or++)me=_.get(Ar,or)+Ue*_.get(Ar+1,or),Dn&&(me=me+fr*_.get(Ar+2,or),_.set(Ar+2,or,_.get(Ar+2,or)-me*Lr)),_.set(Ar,or,_.get(Ar,or)-me*Me),_.set(Ar+1,or,_.get(Ar+1,or)-me*be);for(Ve=0;Ve<=Math.min($,Ar+3);Ve++)me=Me*_.get(Ve,Ar)+be*_.get(Ve,Ar+1),Dn&&(me=me+Lr*_.get(Ve,Ar+2),_.set(Ve,Ar+2,_.get(Ve,Ar+2)-me*fr)),_.set(Ve,Ar,_.get(Ve,Ar)-me),_.set(Ve,Ar+1,_.get(Ve,Ar+1)-me*Ue);for(Ve=gt;Ve<=Ft;Ve++)me=Me*O.get(Ve,Ar)+be*O.get(Ve,Ar+1),Dn&&(me=me+Lr*O.get(Ve,Ar+2),O.set(Ve,Ar+2,O.get(Ve,Ar+2)-me*fr)),O.set(Ve,Ar,O.get(Ve,Ar)-me),O.set(Ve,Ar+1,O.get(Ve,Ar+1)-me*Ue)}}}if(_e!==0){for($=tt-1;$>=0;$--)if(me=B[$],Ue=ut[$],Ue===0)for(Mr=$,_.set($,$,1),Ve=$-1;Ve>=0;Ve--){for(he=_.get(Ve,Ve)-me,fr=0,or=Mr;or<=$;or++)fr=fr+_.get(Ve,or)*_.get(or,$);if(ut[Ve]<0)Lr=he,je=fr;else if(Mr=Ve,ut[Ve]===0?_.set(Ve,$,he!==0?-fr/he:-fr/(zt*_e)):(Me=_.get(Ve,Ve+1),be=_.get(Ve+1,Ve),Ue=(B[Ve]-me)*(B[Ve]-me)+ut[Ve]*ut[Ve],Xt=(Me*je-Lr*fr)/Ue,_.set(Ve,$,Xt),_.set(Ve+1,$,Math.abs(Me)>Math.abs(Lr)?(-fr-he*Xt)/Me:(-je-be*Xt)/Lr)),Xt=Math.abs(_.get(Ve,$)),zt*Xt*Xt>1)for(or=Ve;or<=$;or++)_.set(or,$,_.get(or,$)/Xt)}else if(Ue<0)for(Mr=$-1,Math.abs(_.get($,$-1))>Math.abs(_.get($-1,$))?(_.set($-1,$-1,Ue/_.get($,$-1)),_.set($-1,$,-(_.get($,$)-me)/_.get($,$-1))):(un=vt(0,-_.get($-1,$),_.get($-1,$-1)-me,Ue),_.set($-1,$-1,un[0]),_.set($-1,$,un[1])),_.set($,$-1,0),_.set($,$,1),Ve=$-2;Ve>=0;Ve--){for(Ne=0,ir=0,or=Mr;or<=$;or++)Ne=Ne+_.get(Ve,or)*_.get(or,$-1),ir=ir+_.get(Ve,or)*_.get(or,$);if(he=_.get(Ve,Ve)-me,ut[Ve]<0)Lr=he,fr=Ne,je=ir;else if(Mr=Ve,ut[Ve]===0?(un=vt(-Ne,-ir,he,Ue),_.set(Ve,$-1,un[0]),_.set(Ve,$,un[1])):(Me=_.get(Ve,Ve+1),be=_.get(Ve+1,Ve),cr=(B[Ve]-me)*(B[Ve]-me)+ut[Ve]*ut[Ve]-Ue*Ue,en=(B[Ve]-me)*2*Ue,cr===0&&en===0&&(cr=zt*_e*(Math.abs(he)+Math.abs(Ue)+Math.abs(Me)+Math.abs(be)+Math.abs(Lr))),un=vt(Me*fr-Lr*Ne+Ue*ir,Me*je-Lr*ir-Ue*Ne,cr,en),_.set(Ve,$-1,un[0]),_.set(Ve,$,un[1]),Math.abs(Me)>Math.abs(Lr)+Math.abs(Ue)?(_.set(Ve+1,$-1,(-Ne-he*_.get(Ve,$-1)+Ue*_.get(Ve,$))/Me),_.set(Ve+1,$,(-ir-he*_.get(Ve,$)-Ue*_.get(Ve,$-1))/Me)):(un=vt(-fr-be*_.get(Ve,$-1),-je-be*_.get(Ve,$),Lr,Ue),_.set(Ve+1,$-1,un[0]),_.set(Ve+1,$,un[1]))),Xt=Math.max(Math.abs(_.get(Ve,$-1)),Math.abs(_.get(Ve,$))),zt*Xt*Xt>1)for(or=Ve;or<=$;or++)_.set(or,$-1,_.get(or,$-1)/Xt),_.set(or,$,_.get(or,$)/Xt)}for(Ve=0;Ve<tt;Ve++)if(Ve<gt||Ve>Ft)for(or=Ve;or<tt;or++)O.set(Ve,or,_.get(Ve,or));for(or=tt-1;or>=gt;or--)for(Ve=gt;Ve<=Ft;Ve++){for(Lr=0,Ar=gt;Ar<=Math.min(or,Ft);Ar++)Lr=Lr+O.get(Ve,Ar)*_.get(Ar,or);O.set(Ve,or,Lr)}}}function vt(tt,ut,B,O){var _,$;return Math.abs(B)>Math.abs(O)?(_=O/B,$=B+_*O,[(tt+_*ut)/$,(ut-_*tt)/$]):(_=B/O,$=O+_*B,[(_*tt+ut)/$,(_*ut-tt)/$])}var Rt=function(){function tt(ut){if(x()(this,tt),ut=Dr.checkMatrix(ut),!ut.isSymmetric())throw new Error("Matrix is not symmetric");var B=ut,O=B.rows,_=new Fe(O,O),$=!0,gt,Ft,zt;for(Ft=0;Ft<O;Ft++){var te=0;for(zt=0;zt<Ft;zt++){var _e=0;for(gt=0;gt<zt;gt++)_e+=_.get(zt,gt)*_.get(Ft,gt);_e=(B.get(Ft,zt)-_e)/_.get(zt,zt),_.set(Ft,zt,_e),te=te+_e*_e}for(te=B.get(Ft,Ft)-te,$&=te>0,_.set(Ft,Ft,Math.sqrt(Math.max(te,0))),zt=Ft+1;zt<O;zt++)_.set(Ft,zt,0)}this.L=_,this.positiveDefinite=Boolean($)}return T()(tt,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(B){B=Dr.checkMatrix(B);var O=this.L,_=O.rows;if(B.rows!==_)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");var $=B.columns,gt=B.clone(),Ft,zt,te;for(te=0;te<_;te++)for(zt=0;zt<$;zt++){for(Ft=0;Ft<te;Ft++)gt.set(te,zt,gt.get(te,zt)-gt.get(Ft,zt)*O.get(te,Ft));gt.set(te,zt,gt.get(te,zt)/O.get(te,te))}for(te=_-1;te>=0;te--)for(zt=0;zt<$;zt++){for(Ft=te+1;Ft<_;Ft++)gt.set(te,zt,gt.get(te,zt)-gt.get(Ft,zt)*O.get(Ft,te));gt.set(te,zt,gt.get(te,zt)/O.get(te,te))}return gt}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),tt}(),ae=T()(function tt(ut){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};x()(this,tt),ut=Dr.checkMatrix(ut);var O=B.Y,_=B.scaleScores,$=_===void 0?!1:_,gt=B.maxIterations,Ft=gt===void 0?1e3:gt,zt=B.terminationCriteria,te=zt===void 0?1e-10:zt,_e;if(O){if(D(O)&&typeof O[0]=="number"?O=Fe.columnVector(O):O=Dr.checkMatrix(O),O.rows!==ut.rows)throw new Error("Y should have the same number of rows as X");_e=O.getColumnVector(0)}else _e=ut.getColumnVector(0);for(var me=1,Ue,fr,je,Lr,ln=0;ln<Ft&&me>te;ln++)je=ut.transpose().mmul(_e).div(_e.transpose().mmul(_e).get(0,0)),je=je.div(je.norm()),Ue=ut.mmul(je).div(je.transpose().mmul(je).get(0,0)),ln>0&&(me=Ue.clone().sub(Lr).pow(2).sum()),Lr=Ue.clone(),O?(fr=O.transpose().mmul(Ue).div(Ue.transpose().mmul(Ue).get(0,0)),fr=fr.div(fr.norm()),_e=O.mmul(fr).div(fr.transpose().mmul(fr).get(0,0))):_e=Ue;if(O){var Ve=ut.transpose().mmul(Ue).div(Ue.transpose().mmul(Ue).get(0,0));Ve=Ve.div(Ve.norm());var or=ut.clone().sub(Ue.clone().mmul(Ve.transpose())),Ar=_e.transpose().mmul(Ue).div(Ue.transpose().mmul(Ue).get(0,0)),Mr=O.clone().sub(Ue.clone().mulS(Ar.get(0,0)).mmul(fr.transpose()));this.t=Ue,this.p=Ve.transpose(),this.w=je.transpose(),this.q=fr,this.u=_e,this.s=Ue.transpose().mmul(Ue),this.xResidual=or,this.yResidual=Mr,this.betas=Ar}else this.w=je.transpose(),this.s=Ue.transpose().mmul(Ue).sqrt(),$?this.t=Ue.clone().div(this.s.get(0,0)):this.t=Ue,this.xResidual=ut.sub(Ue.mmul(je.transpose()))})},988824:function(ze,G,C){"use strict";C.d(G,{Z:function(){return Mt}});var m=C(570655),R=C(785893),S=C(667294),M=C(513669),L=C(387820);const P=(Nt,Ut)=>{const vt=y(Nt),Rt=y(Ut),ae=vt.pop(),tt=Rt.pop(),ut=b(vt,Rt);return ut!==0?ut:ae&&tt?b(ae.split("."),tt.split(".")):ae||tt?ae?-1:1:0},p=Nt=>typeof Nt=="string"&&/^[v\d]/.test(Nt)&&x.test(Nt),g=(Nt,Ut,vt)=>{X(vt);const Rt=P(Nt,Ut);return f[vt].includes(Rt)},w=(Nt,Ut)=>{if(Ut.includes("||"))return Ut.split("||").some(me=>w(Nt,me));if(Ut.includes(" "))return Ut.trim().replace(/\s{2,}/g," ").split(" ").every(me=>w(Nt,me));const vt=Ut.match(/^([<>=~^]+)/),Rt=vt?vt[1]:"=";if(Rt!=="^"&&Rt!=="~")return g(Nt,Ut,Rt);const[ae,tt,ut,,B]=y(Nt),[O,_,$,,gt]=y(Ut),Ft=[ae,tt,ut],zt=[O,_!=null?_:"x",$!=null?$:"x"];if(gt&&(!B||b(Ft,zt)!==0||b(B.split("."),gt.split("."))===-1))return!1;const te=zt.findIndex(me=>me!=="0")+1,_e=Rt==="~"?2:te>1?te:1;return!(b(Ft.slice(0,_e),zt.slice(0,_e))!==0||b(Ft.slice(_e),zt.slice(_e))===-1)},x=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,y=Nt=>{if(typeof Nt!="string")throw new TypeError("Invalid argument expected string");const Ut=Nt.match(x);if(!Ut)throw new Error(`Invalid argument not valid semver ('${Nt}' received)`);return Ut.shift(),Ut},T=Nt=>Nt==="*"||Nt==="x"||Nt==="X",E=Nt=>{const Ut=parseInt(Nt,10);return isNaN(Ut)?Nt:Ut},D=(Nt,Ut)=>typeof Nt!=typeof Ut?[String(Nt),String(Ut)]:[Nt,Ut],k=(Nt,Ut)=>{if(T(Nt)||T(Ut))return 0;const[vt,Rt]=D(E(Nt),E(Ut));return vt>Rt?1:vt<Rt?-1:0},b=(Nt,Ut)=>{for(let vt=0;vt<Math.max(Nt.length,Ut.length);vt++){const Rt=k(Nt[vt]||"0",Ut[vt]||"0");if(Rt!==0)return Rt}return 0},f={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},W=Object.keys(f),X=Nt=>{if(typeof Nt!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof Nt}`);if(W.indexOf(Nt)===-1)throw new Error(`Invalid operator, expected one of ${W.join("|")}`)};var z=function(Nt,Ut){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(vt,Rt){vt.__proto__=Rt}||function(vt,Rt){for(var ae in Rt)Object.prototype.hasOwnProperty.call(Rt,ae)&&(vt[ae]=Rt[ae])},z(Nt,Ut)};function U(Nt,Ut){z(Nt,Ut);function vt(){this.constructor=Nt}Nt.prototype=Ut===null?Object.create(Ut):(vt.prototype=Ut.prototype,new vt)}var j=function(){return j=Object.assign||function(Ut){for(var vt,Rt=1,ae=arguments.length;Rt<ae;Rt++){vt=arguments[Rt];for(var tt in vt)Object.prototype.hasOwnProperty.call(vt,tt)&&(Ut[tt]=vt[tt])}return Ut},j.apply(this,arguments)};function V(Nt,Ut){var vt={};for(var Rt in Nt)Object.prototype.hasOwnProperty.call(Nt,Rt)&&Ut.indexOf(Rt)<0&&(vt[Rt]=Nt[Rt]);if(Nt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ae=0,Rt=Object.getOwnPropertySymbols(Nt);ae<Rt.length;ae++)Ut.indexOf(Rt[ae])<0&&Object.prototype.propertyIsEnumerable.call(Nt,Rt[ae])&&(vt[Rt[ae]]=Nt[Rt[ae]]);return vt}function J(Nt,Ut,vt,Rt){var ae=arguments.length,tt=ae<3?Ut:Rt===null?Rt=Object.getOwnPropertyDescriptor(Ut,vt):Rt,ut;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")tt=Reflect.decorate(Nt,Ut,vt,Rt);else for(var B=Nt.length-1;B>=0;B--)(ut=Nt[B])&&(tt=(ae<3?ut(tt):ae>3?ut(Ut,vt,tt):ut(Ut,vt))||tt);return ae>3&&tt&&Object.defineProperty(Ut,vt,tt),tt}function q(Nt,Ut){return function(vt,Rt){Ut(vt,Rt,Nt)}}function et(Nt,Ut){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Nt,Ut)}function st(Nt,Ut,vt,Rt){function ae(tt){return tt instanceof vt?tt:new vt(function(ut){ut(tt)})}return new(vt||(vt=Promise))(function(tt,ut){function B($){try{_(Rt.next($))}catch(gt){ut(gt)}}function O($){try{_(Rt.throw($))}catch(gt){ut(gt)}}function _($){$.done?tt($.value):ae($.value).then(B,O)}_((Rt=Rt.apply(Nt,Ut||[])).next())})}function ot(Nt,Ut){var vt={label:0,sent:function(){if(tt[0]&1)throw tt[1];return tt[1]},trys:[],ops:[]},Rt,ae,tt,ut;return ut={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(ut[Symbol.iterator]=function(){return this}),ut;function B(_){return function($){return O([_,$])}}function O(_){if(Rt)throw new TypeError("Generator is already executing.");for(;vt;)try{if(Rt=1,ae&&(tt=_[0]&2?ae.return:_[0]?ae.throw||((tt=ae.return)&&tt.call(ae),0):ae.next)&&!(tt=tt.call(ae,_[1])).done)return tt;switch(ae=0,tt&&(_=[_[0]&2,tt.value]),_[0]){case 0:case 1:tt=_;break;case 4:return vt.label++,{value:_[1],done:!1};case 5:vt.label++,ae=_[1],_=[0];continue;case 7:_=vt.ops.pop(),vt.trys.pop();continue;default:if(tt=vt.trys,!(tt=tt.length>0&&tt[tt.length-1])&&(_[0]===6||_[0]===2)){vt=0;continue}if(_[0]===3&&(!tt||_[1]>tt[0]&&_[1]<tt[3])){vt.label=_[1];break}if(_[0]===6&&vt.label<tt[1]){vt.label=tt[1],tt=_;break}if(tt&&vt.label<tt[2]){vt.label=tt[2],vt.ops.push(_);break}tt[2]&&vt.ops.pop(),vt.trys.pop();continue}_=Ut.call(Nt,vt)}catch($){_=[6,$],ae=0}finally{Rt=tt=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}}var mt=Object.create?function(Nt,Ut,vt,Rt){Rt===void 0&&(Rt=vt),Object.defineProperty(Nt,Rt,{enumerable:!0,get:function(){return Ut[vt]}})}:function(Nt,Ut,vt,Rt){Rt===void 0&&(Rt=vt),Nt[Rt]=Ut[vt]};function ft(Nt,Ut){for(var vt in Nt)vt!=="default"&&!Object.prototype.hasOwnProperty.call(Ut,vt)&&mt(Ut,Nt,vt)}function Bt(Nt){var Ut=typeof Symbol=="function"&&Symbol.iterator,vt=Ut&&Nt[Ut],Rt=0;if(vt)return vt.call(Nt);if(Nt&&typeof Nt.length=="number")return{next:function(){return Nt&&Rt>=Nt.length&&(Nt=void 0),{value:Nt&&Nt[Rt++],done:!Nt}}};throw new TypeError(Ut?"Object is not iterable.":"Symbol.iterator is not defined.")}function St(Nt,Ut){var vt=typeof Symbol=="function"&&Nt[Symbol.iterator];if(!vt)return Nt;var Rt=vt.call(Nt),ae,tt=[],ut;try{for(;(Ut===void 0||Ut-- >0)&&!(ae=Rt.next()).done;)tt.push(ae.value)}catch(B){ut={error:B}}finally{try{ae&&!ae.done&&(vt=Rt.return)&&vt.call(Rt)}finally{if(ut)throw ut.error}}return tt}function wt(){for(var Nt=[],Ut=0;Ut<arguments.length;Ut++)Nt=Nt.concat(St(arguments[Ut]));return Nt}function H(){for(var Nt=0,Ut=0,vt=arguments.length;Ut<vt;Ut++)Nt+=arguments[Ut].length;for(var Rt=Array(Nt),ae=0,Ut=0;Ut<vt;Ut++)for(var tt=arguments[Ut],ut=0,B=tt.length;ut<B;ut++,ae++)Rt[ae]=tt[ut];return Rt}function Q(Nt){return this instanceof Q?(this.v=Nt,this):new Q(Nt)}function bt(Nt,Ut,vt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Rt=vt.apply(Nt,Ut||[]),ae,tt=[];return ae={},ut("next"),ut("throw"),ut("return"),ae[Symbol.asyncIterator]=function(){return this},ae;function ut(Ft){Rt[Ft]&&(ae[Ft]=function(zt){return new Promise(function(te,_e){tt.push([Ft,zt,te,_e])>1||B(Ft,zt)})})}function B(Ft,zt){try{O(Rt[Ft](zt))}catch(te){gt(tt[0][3],te)}}function O(Ft){Ft.value instanceof Q?Promise.resolve(Ft.value.v).then(_,$):gt(tt[0][2],Ft)}function _(Ft){B("next",Ft)}function $(Ft){B("throw",Ft)}function gt(Ft,zt){Ft(zt),tt.shift(),tt.length&&B(tt[0][0],tt[0][1])}}function Ct(Nt){var Ut,vt;return Ut={},Rt("next"),Rt("throw",function(ae){throw ae}),Rt("return"),Ut[Symbol.iterator]=function(){return this},Ut;function Rt(ae,tt){Ut[ae]=Nt[ae]?function(ut){return(vt=!vt)?{value:Q(Nt[ae](ut)),done:ae==="return"}:tt?tt(ut):ut}:tt}}function nt(Nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ut=Nt[Symbol.asyncIterator],vt;return Ut?Ut.call(Nt):(Nt=typeof Bt=="function"?Bt(Nt):Nt[Symbol.iterator](),vt={},Rt("next"),Rt("throw"),Rt("return"),vt[Symbol.asyncIterator]=function(){return this},vt);function Rt(tt){vt[tt]=Nt[tt]&&function(ut){return new Promise(function(B,O){ut=Nt[tt](ut),ae(B,O,ut.done,ut.value)})}}function ae(tt,ut,B,O){Promise.resolve(O).then(function(_){tt({value:_,done:B})},ut)}}function dt(Nt,Ut){return Object.defineProperty?Object.defineProperty(Nt,"raw",{value:Ut}):Nt.raw=Ut,Nt}var Tt=Object.create?function(Nt,Ut){Object.defineProperty(Nt,"default",{enumerable:!0,value:Ut})}:function(Nt,Ut){Nt.default=Ut};function At(Nt){if(Nt&&Nt.__esModule)return Nt;var Ut={};if(Nt!=null)for(var vt in Nt)vt!=="default"&&Object.prototype.hasOwnProperty.call(Nt,vt)&&mt(Ut,Nt,vt);return Tt(Ut,Nt),Ut}function xt(Nt){return Nt&&Nt.__esModule?Nt:{default:Nt}}function Dt(Nt,Ut){if(!Ut.has(Nt))throw new TypeError("attempted to get private field on non-instance");return Ut.get(Nt)}function Ht(Nt,Ut,vt){if(!Ut.has(Nt))throw new TypeError("attempted to set private field on non-instance");return Ut.set(Nt,vt),vt}var se=C(252796),re=C.n(se);function It(Nt,Ut,vt,Rt,ae,tt){tt===void 0&&(tt=0);var ut=Fr(Nt,Ut,tt),B=ut.width,O=ut.height,_=Math.min(B,vt),$=Math.min(O,Rt);return _>$*ae?{width:$*ae,height:$}:{width:_,height:_/ae}}function ne(Nt){return Nt.width>Nt.height?Nt.width/Nt.naturalWidth:Nt.height/Nt.naturalHeight}function pe(Nt,Ut,vt,Rt,ae){ae===void 0&&(ae=0);var tt=Fr(Ut.width,Ut.height,ae),ut=tt.width,B=tt.height;return{x:Wt(Nt.x,ut,vt.width,Rt),y:Wt(Nt.y,B,vt.height,Rt)}}function Wt(Nt,Ut,vt,Rt){var ae=Ut*Rt/2-vt/2;return nn(Nt,-ae,ae)}function Jt(Nt,Ut){return Math.sqrt(Math.pow(Nt.y-Ut.y,2)+Math.pow(Nt.x-Ut.x,2))}function $t(Nt,Ut){return Math.atan2(Ut.y-Nt.y,Ut.x-Nt.x)*180/Math.PI}function Kt(Nt,Ut,vt,Rt,ae,tt,ut){tt===void 0&&(tt=0),ut===void 0&&(ut=!0);var B=ut?ue:Se,O=Fr(Ut.width,Ut.height,tt),_=Fr(Ut.naturalWidth,Ut.naturalHeight,tt),$={x:B(100,((O.width-vt.width/ae)/2-Nt.x/ae)/O.width*100),y:B(100,((O.height-vt.height/ae)/2-Nt.y/ae)/O.height*100),width:B(100,vt.width/O.width*100/ae),height:B(100,vt.height/O.height*100/ae)},gt=Math.round(B(_.width,$.width*_.width/100)),Ft=Math.round(B(_.height,$.height*_.height/100)),zt=_.width>=_.height*Rt,te=zt?{width:Math.round(Ft*Rt),height:Ft}:{width:gt,height:Math.round(gt/Rt)},_e=j(j({},te),{x:Math.round(B(_.width-te.width,$.x*_.width/100)),y:Math.round(B(_.height-te.height,$.y*_.height/100))});return{croppedAreaPercentages:$,croppedAreaPixels:_e}}function ue(Nt,Ut){return Math.min(Nt,Math.max(0,Ut))}function Se(Nt,Ut){return Ut}function Pt(Nt,Ut,vt,Rt,ae,tt){var ut=Fr(Ut.width,Ut.height,vt),B=nn(Rt.width/ut.width*(100/Nt.width),ae,tt),O={x:B*ut.width/2-Rt.width/2-ut.width*B*(Nt.x/100),y:B*ut.height/2-Rt.height/2-ut.height*B*(Nt.y/100)};return{crop:O,zoom:B}}function Fe(Nt,Ut,vt){var Rt=ne(Ut);return vt.height>vt.width?vt.height/(Nt.height*Rt):vt.width/(Nt.width*Rt)}function vr(Nt,Ut,vt,Rt,ae,tt){vt===void 0&&(vt=0);var ut=Fr(Ut.naturalWidth,Ut.naturalHeight,vt),B=nn(Fe(Nt,Ut,Rt),ae,tt),O=Rt.height>Rt.width?Rt.height/Nt.height:Rt.width/Nt.width,_={x:((ut.width-Nt.width)/2-Nt.x)*O,y:((ut.height-Nt.height)/2-Nt.y)*O};return{crop:_,zoom:B}}function Tr(Nt,Ut){return{x:(Ut.x+Nt.x)/2,y:(Ut.y+Nt.y)/2}}function Or(Nt){return Nt*Math.PI/180}function Fr(Nt,Ut,vt){var Rt=Or(vt);return{width:Math.abs(Math.cos(Rt)*Nt)+Math.abs(Math.sin(Rt)*Ut),height:Math.abs(Math.sin(Rt)*Nt)+Math.abs(Math.cos(Rt)*Ut)}}function nn(Nt,Ut,vt){return Math.min(Math.max(Nt,Ut),vt)}function an(){for(var Nt=[],Ut=0;Ut<arguments.length;Ut++)Nt[Ut]=arguments[Ut];return Nt.filter(function(vt){return typeof vt=="string"&&vt.length>0}).join(" ").trim()}var er=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Rr=1,qr=3,xr=function(Nt){U(Ut,Nt);function Ut(){var vt=Nt!==null&&Nt.apply(this,arguments)||this;return vt.imageRef=S.createRef(),vt.videoRef=S.createRef(),vt.containerRef=null,vt.styleRef=null,vt.containerRect=null,vt.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},vt.dragStartPosition={x:0,y:0},vt.dragStartCrop={x:0,y:0},vt.gestureZoomStart=0,vt.gestureRotationStart=0,vt.isTouching=!1,vt.lastPinchDistance=0,vt.lastPinchRotation=0,vt.rafDragTimeout=null,vt.rafPinchTimeout=null,vt.wheelTimer=null,vt.currentDoc=typeof document!="undefined"?document:null,vt.currentWindow=typeof window!="undefined"?window:null,vt.resizeObserver=null,vt.state={cropSize:null,hasWheelJustStarted:!1},vt.initResizeObserver=function(){if(!(typeof window.ResizeObserver=="undefined"||!vt.containerRef)){var Rt=!0;vt.resizeObserver=new window.ResizeObserver(function(ae){if(Rt){Rt=!1;return}vt.computeSizes()}),vt.resizeObserver.observe(vt.containerRef)}},vt.preventZoomSafari=function(Rt){return Rt.preventDefault()},vt.cleanEvents=function(){vt.currentDoc&&(vt.currentDoc.removeEventListener("mousemove",vt.onMouseMove),vt.currentDoc.removeEventListener("mouseup",vt.onDragStopped),vt.currentDoc.removeEventListener("touchmove",vt.onTouchMove),vt.currentDoc.removeEventListener("touchend",vt.onDragStopped),vt.currentDoc.removeEventListener("gesturemove",vt.onGestureMove),vt.currentDoc.removeEventListener("gestureend",vt.onGestureEnd))},vt.clearScrollEvent=function(){vt.containerRef&&vt.containerRef.removeEventListener("wheel",vt.onWheel),vt.wheelTimer&&clearTimeout(vt.wheelTimer)},vt.onMediaLoad=function(){var Rt=vt.computeSizes();Rt&&(vt.emitCropData(),vt.setInitialCrop(Rt)),vt.props.onMediaLoaded&&vt.props.onMediaLoaded(vt.mediaSize)},vt.setInitialCrop=function(Rt){if(vt.props.initialCroppedAreaPercentages){var ae=Pt(vt.props.initialCroppedAreaPercentages,vt.mediaSize,vt.props.rotation,Rt,vt.props.minZoom,vt.props.maxZoom),tt=ae.crop,ut=ae.zoom;vt.props.onCropChange(tt),vt.props.onZoomChange&&vt.props.onZoomChange(ut)}else if(vt.props.initialCroppedAreaPixels){var B=vr(vt.props.initialCroppedAreaPixels,vt.mediaSize,vt.props.rotation,Rt,vt.props.minZoom,vt.props.maxZoom),tt=B.crop,ut=B.zoom;vt.props.onCropChange(tt),vt.props.onZoomChange&&vt.props.onZoomChange(ut)}},vt.computeSizes=function(){var Rt,ae,tt,ut,B,O,_=vt.imageRef.current||vt.videoRef.current;if(_&&vt.containerRef){vt.containerRect=vt.containerRef.getBoundingClientRect();var $=vt.containerRect.width/vt.containerRect.height,gt=((Rt=vt.imageRef.current)===null||Rt===void 0?void 0:Rt.naturalWidth)||((ae=vt.videoRef.current)===null||ae===void 0?void 0:ae.videoWidth)||0,Ft=((tt=vt.imageRef.current)===null||tt===void 0?void 0:tt.naturalHeight)||((ut=vt.videoRef.current)===null||ut===void 0?void 0:ut.videoHeight)||0,zt=_.offsetWidth<gt||_.offsetHeight<Ft,te=gt/Ft,_e=void 0;if(zt)switch(vt.props.objectFit){default:case"contain":_e=$>te?{width:vt.containerRect.height*te,height:vt.containerRect.height}:{width:vt.containerRect.width,height:vt.containerRect.width/te};break;case"horizontal-cover":_e={width:vt.containerRect.width,height:vt.containerRect.width/te};break;case"vertical-cover":_e={width:vt.containerRect.height*te,height:vt.containerRect.height};break;case"auto-cover":_e=gt>Ft?{width:vt.containerRect.width,height:vt.containerRect.width/te}:{width:vt.containerRect.height*te,height:vt.containerRect.height};break}else _e={width:_.offsetWidth,height:_.offsetHeight};vt.mediaSize=j(j({},_e),{naturalWidth:gt,naturalHeight:Ft}),vt.props.setMediaSize&&vt.props.setMediaSize(vt.mediaSize);var me=vt.props.cropSize?vt.props.cropSize:It(vt.mediaSize.width,vt.mediaSize.height,vt.containerRect.width,vt.containerRect.height,vt.props.aspect,vt.props.rotation);return(((B=vt.state.cropSize)===null||B===void 0?void 0:B.height)!==me.height||((O=vt.state.cropSize)===null||O===void 0?void 0:O.width)!==me.width)&&vt.props.onCropSizeChange&&vt.props.onCropSizeChange(me),vt.setState({cropSize:me},vt.recomputeCropPosition),vt.props.setCropSize&&vt.props.setCropSize(me),me}},vt.onMouseDown=function(Rt){vt.currentDoc&&(Rt.preventDefault(),vt.currentDoc.addEventListener("mousemove",vt.onMouseMove),vt.currentDoc.addEventListener("mouseup",vt.onDragStopped),vt.onDragStart(Ut.getMousePoint(Rt)))},vt.onMouseMove=function(Rt){return vt.onDrag(Ut.getMousePoint(Rt))},vt.onTouchStart=function(Rt){vt.currentDoc&&(vt.isTouching=!0,!(vt.props.onTouchRequest&&!vt.props.onTouchRequest(Rt))&&(vt.currentDoc.addEventListener("touchmove",vt.onTouchMove,{passive:!1}),vt.currentDoc.addEventListener("touchend",vt.onDragStopped),Rt.touches.length===2?vt.onPinchStart(Rt):Rt.touches.length===1&&vt.onDragStart(Ut.getTouchPoint(Rt.touches[0]))))},vt.onTouchMove=function(Rt){Rt.preventDefault(),Rt.touches.length===2?vt.onPinchMove(Rt):Rt.touches.length===1&&vt.onDrag(Ut.getTouchPoint(Rt.touches[0]))},vt.onGestureStart=function(Rt){vt.currentDoc&&(Rt.preventDefault(),vt.currentDoc.addEventListener("gesturechange",vt.onGestureMove),vt.currentDoc.addEventListener("gestureend",vt.onGestureEnd),vt.gestureZoomStart=vt.props.zoom,vt.gestureRotationStart=vt.props.rotation)},vt.onGestureMove=function(Rt){if(Rt.preventDefault(),!vt.isTouching){var ae=Ut.getMousePoint(Rt),tt=vt.gestureZoomStart-1+Rt.scale;if(vt.setNewZoom(tt,ae,{shouldUpdatePosition:!0}),vt.props.onRotationChange){var ut=vt.gestureRotationStart+Rt.rotation;vt.props.onRotationChange(ut)}}},vt.onGestureEnd=function(Rt){vt.cleanEvents()},vt.onDragStart=function(Rt){var ae,tt,ut=Rt.x,B=Rt.y;vt.dragStartPosition={x:ut,y:B},vt.dragStartCrop=j({},vt.props.crop),(tt=(ae=vt.props).onInteractionStart)===null||tt===void 0||tt.call(ae)},vt.onDrag=function(Rt){var ae=Rt.x,tt=Rt.y;vt.currentWindow&&(vt.rafDragTimeout&&vt.currentWindow.cancelAnimationFrame(vt.rafDragTimeout),vt.rafDragTimeout=vt.currentWindow.requestAnimationFrame(function(){if(vt.state.cropSize&&!(ae===void 0||tt===void 0)){var ut=ae-vt.dragStartPosition.x,B=tt-vt.dragStartPosition.y,O={x:vt.dragStartCrop.x+ut,y:vt.dragStartCrop.y+B},_=vt.props.restrictPosition?pe(O,vt.mediaSize,vt.state.cropSize,vt.props.zoom,vt.props.rotation):O;vt.props.onCropChange(_)}}))},vt.onDragStopped=function(){var Rt,ae;vt.isTouching=!1,vt.cleanEvents(),vt.emitCropData(),(ae=(Rt=vt.props).onInteractionEnd)===null||ae===void 0||ae.call(Rt)},vt.onWheel=function(Rt){if(vt.currentWindow&&!(vt.props.onWheelRequest&&!vt.props.onWheelRequest(Rt))){Rt.preventDefault();var ae=Ut.getMousePoint(Rt),tt=re()(Rt).pixelY,ut=vt.props.zoom-tt*vt.props.zoomSpeed/200;vt.setNewZoom(ut,ae,{shouldUpdatePosition:!0}),vt.state.hasWheelJustStarted||vt.setState({hasWheelJustStarted:!0},function(){var B,O;return(O=(B=vt.props).onInteractionStart)===null||O===void 0?void 0:O.call(B)}),vt.wheelTimer&&clearTimeout(vt.wheelTimer),vt.wheelTimer=vt.currentWindow.setTimeout(function(){return vt.setState({hasWheelJustStarted:!1},function(){var B,O;return(O=(B=vt.props).onInteractionEnd)===null||O===void 0?void 0:O.call(B)})},250)}},vt.getPointOnContainer=function(Rt){var ae=Rt.x,tt=Rt.y;if(!vt.containerRect)throw new Error("The Cropper is not mounted");return{x:vt.containerRect.width/2-(ae-vt.containerRect.left),y:vt.containerRect.height/2-(tt-vt.containerRect.top)}},vt.getPointOnMedia=function(Rt){var ae=Rt.x,tt=Rt.y,ut=vt.props,B=ut.crop,O=ut.zoom;return{x:(ae+B.x)/O,y:(tt+B.y)/O}},vt.setNewZoom=function(Rt,ae,tt){var ut=tt===void 0?{}:tt,B=ut.shouldUpdatePosition,O=B===void 0?!0:B;if(!(!vt.state.cropSize||!vt.props.onZoomChange)){var _=nn(Rt,vt.props.minZoom,vt.props.maxZoom);if(O){var $=vt.getPointOnContainer(ae),gt=vt.getPointOnMedia($),Ft={x:gt.x*_-$.x,y:gt.y*_-$.y},zt=vt.props.restrictPosition?pe(Ft,vt.mediaSize,vt.state.cropSize,_,vt.props.rotation):Ft;vt.props.onCropChange(zt)}vt.props.onZoomChange(_)}},vt.getCropData=function(){if(!vt.state.cropSize)return null;var Rt=vt.props.restrictPosition?pe(vt.props.crop,vt.mediaSize,vt.state.cropSize,vt.props.zoom,vt.props.rotation):vt.props.crop;return Kt(Rt,vt.mediaSize,vt.state.cropSize,vt.getAspect(),vt.props.zoom,vt.props.rotation,vt.props.restrictPosition)},vt.emitCropData=function(){var Rt=vt.getCropData();if(Rt){var ae=Rt.croppedAreaPercentages,tt=Rt.croppedAreaPixels;vt.props.onCropComplete&&vt.props.onCropComplete(ae,tt),vt.props.onCropAreaChange&&vt.props.onCropAreaChange(ae,tt)}},vt.emitCropAreaChange=function(){var Rt=vt.getCropData();if(Rt){var ae=Rt.croppedAreaPercentages,tt=Rt.croppedAreaPixels;vt.props.onCropAreaChange&&vt.props.onCropAreaChange(ae,tt)}},vt.recomputeCropPosition=function(){if(vt.state.cropSize){var Rt=vt.props.restrictPosition?pe(vt.props.crop,vt.mediaSize,vt.state.cropSize,vt.props.zoom,vt.props.rotation):vt.props.crop;vt.props.onCropChange(Rt),vt.emitCropData()}},vt}return Ut.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver=="undefined"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=er,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},Ut.prototype.componentWillUnmount=function(){var vt,Rt;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver=="undefined"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(vt=this.resizeObserver)===null||vt===void 0||vt.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((Rt=this.styleRef.parentNode)===null||Rt===void 0||Rt.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},Ut.prototype.componentDidUpdate=function(vt){var Rt,ae,tt,ut,B,O,_,$,gt;vt.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):vt.aspect!==this.props.aspect?this.computeSizes():vt.zoom!==this.props.zoom?this.recomputeCropPosition():((Rt=vt.cropSize)===null||Rt===void 0?void 0:Rt.height)!==((ae=this.props.cropSize)===null||ae===void 0?void 0:ae.height)||((tt=vt.cropSize)===null||tt===void 0?void 0:tt.width)!==((ut=this.props.cropSize)===null||ut===void 0?void 0:ut.width)?this.computeSizes():(((B=vt.crop)===null||B===void 0?void 0:B.x)!==((O=this.props.crop)===null||O===void 0?void 0:O.x)||((_=vt.crop)===null||_===void 0?void 0:_.y)!==(($=this.props.crop)===null||$===void 0?void 0:$.y))&&this.emitCropAreaChange(),vt.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),vt.video!==this.props.video&&((gt=this.videoRef.current)===null||gt===void 0||gt.load())},Ut.prototype.getAspect=function(){var vt=this.props,Rt=vt.cropSize,ae=vt.aspect;return Rt?Rt.width/Rt.height:ae},Ut.prototype.onPinchStart=function(vt){var Rt=Ut.getTouchPoint(vt.touches[0]),ae=Ut.getTouchPoint(vt.touches[1]);this.lastPinchDistance=Jt(Rt,ae),this.lastPinchRotation=$t(Rt,ae),this.onDragStart(Tr(Rt,ae))},Ut.prototype.onPinchMove=function(vt){var Rt=this;if(!(!this.currentDoc||!this.currentWindow)){var ae=Ut.getTouchPoint(vt.touches[0]),tt=Ut.getTouchPoint(vt.touches[1]),ut=Tr(ae,tt);this.onDrag(ut),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var B=Jt(ae,tt),O=Rt.props.zoom*(B/Rt.lastPinchDistance);Rt.setNewZoom(O,ut,{shouldUpdatePosition:!1}),Rt.lastPinchDistance=B;var _=$t(ae,tt),$=Rt.props.rotation+(_-Rt.lastPinchRotation);Rt.props.onRotationChange&&Rt.props.onRotationChange($),Rt.lastPinchRotation=_})}},Ut.prototype.render=function(){var vt=this,Rt=this.props,ae=Rt.image,tt=Rt.video,ut=Rt.mediaProps,B=Rt.transform,O=Rt.crop,_=O.x,$=O.y,gt=Rt.rotation,Ft=Rt.zoom,zt=Rt.cropShape,te=Rt.showGrid,_e=Rt.style,me=_e.containerStyle,Ue=_e.cropAreaStyle,fr=_e.mediaStyle,je=Rt.classes,Lr=je.containerClassName,ln=je.cropAreaClassName,Ve=je.mediaClassName,or=Rt.objectFit;return S.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(Mr){return vt.containerRef=Mr},"data-testid":"container",style:me,className:an("reactEasyCrop_Container",Lr)},ae?S.createElement("img",j({alt:"",className:an("reactEasyCrop_Image",or==="contain"&&"reactEasyCrop_Contain",or==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",or==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",or==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),Ve)},ut,{src:ae,ref:this.imageRef,style:j(j({},fr),{transform:B||"translate(".concat(_,"px, ").concat($,"px) rotate(").concat(gt,"deg) scale(").concat(Ft,")")}),onLoad:this.onMediaLoad})):tt&&S.createElement("video",j({autoPlay:!0,loop:!0,muted:!0,className:an("reactEasyCrop_Video",or==="contain"&&"reactEasyCrop_Contain",or==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",or==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",or==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),Ve)},ut,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:j(j({},fr),{transform:B||"translate(".concat(_,"px, ").concat($,"px) rotate(").concat(gt,"deg) scale(").concat(Ft,")")}),controls:!1}),(Array.isArray(tt)?tt:[{src:tt}]).map(function(Ar){return S.createElement("source",j({key:Ar.src},Ar))})),this.state.cropSize&&S.createElement("div",{style:j(j({},Ue),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:an("reactEasyCrop_CropArea",zt==="round"&&"reactEasyCrop_CropAreaRound",te&&"reactEasyCrop_CropAreaGrid",ln)}))},Ut.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:qr,minZoom:Rr,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},Ut.getMousePoint=function(vt){return{x:Number(vt.clientX),y:Number(vt.clientY)}},Ut.getTouchPoint=function(vt){return{x:Number(vt.clientX),y:Number(vt.clientY)}},Ut}(S.Component),Gr=C(905303),Dr=C(591607);const We="img-crop",Je=1,gn=.1,rr=0,jr=-180,Nr=180,kn=1,on=.5,dn=2,En=.01,Pn=(0,S.forwardRef)((Nt,Ut)=>{const{cropperRef:vt,zoomSlider:Rt,rotationSlider:ae,aspectSlider:tt,showReset:ut,image:B,aspect:O,minZoom:_,maxZoom:$,cropShape:gt,showGrid:Ft,cropperProps:zt,isCN:te}=Nt,[_e,me]=(0,S.useState)(Je),[Ue,fr]=(0,S.useState)(rr),[je,Lr]=(0,S.useState)(O),ln=_e!==Je||Ue!==rr||je!==O,Ve=()=>{me(Je),fr(rr),Lr(O)},[or,Ar]=(0,S.useState)({x:0,y:0}),Mr=(0,S.useRef)({width:0,height:0,x:0,y:0}),ce=(0,S.useCallback)((be,Ne)=>{Mr.current=Ne},[]);(0,S.useImperativeHandle)(Ut,()=>({setZoom:me,rotation:Ue,setRotation:fr,cropPixelsRef:Mr}));const Xt="flex items-center w-3/5 mx-auto",he="flex items-center justify-center w-8 h-8 bg-transparent border-0 font-[inherit] text-[18px] cursor-pointer disabled:opacity-20 disabled:cursor-default",Me="flex-1 mx-2";return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(xr,Object.assign({},zt,{ref:vt,image:B,crop:or,zoom:_e,rotation:Ue,aspect:je,minZoom:_,maxZoom:$,zoomWithScroll:Rt,cropShape:gt,showGrid:Ft,onCropChange:Ar,onZoomChange:me,onRotationChange:fr,onCropComplete:ce,classes:{containerClassName:`${We}-container !relative w-full h-[40vh] [&~section:first-of-type]:mt-4 [&~section:last-of-type]:mb-4`,mediaClassName:`${We}-media`}})),Rt&&(0,R.jsxs)("section",Object.assign({className:`${We}-control ${We}-control-zoom ${Xt}`},{children:[(0,R.jsx)("button",Object.assign({className:he,onClick:()=>me(_e-gn),disabled:!0},{children:"\uFF0D"})),(0,R.jsx)(Dr.Z,{className:Me,min:_,max:$,step:gn,value:_e,onChange:me}),(0,R.jsx)("button",Object.assign({className:he,onClick:()=>me(_e+gn),disabled:_e+gn>$},{children:"\uFF0B"}))]})),ae&&(0,R.jsxs)("section",Object.assign({className:`${We}-control ${We}-control-rotation ${Xt}`},{children:[(0,R.jsx)("button",Object.assign({className:`${he} !text-[16px]`,onClick:()=>fr(Ue-kn),disabled:Ue===jr},{children:"\u21BA"})),(0,R.jsx)(Dr.Z,{className:Me,min:jr,max:Nr,step:kn,value:Ue,onChange:fr}),(0,R.jsx)("button",Object.assign({className:`${he} !text-[16px]`,onClick:()=>fr(Ue+kn),disabled:Ue===Nr},{children:"\u21BB"}))]})),tt&&(0,R.jsxs)("section",Object.assign({className:`${We}-control ${We}-control-aspect ${Xt}`},{children:[(0,R.jsx)("button",Object.assign({className:he,onClick:()=>Lr(je-En),disabled:je-En<on},{children:"\u2195\uFE0F"})),(0,R.jsx)(Dr.Z,{className:Me,min:on,max:dn,step:En,value:je,onChange:Lr}),(0,R.jsx)("button",Object.assign({className:he,onClick:()=>Lr(je+En),disabled:je+En>dn},{children:"\u2194\uFE0F"}))]})),ut&&(Rt||ae||tt)&&(0,R.jsx)(Gr.ZP,Object.assign({className:"absolute bottom-[20px]",style:ln?{}:{opacity:.3,pointerEvents:"none"},onClick:Ve},{children:te?"\u91CD\u7F6E":"Reset"}))]})});var Nn=(0,S.memo)(Pn);function at(Nt,Ut){Ut===void 0&&(Ut={});var vt=Ut.insertAt;if(!(!Nt||typeof document=="undefined")){var Rt=document.head||document.getElementsByTagName("head")[0],ae=document.createElement("style");ae.type="text/css",vt==="top"&&Rt.firstChild?Rt.insertBefore(ae,Rt.firstChild):Rt.appendChild(ae),ae.styleSheet?ae.styleSheet.cssText=Nt:ae.appendChild(document.createTextNode(Nt))}}var Xe=".container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.visible{visibility:visible}.absolute{position:absolute}.\\!relative{position:relative!important}.bottom-\\[20px\\]{bottom:20px}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-auto{margin-left:auto;margin-right:auto}.flex{display:flex}.grid{display:grid}.h-8{height:2rem}.h-\\[40vh\\]{height:40vh}.w-3\\/5{width:60%}.w-8{width:2rem}.w-full{width:100%}.flex-1{flex:1 1 0%}.cursor-pointer{cursor:pointer}.items-center{align-items:center}.justify-center{justify-content:center}.border-0{border-width:0}.bg-transparent{background-color:transparent}.font-\\[inherit\\]{font-family:inherit}.\\!text-\\[16px\\]{font-size:16px!important}.text-\\[18px\\]{font-size:18px}.disabled\\:cursor-default:disabled{cursor:default}.disabled\\:opacity-20:disabled{opacity:.2}.\\[\\&\\~section\\:first-of-type\\]\\:mt-4~section:first-of-type{margin-top:1rem}.\\[\\&\\~section\\:last-of-type\\]\\:mb-4~section:last-of-type{margin-bottom:1rem}";at(Xe);const Zt=P(M.version,"4.23.0")===-1?"visible":"open",Qt=(Nt,Ut,vt)=>Ut in Nt?(console.error(`\`${Ut}\` is deprecated, please use \`${vt}\` instead`),Nt[Ut]):Nt[vt],Mt=(0,S.forwardRef)((Nt,Ut)=>{const{quality:vt=.4,fillColor:Rt="white",zoomSlider:ae=!0,rotationSlider:tt=!1,aspectSlider:ut=!1,aspect:B=1,minZoom:O=1,maxZoom:_=3,cropShape:$="rect",showGrid:gt=!1,cropperProps:Ft,modalClassName:zt,modalTitle:te,modalWidth:_e,modalOk:me,modalCancel:Ue,showReset:fr=!1,onModalOk:je,onModalCancel:Lr,modalProps:ln,beforeCrop:Ve,onUploadFail:or,children:Ar}=Nt,Mr=Qt(Nt,"zoom","zoomSlider")||!0,ce=Qt(Nt,"rotate","rotationSlider")||!1,Xt=Qt(Nt,"shape","cropShape")||"rect",he=Qt(Nt,"grid","showGrid")||!1;Qt(Nt,"modalMaskTransitionName","modalProps.maskTransitionName"),Qt(Nt,"modalTransitionName","modalProps.transitionName");const Me=(0,S.useRef)({});Me.current.onModalOk=je,Me.current.onModalCancel=Lr,Me.current.beforeCrop=Ve,Me.current.onUploadFail=or;const[be,Ne]=(0,S.useState)(""),ir=(0,S.useRef)({}),cr=(0,S.useRef)(),en=(0,S.useRef)(()=>{}),Dn=(0,S.useRef)(()=>{}),un=(0,S.useMemo)(()=>{const ti=Array.isArray(Ar)?Ar[0]:Ar,zi=ti.props,{beforeUpload:si,accept:ui}=zi,ba=(0,m.__rest)(zi,["beforeUpload","accept"]);return cr.current=si,Object.assign(Object.assign({},ti),{props:Object.assign(Object.assign({},ba),{accept:ui||"image/*",beforeUpload:(qi,Co)=>new Promise((Ba,Ji)=>(0,m.__awaiter)(void 0,void 0,void 0,function*(){if(typeof Me.current.beforeCrop=="function"&&!(yield Me.current.beforeCrop(qi,Co)))return Ji();ir.current=qi,en.current=to=>{var gi,Si;(Si=(gi=Me.current).onModalOk)===null||Si===void 0||Si.call(gi,to),Ba(to)},Dn.current=to=>{var gi,Si;(Si=(gi=Me.current).onUploadFail)===null||Si===void 0||Si.call(gi,to),Ji()};const uo=new FileReader;uo.addEventListener("load",()=>{typeof uo.result=="string"&&Ne(uo.result)}),uo.readAsDataURL(qi)}))})})},[Ar]),Fn=(0,S.useRef)({}),sn=(0,S.useMemo)(()=>{const ti={};return _e!==void 0&&(ti.width=_e),me!==void 0&&(ti.okText=me),Ue!==void 0&&(ti.cancelText=Ue),ti},[Ue,me,_e]),Bn=()=>{Ne(""),Fn.current.setZoom(Je),Fn.current.setRotation(rr)},qn=(0,S.useCallback)(()=>{var ti,zi;(zi=(ti=Me.current).onModalCancel)===null||zi===void 0||zi.call(ti),Bn()},[]),sa=(0,S.useCallback)(ti=>(0,m.__awaiter)(void 0,void 0,void 0,function*(){var zi;Bn();const si=document.createElement("canvas"),ui=si.getContext("2d"),ba=ti.target,Co=(((zi=ba==null?void 0:ba.getRootNode)===null||zi===void 0?void 0:zi.call(ba))||document).querySelector(`.${We}-media`),{width:Ba,height:Ji,x:uo,y:to}=Fn.current.cropPixelsRef.current;if(ce&&Fn.current.rotation!==rr){const{naturalWidth:bo,naturalHeight:Za}=Co,Mi=Fn.current.rotation*(Math.PI/180),Hn=Math.abs(Math.sin(Mi)),ee=Math.abs(Math.cos(Mi)),fe=bo*ee+Za*Hn,Pe=Za*ee+bo*Hn;si.width=fe,si.height=Pe,ui.fillStyle=Rt,ui.fillRect(0,0,fe,Pe);const nr=fe/2,_r=Pe/2;ui.translate(nr,_r),ui.rotate(Mi),ui.translate(-nr,-_r);const Sr=(fe-bo)/2,br=(Pe-Za)/2;ui.drawImage(Co,0,0,bo,Za,Sr,br,bo,Za);const Kr=ui.getImageData(0,0,fe,Pe);si.width=Ba,si.height=Ji,ui.putImageData(Kr,-uo,-to)}else si.width=Ba,si.height=Ji,ui.fillStyle=Rt,ui.fillRect(0,0,Ba,Ji),ui.drawImage(Co,uo,to,Ba,Ji,0,0,Ba,Ji);const{type:gi,name:Si,uid:Po}=ir.current;si.toBlob(bo=>(0,m.__awaiter)(void 0,void 0,void 0,function*(){const Za=new File([bo],Si,{type:gi});if(Object.assign(Za,{uid:Po}),typeof cr.current!="function"){en.current(Za);return}try{const Mi=Za,Hn=yield cr.current(Mi,[Mi]);Hn===!0?en.current(Za):Hn===!1?Dn.current(new Error("beforeUpload \u2192 false")):en.current(Hn)}catch(Mi){Dn.current(new Error("beforeUpload \u2192 reject"))}}),gi,vt)}),[Rt,vt,ce]),oa=`${We}-modal${zt?` ${zt}`:""}`,oi=(typeof window=="undefined"?"":window.navigator.language)==="zh-CN",Va=te||(oi?"\u7F16\u8F91\u56FE\u7247":"Edit image");return(0,R.jsxs)(R.Fragment,{children:[un,be&&(0,R.jsx)(L.Z,Object.assign({},ln,sn,{[Zt]:!0},{title:Va,onOk:sa,onCancel:qn,wrapClassName:oa,maskClosable:!1,destroyOnClose:!0},{children:(0,R.jsx)(Nn,{ref:Fn,cropperRef:Ut,zoomSlider:Mr,rotationSlider:ce,aspectSlider:ut,showReset:fr,image:be,aspect:B,minZoom:O,maxZoom:_,cropShape:Xt,showGrid:he,cropperProps:Ft,isCN:oi})}))]})})},921924:function(ze,G,C){"use strict";var m=C(340210),R=C(155559),S=R(m("String.prototype.indexOf"));ze.exports=function(L,P){var p=m(L,!!P);return typeof p=="function"&&S(L,".prototype.")>-1?R(p):p}},155559:function(ze,G,C){"use strict";var m=C(158612),R=C(340210),S=R("%Function.prototype.apply%"),M=R("%Function.prototype.call%"),L=R("%Reflect.apply%",!0)||m.call(M,S),P=R("%Object.getOwnPropertyDescriptor%",!0),p=R("%Object.defineProperty%",!0),g=R("%Math.max%");if(p)try{p({},"a",{value:1})}catch(x){p=null}ze.exports=function(y){var T=L(m,M,arguments);if(P&&p){var E=P(T,"length");E.configurable&&p(T,"length",{value:1+g(0,y.length-(arguments.length-1))})}return T};var w=function(){return L(m,S,arguments)};p?p(ze.exports,"apply",{value:w}):ze.exports.apply=w},386010:function(ze,G,C){"use strict";C.r(G),C.d(G,{clsx:function(){return R}});function m(S){var M,L,P="";if(typeof S=="string"||typeof S=="number")P+=S;else if(typeof S=="object")if(Array.isArray(S))for(M=0;M<S.length;M++)S[M]&&(L=m(S[M]))&&(P&&(P+=" "),P+=L);else for(M in S)S[M]&&(P&&(P+=" "),P+=M);return P}function R(){for(var S,M,L=0,P="";L<arguments.length;)(S=arguments[L++])&&(M=m(S))&&(P&&(P+=" "),P+=M);return P}G.default=R},308273:function(ze,G,C){"use strict";C.r(G),C.d(G,{CountUp:function(){return R}});var m=function(){return(m=Object.assign||function(S){for(var M,L=1,P=arguments.length;L<P;L++)for(var p in M=arguments[L])Object.prototype.hasOwnProperty.call(M,p)&&(S[p]=M[p]);return S}).apply(this,arguments)},R=function(){function S(M,L,P){var p=this;this.endVal=L,this.options=P,this.version="2.6.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(g){p.startTime||(p.startTime=g);var w=g-p.startTime;p.remaining=p.duration-w,p.useEasing?p.countDown?p.frameVal=p.startVal-p.easingFn(w,0,p.startVal-p.endVal,p.duration):p.frameVal=p.easingFn(w,p.startVal,p.endVal-p.startVal,p.duration):p.frameVal=p.startVal+(p.endVal-p.startVal)*(w/p.duration);var x=p.countDown?p.frameVal<p.endVal:p.frameVal>p.endVal;p.frameVal=x?p.endVal:p.frameVal,p.frameVal=Number(p.frameVal.toFixed(p.options.decimalPlaces)),p.printValue(p.frameVal),w<p.duration?p.rAF=requestAnimationFrame(p.count):p.finalEndVal!==null?p.update(p.finalEndVal):p.options.onCompleteCallback&&p.options.onCompleteCallback()},this.formatNumber=function(g){var w,x,y,T,E=g<0?"-":"";w=Math.abs(g).toFixed(p.options.decimalPlaces);var D=(w+="").split(".");if(x=D[0],y=D.length>1?p.options.decimal+D[1]:"",p.options.useGrouping){T="";for(var k=3,b=0,f=0,W=x.length;f<W;++f)p.options.useIndianSeparators&&f===4&&(k=2,b=1),f!==0&&b%k==0&&(T=p.options.separator+T),b++,T=x[W-f-1]+T;x=T}return p.options.numerals&&p.options.numerals.length&&(x=x.replace(/[0-9]/g,function(X){return p.options.numerals[+X]}),y=y.replace(/[0-9]/g,function(X){return p.options.numerals[+X]})),E+p.options.prefix+x+y+p.options.suffix},this.easeOutExpo=function(g,w,x,y){return x*(1-Math.pow(2,-10*g/y))*1024/1023+w},this.options=m(m({},this.defaults),P),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(L),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof M=="string"?document.getElementById(M):M,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window!="undefined"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,M):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return p.handleScroll(p)}),window.onscroll=function(){window.onScrollFns.forEach(function(g){return g()})},this.handleScroll(this)))}return S.prototype.handleScroll=function(M){if(M&&window&&!M.once){var L=window.innerHeight+window.scrollY,P=M.el.getBoundingClientRect(),p=P.top+window.pageYOffset,g=P.top+P.height+window.pageYOffset;g<L&&g>window.scrollY&&M.paused?(M.paused=!1,setTimeout(function(){return M.start()},M.options.scrollSpyDelay),M.options.scrollSpyOnce&&(M.once=!0)):(window.scrollY>g||p>L)&&!M.paused&&M.reset()}},S.prototype.determineDirectionAndSmartEasing=function(){var M=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>M;var L=M-this.startVal;if(Math.abs(L)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=M;var P=this.countDown?1:-1;this.endVal=M+P*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=M,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},S.prototype.start=function(M){this.error||(M&&(this.options.onCompleteCallback=M),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},S.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},S.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},S.prototype.update=function(M){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(M),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},S.prototype.printValue=function(M){var L;if(this.el){var P=this.formattingFn(M);(L=this.options.plugin)!==null&&L!==void 0&&L.render?this.options.plugin.render(this.el,P):this.el.tagName==="INPUT"?this.el.value=P:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=P:this.el.innerHTML=P}},S.prototype.ensureNumber=function(M){return typeof M=="number"&&!isNaN(M)},S.prototype.validateValue=function(M){var L=Number(M);return this.ensureNumber(L)?L:(this.error="[CountUp] invalid start or end value: ".concat(M),null)},S.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},S}()},971829:function(ze,G,C){"use strict";C.r(G),C.d(G,{quadtree:function(){return m.Z}});var m=C(547148)},547148:function(ze,G,C){"use strict";C.d(G,{Z:function(){return X}});function m(V){const J=+this._x.call(null,V),q=+this._y.call(null,V);return R(this.cover(J,q),J,q,V)}function R(V,J,q,et){if(isNaN(J)||isNaN(q))return V;var st,ot=V._root,mt={data:et},ft=V._x0,Bt=V._y0,St=V._x1,wt=V._y1,H,Q,bt,Ct,nt,dt,Tt,At;if(!ot)return V._root=mt,V;for(;ot.length;)if((nt=J>=(H=(ft+St)/2))?ft=H:St=H,(dt=q>=(Q=(Bt+wt)/2))?Bt=Q:wt=Q,st=ot,!(ot=ot[Tt=dt<<1|nt]))return st[Tt]=mt,V;if(bt=+V._x.call(null,ot.data),Ct=+V._y.call(null,ot.data),J===bt&&q===Ct)return mt.next=ot,st?st[Tt]=mt:V._root=mt,V;do st=st?st[Tt]=new Array(4):V._root=new Array(4),(nt=J>=(H=(ft+St)/2))?ft=H:St=H,(dt=q>=(Q=(Bt+wt)/2))?Bt=Q:wt=Q;while((Tt=dt<<1|nt)===(At=(Ct>=Q)<<1|bt>=H));return st[At]=ot,st[Tt]=mt,V}function S(V){var J,q,et=V.length,st,ot,mt=new Array(et),ft=new Array(et),Bt=1/0,St=1/0,wt=-1/0,H=-1/0;for(q=0;q<et;++q)isNaN(st=+this._x.call(null,J=V[q]))||isNaN(ot=+this._y.call(null,J))||(mt[q]=st,ft[q]=ot,st<Bt&&(Bt=st),st>wt&&(wt=st),ot<St&&(St=ot),ot>H&&(H=ot));if(Bt>wt||St>H)return this;for(this.cover(Bt,St).cover(wt,H),q=0;q<et;++q)R(this,mt[q],ft[q],V[q]);return this}function M(V,J){if(isNaN(V=+V)||isNaN(J=+J))return this;var q=this._x0,et=this._y0,st=this._x1,ot=this._y1;if(isNaN(q))st=(q=Math.floor(V))+1,ot=(et=Math.floor(J))+1;else{for(var mt=st-q||1,ft=this._root,Bt,St;q>V||V>=st||et>J||J>=ot;)switch(St=(J<et)<<1|V<q,Bt=new Array(4),Bt[St]=ft,ft=Bt,mt*=2,St){case 0:st=q+mt,ot=et+mt;break;case 1:q=st-mt,ot=et+mt;break;case 2:st=q+mt,et=ot-mt;break;case 3:q=st-mt,et=ot-mt;break}this._root&&this._root.length&&(this._root=ft)}return this._x0=q,this._y0=et,this._x1=st,this._y1=ot,this}function L(){var V=[];return this.visit(function(J){if(!J.length)do V.push(J.data);while(J=J.next)}),V}function P(V){return arguments.length?this.cover(+V[0][0],+V[0][1]).cover(+V[1][0],+V[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function p(V,J,q,et,st){this.node=V,this.x0=J,this.y0=q,this.x1=et,this.y1=st}function g(V,J,q){var et,st=this._x0,ot=this._y0,mt,ft,Bt,St,wt=this._x1,H=this._y1,Q=[],bt=this._root,Ct,nt;for(bt&&Q.push(new p(bt,st,ot,wt,H)),q==null?q=1/0:(st=V-q,ot=J-q,wt=V+q,H=J+q,q*=q);Ct=Q.pop();)if(!(!(bt=Ct.node)||(mt=Ct.x0)>wt||(ft=Ct.y0)>H||(Bt=Ct.x1)<st||(St=Ct.y1)<ot))if(bt.length){var dt=(mt+Bt)/2,Tt=(ft+St)/2;Q.push(new p(bt[3],dt,Tt,Bt,St),new p(bt[2],mt,Tt,dt,St),new p(bt[1],dt,ft,Bt,Tt),new p(bt[0],mt,ft,dt,Tt)),(nt=(J>=Tt)<<1|V>=dt)&&(Ct=Q[Q.length-1],Q[Q.length-1]=Q[Q.length-1-nt],Q[Q.length-1-nt]=Ct)}else{var At=V-+this._x.call(null,bt.data),xt=J-+this._y.call(null,bt.data),Dt=At*At+xt*xt;if(Dt<q){var Ht=Math.sqrt(q=Dt);st=V-Ht,ot=J-Ht,wt=V+Ht,H=J+Ht,et=bt.data}}return et}function w(V){if(isNaN(wt=+this._x.call(null,V))||isNaN(H=+this._y.call(null,V)))return this;var J,q=this._root,et,st,ot,mt=this._x0,ft=this._y0,Bt=this._x1,St=this._y1,wt,H,Q,bt,Ct,nt,dt,Tt;if(!q)return this;if(q.length)for(;;){if((Ct=wt>=(Q=(mt+Bt)/2))?mt=Q:Bt=Q,(nt=H>=(bt=(ft+St)/2))?ft=bt:St=bt,J=q,!(q=q[dt=nt<<1|Ct]))return this;if(!q.length)break;(J[dt+1&3]||J[dt+2&3]||J[dt+3&3])&&(et=J,Tt=dt)}for(;q.data!==V;)if(st=q,!(q=q.next))return this;return(ot=q.next)&&delete q.next,st?(ot?st.next=ot:delete st.next,this):J?(ot?J[dt]=ot:delete J[dt],(q=J[0]||J[1]||J[2]||J[3])&&q===(J[3]||J[2]||J[1]||J[0])&&!q.length&&(et?et[Tt]=q:this._root=q),this):(this._root=ot,this)}function x(V){for(var J=0,q=V.length;J<q;++J)this.remove(V[J]);return this}function y(){return this._root}function T(){var V=0;return this.visit(function(J){if(!J.length)do++V;while(J=J.next)}),V}function E(V){var J=[],q,et=this._root,st,ot,mt,ft,Bt;for(et&&J.push(new p(et,this._x0,this._y0,this._x1,this._y1));q=J.pop();)if(!V(et=q.node,ot=q.x0,mt=q.y0,ft=q.x1,Bt=q.y1)&&et.length){var St=(ot+ft)/2,wt=(mt+Bt)/2;(st=et[3])&&J.push(new p(st,St,wt,ft,Bt)),(st=et[2])&&J.push(new p(st,ot,wt,St,Bt)),(st=et[1])&&J.push(new p(st,St,mt,ft,wt)),(st=et[0])&&J.push(new p(st,ot,mt,St,wt))}return this}function D(V){var J=[],q=[],et;for(this._root&&J.push(new p(this._root,this._x0,this._y0,this._x1,this._y1));et=J.pop();){var st=et.node;if(st.length){var ot,mt=et.x0,ft=et.y0,Bt=et.x1,St=et.y1,wt=(mt+Bt)/2,H=(ft+St)/2;(ot=st[0])&&J.push(new p(ot,mt,ft,wt,H)),(ot=st[1])&&J.push(new p(ot,wt,ft,Bt,H)),(ot=st[2])&&J.push(new p(ot,mt,H,wt,St)),(ot=st[3])&&J.push(new p(ot,wt,H,Bt,St))}q.push(et)}for(;et=q.pop();)V(et.node,et.x0,et.y0,et.x1,et.y1);return this}function k(V){return V[0]}function b(V){return arguments.length?(this._x=V,this):this._x}function f(V){return V[1]}function W(V){return arguments.length?(this._y=V,this):this._y}function X(V,J,q){var et=new z(J==null?k:J,q==null?f:q,NaN,NaN,NaN,NaN);return V==null?et:et.addAll(V)}function z(V,J,q,et,st,ot){this._x=V,this._y=J,this._x0=q,this._y0=et,this._x1=st,this._y1=ot,this._root=void 0}function U(V){for(var J={data:V.data},q=J;V=V.next;)q=q.next={data:V.data};return J}var j=X.prototype=z.prototype;j.copy=function(){var V=new z(this._x,this._y,this._x0,this._y0,this._x1,this._y1),J=this._root,q,et;if(!J)return V;if(!J.length)return V._root=U(J),V;for(q=[{source:J,target:V._root=new Array(4)}];J=q.pop();)for(var st=0;st<4;++st)(et=J.source[st])&&(et.length?q.push({source:et,target:J.target[st]=new Array(4)}):J.target[st]=U(et));return V},j.add=m,j.addAll=S,j.cover=M,j.data=L,j.extent=P,j.find=g,j.remove=w,j.removeAll=x,j.root=y,j.size=T,j.visit=E,j.visitAfter=D,j.x=b,j.y=W},235374:function(ze,G,C){"use strict";C.d(G,{HT:function(){return k}});var m=0,R=0,S=0,M=1e3,L,P,p=0,g=0,w=0,x=typeof performance=="object"&&performance.now?performance:Date,y=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(U){setTimeout(U,17)};function T(){return g||(y(E),g=x.now()+w)}function E(){g=0}function D(){this._call=this._time=this._next=null}D.prototype=k.prototype={constructor:D,restart:function(U,j,V){if(typeof U!="function")throw new TypeError("callback is not a function");V=(V==null?T():+V)+(j==null?0:+j),!this._next&&P!==this&&(P?P._next=this:L=this,P=this),this._call=U,this._time=V,z()},stop:function(){this._call&&(this._call=null,this._time=1/0,z())}};function k(U,j,V){var J=new D;return J.restart(U,j,V),J}function b(){T(),++m;for(var U=L,j;U;)(j=g-U._time)>=0&&U._call.call(null,j),U=U._next;--m}function f(){g=(p=x.now())+w,m=R=0;try{b()}finally{m=0,X(),g=0}}function W(){var U=x.now(),j=U-p;j>M&&(w-=j,p=U)}function X(){for(var U,j=L,V,J=1/0;j;)j._call?(J>j._time&&(J=j._time),U=j,j=j._next):(V=j._next,j._next=null,j=U?U._next=V:L=V);P=U,z(J)}function z(U){if(!m){R&&(R=clearTimeout(R));var j=U-g;j>24?(U<1/0&&(R=setTimeout(f,U-x.now()-w)),S&&(S=clearInterval(S))):(S||(p=x.now(),S=setInterval(W,M)),m=1,y(f))}}},631969:function(ze,G,C){"use strict";C.r(G),C.d(G,{BRIDGE_GRAPH_NAME:function(){return L},GraphType:function(){return g},HierarchyNodeType:function(){return w},InclusionType:function(){return p},LAYOUT_CONFIG:function(){return m},NodeType:function(){return P},ROOT_NAME:function(){return M},buildGraph:function(){return Ur},flatGraph:function(){return vn},getEdges:function(){return yn},mergeConfig:function(){return R}});const m={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function R(v={},N=m){var K,it,ht,yt;const Ot=JSON.parse(JSON.stringify(N)),kt=((K=v==null?void 0:v.graph)===null||K===void 0?void 0:K.meta)||{},Vt=((it=v==null?void 0:v.subScene)===null||it===void 0?void 0:it.meta)||{},le=((ht=v==null?void 0:v.nodeSize)===null||ht===void 0?void 0:ht.meta)||{},xe=((yt=v==null?void 0:v.nodeSize)===null||yt===void 0?void 0:yt.node)||{},ge=Ot.nodeSize.bridge;return{graph:{meta:Object.assign(Ot.graph.meta,kt)},subScene:{meta:Object.assign(Ot.subScene.meta,Vt)},nodeSize:{meta:Object.assign(Ot.nodeSize.meta,le),node:Object.assign(Ot.nodeSize.node,xe),bridge:ge}}}function S(v){return`\u25EC${v}\u25EC`}const M=S("ROOT"),L=S("BRIDGE_GRAPH");var P,p,g,w;(function(v){v[v.META=0]="META",v[v.NODE=1]="NODE",v[v.BRIDGE=2]="BRIDGE"})(P||(P={})),function(v){v[v.INCLUDE=0]="INCLUDE",v[v.EXCLUDE=1]="EXCLUDE",v[v.UNSPECIFIED=2]="UNSPECIFIED"}(p||(p={})),function(v){v[v.META=0]="META",v[v.CORE=1]="CORE",v[v.BRIDGE=2]="BRIDGE"}(g||(g={})),function(v){v[v.META=0]="META",v[v.OP=1]="OP",v[v.SERIES=2]="SERIES"}(w||(w={}));var x=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof C.g!="undefined"?C.g:typeof self!="undefined"?self:{};function y(v,N){return v(N={exports:{}},N.exports),N.exports}var T=function(){this.__data__=[],this.size=0},E=function(v,N){return v===N||v!=v&&N!=N},D=function(v,N){for(var K=v.length;K--;)if(E(v[K][0],N))return K;return-1},k=Array.prototype.splice,b=function(v){var N=this.__data__,K=D(N,v);return!(K<0)&&(K==N.length-1?N.pop():k.call(N,K,1),--this.size,!0)},f=function(v){var N=this.__data__,K=D(N,v);return K<0?void 0:N[K][1]},W=function(v){return D(this.__data__,v)>-1},X=function(v,N){var K=this.__data__,it=D(K,v);return it<0?(++this.size,K.push([v,N])):K[it][1]=N,this};function z(v){var N=-1,K=v==null?0:v.length;for(this.clear();++N<K;){var it=v[N];this.set(it[0],it[1])}}z.prototype.clear=T,z.prototype.delete=b,z.prototype.get=f,z.prototype.has=W,z.prototype.set=X;var U=z,j=function(){this.__data__=new U,this.size=0},V=function(v){var N=this.__data__,K=N.delete(v);return this.size=N.size,K},J=function(v){return this.__data__.get(v)},q=function(v){return this.__data__.has(v)},et=typeof x=="object"&&x&&x.Object===Object&&x,st=typeof self=="object"&&self&&self.Object===Object&&self,ot=et||st||Function("return this")(),mt=ot.Symbol,ft=Object.prototype,Bt=ft.hasOwnProperty,St=ft.toString,wt=mt?mt.toStringTag:void 0,H=function(v){var N=Bt.call(v,wt),K=v[wt];try{v[wt]=void 0;var it=!0}catch(yt){}var ht=St.call(v);return it&&(N?v[wt]=K:delete v[wt]),ht},Q=Object.prototype.toString,bt=function(v){return Q.call(v)},Ct=mt?mt.toStringTag:void 0,nt=function(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":Ct&&Ct in Object(v)?H(v):bt(v)},dt=function(v){var N=typeof v;return v!=null&&(N=="object"||N=="function")},Tt,At=function(v){if(!dt(v))return!1;var N=nt(v);return N=="[object Function]"||N=="[object GeneratorFunction]"||N=="[object AsyncFunction]"||N=="[object Proxy]"},xt=ot["__core-js_shared__"],Dt=(Tt=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+Tt:"",Ht=function(v){return!!Dt&&Dt in v},se=Function.prototype.toString,re=function(v){if(v!=null){try{return se.call(v)}catch(N){}try{return v+""}catch(N){}}return""},It=/^\[object .+?Constructor\]$/,ne=Function.prototype,pe=Object.prototype,Wt=ne.toString,Jt=pe.hasOwnProperty,$t=RegExp("^"+Wt.call(Jt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kt=function(v){return!(!dt(v)||Ht(v))&&(At(v)?$t:It).test(re(v))},ue=function(v,N){return v==null?void 0:v[N]},Se=function(v,N){var K=ue(v,N);return Kt(K)?K:void 0},Pt=Se(ot,"Map"),Fe=Se(Object,"create"),vr=function(){this.__data__=Fe?Fe(null):{},this.size=0},Tr=function(v){var N=this.has(v)&&delete this.__data__[v];return this.size-=N?1:0,N},Or=Object.prototype.hasOwnProperty,Fr=function(v){var N=this.__data__;if(Fe){var K=N[v];return K==="__lodash_hash_undefined__"?void 0:K}return Or.call(N,v)?N[v]:void 0},nn=Object.prototype.hasOwnProperty,an=function(v){var N=this.__data__;return Fe?N[v]!==void 0:nn.call(N,v)},er=function(v,N){var K=this.__data__;return this.size+=this.has(v)?0:1,K[v]=Fe&&N===void 0?"__lodash_hash_undefined__":N,this};function Rr(v){var N=-1,K=v==null?0:v.length;for(this.clear();++N<K;){var it=v[N];this.set(it[0],it[1])}}Rr.prototype.clear=vr,Rr.prototype.delete=Tr,Rr.prototype.get=Fr,Rr.prototype.has=an,Rr.prototype.set=er;var qr=Rr,xr=function(){this.size=0,this.__data__={hash:new qr,map:new(Pt||U),string:new qr}},Gr=function(v){var N=typeof v;return N=="string"||N=="number"||N=="symbol"||N=="boolean"?v!=="__proto__":v===null},Dr=function(v,N){var K=v.__data__;return Gr(N)?K[typeof N=="string"?"string":"hash"]:K.map},We=function(v){var N=Dr(this,v).delete(v);return this.size-=N?1:0,N},Je=function(v){return Dr(this,v).get(v)},gn=function(v){return Dr(this,v).has(v)},rr=function(v,N){var K=Dr(this,v),it=K.size;return K.set(v,N),this.size+=K.size==it?0:1,this};function jr(v){var N=-1,K=v==null?0:v.length;for(this.clear();++N<K;){var it=v[N];this.set(it[0],it[1])}}jr.prototype.clear=xr,jr.prototype.delete=We,jr.prototype.get=Je,jr.prototype.has=gn,jr.prototype.set=rr;var Nr=jr,kn=function(v,N){var K=this.__data__;if(K instanceof U){var it=K.__data__;if(!Pt||it.length<199)return it.push([v,N]),this.size=++K.size,this;K=this.__data__=new Nr(it)}return K.set(v,N),this.size=K.size,this};function on(v){var N=this.__data__=new U(v);this.size=N.size}on.prototype.clear=j,on.prototype.delete=V,on.prototype.get=J,on.prototype.has=q,on.prototype.set=kn;var dn=on,En=function(v,N){for(var K=-1,it=v==null?0:v.length;++K<it&&N(v[K],K,v)!==!1;);return v},Pn=function(){try{var v=Se(Object,"defineProperty");return v({},"",{}),v}catch(N){}}(),Nn=function(v,N,K){N=="__proto__"&&Pn?Pn(v,N,{configurable:!0,enumerable:!0,value:K,writable:!0}):v[N]=K},at=Object.prototype.hasOwnProperty,Xe=function(v,N,K){var it=v[N];at.call(v,N)&&E(it,K)&&(K!==void 0||N in v)||Nn(v,N,K)},Zt=function(v,N,K,it){var ht=!K;K||(K={});for(var yt=-1,Ot=N.length;++yt<Ot;){var kt=N[yt],Vt=it?it(K[kt],v[kt],kt,K,v):void 0;Vt===void 0&&(Vt=v[kt]),ht?Nn(K,kt,Vt):Xe(K,kt,Vt)}return K},Qt=function(v,N){for(var K=-1,it=Array(v);++K<v;)it[K]=N(K);return it},Mt=function(v){return v!=null&&typeof v=="object"},Nt=function(v){return Mt(v)&&nt(v)=="[object Arguments]"},Ut=Object.prototype,vt=Ut.hasOwnProperty,Rt=Ut.propertyIsEnumerable,ae=Nt(function(){return arguments}())?Nt:function(v){return Mt(v)&&vt.call(v,"callee")&&!Rt.call(v,"callee")},tt=Array.isArray,ut=function(){return!1},B=y(function(v,N){var K=N&&!N.nodeType&&N,it=K&&v&&!v.nodeType&&v,ht=it&&it.exports===K?ot.Buffer:void 0,yt=(ht?ht.isBuffer:void 0)||ut;v.exports=yt}),O=/^(?:0|[1-9]\d*)$/,_=function(v,N){var K=typeof v;return!!(N=N==null?9007199254740991:N)&&(K=="number"||K!="symbol"&&O.test(v))&&v>-1&&v%1==0&&v<N},$=function(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=9007199254740991},gt={};gt["[object Float32Array]"]=gt["[object Float64Array]"]=gt["[object Int8Array]"]=gt["[object Int16Array]"]=gt["[object Int32Array]"]=gt["[object Uint8Array]"]=gt["[object Uint8ClampedArray]"]=gt["[object Uint16Array]"]=gt["[object Uint32Array]"]=!0,gt["[object Arguments]"]=gt["[object Array]"]=gt["[object ArrayBuffer]"]=gt["[object Boolean]"]=gt["[object DataView]"]=gt["[object Date]"]=gt["[object Error]"]=gt["[object Function]"]=gt["[object Map]"]=gt["[object Number]"]=gt["[object Object]"]=gt["[object RegExp]"]=gt["[object Set]"]=gt["[object String]"]=gt["[object WeakMap]"]=!1;var Ft=function(v){return Mt(v)&&$(v.length)&&!!gt[nt(v)]},zt=function(v){return function(N){return v(N)}},te=y(function(v,N){var K=N&&!N.nodeType&&N,it=K&&v&&!v.nodeType&&v,ht=it&&it.exports===K&&et.process,yt=function(){try{var Ot=it&&it.require&&it.require("util").types;return Ot||ht&&ht.binding&&ht.binding("util")}catch(kt){}}();v.exports=yt}),_e=te&&te.isTypedArray,me=_e?zt(_e):Ft,Ue=Object.prototype.hasOwnProperty,fr=function(v,N){var K=tt(v),it=!K&&ae(v),ht=!K&&!it&&B(v),yt=!K&&!it&&!ht&&me(v),Ot=K||it||ht||yt,kt=Ot?Qt(v.length,String):[],Vt=kt.length;for(var le in v)!N&&!Ue.call(v,le)||Ot&&(le=="length"||ht&&(le=="offset"||le=="parent")||yt&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||_(le,Vt))||kt.push(le);return kt},je=Object.prototype,Lr=function(v){var N=v&&v.constructor;return v===(typeof N=="function"&&N.prototype||je)},ln=function(v,N){return function(K){return v(N(K))}},Ve=ln(Object.keys,Object),or=Object.prototype.hasOwnProperty,Ar=function(v){if(!Lr(v))return Ve(v);var N=[];for(var K in Object(v))or.call(v,K)&&K!="constructor"&&N.push(K);return N},Mr=function(v){return v!=null&&$(v.length)&&!At(v)},ce=function(v){return Mr(v)?fr(v):Ar(v)},Xt=function(v,N){return v&&Zt(N,ce(N),v)},he=function(v){var N=[];if(v!=null)for(var K in Object(v))N.push(K);return N},Me=Object.prototype.hasOwnProperty,be=function(v){if(!dt(v))return he(v);var N=Lr(v),K=[];for(var it in v)(it!="constructor"||!N&&Me.call(v,it))&&K.push(it);return K},Ne=function(v){return Mr(v)?fr(v,!0):be(v)},ir=function(v,N){return v&&Zt(N,Ne(N),v)},cr=y(function(v,N){var K=N&&!N.nodeType&&N,it=K&&v&&!v.nodeType&&v,ht=it&&it.exports===K?ot.Buffer:void 0,yt=ht?ht.allocUnsafe:void 0;v.exports=function(Ot,kt){if(kt)return Ot.slice();var Vt=Ot.length,le=yt?yt(Vt):new Ot.constructor(Vt);return Ot.copy(le),le}}),en=function(v,N){var K=-1,it=v.length;for(N||(N=Array(it));++K<it;)N[K]=v[K];return N},Dn=function(v,N){for(var K=-1,it=v==null?0:v.length,ht=0,yt=[];++K<it;){var Ot=v[K];N(Ot,K,v)&&(yt[ht++]=Ot)}return yt},un=function(){return[]},Fn=Object.prototype.propertyIsEnumerable,sn=Object.getOwnPropertySymbols,Bn=sn?function(v){return v==null?[]:(v=Object(v),Dn(sn(v),function(N){return Fn.call(v,N)}))}:un,qn=function(v,N){return Zt(v,Bn(v),N)},sa=function(v,N){for(var K=-1,it=N.length,ht=v.length;++K<it;)v[ht+K]=N[K];return v},oa=ln(Object.getPrototypeOf,Object),Ti=Object.getOwnPropertySymbols?function(v){for(var N=[];v;)sa(N,Bn(v)),v=oa(v);return N}:un,oi=function(v,N){return Zt(v,Ti(v),N)},Va=function(v,N,K){var it=N(v);return tt(v)?it:sa(it,K(v))},ti=function(v){return Va(v,ce,Bn)},zi=function(v){return Va(v,Ne,Ti)},si=Se(ot,"DataView"),ui=Se(ot,"Promise"),ba=Se(ot,"Set"),qi=Se(ot,"WeakMap"),Co=re(si),Ba=re(Pt),Ji=re(ui),uo=re(ba),to=re(qi),gi=nt;(si&&gi(new si(new ArrayBuffer(1)))!="[object DataView]"||Pt&&gi(new Pt)!="[object Map]"||ui&&gi(ui.resolve())!="[object Promise]"||ba&&gi(new ba)!="[object Set]"||qi&&gi(new qi)!="[object WeakMap]")&&(gi=function(v){var N=nt(v),K=N=="[object Object]"?v.constructor:void 0,it=K?re(K):"";if(it)switch(it){case Co:return"[object DataView]";case Ba:return"[object Map]";case Ji:return"[object Promise]";case uo:return"[object Set]";case to:return"[object WeakMap]"}return N});var Si=gi,Po=Object.prototype.hasOwnProperty,bo=function(v){var N=v.length,K=new v.constructor(N);return N&&typeof v[0]=="string"&&Po.call(v,"index")&&(K.index=v.index,K.input=v.input),K},Za=ot.Uint8Array,Mi=function(v){var N=new v.constructor(v.byteLength);return new Za(N).set(new Za(v)),N},Hn=function(v,N){var K=N?Mi(v.buffer):v.buffer;return new v.constructor(K,v.byteOffset,v.byteLength)},ee=/\w*$/,fe=function(v){var N=new v.constructor(v.source,ee.exec(v));return N.lastIndex=v.lastIndex,N},Pe=mt?mt.prototype:void 0,nr=Pe?Pe.valueOf:void 0,_r=function(v){return nr?Object(nr.call(v)):{}},Sr=function(v,N){var K=N?Mi(v.buffer):v.buffer;return new v.constructor(K,v.byteOffset,v.length)},br=function(v,N,K){var it=v.constructor;switch(N){case"[object ArrayBuffer]":return Mi(v);case"[object Boolean]":case"[object Date]":return new it(+v);case"[object DataView]":return Hn(v,K);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Sr(v,K);case"[object Map]":return new it;case"[object Number]":case"[object String]":return new it(v);case"[object RegExp]":return fe(v);case"[object Set]":return new it;case"[object Symbol]":return _r(v)}},Kr=Object.create,cn=function(){function v(){}return function(N){if(!dt(N))return{};if(Kr)return Kr(N);v.prototype=N;var K=new v;return v.prototype=void 0,K}}(),Mn=function(v){return typeof v.constructor!="function"||Lr(v)?{}:cn(oa(v))},Kn=function(v){return Mt(v)&&Si(v)=="[object Map]"},Wn=te&&te.isMap,ra=Wn?zt(Wn):Kn,na=function(v){return Mt(v)&&Si(v)=="[object Set]"},Ua=te&&te.isSet,ua=Ua?zt(Ua):na,Qn={};Qn["[object Arguments]"]=Qn["[object Array]"]=Qn["[object ArrayBuffer]"]=Qn["[object DataView]"]=Qn["[object Boolean]"]=Qn["[object Date]"]=Qn["[object Float32Array]"]=Qn["[object Float64Array]"]=Qn["[object Int8Array]"]=Qn["[object Int16Array]"]=Qn["[object Int32Array]"]=Qn["[object Map]"]=Qn["[object Number]"]=Qn["[object Object]"]=Qn["[object RegExp]"]=Qn["[object Set]"]=Qn["[object String]"]=Qn["[object Symbol]"]=Qn["[object Uint8Array]"]=Qn["[object Uint8ClampedArray]"]=Qn["[object Uint16Array]"]=Qn["[object Uint32Array]"]=!0,Qn["[object Error]"]=Qn["[object Function]"]=Qn["[object WeakMap]"]=!1;var Fa=function v(N,K,it,ht,yt,Ot){var kt,Vt=1&K,le=2&K,xe=4&K;if(it&&(kt=yt?it(N,ht,yt,Ot):it(N)),kt!==void 0)return kt;if(!dt(N))return N;var ge=tt(N);if(ge){if(kt=bo(N),!Vt)return en(N,kt)}else{var Be=Si(N),ar=Be=="[object Function]"||Be=="[object GeneratorFunction]";if(B(N))return cr(N,Vt);if(Be=="[object Object]"||Be=="[object Arguments]"||ar&&!yt){if(kt=le||ar?{}:Mn(N),!Vt)return le?oi(N,ir(kt,N)):qn(N,Xt(kt,N))}else{if(!Qn[Be])return yt?N:{};kt=br(N,Be,Vt)}}Ot||(Ot=new dn);var Yr=Ot.get(N);if(Yr)return Yr;Ot.set(N,kt),ua(N)?N.forEach(function(pr){kt.add(v(pr,K,it,pr,N,Ot))}):ra(N)&&N.forEach(function(pr,gr){kt.set(gr,v(pr,K,it,gr,N,Ot))});var dr=ge?void 0:(xe?le?zi:ti:le?Ne:ce)(N);return En(dr||N,function(pr,gr){dr&&(pr=N[gr=pr]),Xe(kt,gr,v(pr,K,it,gr,N,Ot))}),kt},Da=function(v){return Fa(v,4)},xa=function(v){return function(){return v}},li=function(v){return function(N,K,it){for(var ht=-1,yt=Object(N),Ot=it(N),kt=Ot.length;kt--;){var Vt=Ot[v?kt:++ht];if(K(yt[Vt],Vt,yt)===!1)break}return N}}(),Qa=function(v,N){return v&&li(v,N,ce)},Na=function(v,N){return function(K,it){if(K==null)return K;if(!Mr(K))return v(K,it);for(var ht=K.length,yt=N?ht:-1,Ot=Object(K);(N?yt--:++yt<ht)&&it(Ot[yt],yt,Ot)!==!1;);return K}}(Qa),_a=function(v){return v},va=function(v){return typeof v=="function"?v:_a},di=function(v,N){return(tt(v)?En:Na)(v,va(N))},ni=di,hi=function(v,N){var K=[];return Na(v,function(it,ht,yt){N(it,ht,yt)&&K.push(it)}),K},Ri=function(v){return this.__data__.set(v,"__lodash_hash_undefined__"),this},Ii=function(v){return this.__data__.has(v)};function Gi(v){var N=-1,K=v==null?0:v.length;for(this.__data__=new Nr;++N<K;)this.add(v[N])}Gi.prototype.add=Gi.prototype.push=Ri,Gi.prototype.has=Ii;var Ao=Gi,Oo=function(v,N){for(var K=-1,it=v==null?0:v.length;++K<it;)if(N(v[K],K,v))return!0;return!1},Ni=function(v,N){return v.has(N)},Ra=function(v,N,K,it,ht,yt){var Ot=1&K,kt=v.length,Vt=N.length;if(kt!=Vt&&!(Ot&&Vt>kt))return!1;var le=yt.get(v),xe=yt.get(N);if(le&&xe)return le==N&&xe==v;var ge=-1,Be=!0,ar=2&K?new Ao:void 0;for(yt.set(v,N),yt.set(N,v);++ge<kt;){var Yr=v[ge],dr=N[ge];if(it)var pr=Ot?it(dr,Yr,ge,N,v,yt):it(Yr,dr,ge,v,N,yt);if(pr!==void 0){if(pr)continue;Be=!1;break}if(ar){if(!Oo(N,function(gr,xn){if(!Ni(ar,xn)&&(Yr===gr||ht(Yr,gr,K,it,yt)))return ar.push(xn)})){Be=!1;break}}else if(Yr!==dr&&!ht(Yr,dr,K,it,yt)){Be=!1;break}}return yt.delete(v),yt.delete(N),Be},mi=function(v){var N=-1,K=Array(v.size);return v.forEach(function(it,ht){K[++N]=[ht,it]}),K},ki=function(v){var N=-1,K=Array(v.size);return v.forEach(function(it){K[++N]=it}),K},Sa=mt?mt.prototype:void 0,Ui=Sa?Sa.valueOf:void 0,lo=function(v,N,K,it,ht,yt,Ot){switch(K){case"[object DataView]":if(v.byteLength!=N.byteLength||v.byteOffset!=N.byteOffset)return!1;v=v.buffer,N=N.buffer;case"[object ArrayBuffer]":return!(v.byteLength!=N.byteLength||!yt(new Za(v),new Za(N)));case"[object Boolean]":case"[object Date]":case"[object Number]":return E(+v,+N);case"[object Error]":return v.name==N.name&&v.message==N.message;case"[object RegExp]":case"[object String]":return v==N+"";case"[object Map]":var kt=mi;case"[object Set]":var Vt=1&it;if(kt||(kt=ki),v.size!=N.size&&!Vt)return!1;var le=Ot.get(v);if(le)return le==N;it|=2,Ot.set(v,N);var xe=Ra(kt(v),kt(N),it,ht,yt,Ot);return Ot.delete(v),xe;case"[object Symbol]":if(Ui)return Ui.call(v)==Ui.call(N)}return!1},Ai=Object.prototype.hasOwnProperty,Lo=function(v,N,K,it,ht,yt){var Ot=1&K,kt=ti(v),Vt=kt.length;if(Vt!=ti(N).length&&!Ot)return!1;for(var le=Vt;le--;){var xe=kt[le];if(!(Ot?xe in N:Ai.call(N,xe)))return!1}var ge=yt.get(v),Be=yt.get(N);if(ge&&Be)return ge==N&&Be==v;var ar=!0;yt.set(v,N),yt.set(N,v);for(var Yr=Ot;++le<Vt;){var dr=v[xe=kt[le]],pr=N[xe];if(it)var gr=Ot?it(pr,dr,xe,N,v,yt):it(dr,pr,xe,v,N,yt);if(!(gr===void 0?dr===pr||ht(dr,pr,K,it,yt):gr)){ar=!1;break}Yr||(Yr=xe=="constructor")}if(ar&&!Yr){var xn=v.constructor,Ln=N.constructor;xn==Ln||!("constructor"in v)||!("constructor"in N)||typeof xn=="function"&&xn instanceof xn&&typeof Ln=="function"&&Ln instanceof Ln||(ar=!1)}return yt.delete(v),yt.delete(N),ar},yi=Object.prototype.hasOwnProperty,co=function(v,N,K,it,ht,yt){var Ot=tt(v),kt=tt(N),Vt=Ot?"[object Array]":Si(v),le=kt?"[object Array]":Si(N),xe=(Vt=Vt=="[object Arguments]"?"[object Object]":Vt)=="[object Object]",ge=(le=le=="[object Arguments]"?"[object Object]":le)=="[object Object]",Be=Vt==le;if(Be&&B(v)){if(!B(N))return!1;Ot=!0,xe=!1}if(Be&&!xe)return yt||(yt=new dn),Ot||me(v)?Ra(v,N,K,it,ht,yt):lo(v,N,Vt,K,it,ht,yt);if(!(1&K)){var ar=xe&&yi.call(v,"__wrapped__"),Yr=ge&&yi.call(N,"__wrapped__");if(ar||Yr){var dr=ar?v.value():v,pr=Yr?N.value():N;return yt||(yt=new dn),ht(dr,pr,K,it,yt)}}return!!Be&&(yt||(yt=new dn),Lo(v,N,K,it,ht,yt))},Go=function v(N,K,it,ht,yt){return N===K||(N==null||K==null||!Mt(N)&&!Mt(K)?N!=N&&K!=K:co(N,K,it,ht,v,yt))},ts=function(v,N,K,it){var ht=K.length,yt=ht,Ot=!it;if(v==null)return!yt;for(v=Object(v);ht--;){var kt=K[ht];if(Ot&&kt[2]?kt[1]!==v[kt[0]]:!(kt[0]in v))return!1}for(;++ht<yt;){var Vt=(kt=K[ht])[0],le=v[Vt],xe=kt[1];if(Ot&&kt[2]){if(le===void 0&&!(Vt in v))return!1}else{var ge=new dn;if(it)var Be=it(le,xe,Vt,v,N,ge);if(!(Be===void 0?Go(xe,le,3,it,ge):Be))return!1}}return!0},Wi=function(v){return v==v&&!dt(v)},Uo=function(v){for(var N=ce(v),K=N.length;K--;){var it=N[K],ht=v[it];N[K]=[it,ht,Wi(ht)]}return N},Wo=function(v,N){return function(K){return K!=null&&K[v]===N&&(N!==void 0||v in Object(K))}},fs=function(v){var N=Uo(v);return N.length==1&&N[0][2]?Wo(N[0][0],N[0][1]):function(K){return K===v||ts(K,v,N)}},ha=function(v){return typeof v=="symbol"||Mt(v)&&nt(v)=="[object Symbol]"},Yt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,qe=function(v,N){if(tt(v))return!1;var K=typeof v;return!(K!="number"&&K!="symbol"&&K!="boolean"&&v!=null&&!ha(v))||Le.test(v)||!Yt.test(v)||N!=null&&v in Object(N)};function mr(v,N){if(typeof v!="function"||N!=null&&typeof N!="function")throw new TypeError("Expected a function");var K=function(){var it=arguments,ht=N?N.apply(this,it):it[0],yt=K.cache;if(yt.has(ht))return yt.get(ht);var Ot=v.apply(this,it);return K.cache=yt.set(ht,Ot)||yt,Ot};return K.cache=new(mr.Cache||Nr),K}mr.Cache=Nr;var Zr=mr,fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zn=/\\(\\)?/g,Ia=function(v){var N=Zr(v,function(it){return K.size===500&&K.clear(),it}),K=N.cache;return N}(function(v){var N=[];return v.charCodeAt(0)===46&&N.push(""),v.replace(fn,function(K,it,ht,yt){N.push(ht?yt.replace(zn,"$1"):it||K)}),N}),vi=function(v,N){for(var K=-1,it=v==null?0:v.length,ht=Array(it);++K<it;)ht[K]=N(v[K],K,v);return ht},eo=mt?mt.prototype:void 0,xo=eo?eo.toString:void 0,ds=function v(N){if(typeof N=="string")return N;if(tt(N))return vi(N,v)+"";if(ha(N))return xo?xo.call(N):"";var K=N+"";return K=="0"&&1/N==-1/0?"-0":K},Di=function(v){return v==null?"":ds(v)},ro=function(v,N){return tt(v)?v:qe(v,N)?[v]:Ia(Di(v))},Yo=function(v){if(typeof v=="string"||ha(v))return v;var N=v+"";return N=="0"&&1/v==-1/0?"-0":N},hs=function(v,N){for(var K=0,it=(N=ro(N,v)).length;v!=null&&K<it;)v=v[Yo(N[K++])];return K&&K==it?v:void 0},qo=function(v,N,K){var it=v==null?void 0:hs(v,N);return it===void 0?K:it},Es=function(v,N){return v!=null&&N in Object(v)},As=function(v,N,K){for(var it=-1,ht=(N=ro(N,v)).length,yt=!1;++it<ht;){var Ot=Yo(N[it]);if(!(yt=v!=null&&K(v,Ot)))break;v=v[Ot]}return yt||++it!=ht?yt:!!(ht=v==null?0:v.length)&&$(ht)&&_(Ot,ht)&&(tt(v)||ae(v))},ws=function(v,N){return v!=null&&As(v,N,Es)},nu=function(v,N){return qe(v)&&Wi(N)?Wo(Yo(v),N):function(K){var it=qo(K,v);return it===void 0&&it===N?ws(K,v):Go(N,it,3)}},Ko=function(v){return function(N){return N==null?void 0:N[v]}},is=function(v){return function(N){return hs(N,v)}},vs=function(v){return qe(v)?Ko(Yo(v)):is(v)},No=function(v){return typeof v=="function"?v:v==null?_a:typeof v=="object"?tt(v)?nu(v[0],v[1]):fs(v):vs(v)},xu=function(v,N){return(tt(v)?Dn:hi)(v,No(N))},Eu=Object.prototype.hasOwnProperty,Yi=function(v,N){return v!=null&&Eu.call(v,N)},Eo=function(v,N){return v!=null&&As(v,N,Yi)},Ro=Object.prototype.hasOwnProperty,h=function(v){if(v==null)return!0;if(Mr(v)&&(tt(v)||typeof v=="string"||typeof v.splice=="function"||B(v)||me(v)||ae(v)))return!v.length;var N=Si(v);if(N=="[object Map]"||N=="[object Set]")return!v.size;if(Lr(v))return!Ar(v).length;for(var K in v)if(Ro.call(v,K))return!1;return!0},Y=function(v){return v===void 0},Et=function(v,N){var K=-1,it=Mr(v)?Array(v.length):[];return Na(v,function(ht,yt,Ot){it[++K]=N(ht,yt,Ot)}),it},Gt=function(v,N){return(tt(v)?vi:Et)(v,No(N))},qt=function(v,N,K,it){var ht=-1,yt=v==null?0:v.length;for(it&&yt&&(K=v[++ht]);++ht<yt;)K=N(K,v[ht],ht,v);return K},de=function(v,N,K,it,ht){return ht(v,function(yt,Ot,kt){K=it?(it=!1,yt):N(K,yt,Ot,kt)}),K},ve=function(v,N,K){var it=tt(v)?qt:de,ht=arguments.length<3;return it(v,No(N),K,ht,Na)},Ce=function(v){return typeof v=="string"||!tt(v)&&Mt(v)&&nt(v)=="[object String]"},De=Ko("length"),Ye=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),sr=function(v){return Ye.test(v)},Br="[\\ud800-\\udfff]",Wr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",zr="\\ud83c[\\udffb-\\udfff]",mn="[^\\ud800-\\udfff]",In="(?:\\ud83c[\\udde6-\\uddff]){2}",Qr="[\\ud800-\\udbff][\\udc00-\\udfff]",Vn="(?:"+Wr+"|"+zr+")?",Ta="[\\ufe0e\\ufe0f]?"+Vn+("(?:\\u200d(?:"+[mn,In,Qr].join("|")+")[\\ufe0e\\ufe0f]?"+Vn+")*"),Oa="(?:"+[mn+Wr+"?",Wr,In,Qr,Br].join("|")+")",Ea=RegExp(zr+"(?="+zr+")|"+Oa+Ta,"g"),ca=function(v){for(var N=Ea.lastIndex=0;Ea.test(v);)++N;return N},ga=function(v){return sr(v)?ca(v):De(v)},no=function(v){if(v==null)return 0;if(Mr(v))return Ce(v)?ga(v):v.length;var N=Si(v);return N=="[object Map]"||N=="[object Set]"?v.size:Ar(v).length},Hi=function(v,N,K){var it=tt(v),ht=it||B(v)||me(v);if(N=No(N),K==null){var yt=v&&v.constructor;K=ht?it?new yt:[]:dt(v)&&At(yt)?cn(oa(v)):{}}return(ht?En:Qa)(v,function(Ot,kt,Vt){return N(K,Ot,kt,Vt)}),K},Xi=mt?mt.isConcatSpreadable:void 0,Zi=function(v){return tt(v)||ae(v)||!!(Xi&&v&&v[Xi])},Ki=function v(N,K,it,ht,yt){var Ot=-1,kt=N.length;for(it||(it=Zi),yt||(yt=[]);++Ot<kt;){var Vt=N[Ot];K>0&&it(Vt)?K>1?v(Vt,K-1,it,ht,yt):sa(yt,Vt):ht||(yt[yt.length]=Vt)}return yt},fo=function(v,N,K){switch(K.length){case 0:return v.call(N);case 1:return v.call(N,K[0]);case 2:return v.call(N,K[0],K[1]);case 3:return v.call(N,K[0],K[1],K[2])}return v.apply(N,K)},wo=Math.max,Wa=function(v,N,K){return N=wo(N===void 0?v.length-1:N,0),function(){for(var it=arguments,ht=-1,yt=wo(it.length-N,0),Ot=Array(yt);++ht<yt;)Ot[ht]=it[N+ht];ht=-1;for(var kt=Array(N+1);++ht<N;)kt[ht]=it[ht];return kt[N]=K(Ot),fo(v,this,kt)}},pi=Pn?function(v,N){return Pn(v,"toString",{configurable:!0,enumerable:!1,value:xa(N),writable:!0})}:_a,Os=Date.now,ps=function(v){var N=0,K=0;return function(){var it=Os(),ht=16-(it-K);if(K=it,ht>0){if(++N>=800)return arguments[0]}else N=0;return v.apply(void 0,arguments)}}(pi),es=function(v,N){return ps(Wa(v,N,_a),v+"")},au=function(v,N,K,it){for(var ht=v.length,yt=K+(it?1:-1);it?yt--:++yt<ht;)if(N(v[yt],yt,v))return yt;return-1},xc=function(v){return v!=v},sf=function(v,N,K){for(var it=K-1,ht=v.length;++it<ht;)if(v[it]===N)return it;return-1},uf=function(v,N,K){return N==N?sf(v,N,K):au(v,xc,K)},Ec=function(v,N){return!!(v!=null&&v.length)&&uf(v,N,0)>-1},rd=function(v,N,K){for(var it=-1,ht=v==null?0:v.length;++it<ht;)if(K(N,v[it]))return!0;return!1},wc=function(){},Ju=ba&&1/ki(new ba([,-0]))[1]==1/0?function(v){return new ba(v)}:wc,lf=function(v,N,K){var it=-1,ht=Ec,yt=v.length,Ot=!0,kt=[],Vt=kt;if(K)Ot=!1,ht=rd;else if(yt>=200){var le=N?null:Ju(v);if(le)return ki(le);Ot=!1,ht=Ni,Vt=new Ao}else Vt=N?[]:kt;t:for(;++it<yt;){var xe=v[it],ge=N?N(xe):xe;if(xe=K||xe!==0?xe:0,Ot&&ge==ge){for(var Be=Vt.length;Be--;)if(Vt[Be]===ge)continue t;N&&Vt.push(ge),kt.push(xe)}else ht(Vt,ge,K)||(Vt!==kt&&Vt.push(ge),kt.push(xe))}return kt},Sc=function(v){return Mt(v)&&Mr(v)},cf=es(function(v){return lf(Ki(v,1,Sc,!0))}),nd=function(v,N){return vi(N,function(K){return v[K]})},iu,ff=function(v){return v==null?[]:nd(v,ce(v))};try{iu={clone:Da,constant:xa,each:ni,filter:xu,has:Eo,isArray:tt,isEmpty:h,isFunction:At,isUndefined:Y,keys:ce,map:Gt,reduce:ve,size:no,transform:Hi,union:cf,values:ff}}catch(v){}iu||(iu=window._);var Yn=iu,wu=Ya;function Ya(v){this._isDirected=!Yn.has(v,"directed")||v.directed,this._isMultigraph=!!Yn.has(v,"multigraph")&&v.multigraph,this._isCompound=!!Yn.has(v,"compound")&&v.compound,this._label=void 0,this._defaultNodeLabelFn=Yn.constant(void 0),this._defaultEdgeLabelFn=Yn.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function Mc(v,N){v[N]?v[N]++:v[N]=1}function Pl(v,N){--v[N]||delete v[N]}function ou(v,N,K,it){var ht=""+N,yt=""+K;if(!v&&ht>yt){var Ot=ht;ht=yt,yt=Ot}return ht+""+yt+""+(Yn.isUndefined(it)?"\0":it)}function _c(v,N,K,it){var ht=""+N,yt=""+K;if(!v&&ht>yt){var Ot=ht;ht=yt,yt=Ot}var kt={v:ht,w:yt};return it&&(kt.name=it),kt}function Cc(v,N){return ou(v,N.v,N.w,N.name)}Ya.prototype._nodeCount=0,Ya.prototype._edgeCount=0,Ya.prototype.isDirected=function(){return this._isDirected},Ya.prototype.isMultigraph=function(){return this._isMultigraph},Ya.prototype.isCompound=function(){return this._isCompound},Ya.prototype.setGraph=function(v){return this._label=v,this},Ya.prototype.graph=function(){return this._label},Ya.prototype.setDefaultNodeLabel=function(v){return Yn.isFunction(v)||(v=Yn.constant(v)),this._defaultNodeLabelFn=v,this},Ya.prototype.nodeCount=function(){return this._nodeCount},Ya.prototype.nodes=function(){return Yn.keys(this._nodes)},Ya.prototype.sources=function(){var v=this;return Yn.filter(this.nodes(),function(N){return Yn.isEmpty(v._in[N])})},Ya.prototype.sinks=function(){var v=this;return Yn.filter(this.nodes(),function(N){return Yn.isEmpty(v._out[N])})},Ya.prototype.setNodes=function(v,N){var K=arguments,it=this;return Yn.each(v,function(ht){K.length>1?it.setNode(ht,N):it.setNode(ht)}),this},Ya.prototype.setNode=function(v,N){return Yn.has(this._nodes,v)?(arguments.length>1&&(this._nodes[v]=N),this):(this._nodes[v]=arguments.length>1?N:this._defaultNodeLabelFn(v),this._isCompound&&(this._parent[v]="\0",this._children[v]={},this._children["\0"][v]=!0),this._in[v]={},this._preds[v]={},this._out[v]={},this._sucs[v]={},++this._nodeCount,this)},Ya.prototype.node=function(v){return this._nodes[v]},Ya.prototype.hasNode=function(v){return Yn.has(this._nodes,v)},Ya.prototype.removeNode=function(v){var N=this;if(Yn.has(this._nodes,v)){var K=function(it){N.removeEdge(N._edgeObjs[it])};delete this._nodes[v],this._isCompound&&(this._removeFromParentsChildList(v),delete this._parent[v],Yn.each(this.children(v),function(it){N.setParent(it)}),delete this._children[v]),Yn.each(Yn.keys(this._in[v]),K),delete this._in[v],delete this._preds[v],Yn.each(Yn.keys(this._out[v]),K),delete this._out[v],delete this._sucs[v],--this._nodeCount}return this},Ya.prototype.setParent=function(v,N){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Yn.isUndefined(N))N="\0";else{for(var K=N+="";!Yn.isUndefined(K);K=this.parent(K))if(K===v)throw new Error("Setting "+N+" as parent of "+v+" would create a cycle");this.setNode(N)}return this.setNode(v),this._removeFromParentsChildList(v),this._parent[v]=N,this._children[N][v]=!0,this},Ya.prototype._removeFromParentsChildList=function(v){delete this._children[this._parent[v]][v]},Ya.prototype.parent=function(v){if(this._isCompound){var N=this._parent[v];if(N!=="\0")return N}},Ya.prototype.children=function(v){if(Yn.isUndefined(v)&&(v="\0"),this._isCompound){var N=this._children[v];if(N)return Yn.keys(N)}else{if(v==="\0")return this.nodes();if(this.hasNode(v))return[]}},Ya.prototype.predecessors=function(v){var N=this._preds[v];if(N)return Yn.keys(N)},Ya.prototype.successors=function(v){var N=this._sucs[v];if(N)return Yn.keys(N)},Ya.prototype.neighbors=function(v){var N=this.predecessors(v);if(N)return Yn.union(N,this.successors(v))},Ya.prototype.isLeaf=function(v){return(this.isDirected()?this.successors(v):this.neighbors(v)).length===0},Ya.prototype.filterNodes=function(v){var N=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});N.setGraph(this.graph());var K=this;Yn.each(this._nodes,function(yt,Ot){v(Ot)&&N.setNode(Ot,yt)}),Yn.each(this._edgeObjs,function(yt){N.hasNode(yt.v)&&N.hasNode(yt.w)&&N.setEdge(yt,K.edge(yt))});var it={};function ht(yt){var Ot=K.parent(yt);return Ot===void 0||N.hasNode(Ot)?(it[yt]=Ot,Ot):Ot in it?it[Ot]:ht(Ot)}return this._isCompound&&Yn.each(N.nodes(),function(yt){N.setParent(yt,ht(yt))}),N},Ya.prototype.setDefaultEdgeLabel=function(v){return Yn.isFunction(v)||(v=Yn.constant(v)),this._defaultEdgeLabelFn=v,this},Ya.prototype.edgeCount=function(){return this._edgeCount},Ya.prototype.edges=function(){return Yn.values(this._edgeObjs)},Ya.prototype.setPath=function(v,N){var K=this,it=arguments;return Yn.reduce(v,function(ht,yt){return it.length>1?K.setEdge(ht,yt,N):K.setEdge(ht,yt),yt}),this},Ya.prototype.setEdge=function(){var v,N,K,it,ht=!1,yt=arguments[0];typeof yt=="object"&&yt!==null&&"v"in yt?(v=yt.v,N=yt.w,K=yt.name,arguments.length===2&&(it=arguments[1],ht=!0)):(v=yt,N=arguments[1],K=arguments[3],arguments.length>2&&(it=arguments[2],ht=!0)),v=""+v,N=""+N,Yn.isUndefined(K)||(K=""+K);var Ot=ou(this._isDirected,v,N,K);if(Yn.has(this._edgeLabels,Ot))return ht&&(this._edgeLabels[Ot]=it),this;if(!Yn.isUndefined(K)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(v),this.setNode(N),this._edgeLabels[Ot]=ht?it:this._defaultEdgeLabelFn(v,N,K);var kt=_c(this._isDirected,v,N,K);return v=kt.v,N=kt.w,Object.freeze(kt),this._edgeObjs[Ot]=kt,Mc(this._preds[N],v),Mc(this._sucs[v],N),this._in[N][Ot]=kt,this._out[v][Ot]=kt,this._edgeCount++,this},Ya.prototype.edge=function(v,N,K){var it=arguments.length===1?Cc(this._isDirected,arguments[0]):ou(this._isDirected,v,N,K);return this._edgeLabels[it]},Ya.prototype.hasEdge=function(v,N,K){var it=arguments.length===1?Cc(this._isDirected,arguments[0]):ou(this._isDirected,v,N,K);return Yn.has(this._edgeLabels,it)},Ya.prototype.removeEdge=function(v,N,K){var it=arguments.length===1?Cc(this._isDirected,arguments[0]):ou(this._isDirected,v,N,K),ht=this._edgeObjs[it];return ht&&(v=ht.v,N=ht.w,delete this._edgeLabels[it],delete this._edgeObjs[it],Pl(this._preds[N],v),Pl(this._sucs[v],N),delete this._in[N][it],delete this._out[v][it],this._edgeCount--),this},Ya.prototype.inEdges=function(v,N){var K=this._in[v];if(K){var it=Yn.values(K);return N?Yn.filter(it,function(ht){return ht.v===N}):it}},Ya.prototype.outEdges=function(v,N){var K=this._out[v];if(K){var it=Yn.values(K);return N?Yn.filter(it,function(ht){return ht.w===N}):it}},Ya.prototype.nodeEdges=function(v,N){var K=this.inEdges(v,N);if(K)return K.concat(this.outEdges(v,N))};var Ll={Graph:wu,version:"2.1.8"},df={write:function(v){var N={options:{directed:v.isDirected(),multigraph:v.isMultigraph(),compound:v.isCompound()},nodes:hf(v),edges:gs(v)};return Yn.isUndefined(v.graph())||(N.value=Yn.clone(v.graph())),N},read:function(v){var N=new wu(v.options).setGraph(v.value);return Yn.each(v.nodes,function(K){N.setNode(K.v,K.value),K.parent&&N.setParent(K.v,K.parent)}),Yn.each(v.edges,function(K){N.setEdge({v:K.v,w:K.w,name:K.name},K.value)}),N}};function hf(v){return Yn.map(v.nodes(),function(N){var K=v.node(N),it=v.parent(N),ht={v:N};return Yn.isUndefined(K)||(ht.value=K),Yn.isUndefined(it)||(ht.parent=it),ht})}function gs(v){return Yn.map(v.edges(),function(N){var K=v.edge(N),it={v:N.v,w:N.w};return Yn.isUndefined(N.name)||(it.name=N.name),Yn.isUndefined(K)||(it.value=K),it})}var Tc=function(v){var N,K={},it=[];function ht(yt){Yn.has(K,yt)||(K[yt]=!0,N.push(yt),Yn.each(v.successors(yt),ht),Yn.each(v.predecessors(yt),ht))}return Yn.each(v.nodes(),function(yt){N=[],ht(yt),N.length&&it.push(N)}),it},Ws=po;function po(){this._arr=[],this._keyIndices={}}po.prototype.size=function(){return this._arr.length},po.prototype.keys=function(){return this._arr.map(function(v){return v.key})},po.prototype.has=function(v){return Yn.has(this._keyIndices,v)},po.prototype.priority=function(v){var N=this._keyIndices[v];if(N!==void 0)return this._arr[N].priority},po.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},po.prototype.add=function(v,N){var K=this._keyIndices;if(v=String(v),!Yn.has(K,v)){var it=this._arr,ht=it.length;return K[v]=ht,it.push({key:v,priority:N}),this._decrease(ht),!0}return!1},po.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var v=this._arr.pop();return delete this._keyIndices[v.key],this._heapify(0),v.key},po.prototype.decrease=function(v,N){var K=this._keyIndices[v];if(N>this._arr[K].priority)throw new Error("New priority is greater than current priority. Key: "+v+" Old: "+this._arr[K].priority+" New: "+N);this._arr[K].priority=N,this._decrease(K)},po.prototype._heapify=function(v){var N=this._arr,K=2*v,it=K+1,ht=v;K<N.length&&(ht=N[K].priority<N[ht].priority?K:ht,it<N.length&&(ht=N[it].priority<N[ht].priority?it:ht),ht!==v&&(this._swap(v,ht),this._heapify(ht)))},po.prototype._decrease=function(v){for(var N,K=this._arr,it=K[v].priority;v!==0&&!(K[N=v>>1].priority<it);)this._swap(v,N),v=N},po.prototype._swap=function(v,N){var K=this._arr,it=this._keyIndices,ht=K[v],yt=K[N];K[v]=yt,K[N]=ht,it[yt.key]=v,it[ht.key]=N};var Ys=function(v,N,K,it){return function(ht,yt,Ot,kt){var Vt,le,xe={},ge=new Ws,Be=function(ar){var Yr=ar.v!==Vt?ar.v:ar.w,dr=xe[Yr],pr=Ot(ar),gr=le.distance+pr;if(pr<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+ar+" Weight: "+pr);gr<dr.distance&&(dr.distance=gr,dr.predecessor=Vt,ge.decrease(Yr,gr))};for(ht.nodes().forEach(function(ar){var Yr=ar===yt?0:Number.POSITIVE_INFINITY;xe[ar]={distance:Yr},ge.add(ar,Yr)});ge.size()>0&&(Vt=ge.removeMin(),(le=xe[Vt]).distance!==Number.POSITIVE_INFINITY);)kt(Vt).forEach(Be);return xe}(v,String(N),K||Is,it||function(ht){return v.outEdges(ht)})},Is=Yn.constant(1),Nl=function(v,N,K){return Yn.transform(v.nodes(),function(it,ht){it[ht]=Ys(v,ht,N,K)},{})},Ac=function(v){var N=0,K=[],it={},ht=[];function yt(Ot){var kt=it[Ot]={onStack:!0,lowlink:N,index:N++};if(K.push(Ot),v.successors(Ot).forEach(function(xe){Yn.has(it,xe)?it[xe].onStack&&(kt.lowlink=Math.min(kt.lowlink,it[xe].index)):(yt(xe),kt.lowlink=Math.min(kt.lowlink,it[xe].lowlink))}),kt.lowlink===kt.index){var Vt,le=[];do Vt=K.pop(),it[Vt].onStack=!1,le.push(Vt);while(Ot!==Vt);ht.push(le)}}return v.nodes().forEach(function(Ot){Yn.has(it,Ot)||yt(Ot)}),ht},vf=function(v){return Yn.filter(Ac(v),function(N){return N.length>1||N.length===1&&v.hasEdge(N[0],N[0])})},pf=function(v,N,K){return function(it,ht,yt){var Ot={},kt=it.nodes();return kt.forEach(function(Vt){Ot[Vt]={},Ot[Vt][Vt]={distance:0},kt.forEach(function(le){Vt!==le&&(Ot[Vt][le]={distance:Number.POSITIVE_INFINITY})}),yt(Vt).forEach(function(le){var xe=le.v===Vt?le.w:le.v,ge=ht(le);Ot[Vt][xe]={distance:ge,predecessor:Vt}})}),kt.forEach(function(Vt){var le=Ot[Vt];kt.forEach(function(xe){var ge=Ot[xe];kt.forEach(function(Be){var ar=ge[Vt],Yr=le[Be],dr=ge[Be],pr=ar.distance+Yr.distance;pr<dr.distance&&(dr.distance=pr,dr.predecessor=Yr.predecessor)})})}),Ot}(v,N||gf,K||function(it){return v.outEdges(it)})},gf=Yn.constant(1),Rl=mf;function mf(v){var N={},K={},it=[];if(Yn.each(v.sinks(),function ht(yt){if(Yn.has(K,yt))throw new kl;Yn.has(N,yt)||(K[yt]=!0,N[yt]=!0,Yn.each(v.predecessors(yt),ht),delete K[yt],it.push(yt))}),Yn.size(N)!==v.nodeCount())throw new kl;return it}function kl(){}mf.CycleException=kl,kl.prototype=new Error;var yf=function(v,N,K){Yn.isArray(N)||(N=[N]);var it=(v.isDirected()?v.successors:v.neighbors).bind(v),ht=[],yt={};return Yn.each(N,function(Ot){if(!v.hasNode(Ot))throw new Error("Graph does not have node: "+Ot);Oc(v,Ot,K==="post",yt,it,ht)}),ht};function Oc(v,N,K,it,ht,yt){Yn.has(it,N)||(it[N]=!0,K||yt.push(N),Yn.each(ht(N),function(Ot){Oc(v,Ot,K,it,ht,yt)}),K&&yt.push(N))}var tl,Ic={Graph:Ll.Graph,json:df,alg:{components:Tc,dijkstra:Ys,dijkstraAll:Nl,findCycles:vf,floydWarshall:pf,isAcyclic:function(v){try{Rl(v)}catch(N){if(N instanceof Rl.CycleException)return!1;throw N}return!0},postorder:function(v,N){return yf(v,N,"post")},preorder:function(v,N){return yf(v,N,"pre")},prim:function(v,N){var K,it=new wu,ht={},yt=new Ws;function Ot(Vt){var le=Vt.v===K?Vt.w:Vt.v,xe=yt.priority(le);if(xe!==void 0){var ge=N(Vt);ge<xe&&(ht[le]=K,yt.decrease(le,ge))}}if(v.nodeCount()===0)return it;Yn.each(v.nodes(),function(Vt){yt.add(Vt,Number.POSITIVE_INFINITY),it.setNode(Vt)}),yt.decrease(v.nodes()[0],0);for(var kt=!1;yt.size()>0;){if(K=yt.removeMin(),Yn.has(ht,K))it.setEdge(K,ht[K]);else{if(kt)throw new Error("Input graph is not connected: "+v);kt=!0}v.nodeEdges(K).forEach(Ot)}return it},tarjan:Ac,topsort:Rl},version:Ll.version};try{tl=Ic}catch(v){}tl||(tl=window.graphlib);var os=tl,Dc=function(v){return Fa(v,5)},el=function(v,N,K){if(!dt(K))return!1;var it=typeof N;return!!(it=="number"?Mr(K)&&_(N,K.length):it=="string"&&N in K)&&E(K[N],v)},bf=Object.prototype,ad=bf.hasOwnProperty,Pc=es(function(v,N){v=Object(v);var K=-1,it=N.length,ht=it>2?N[2]:void 0;for(ht&&el(N[0],N[1],ht)&&(it=1);++K<it;)for(var yt=N[K],Ot=Ne(yt),kt=-1,Vt=Ot.length;++kt<Vt;){var le=Ot[kt],xe=v[le];(xe===void 0||E(xe,bf[le])&&!ad.call(v,le))&&(v[le]=yt[le])}return v}),rl=function(v){return function(N,K,it){var ht=Object(N);if(!Mr(N)){var yt=No(K);N=ce(N),K=function(kt){return yt(ht[kt],kt,ht)}}var Ot=v(N,K,it);return Ot>-1?ht[yt?N[Ot]:Ot]:void 0}},id=/^\s+|\s+$/g,Lc=/^[-+]0x[0-9a-f]+$/i,Nc=/^0b[01]+$/i,xf=/^0o[0-7]+$/i,nl=parseInt,Su=function(v){if(typeof v=="number")return v;if(ha(v))return NaN;if(dt(v)){var N=typeof v.valueOf=="function"?v.valueOf():v;v=dt(N)?N+"":N}if(typeof v!="string")return v===0?v:+v;v=v.replace(id,"");var K=Nc.test(v);return K||xf.test(v)?nl(v.slice(2),K?2:8):Lc.test(v)?NaN:+v},su=function(v){return v?(v=Su(v))===1/0||v===-1/0?17976931348623157e292*(v<0?-1:1):v==v?v:0:v===0?v:0},Mu=function(v){var N=su(v),K=N%1;return N==N?K?N-K:N:0},al=Math.max,Ss=rl(function(v,N,K){var it=v==null?0:v.length;if(!it)return-1;var ht=K==null?0:Mu(K);return ht<0&&(ht=al(it+ht,0)),au(v,No(N),ht)}),Ef=function(v){return v!=null&&v.length?Ki(v,1):[]},_u=function(v,N){return v==null?v:li(v,va(N),Ne)},od=function(v){var N=v==null?0:v.length;return N?v[N-1]:void 0},sd=function(v,N){var K={};return N=No(N),Qa(v,function(it,ht,yt){Nn(K,ht,N(it,ht,yt))}),K},Bl=function(v,N,K){for(var it=-1,ht=v.length;++it<ht;){var yt=v[it],Ot=N(yt);if(Ot!=null&&(kt===void 0?Ot==Ot&&!ha(Ot):K(Ot,kt)))var kt=Ot,Vt=yt}return Vt},Rc=function(v,N){return v>N},ud=function(v){return v&&v.length?Bl(v,_a,Rc):void 0},il=function(v,N,K){(K!==void 0&&!E(v[N],K)||K===void 0&&!(N in v))&&Nn(v,N,K)},wf=Function.prototype,ld=Object.prototype,Sf=wf.toString,Mf=ld.hasOwnProperty,ol=Sf.call(Object),Cu=function(v){if(!Mt(v)||nt(v)!="[object Object]")return!1;var N=oa(v);if(N===null)return!0;var K=Mf.call(N,"constructor")&&N.constructor;return typeof K=="function"&&K instanceof K&&Sf.call(K)==ol},Tu=function(v,N){if((N!=="constructor"||typeof v[N]!="function")&&N!="__proto__")return v[N]},Fl=function(v){return Zt(v,Ne(v))},zl=function(v,N,K,it,ht,yt,Ot){var kt=Tu(v,K),Vt=Tu(N,K),le=Ot.get(Vt);if(le)il(v,K,le);else{var xe=yt?yt(kt,Vt,K+"",v,N,Ot):void 0,ge=xe===void 0;if(ge){var Be=tt(Vt),ar=!Be&&B(Vt),Yr=!Be&&!ar&&me(Vt);xe=Vt,Be||ar||Yr?tt(kt)?xe=kt:Sc(kt)?xe=en(kt):ar?(ge=!1,xe=cr(Vt,!0)):Yr?(ge=!1,xe=Sr(Vt,!0)):xe=[]:Cu(Vt)||ae(Vt)?(xe=kt,ae(kt)?xe=Fl(kt):dt(kt)&&!At(kt)||(xe=Mn(Vt))):ge=!1}ge&&(Ot.set(Vt,xe),ht(xe,Vt,it,yt,Ot),Ot.delete(Vt)),il(v,K,xe)}},To=function v(N,K,it,ht,yt){N!==K&&li(K,function(Ot,kt){if(yt||(yt=new dn),dt(Ot))zl(N,K,kt,it,v,ht,yt);else{var Vt=ht?ht(Tu(N,kt),Ot,kt+"",N,K,yt):void 0;Vt===void 0&&(Vt=Ot),il(N,kt,Vt)}},Ne)},uu=function(v){return es(function(N,K){var it=-1,ht=K.length,yt=ht>1?K[ht-1]:void 0,Ot=ht>2?K[2]:void 0;for(yt=v.length>3&&typeof yt=="function"?(ht--,yt):void 0,Ot&&el(K[0],K[1],Ot)&&(yt=ht<3?void 0:yt,ht=1),N=Object(N);++it<ht;){var kt=K[it];kt&&v(N,kt,it,yt)}return N})}(function(v,N,K){To(v,N,K)}),_f=function(v,N){return v<N},lu=function(v){return v&&v.length?Bl(v,_a,_f):void 0},sl=function(v,N){return v&&v.length?Bl(v,No(N),_f):void 0},ss=function(){return ot.Date.now()},Ds=function(v,N,K,it){if(!dt(v))return v;for(var ht=-1,yt=(N=ro(N,v)).length,Ot=yt-1,kt=v;kt!=null&&++ht<yt;){var Vt=Yo(N[ht]),le=K;if(Vt==="__proto__"||Vt==="constructor"||Vt==="prototype")return v;if(ht!=Ot){var xe=kt[Vt];(le=it?it(xe,Vt,kt):void 0)===void 0&&(le=dt(xe)?xe:_(N[ht+1])?[]:{})}Xe(kt,Vt,le),kt=kt[Vt]}return v},Gl=function(v,N,K){for(var it=-1,ht=N.length,yt={};++it<ht;){var Ot=N[it],kt=hs(v,Ot);K(kt,Ot)&&Ds(yt,ro(Ot,v),kt)}return yt},Ul=function(v,N){return Gl(v,N,function(K,it){return ws(v,it)})},kc=function(v){return ps(Wa(v,void 0,Ef),v+"")}(function(v,N){return v==null?{}:Ul(v,N)}),rs=Math.ceil,ul=Math.max,ll=function(v,N,K,it){for(var ht=-1,yt=ul(rs((N-v)/(K||1)),0),Ot=Array(yt);yt--;)Ot[it?yt:++ht]=v,v+=K;return Ot},Wl=function(v){return function(N,K,it){return it&&typeof it!="number"&&el(N,K,it)&&(K=it=void 0),N=su(N),K===void 0?(K=N,N=0):K=su(K),it=it===void 0?N<K?1:-1:su(it),ll(N,K,it,v)}}(),Bc=function(v,N){var K=v.length;for(v.sort(N);K--;)v[K]=v[K].value;return v},Cf=function(v,N){if(v!==N){var K=v!==void 0,it=v===null,ht=v==v,yt=ha(v),Ot=N!==void 0,kt=N===null,Vt=N==N,le=ha(N);if(!kt&&!le&&!yt&&v>N||yt&&Ot&&Vt&&!kt&&!le||it&&Ot&&Vt||!K&&Vt||!ht)return 1;if(!it&&!yt&&!le&&v<N||le&&K&&ht&&!it&&!yt||kt&&K&&ht||!Ot&&ht||!Vt)return-1}return 0},Tf=function(v,N,K){for(var it=-1,ht=v.criteria,yt=N.criteria,Ot=ht.length,kt=K.length;++it<Ot;){var Vt=Cf(ht[it],yt[it]);if(Vt)return it>=kt?Vt:Vt*(K[it]=="desc"?-1:1)}return v.index-N.index},cl=function(v,N,K){N=N.length?vi(N,function(yt){return tt(yt)?function(Ot){return hs(Ot,yt.length===1?yt[0]:yt)}:yt}):[_a];var it=-1;N=vi(N,zt(No));var ht=Et(v,function(yt,Ot,kt){return{criteria:vi(N,function(Vt){return Vt(yt)}),index:++it,value:yt}});return Bc(ht,function(yt,Ot){return Tf(yt,Ot,K)})},Yl=es(function(v,N){if(v==null)return[];var K=N.length;return K>1&&el(v,N[0],N[1])?N=[]:K>2&&el(N[0],N[1],N[2])&&(N=[N[0]]),cl(v,Ki(N,1),[])}),Af=0,cd=function(v){var N=++Af;return Di(v)+N},Of=function(v,N,K){for(var it=-1,ht=v.length,yt=N.length,Ot={};++it<ht;){var kt=it<yt?N[it]:void 0;K(Ot,v[it],kt)}return Ot},Au,Xl=function(v,N){return Of(v||[],N||[],Xe)};try{Au={cloneDeep:Dc,constant:xa,defaults:Pc,each:ni,filter:xu,find:Ss,flatten:Ef,forEach:di,forIn:_u,has:Eo,isUndefined:Y,last:od,map:Gt,mapValues:sd,max:ud,merge:uu,min:lu,minBy:sl,now:ss,pick:kc,range:Wl,reduce:ve,sortBy:Yl,uniqueId:cd,values:ff,zipObject:Xl}}catch(v){}Au||(Au=window._);var $e=Au,fd=fl;function fl(){var v={};v._next=v._prev=v,this._sentinel=v}function dl(v){v._prev._next=v._next,v._next._prev=v._prev,delete v._next,delete v._prev}function Fc(v,N){if(v!=="_next"&&v!=="_prev")return N}fl.prototype.dequeue=function(){var v=this._sentinel,N=v._prev;if(N!==v)return dl(N),N},fl.prototype.enqueue=function(v){var N=this._sentinel;v._prev&&v._next&&dl(v),v._next=N._next,N._next._prev=v,N._next=v,v._prev=N},fl.prototype.toString=function(){for(var v=[],N=this._sentinel,K=N._prev;K!==N;)v.push(JSON.stringify(K,Fc)),K=K._prev;return"["+v.join(", ")+"]"};var zc=os.Graph,Gc=function(v,N){if(v.nodeCount()<=1)return[];var K=function(ht,yt){var Ot=new zc,kt=0,Vt=0;$e.forEach(ht.nodes(),function(ge){Ot.setNode(ge,{v:ge,in:0,out:0})}),$e.forEach(ht.edges(),function(ge){var Be=Ot.edge(ge.v,ge.w)||0,ar=yt(ge),Yr=Be+ar;Ot.setEdge(ge.v,ge.w,Yr),Vt=Math.max(Vt,Ot.node(ge.v).out+=ar),kt=Math.max(kt,Ot.node(ge.w).in+=ar)});var le=$e.range(Vt+kt+3).map(function(){return new fd}),xe=kt+1;return $e.forEach(Ot.nodes(),function(ge){jl(le,xe,Ot.node(ge))}),{graph:Ot,buckets:le,zeroIdx:xe}}(v,N||If),it=function(ht,yt,Ot){for(var kt,Vt=[],le=yt[yt.length-1],xe=yt[0];ht.nodeCount();){for(;kt=xe.dequeue();)cu(ht,yt,Ot,kt);for(;kt=le.dequeue();)cu(ht,yt,Ot,kt);if(ht.nodeCount()){for(var ge=yt.length-2;ge>0;--ge)if(kt=yt[ge].dequeue()){Vt=Vt.concat(cu(ht,yt,Ot,kt,!0));break}}}return Vt}(K.graph,K.buckets,K.zeroIdx);return $e.flatten($e.map(it,function(ht){return v.outEdges(ht.v,ht.w)}),!0)},If=$e.constant(1);function cu(v,N,K,it,ht){var yt=ht?[]:void 0;return $e.forEach(v.inEdges(it.v),function(Ot){var kt=v.edge(Ot),Vt=v.node(Ot.v);ht&&yt.push({v:Ot.v,w:Ot.w}),Vt.out-=kt,jl(N,K,Vt)}),$e.forEach(v.outEdges(it.v),function(Ot){var kt=v.edge(Ot),Vt=Ot.w,le=v.node(Vt);le.in-=kt,jl(N,K,le)}),v.removeNode(it.v),yt}function jl(v,N,K){K.out?K.in?v[K.out-K.in+N].enqueue(K):v[v.length-1].enqueue(K):v[0].enqueue(K)}var hl={run:function(v){var N=v.graph().acyclicer==="greedy"?Gc(v,function(K){return function(it){return K.edge(it).weight}}(v)):function(K){var it=[],ht={},yt={};function Ot(kt){$e.has(yt,kt)||(yt[kt]=!0,ht[kt]=!0,$e.forEach(K.outEdges(kt),function(Vt){$e.has(ht,Vt.w)?it.push(Vt):Ot(Vt.w)}),delete ht[kt])}return $e.forEach(K.nodes(),Ot),it}(v);$e.forEach(N,function(K){var it=v.edge(K);v.removeEdge(K),it.forwardName=K.name,it.reversed=!0,v.setEdge(K.w,K.v,it,$e.uniqueId("rev"))})},undo:function(v){$e.forEach(v.edges(),function(N){var K=v.edge(N);if(K.reversed){v.removeEdge(N);var it=K.forwardName;delete K.reversed,delete K.forwardName,v.setEdge(N.w,N.v,K,it)}})}},Ou=os.Graph,So={addDummyNode:Iu,simplify:function(v){var N=new Ou().setGraph(v.graph());return $e.forEach(v.nodes(),function(K){N.setNode(K,v.node(K))}),$e.forEach(v.edges(),function(K){var it=N.edge(K.v,K.w)||{weight:0,minlen:1},ht=v.edge(K);N.setEdge(K.v,K.w,{weight:it.weight+ht.weight,minlen:Math.max(it.minlen,ht.minlen)})}),N},asNonCompoundGraph:function(v){var N=new Ou({multigraph:v.isMultigraph()}).setGraph(v.graph());return $e.forEach(v.nodes(),function(K){v.children(K).length||N.setNode(K,v.node(K))}),$e.forEach(v.edges(),function(K){N.setEdge(K,v.edge(K))}),N},successorWeights:function(v){var N=$e.map(v.nodes(),function(K){var it={};return $e.forEach(v.outEdges(K),function(ht){it[ht.w]=(it[ht.w]||0)+v.edge(ht).weight}),it});return $e.zipObject(v.nodes(),N)},predecessorWeights:function(v){var N=$e.map(v.nodes(),function(K){var it={};return $e.forEach(v.inEdges(K),function(ht){it[ht.v]=(it[ht.v]||0)+v.edge(ht).weight}),it});return $e.zipObject(v.nodes(),N)},intersectRect:function(v,N){var K,it,ht=v.x,yt=v.y,Ot=N.x-ht,kt=N.y-yt,Vt=v.width/2,le=v.height/2;if(!Ot&&!kt)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(kt)*Vt>Math.abs(Ot)*le?(kt<0&&(le=-le),K=le*Ot/kt,it=le):(Ot<0&&(Vt=-Vt),K=Vt,it=Vt*kt/Ot),{x:ht+K,y:yt+it}},buildLayerMatrix:function(v){var N=$e.map($e.range(Uc(v)+1),function(){return[]});return $e.forEach(v.nodes(),function(K){var it=v.node(K),ht=it.rank;$e.isUndefined(ht)||(N[ht][it.order]=K)}),N},normalizeRanks:function(v){var N=$e.min($e.map(v.nodes(),function(K){return v.node(K).rank}));$e.forEach(v.nodes(),function(K){var it=v.node(K);$e.has(it,"rank")&&(it.rank-=N)})},removeEmptyRanks:function(v){var N=$e.min($e.map(v.nodes(),function(yt){return v.node(yt).rank})),K=[];$e.forEach(v.nodes(),function(yt){var Ot=v.node(yt).rank-N;K[Ot]||(K[Ot]=[]),K[Ot].push(yt)});var it=0,ht=v.graph().nodeRankFactor;$e.forEach(K,function(yt,Ot){$e.isUndefined(yt)&&Ot%ht!=0?--it:it&&$e.forEach(yt,function(kt){v.node(kt).rank+=it})})},addBorderNode:function(v,N,K,it){var ht={width:0,height:0};return arguments.length>=4&&(ht.rank=K,ht.order=it),Iu(v,"border",ht,N)},maxRank:Uc,partition:function(v,N){var K={lhs:[],rhs:[]};return $e.forEach(v,function(it){N(it)?K.lhs.push(it):K.rhs.push(it)}),K},time:function(v,N){var K=$e.now();try{return N()}finally{console.log(v+" time: "+($e.now()-K)+"ms")}},notime:function(v,N){return N()}};function Iu(v,N,K,it){var ht;do ht=$e.uniqueId(it);while(v.hasNode(ht));return K.dummy=N,v.setNode(ht,K),ht}function Uc(v){return $e.max($e.map(v.nodes(),function(N){var K=v.node(N).rank;if(!$e.isUndefined(K))return K}))}var Xs={run:function(v){v.graph().dummyChains=[],$e.forEach(v.edges(),function(N){(function(K,it){var ht,yt,Ot,kt=it.v,Vt=K.node(kt).rank,le=it.w,xe=K.node(le).rank,ge=it.name,Be=K.edge(it),ar=Be.labelRank;if(xe!==Vt+1){for(K.removeEdge(it),Ot=0,++Vt;Vt<xe;++Ot,++Vt)Be.points=[],yt={width:0,height:0,edgeLabel:Be,edgeObj:it,rank:Vt},ht=So.addDummyNode(K,"edge",yt,"_d"),Vt===ar&&(yt.width=Be.width,yt.height=Be.height,yt.dummy="edge-label",yt.labelpos=Be.labelpos),K.setEdge(kt,ht,{weight:Be.weight},ge),Ot===0&&K.graph().dummyChains.push(ht),kt=ht;K.setEdge(kt,le,{weight:Be.weight},ge)}})(v,N)})},undo:function(v){$e.forEach(v.graph().dummyChains,function(N){var K,it=v.node(N),ht=it.edgeLabel;for(v.setEdge(it.edgeObj,ht);it.dummy;)K=v.successors(N)[0],v.removeNode(N),ht.points.push({x:it.x,y:it.y}),it.dummy==="edge-label"&&(ht.x=it.x,ht.y=it.y,ht.width=it.width,ht.height=it.height),N=K,it=v.node(N)})}},Ms=function(v){var N={};$e.forEach(v.sources(),function K(it){var ht=v.node(it);if($e.has(N,it))return ht.rank;N[it]=!0;var yt=$e.min($e.map(v.outEdges(it),function(Ot){return K(Ot.w)-v.edge(Ot).minlen}));return yt!==Number.POSITIVE_INFINITY&&yt!=null||(yt=0),ht.rank=yt})},Du=function(v,N){return v.node(N.w).rank-v.node(N.v).rank-v.edge(N).minlen},fu=os.Graph,Ps=Du,Pu=function(v){var N,K,it=new fu({directed:!1}),ht=v.nodes()[0],yt=v.nodeCount();for(it.setNode(ht,{});du(it,v)<yt;)N=js(it,v),K=it.hasNode(N.v)?Ps(v,N):-Ps(v,N),Ls(it,v,K);return it};function du(v,N){return $e.forEach(v.nodes(),function K(it){$e.forEach(N.nodeEdges(it),function(ht){var yt=ht.v,Ot=it===yt?ht.w:yt;v.hasNode(Ot)||Ps(N,ht)||(v.setNode(Ot,{}),v.setEdge(it,Ot,{}),K(Ot))})}),v.nodeCount()}function js(v,N){return $e.minBy(N.edges(),function(K){if(v.hasNode(K.v)!==v.hasNode(K.w))return Ps(N,K)})}function Ls(v,N,K){$e.forEach(v.nodes(),function(it){N.node(it).rank+=K})}var Vl=Du,Hl=Ms,Lu=os.alg.preorder,Zl=os.alg.postorder,Kl=So.simplify,Nu=us;function us(v){v=Kl(v),Hl(v);var N,K=Pu(v);for(Ql(K),$l(K,v);N=ql(K);)hu(K,v,N,Df(K,v,N))}function $l(v,N){var K=Zl(v,v.nodes());K=K.slice(0,K.length-1),$e.forEach(K,function(it){(function(ht,yt,Ot){var kt=ht.node(Ot).parent;ht.edge(Ot,kt).cutvalue=Ns(ht,yt,Ot)})(v,N,it)})}function Ns(v,N,K){var it=v.node(K).parent,ht=!0,yt=N.edge(K,it),Ot=0;return yt||(ht=!1,yt=N.edge(it,K)),Ot=yt.weight,$e.forEach(N.nodeEdges(K),function(kt){var Vt,le,xe=kt.v===K,ge=xe?kt.w:kt.v;if(ge!==it){var Be=xe===ht,ar=N.edge(kt).weight;if(Ot+=Be?ar:-ar,Vt=K,le=ge,v.hasEdge(Vt,le)){var Yr=v.edge(K,ge).cutvalue;Ot+=Be?-Yr:Yr}}}),Ot}function Ql(v,N){arguments.length<2&&(N=v.nodes()[0]),Wc(v,{},1,N)}function Wc(v,N,K,it,ht){var yt=K,Ot=v.node(it);return N[it]=!0,$e.forEach(v.neighbors(it),function(kt){$e.has(N,kt)||(K=Wc(v,N,K,kt,it))}),Ot.low=yt,Ot.lim=K++,ht?Ot.parent=ht:delete Ot.parent,K}function ql(v){return $e.find(v.edges(),function(N){return v.edge(N).cutvalue<0})}function Df(v,N,K){var it=K.v,ht=K.w;N.hasEdge(it,ht)||(it=K.w,ht=K.v);var yt=v.node(it),Ot=v.node(ht),kt=yt,Vt=!1;yt.lim>Ot.lim&&(kt=Ot,Vt=!0);var le=$e.filter(N.edges(),function(xe){return Vt===Yc(v,v.node(xe.v),kt)&&Vt!==Yc(v,v.node(xe.w),kt)});return $e.minBy(le,function(xe){return Vl(N,xe)})}function hu(v,N,K,it){var ht=K.v,yt=K.w;v.removeEdge(ht,yt),v.setEdge(it.v,it.w,{}),Ql(v),$l(v,N),function(Ot,kt){var Vt=$e.find(Ot.nodes(),function(xe){return!kt.node(xe).parent}),le=Lu(Ot,Vt);le=le.slice(1),$e.forEach(le,function(xe){var ge=Ot.node(xe).parent,Be=kt.edge(xe,ge),ar=!1;Be||(Be=kt.edge(ge,xe),ar=!0),kt.node(xe).rank=kt.node(ge).rank+(ar?Be.minlen:-Be.minlen)})}(v,N)}function Yc(v,N,K){return K.low<=N.lim&&N.lim<=K.lim}us.initLowLimValues=Ql,us.initCutValues=$l,us.calcCutValue=Ns,us.leaveEdge=ql,us.enterEdge=Df,us.exchangeEdges=hu;var Jl=Ms,dd=function(v){switch(v.graph().ranker){case"network-simplex":Lf(v);break;case"tight-tree":(function(N){Jl(N),Pu(N)})(v);break;case"longest-path":Pf(v);break;default:Lf(v)}},Pf=Jl;function Lf(v){Nu(v)}var hd=function(v){var N=function(K){var it={},ht=0;function yt(Ot){var kt=ht;$e.forEach(K.children(Ot),yt),it[Ot]={low:kt,lim:ht++}}return $e.forEach(K.children(),yt),it}(v);$e.forEach(v.graph().dummyChains,function(K){for(var it=v.node(K),ht=it.edgeObj,yt=function(ge,Be,ar,Yr){var dr,pr,gr=[],xn=[],Ln=Math.min(Be[ar].low,Be[Yr].low),Cn=Math.max(Be[ar].lim,Be[Yr].lim);dr=ar;do dr=ge.parent(dr),gr.push(dr);while(dr&&(Be[dr].low>Ln||Cn>Be[dr].lim));for(pr=dr,dr=Yr;(dr=ge.parent(dr))!==pr;)xn.push(dr);return{path:gr.concat(xn.reverse()),lca:pr}}(v,N,ht.v,ht.w),Ot=yt.path,kt=yt.lca,Vt=0,le=Ot[Vt],xe=!0;K!==ht.w;){if(it=v.node(K),xe){for(;(le=Ot[Vt])!==kt&&v.node(le).maxRank<it.rank;)Vt++;le===kt&&(xe=!1)}if(!xe){for(;Vt<Ot.length-1&&v.node(le=Ot[Vt+1]).minRank<=it.rank;)Vt++;le=Ot[Vt]}v.setParent(K,le),K=v.successors(K)[0]}})},Nf={run:function(v){var N=So.addDummyNode(v,"root",{},"_root"),K=function(Ot){var kt={};function Vt(le,xe){var ge=Ot.children(le);ge&&ge.length&&$e.forEach(ge,function(Be){Vt(Be,xe+1)}),kt[le]=xe}return $e.forEach(Ot.children(),function(le){Vt(le,1)}),kt}(v),it=$e.max($e.values(K))-1,ht=2*it+1;v.graph().nestingRoot=N,$e.forEach(v.edges(),function(Ot){v.edge(Ot).minlen*=ht});var yt=function(Ot){return $e.reduce(Ot.edges(),function(kt,Vt){return kt+Ot.edge(Vt).weight},0)}(v)+1;$e.forEach(v.children(),function(Ot){Rf(v,N,ht,yt,it,K,Ot)}),v.graph().nodeRankFactor=ht},cleanup:function(v){var N=v.graph();v.removeNode(N.nestingRoot),delete N.nestingRoot,$e.forEach(v.edges(),function(K){v.edge(K).nestingEdge&&v.removeEdge(K)})}};function Rf(v,N,K,it,ht,yt,Ot){var kt=v.children(Ot);if(kt.length){var Vt=So.addBorderNode(v,"_bt"),le=So.addBorderNode(v,"_bb"),xe=v.node(Ot);v.setParent(Vt,Ot),xe.borderTop=Vt,v.setParent(le,Ot),xe.borderBottom=le,$e.forEach(kt,function(ge){Rf(v,N,K,it,ht,yt,ge);var Be=v.node(ge),ar=Be.borderTop?Be.borderTop:ge,Yr=Be.borderBottom?Be.borderBottom:ge,dr=Be.borderTop?it:2*it,pr=ar!==Yr?1:ht-yt[Ot]+1;v.setEdge(Vt,ar,{weight:dr,minlen:pr,nestingEdge:!0}),v.setEdge(Yr,le,{weight:dr,minlen:pr,nestingEdge:!0})}),v.parent(Ot)||v.setEdge(N,Vt,{weight:0,minlen:ht+yt[Ot]})}else Ot!==N&&v.setEdge(N,Ot,{weight:0,minlen:K})}var vd=function(v){$e.forEach(v.children(),function N(K){var it=v.children(K),ht=v.node(K);if(it.length&&$e.forEach(it,N),$e.has(ht,"minRank")){ht.borderLeft=[],ht.borderRight=[];for(var yt=ht.minRank,Ot=ht.maxRank+1;yt<Ot;++yt)kf(v,"borderLeft","_bl",K,ht,yt),kf(v,"borderRight","_br",K,ht,yt)}})};function kf(v,N,K,it,ht,yt){var Ot={width:0,height:0,rank:yt,borderType:N},kt=ht[N][yt-1],Vt=So.addDummyNode(v,"border",Ot,K);ht[N][yt]=Vt,v.setParent(Vt,it),kt&&v.setEdge(kt,Vt,{weight:1})}var vl={adjust:function(v){var N=v.graph().rankdir.toLowerCase();N!=="lr"&&N!=="rl"||Bf(v)},undo:function(v){var N=v.graph().rankdir.toLowerCase();N!=="bt"&&N!=="rl"||function(K){$e.forEach(K.nodes(),function(it){Xc(K.node(it))}),$e.forEach(K.edges(),function(it){var ht=K.edge(it);$e.forEach(ht.points,Xc),$e.has(ht,"y")&&Xc(ht)})}(v),N!=="lr"&&N!=="rl"||(function(K){$e.forEach(K.nodes(),function(it){vu(K.node(it))}),$e.forEach(K.edges(),function(it){var ht=K.edge(it);$e.forEach(ht.points,vu),$e.has(ht,"x")&&vu(ht)})}(v),Bf(v))}};function Bf(v){$e.forEach(v.nodes(),function(N){Ru(v.node(N))}),$e.forEach(v.edges(),function(N){Ru(v.edge(N))})}function Ru(v){var N=v.width;v.width=v.height,v.height=N}function Xc(v){v.y=-v.y}function vu(v){var N=v.x;v.x=v.y,v.y=N}var tc=function(v){var N={},K=$e.filter(v.nodes(),function(kt){return!v.children(kt).length}),it=$e.max($e.map(K,function(kt){return v.node(kt).rank})),ht=$e.map($e.range(it+1),function(){return[]});function yt(kt){if(!$e.has(N,kt)){N[kt]=!0;var Vt=v.node(kt);ht[Vt.rank].push(kt),$e.forEach(v.successors(kt),yt)}}var Ot=$e.sortBy(K,function(kt){return v.node(kt).rank});return $e.forEach(Ot,yt),ht},ec=function(v,N){for(var K=0,it=1;it<N.length;++it)K+=pl(v,N[it-1],N[it]);return K};function pl(v,N,K){for(var it=$e.zipObject(K,$e.map(K,function(le,xe){return xe})),ht=$e.flatten($e.map(N,function(le){return $e.sortBy($e.map(v.outEdges(le),function(xe){return{pos:it[xe.w],weight:v.edge(xe).weight}}),"pos")}),!0),yt=1;yt<K.length;)yt<<=1;var Ot=2*yt-1;yt-=1;var kt=$e.map(new Array(Ot),function(){return 0}),Vt=0;return $e.forEach(ht.forEach(function(le){var xe=le.pos+yt;kt[xe]+=le.weight;for(var ge=0;xe>0;)xe%2&&(ge+=kt[xe+1]),kt[xe=xe-1>>1]+=le.weight;Vt+=le.weight*ge})),Vt}var Vs=function(v,N){return $e.map(N,function(K){var it=v.inEdges(K);if(it.length){var ht=$e.reduce(it,function(yt,Ot){var kt=v.edge(Ot),Vt=v.node(Ot.v);return{sum:yt.sum+kt.weight*Vt.order,weight:yt.weight+kt.weight}},{sum:0,weight:0});return{v:K,barycenter:ht.sum/ht.weight,weight:ht.weight}}return{v:K}})},ku=function(v,N){var K={};return $e.forEach(v,function(it,ht){var yt=K[it.v]={indegree:0,in:[],out:[],vs:[it.v],i:ht};$e.isUndefined(it.barycenter)||(yt.barycenter=it.barycenter,yt.weight=it.weight)}),$e.forEach(N.edges(),function(it){var ht=K[it.v],yt=K[it.w];$e.isUndefined(ht)||$e.isUndefined(yt)||(yt.indegree++,ht.out.push(K[it.w]))}),function(it){var ht=[];function yt(Vt){return function(le){le.merged||($e.isUndefined(le.barycenter)||$e.isUndefined(Vt.barycenter)||le.barycenter>=Vt.barycenter)&&function(xe,ge){var Be=0,ar=0;xe.weight&&(Be+=xe.barycenter*xe.weight,ar+=xe.weight),ge.weight&&(Be+=ge.barycenter*ge.weight,ar+=ge.weight),xe.vs=ge.vs.concat(xe.vs),xe.barycenter=Be/ar,xe.weight=ar,xe.i=Math.min(ge.i,xe.i),ge.merged=!0}(Vt,le)}}function Ot(Vt){return function(le){le.in.push(Vt),--le.indegree==0&&it.push(le)}}for(;it.length;){var kt=it.pop();ht.push(kt),$e.forEach(kt.in.reverse(),yt(kt)),$e.forEach(kt.out,Ot(kt))}return $e.map($e.filter(ht,function(Vt){return!Vt.merged}),function(Vt){return $e.pick(Vt,["vs","i","barycenter","weight"])})}($e.filter(K,function(it){return!it.indegree}))},Bu=function(v,N){var K=So.partition(v,function(ge){return $e.has(ge,"barycenter")}),it=K.lhs,ht=$e.sortBy(K.rhs,function(ge){return-ge.i}),yt=[],Ot=0,kt=0,Vt=0;it.sort((le=!!N,function(ge,Be){return ge.barycenter<Be.barycenter?-1:ge.barycenter>Be.barycenter?1:le?Be.i-ge.i:ge.i-Be.i})),Vt=gl(yt,ht,Vt),$e.forEach(it,function(ge){Vt+=ge.vs.length,yt.push(ge.vs),Ot+=ge.barycenter*ge.weight,kt+=ge.weight,Vt=gl(yt,ht,Vt)});var le,xe={vs:$e.flatten(yt,!0)};return kt&&(xe.barycenter=Ot/kt,xe.weight=kt),xe};function gl(v,N,K){for(var it;N.length&&(it=$e.last(N)).i<=K;)N.pop(),v.push(it.vs),K++;return K}var rc=function v(N,K,it,ht){var yt=N.children(K),Ot=N.node(K),kt=Ot?Ot.borderLeft:void 0,Vt=Ot?Ot.borderRight:void 0,le={};kt&&(yt=$e.filter(yt,function(dr){return dr!==kt&&dr!==Vt}));var xe=Vs(N,yt);$e.forEach(xe,function(dr){if(N.children(dr.v).length){var pr=v(N,dr.v,it,ht);le[dr.v]=pr,$e.has(pr,"barycenter")&&(gr=dr,xn=pr,$e.isUndefined(gr.barycenter)?(gr.barycenter=xn.barycenter,gr.weight=xn.weight):(gr.barycenter=(gr.barycenter*gr.weight+xn.barycenter*xn.weight)/(gr.weight+xn.weight),gr.weight+=xn.weight))}var gr,xn});var ge=ku(xe,it);(function(dr,pr){$e.forEach(dr,function(gr){gr.vs=$e.flatten(gr.vs.map(function(xn){return pr[xn]?pr[xn].vs:xn}),!0)})})(ge,le);var Be=Bu(ge,ht);if(kt&&(Be.vs=$e.flatten([kt,Be.vs,Vt],!0),N.predecessors(kt).length)){var ar=N.node(N.predecessors(kt)[0]),Yr=N.node(N.predecessors(Vt)[0]);$e.has(Be,"barycenter")||(Be.barycenter=0,Be.weight=0),Be.barycenter=(Be.barycenter*Be.weight+ar.order+Yr.order)/(Be.weight+2),Be.weight+=2}return Be},nc=os.Graph,ml=function(v,N,K){var it=function(yt){for(var Ot;yt.hasNode(Ot=$e.uniqueId("_root")););return Ot}(v),ht=new nc({compound:!0}).setGraph({root:it}).setDefaultNodeLabel(function(yt){return v.node(yt)});return $e.forEach(v.nodes(),function(yt){var Ot=v.node(yt),kt=v.parent(yt);(Ot.rank===N||Ot.minRank<=N&&N<=Ot.maxRank)&&(ht.setNode(yt),ht.setParent(yt,kt||it),$e.forEach(v[K](yt),function(Vt){var le=Vt.v===yt?Vt.w:Vt.v,xe=ht.edge(le,yt),ge=$e.isUndefined(xe)?0:xe.weight;ht.setEdge(le,yt,{weight:v.edge(Vt).weight+ge})}),$e.has(Ot,"minRank")&&ht.setNode(yt,{borderLeft:Ot.borderLeft[N],borderRight:Ot.borderRight[N]}))}),ht},ac=function(v,N,K){var it,ht={};$e.forEach(K,function(yt){for(var Ot,kt,Vt=v.parent(yt);Vt;){if((Ot=v.parent(Vt))?(kt=ht[Ot],ht[Ot]=Vt):(kt=it,it=Vt),kt&&kt!==Vt)return void N.setEdge(kt,Vt);Vt=Ot}})},ic=os.Graph,yl=function(v){var N=So.maxRank(v),K=Fu(v,$e.range(1,N+1),"inEdges"),it=Fu(v,$e.range(N-1,-1,-1),"outEdges"),ht=tc(v);Gu(v,ht);for(var yt,Ot=Number.POSITIVE_INFINITY,kt=0,Vt=0;Vt<4;++kt,++Vt){zu(kt%2?K:it,kt%4>=2),ht=So.buildLayerMatrix(v);var le=ec(v,ht);le<Ot&&(Vt=0,yt=$e.cloneDeep(ht),Ot=le)}Gu(v,yt)};function Fu(v,N,K){return $e.map(N,function(it){return ml(v,it,K)})}function zu(v,N){var K=new ic;$e.forEach(v,function(it){var ht=it.graph().root,yt=rc(it,ht,K,N);$e.forEach(yt.vs,function(Ot,kt){it.node(Ot).order=kt}),ac(it,K,yt.vs)})}function Gu(v,N){$e.forEach(N,function(K){$e.forEach(K,function(it,ht){v.node(it).order=ht})})}var Ff=os.Graph,bl=function(v){var N,K=So.buildLayerMatrix(v),it=$e.merge(pu(v,K),zf(v,K)),ht={};$e.forEach(["u","d"],function(Ot){N=Ot==="u"?K:$e.values(K).reverse(),$e.forEach(["l","r"],function(kt){kt==="r"&&(N=$e.map(N,function(ge){return $e.values(ge).reverse()}));var Vt=(Ot==="u"?v.predecessors:v.successors).bind(v),le=Gf(v,N,it,Vt),xe=Ud(v,N,le.root,le.align,kt==="r");kt==="r"&&(xe=$e.mapValues(xe,function(ge){return-ge})),ht[Ot+kt]=xe})});var yt=Rs(v,ht);return Uf(ht,yt),Wf(ht,v.graph().align)};function pu(v,N){var K={};return $e.reduce(N,function(it,ht){var yt=0,Ot=0,kt=it.length,Vt=$e.last(ht);return $e.forEach(ht,function(le,xe){var ge=function(ar,Yr){if(ar.node(Yr).dummy)return $e.find(ar.predecessors(Yr),function(dr){return ar.node(dr).dummy})}(v,le),Be=ge?v.node(ge).order:kt;(ge||le===Vt)&&($e.forEach(ht.slice(Ot,xe+1),function(ar){$e.forEach(v.predecessors(ar),function(Yr){var dr=v.node(Yr),pr=dr.order;!(pr<yt||Be<pr)||dr.dummy&&v.node(ar).dummy||xl(K,Yr,ar)})}),Ot=xe+1,yt=Be)}),ht}),K}function zf(v,N){var K={};function it(ht,yt,Ot,kt,Vt){var le;$e.forEach($e.range(yt,Ot),function(xe){le=ht[xe],v.node(le).dummy&&$e.forEach(v.predecessors(le),function(ge){var Be=v.node(ge);Be.dummy&&(Be.order<kt||Be.order>Vt)&&xl(K,ge,le)})})}return $e.reduce(N,function(ht,yt){var Ot,kt=-1,Vt=0;return $e.forEach(yt,function(le,xe){if(v.node(le).dummy==="border"){var ge=v.predecessors(le);ge.length&&(Ot=v.node(ge[0]).order,it(yt,Vt,xe,kt,Ot),Vt=xe,kt=Ot)}it(yt,Vt,yt.length,Ot,ht.length)}),yt}),K}function xl(v,N,K){if(N>K){var it=N;N=K,K=it}var ht=v[N];ht||(v[N]=ht={}),ht[K]=!0}function pd(v,N,K){if(N>K){var it=N;N=K,K=it}return $e.has(v[N],K)}function Gf(v,N,K,it){var ht={},yt={},Ot={};return $e.forEach(N,function(kt){$e.forEach(kt,function(Vt,le){ht[Vt]=Vt,yt[Vt]=Vt,Ot[Vt]=le})}),$e.forEach(N,function(kt){var Vt=-1;$e.forEach(kt,function(le){var xe=it(le);if(xe.length)for(var ge=((xe=$e.sortBy(xe,function(dr){return Ot[dr]})).length-1)/2,Be=Math.floor(ge),ar=Math.ceil(ge);Be<=ar;++Be){var Yr=xe[Be];yt[le]===le&&Vt<Ot[Yr]&&!pd(K,le,Yr)&&(yt[Yr]=le,yt[le]=ht[le]=ht[Yr],Vt=Ot[Yr])}})}),{root:ht,align:yt}}function Ud(v,N,K,it,ht){var yt={},Ot=function(le,xe,ge,Be){var ar=new Ff,Yr=le.graph(),dr=function(pr,gr,xn){return function(Ln,Cn,Jn){var $n,aa=Ln.node(Cn),pa=Ln.node(Jn),da=0;if(da+=aa.width/2,$e.has(aa,"labelpos"))switch(aa.labelpos.toLowerCase()){case"l":$n=-aa.width/2;break;case"r":$n=aa.width/2}if($n&&(da+=xn?$n:-$n),$n=0,da+=(aa.dummy?gr:pr)/2,da+=(pa.dummy?gr:pr)/2,da+=pa.width/2,$e.has(pa,"labelpos"))switch(pa.labelpos.toLowerCase()){case"l":$n=pa.width/2;break;case"r":$n=-pa.width/2}return $n&&(da+=xn?$n:-$n),$n=0,da}}(Yr.nodesep,Yr.edgesep,Be);return $e.forEach(xe,function(pr){var gr;$e.forEach(pr,function(xn){var Ln=ge[xn];if(ar.setNode(Ln),gr){var Cn=ge[gr],Jn=ar.edge(Cn,Ln);ar.setEdge(Cn,Ln,Math.max(dr(le,xn,gr),Jn||0))}gr=xn})}),ar}(v,N,K,ht),kt=ht?"borderLeft":"borderRight";function Vt(le,xe){for(var ge=Ot.nodes(),Be=ge.pop(),ar={};Be;)ar[Be]?le(Be):(ar[Be]=!0,ge.push(Be),ge=ge.concat(xe(Be))),Be=ge.pop()}return Vt(function(le){yt[le]=Ot.inEdges(le).reduce(function(xe,ge){return Math.max(xe,yt[ge.v]+Ot.edge(ge))},0)},Ot.predecessors.bind(Ot)),Vt(function(le){var xe=Ot.outEdges(le).reduce(function(Be,ar){return Math.min(Be,yt[ar.w]-Ot.edge(ar))},Number.POSITIVE_INFINITY),ge=v.node(le);xe!==Number.POSITIVE_INFINITY&&ge.borderType!==kt&&(yt[le]=Math.max(yt[le],xe))},Ot.successors.bind(Ot)),$e.forEach(it,function(le){yt[le]=yt[K[le]]}),yt}function Rs(v,N){return $e.minBy($e.values(N),function(K){var it=Number.NEGATIVE_INFINITY,ht=Number.POSITIVE_INFINITY;return $e.forIn(K,function(yt,Ot){var kt=function(Vt,le){return Vt.node(le).width}(v,Ot)/2;it=Math.max(yt+kt,it),ht=Math.min(yt-kt,ht)}),it-ht})}function Uf(v,N){var K=$e.values(N),it=$e.min(K),ht=$e.max(K);$e.forEach(["u","d"],function(yt){$e.forEach(["l","r"],function(Ot){var kt,Vt=yt+Ot,le=v[Vt];if(le!==N){var xe=$e.values(le);(kt=Ot==="l"?it-$e.min(xe):ht-$e.max(xe))&&(v[Vt]=$e.mapValues(le,function(ge){return ge+kt}))}})})}function Wf(v,N){return $e.mapValues(v.ul,function(K,it){if(N)return v[N.toLowerCase()][it];var ht=$e.sortBy($e.map(v,it));return(ht[1]+ht[2])/2})}var Yf=bl,Xf=function(v){(function(N){var K=So.buildLayerMatrix(N),it=N.graph().ranksep,ht=0;$e.forEach(K,function(yt){var Ot=$e.max($e.map(yt,function(kt){return N.node(kt).height}));$e.forEach(yt,function(kt){N.node(kt).y=ht+Ot/2}),ht+=Ot+it})})(v=So.asNonCompoundGraph(v)),$e.forEach(Yf(v),function(N,K){v.node(K).x=N})},jc=So.normalizeRanks,gd=So.removeEmptyRanks,ko=So,Vc=os.Graph,Uu=function(v,N){var K=N&&N.debugTiming?ko.time:ko.notime;K("layout",function(){var it=K("  buildLayoutGraph",function(){return function(ht){var yt=new Vc({multigraph:!0,compound:!0}),Ot=gu(ht.graph());return yt.setGraph($e.merge({},jf,bi(Ot,ks),$e.pick(Ot,oc))),$e.forEach(ht.nodes(),function(kt){var Vt=gu(ht.node(kt));yt.setNode(kt,$e.defaults(bi(Vt,El),ms)),yt.setParent(kt,ht.parent(kt))}),$e.forEach(ht.edges(),function(kt){var Vt=gu(ht.edge(kt));yt.setEdge(kt,$e.merge({},Bs,bi(Vt,Xo),$e.pick(Vt,ao)))}),yt}(v)});K("  runLayout",function(){(function(ht,yt){yt("    makeSpaceForEdgeLabels",function(){(function(Ot){var kt=Ot.graph();kt.ranksep/=2,$e.forEach(Ot.edges(),function(Vt){var le=Ot.edge(Vt);le.minlen*=2,le.labelpos.toLowerCase()!=="c"&&(kt.rankdir==="TB"||kt.rankdir==="BT"?le.width+=le.labeloffset:le.height+=le.labeloffset)})})(ht)}),yt("    removeSelfEdges",function(){(function(Ot){$e.forEach(Ot.edges(),function(kt){if(kt.v===kt.w){var Vt=Ot.node(kt.v);Vt.selfEdges||(Vt.selfEdges=[]),Vt.selfEdges.push({e:kt,label:Ot.edge(kt)}),Ot.removeEdge(kt)}})})(ht)}),yt("    acyclic",function(){hl.run(ht)}),yt("    nestingGraph.run",function(){Nf.run(ht)}),yt("    rank",function(){dd(ko.asNonCompoundGraph(ht))}),yt("    injectEdgeLabelProxies",function(){(function(Ot){$e.forEach(Ot.edges(),function(kt){var Vt=Ot.edge(kt);if(Vt.width&&Vt.height){var le=Ot.node(kt.v),xe={rank:(Ot.node(kt.w).rank-le.rank)/2+le.rank,e:kt};ko.addDummyNode(Ot,"edge-proxy",xe,"_ep")}})})(ht)}),yt("    removeEmptyRanks",function(){gd(ht)}),yt("    nestingGraph.cleanup",function(){Nf.cleanup(ht)}),yt("    normalizeRanks",function(){jc(ht)}),yt("    assignRankMinMax",function(){(function(Ot){var kt=0;$e.forEach(Ot.nodes(),function(Vt){var le=Ot.node(Vt);le.borderTop&&(le.minRank=Ot.node(le.borderTop).rank,le.maxRank=Ot.node(le.borderBottom).rank,kt=$e.max(kt,le.maxRank))}),Ot.graph().maxRank=kt})(ht)}),yt("    removeEdgeLabelProxies",function(){(function(Ot){$e.forEach(Ot.nodes(),function(kt){var Vt=Ot.node(kt);Vt.dummy==="edge-proxy"&&(Ot.edge(Vt.e).labelRank=Vt.rank,Ot.removeNode(kt))})})(ht)}),yt("    normalize.run",function(){Xs.run(ht)}),yt("    parentDummyChains",function(){hd(ht)}),yt("    addBorderSegments",function(){vd(ht)}),yt("    order",function(){yl(ht)}),yt("    insertSelfEdges",function(){(function(Ot){var kt=ko.buildLayerMatrix(Ot);$e.forEach(kt,function(Vt){var le=0;$e.forEach(Vt,function(xe,ge){var Be=Ot.node(xe);Be.order=ge+le,$e.forEach(Be.selfEdges,function(ar){ko.addDummyNode(Ot,"selfedge",{width:ar.label.width,height:ar.label.height,rank:Be.rank,order:ge+ ++le,e:ar.e,label:ar.label},"_se")}),delete Be.selfEdges})})})(ht)}),yt("    adjustCoordinateSystem",function(){vl.adjust(ht)}),yt("    position",function(){Xf(ht)}),yt("    positionSelfEdges",function(){(function(Ot){$e.forEach(Ot.nodes(),function(kt){var Vt=Ot.node(kt);if(Vt.dummy==="selfedge"){var le=Ot.node(Vt.e.v),xe=le.x+le.width/2,ge=le.y,Be=Vt.x-xe,ar=le.height/2;Ot.setEdge(Vt.e,Vt.label),Ot.removeNode(kt),Vt.label.points=[{x:xe+2*Be/3,y:ge-ar},{x:xe+5*Be/6,y:ge-ar},{x:xe+Be,y:ge},{x:xe+5*Be/6,y:ge+ar},{x:xe+2*Be/3,y:ge+ar}],Vt.label.x=Vt.x,Vt.label.y=Vt.y}})})(ht)}),yt("    removeBorderNodes",function(){(function(Ot){$e.forEach(Ot.nodes(),function(kt){if(Ot.children(kt).length){var Vt=Ot.node(kt),le=Ot.node(Vt.borderTop),xe=Ot.node(Vt.borderBottom),ge=Ot.node($e.last(Vt.borderLeft)),Be=Ot.node($e.last(Vt.borderRight));Vt.width=Math.abs(Be.x-ge.x),Vt.height=Math.abs(xe.y-le.y),Vt.x=ge.x+Vt.width/2,Vt.y=le.y+Vt.height/2}}),$e.forEach(Ot.nodes(),function(kt){Ot.node(kt).dummy==="border"&&Ot.removeNode(kt)})})(ht)}),yt("    normalize.undo",function(){Xs.undo(ht)}),yt("    fixupEdgeLabelCoords",function(){(function(Ot){$e.forEach(Ot.edges(),function(kt){var Vt=Ot.edge(kt);if($e.has(Vt,"x"))switch(Vt.labelpos!=="l"&&Vt.labelpos!=="r"||(Vt.width-=Vt.labeloffset),Vt.labelpos){case"l":Vt.x-=Vt.width/2+Vt.labeloffset;break;case"r":Vt.x+=Vt.width/2+Vt.labeloffset}})})(ht)}),yt("    undoCoordinateSystem",function(){vl.undo(ht)}),yt("    translateGraph",function(){(function(Ot){var kt=Number.POSITIVE_INFINITY,Vt=0,le=Number.POSITIVE_INFINITY,xe=0,ge=Ot.graph(),Be=ge.marginx||0,ar=ge.marginy||0;function Yr(dr){var pr=dr.x,gr=dr.y,xn=dr.width,Ln=dr.height;kt=Math.min(kt,pr-xn/2),Vt=Math.max(Vt,pr+xn/2),le=Math.min(le,gr-Ln/2),xe=Math.max(xe,gr+Ln/2)}$e.forEach(Ot.nodes(),function(dr){Yr(Ot.node(dr))}),$e.forEach(Ot.edges(),function(dr){var pr=Ot.edge(dr);$e.has(pr,"x")&&Yr(pr)}),kt-=Be,le-=ar,$e.forEach(Ot.nodes(),function(dr){var pr=Ot.node(dr);pr.x-=kt,pr.y-=le}),$e.forEach(Ot.edges(),function(dr){var pr=Ot.edge(dr);$e.forEach(pr.points,function(gr){gr.x-=kt,gr.y-=le}),$e.has(pr,"x")&&(pr.x-=kt),$e.has(pr,"y")&&(pr.y-=le)}),ge.width=Vt-kt+Be,ge.height=xe-le+ar})(ht)}),yt("    assignNodeIntersects",function(){(function(Ot){$e.forEach(Ot.edges(),function(kt){var Vt,le,xe=Ot.edge(kt),ge=Ot.node(kt.v),Be=Ot.node(kt.w);xe.points?(Vt=xe.points[0],le=xe.points[xe.points.length-1]):(xe.points=[],Vt=Be,le=ge),xe.points.unshift(ko.intersectRect(ge,Vt)),xe.points.push(ko.intersectRect(Be,le))})})(ht)}),yt("    reversePoints",function(){(function(Ot){$e.forEach(Ot.edges(),function(kt){var Vt=Ot.edge(kt);Vt.reversed&&Vt.points.reverse()})})(ht)}),yt("    acyclic.undo",function(){hl.undo(ht)})})(it,K)}),K("  updateInputGraph",function(){(function(ht,yt){$e.forEach(ht.nodes(),function(Ot){var kt=ht.node(Ot),Vt=yt.node(Ot);kt&&(kt.x=Vt.x,kt.y=Vt.y,yt.children(Ot).length&&(kt.width=Vt.width,kt.height=Vt.height))}),$e.forEach(ht.edges(),function(Ot){var kt=ht.edge(Ot),Vt=yt.edge(Ot);kt.points=Vt.points,$e.has(Vt,"x")&&(kt.x=Vt.x,kt.y=Vt.y)}),ht.graph().width=yt.graph().width,ht.graph().height=yt.graph().height})(v,it)})})},ks=["nodesep","edgesep","ranksep","marginx","marginy"],jf={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},oc=["acyclicer","ranker","rankdir","align"],El=["width","height"],ms={width:0,height:0},Xo=["minlen","weight","width","height","labeloffset"],Bs={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ao=["labelpos"];function bi(v,N){return $e.mapValues($e.pick(v,N),Number)}function gu(v){var N={};return $e.forEach(v,function(K,it){N[it.toLowerCase()]=K}),N}var Wu=os.Graph,md={graphlib:os,layout:Uu,debug:{debugOrdering:function(v){var N=So.buildLayerMatrix(v),K=new Wu({compound:!0,multigraph:!0}).setGraph({});return $e.forEach(v.nodes(),function(it){K.setNode(it,{label:it}),K.setParent(it,"layer"+v.node(it).rank)}),$e.forEach(v.edges(),function(it){K.setEdge(it.v,it.w,{},it.name)}),$e.forEach(N,function(it,ht){var yt="layer"+ht;K.setNode(yt,{rank:"same"}),$e.reduce(it,function(Ot,kt){return K.setEdge(Ot,kt,{style:"invis"}),kt})}),K}},util:{time:So.time,notime:So.notime},version:"0.8.5"},sc=md.graphlib,Io=md.layout;class Vf{constructor(N){this.cardinality=1,this.include=p.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=P.NODE,this.name=N.name,this.attr=N.attr||{},this.inputs=N.inputs,this.path=N.path||[],this.width=N.width,this.height=N.height}}class Hf{constructor(){this.nodes={},this.edges=[],this.nodes={},this.edges=[]}}function yd(v){const N=new Hf;return v.nodes.map(K=>new Vf(K)).forEach(K=>{N.nodes[K.name]=K,K.inputs.forEach(it=>{(function(ht,yt,Ot){Ot.name!==yt.name&&ht.edges.push(Object.assign(Object.assign({},Ot.attr),{v:Ot.name,w:yt.name}))})(N,K,it)})}),N}class Hs{constructor(N,K={}){this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=p.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=P.META,this.path=[],this.name=N,this.metaGraph=Yu(N,g.META,K)}getFirstChild(){return this.metaGraph.node(this.metaGraph.nodes()[0])}getChildren(){return this.metaGraph.nodes().map(N=>this.metaGraph.node(N))}leaves(){let N,K=[],it=[this];for(;it.length;){let ht=it.shift();ht.isGroupNode?(N=ht.metaGraph,N.nodes().forEach(yt=>it.push(N.node(yt)))):K.push(ht.name)}return K}}class Zf{constructor(N,K){this.v=N,this.w=K,this.baseEdgeList=[],this.inbound=null,this.name=null}addBaseEdge(N,K){this.baseEdgeList.push(N)}}function Hc(v,N={}){return new Hs(v,N)}function uc(v,N){return new Zf(v,N)}function Yu(v,N,K){const it=K||{},ht=new sc.Graph(it);return ht.setGraph({name:v,rankdir:it.rankdir,type:N,align:it.align}),ht}class Zc{constructor(N={}){this.graphOptions=N,this.index={},this.graphOptions.compound=!0,this.root=Hc(M,this.graphOptions),this.index[M]=this.root}getNodeMap(){return this.index}node(N){return this.index[N]}setNode(N,K){this.index[N]=K}getBridgeGraph(N){const K=this.index[N];if(!K)throw Error("Could not find node in hierarchy: "+N);if(!("metaGraph"in K))return null;const it=K;if(it.bridgeGraph)return it.bridgeGraph;const ht=Yu(L,g.BRIDGE,this.graphOptions);if(it.bridgeGraph=ht,!K.parentNode||!("metaGraph"in K.parentNode))return ht;const yt=K.parentNode;return[yt.metaGraph,this.getBridgeGraph(yt.name)].forEach(Ot=>{Ot.edges().filter(kt=>kt.v===N||kt.w===N).forEach(kt=>{const Vt=kt.w===N;Ot.edge(kt).baseEdgeList.forEach(le=>{const[xe,ge]=Vt?[le.w,kt.v]:[le.v,kt.w],Be=this.getChildName(N,xe),ar={v:Vt?ge:Be,w:Vt?Be:ge};let Yr=ht.edge(ar);Yr||(Yr=uc(ar.v,ar.w),Yr.inbound=Vt,ht.setEdge(ar.v,ar.w,Yr)),Yr.addBaseEdge(le,this)})})}),ht}getChildName(N,K){let it=this.index[K];for(;it;){if(it.parentNode&&it.parentNode.name===N)return it.name;it=it.parentNode}throw Error("Could not find immediate child for descendant: "+K)}getPredecessors(N){const K=this.index[N];if(!K)throw Error("Could not find node with name: "+N);return this.getOneWayEdges(K,!0)}getSuccessors(N){const K=this.index[N];if(!K)throw Error("Could not find node with name: "+N);return this.getOneWayEdges(K,!1)}getOneWayEdges(N,K){const it=[];if(!N.parentNode||!N.parentNode.isGroupNode)return it;const ht=N.parentNode,yt=ht.metaGraph,Ot=this.getBridgeGraph(ht.name);return Kc(yt,N,K,it),Kc(Ot,N,K,it),it}}function Zs(v,N){const{rankDirection:K,align:it}=N,ht=new Zc({rankdir:K,align:it});return function(yt,Ot){Object.keys(Ot.nodes).forEach(kt=>{const Vt=Ot.nodes[kt],le=Vt.path;let xe=yt.root;xe.depth=Math.max(le.length,xe.depth);for(let ge=0;ge<le.length&&(xe.depth=Math.max(xe.depth,le.length-ge),xe.cardinality+=Vt.cardinality,ge!==le.length-1);ge++){const Be=le[ge];let ar=yt.node(Be);ar||(ar=Hc(Be,yt.graphOptions),ar.path=Vt.path.slice(0,ge+1),ar.parentNode=xe,yt.setNode(Be,ar),xe.metaGraph.setNode(Be,ar)),xe=ar}yt.setNode(Vt.name,Vt),Vt.parentNode=xe,xe.metaGraph.setNode(Vt.name,Vt)})}(ht,v),function(yt,Ot){const kt=yt.getNodeMap();let Vt=[],le=[];const xe=(ge,Be)=>{let ar=0;for(;ge;)Be[ar++]=ge.name,ge=ge.parentNode;return ar-1};Ot.edges.forEach(ge=>{Vt=[],le=[];let Be=xe(Ot.nodes[ge.v],Vt),ar=xe(Ot.nodes[ge.w],le);for(;Vt[Be]===le[ar];)if(Be--,ar--,Be<0||ar<0)throw Error("No difference found between ancestor paths.");const Yr=kt[Vt[Be+1]],dr=Vt[Be],pr=le[ar];let gr=Yr.metaGraph.edge(dr,pr);gr||(gr=uc(dr,pr),Yr.metaGraph.setEdge(dr,pr,gr)),gr.addBaseEdge(ge,yt)})}(ht,v),ht}function Kc(v,N,K,it){(K?v.inEdges(N.name):v.outEdges(N.name)).forEach(ht=>{const yt=v.edge(ht);it.push(yt)})}class lc{constructor(N){this.hierarchy=N,this.index={},this.hasSubHierarchy={},this.root=new we(this.hierarchy.root,this.hierarchy.graphOptions),this.index[N.root.name]=this.root,this.buildSubHierarchy(N.root.name),this.root.expanded=!0}getRenderInfoNodes(){return Object.values(this.index)}getSubHierarchy(){return this.hasSubHierarchy}buildSubHierarchy(N){if(N in this.hasSubHierarchy)return;this.hasSubHierarchy[N]=!0;const K=this.index[N];if(K.node.type!==P.META)return;const it=K,ht=it.node.metaGraph,yt=it.coreGraph;ht.nodes().forEach(xe=>{const ge=this.getOrCreateRenderNodeByName(xe);yt.setNode(xe,ge)}),ht.edges().forEach(xe=>{const ge=ht.edge(xe),Be=new Lt(ge);yt.setEdge(xe.v,xe.w,Be)});const Ot=it.node.parentNode;if(!Ot)return;const kt=this.getRenderNodeByName(Ot.name),Vt=(xe,...ge)=>ge.concat([xe?"IN":"OUT"]).join("~~"),le=this.hierarchy.getBridgeGraph(N);le.edges().forEach(xe=>{const ge=le.edge(xe),Be=!!ht.node(xe.w),[ar,Yr]=Be?[xe.w,xe.v]:[xe.v,xe.w],dr=Jn=>{const $n=Be?{v:Jn,w:N}:{v:N,w:Jn};return kt.coreGraph.edge($n)};let pr=dr(Yr);pr||(pr=dr(Vt(Be,Yr,Ot.name)));const gr=Vt(Be,N),xn=Vt(Be,Yr,N);let Ln=yt.node(xn);if(!Ln){let Jn=yt.node(gr);if(!Jn){const aa={name:gr,type:P.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:p.UNSPECIFIED,inbound:Be,attr:{}};Jn=new wl(aa),this.index[gr]=Jn,yt.setNode(gr,Jn)}const $n={name:xn,type:P.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:p.UNSPECIFIED,inbound:Be,attr:{}};Ln=new wl($n),this.index[xn]=Ln,yt.setNode(xn,Ln),yt.setParent(xn,gr),Jn.node.cardinality++}const Cn=new Lt(ge);Cn.adjoiningMetaEdge=pr,Be?yt.setEdge(xn,ar,Cn):yt.setEdge(ar,xn,Cn)})}getOrCreateRenderNodeByName(N){if(!N)return null;if(N in this.index)return this.index[N];const K=this.getNodeByName(N);return K?(this.index[N]=K.isGroupNode?new we(K,this.hierarchy.graphOptions):new wl(K),this.index[N]):null}getRenderNodeByName(N){return this.index[N]}getNodeByName(N){return this.hierarchy.node(N)}}class wl{constructor(N){this.node=N,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=N.width||0,this.height=N.height||0,this.displayName=N.name,this.attr=N.attr}}class Lt{constructor(N){this.metaEdge=N,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]}}class we extends wl{constructor(N,K){super(N);const it=N.metaGraph.graph();K.compound=!0,this.coreGraph=Yu(it.name,g.CORE,K)}}function Ge(v,N){v.node.isGroupNode&&function(K,it){const ht=R(it);K.coreGraph.nodes().map(yt=>K.coreGraph.node(yt)).forEach(yt=>{var Ot,kt,Vt,le,xe,ge;const{height:Be,width:ar}=yt;switch(yt.node.type){case P.NODE:Object.assign(yt,ht.nodeSize.node),yt.height=Be||ht.nodeSize.node.height,yt.width=ar||ht.nodeSize.node.width;break;case P.BRIDGE:Object.assign(yt,ht.nodeSize.bridge);break;case P.META:yt.expanded?Ge(yt,it):(Object.assign(yt,ht.nodeSize.meta),yt.height=ht.nodeSize.meta.height,yt.width=ht.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+yt.node.type)}if(!yt.expanded){const Yr=yt.attr;(function(dr,pr=!1){if(dr.coreBox.width=dr.width,dr.coreBox.height=dr.height,!pr){const gr=`${dr.displayName}`.length,xn=3;dr.width=Math.max(dr.coreBox.width,gr*xn)}})(yt,it&&(yt.node.type===0&&!!(!((kt=(Ot=it==null?void 0:it.nodeSize)===null||Ot===void 0?void 0:Ot.meta)===null||kt===void 0)&&kt.width)||yt.node.type===1&&(!!(!((le=(Vt=it==null?void 0:it.nodeSize)===null||Vt===void 0?void 0:Vt.node)===null||le===void 0)&&le.width)||!!Yr.width)||yt.node.type===2&&!!(!((ge=(xe=it==null?void 0:it.nodeSize)===null||xe===void 0?void 0:xe.bridge)===null||ge===void 0)&&ge.width)))}})}(v,N),v.node.type===P.META&&function(K,it){const ht=R(it),yt=ht.subScene.meta;Object.assign(K,yt);const{nodeSep:Ot,rankSep:kt,edgeSep:Vt,align:le}=ht.graph.meta,xe={nodesep:Ot,ranksep:kt,edgesep:Vt,align:le};Object.assign(K.coreBox,function(ar,Yr){const{ranksep:dr,nodesep:pr,edgesep:gr,align:xn}=Yr;Object.assign(ar.graph(),{ranksep:dr,nodesep:pr,edgesep:gr,align:xn});const Ln=[];if(ar.nodes().forEach(pa=>{ar.node(pa).node.type!==P.BRIDGE&&Ln.push(pa)}),!Ln.length)return{width:0,height:0};Io(ar);let Cn=1/0,Jn=1/0,$n=-1/0,aa=-1/0;return Ln.forEach(pa=>{const da=ar.node(pa),Pi=.5*da.width,ma=da.x-Pi,$i=da.x+Pi;Cn=ma<Cn?ma:Cn,$n=$i>$n?$i:$n;const xi=.5*da.height,za=da.y-xi,Oi=da.y+xi;Jn=za<Jn?za:Jn,aa=Oi>aa?Oi:aa}),ar.edges().forEach(pa=>{const da=ar.edge(pa),Pi=ar.node(da.metaEdge.v),ma=ar.node(da.metaEdge.w);if(da.points.length===3&&function(za){let Oi=Pr(za[0],za[1]);for(let Qi=1;Qi<za.length-1;Qi++){const Mo=Pr(za[Qi],za[Qi+1]);if(Math.abs(Mo-Oi)>1)return!1;Oi=Mo}return!0}(da.points)){if(Pi!=null){const za=Pi.expanded?Pi.x:Jr(Pi);da.points[0].x=za}if(ma!=null){const za=ma.expanded?ma.x:Jr(ma);da.points[2].x=za}da.points=[da.points[0],da.points[1]]}const $i=da.points[da.points.length-2];ma!=null&&(da.points[da.points.length-1]=Ir($i,ma));const xi=da.points[1];Pi!=null&&(da.points[0]=Ir(xi,Pi)),da.points.forEach(za=>{Cn=za.x<Cn?za.x:Cn,$n=za.x>$n?za.x:$n,Jn=za.y<Jn?za.y:Jn,aa=za.y>aa?za.y:aa})}),ar.nodes().forEach(pa=>{const da=ar.node(pa);da.x-=Cn,da.y-=Jn}),ar.edges().forEach(pa=>{ar.edge(pa).points.forEach(da=>{da.x-=Cn,da.y-=Jn})}),{width:$n-Cn,height:aa-Jn}}(K.coreGraph,xe));let ge=0;K.coreGraph.nodeCount()>0&&ge++;const Be=ge<=1?0:ge;K.coreBox.width+=Be+Be,K.coreBox.height=yt.labelHeight+K.coreBox.height,K.width=K.coreBox.width+yt.paddingLeft+yt.paddingRight,K.height=K.paddingTop+K.coreBox.height+K.paddingBottom}(v,N)}function Pr(v,N){const K=N.x-v.x,it=N.y-v.y;return 180*Math.atan(it/K)/Math.PI}function Jr(v){return v.expanded?v.x:v.x-v.width/2+0+v.coreBox.width/2}function Ir(v,N){const K=N.expanded?N.x:Jr(N),it=N.y,ht=v.x-K,yt=v.y-it;let Ot,kt,Vt=N.expanded?N.width:N.coreBox.width,le=N.expanded?N.height:N.coreBox.height;return Math.abs(yt)*Vt/2>Math.abs(ht)*le/2?(yt<0&&(le=-le),Ot=yt===0?0:le/2*ht/yt,kt=le/2):(ht<0&&(Vt=-Vt),Ot=Vt/2,kt=ht===0?0:Vt/2*yt/ht),{x:K+Ot,y:it+kt}}function Ur(v,N,K){var it,ht,yt,Ot;const kt=v.nodes.filter((ge,Be,ar)=>ar.findIndex(Yr=>Yr.id===ge.id)!==Be).map(ge=>ge.id);if(kt.length)throw new Error(`Duplicated ids found: ${kt.join(", ")}`);const Vt=function(ge){const Be={nodes:[]},ar=ge.compound,Yr=Object.keys(ar||{}),dr=new Map,pr=(xn,Ln=[])=>{if(dr.has(xn))return dr.get(xn);for(let Cn=0;Cn<Yr.length;Cn++){let Jn=Yr[Cn];if(ar&&ar[Jn].indexOf(xn)!==-1)return Ln.unshift(Jn),pr(Jn,Ln)}return Ln.length===0&&dr.set(xn,Ln),Ln},gr=xn=>ge.edges.filter(Ln=>Ln.w===xn).map(Ln=>({name:Ln.v}));return ge.nodes.forEach(xn=>{const Ln=xn.id,Cn=[...pr(Ln),Ln];let Jn=gr(Ln);Be.nodes.push({name:Ln,path:Cn,inputs:Jn,width:xn.width,height:xn.height,attr:Object.assign({},xn)})}),Be}(v),le=function(ge,Be){const ar=(dr,pr)=>{for(let gr of pr.values())if(gr.includes(dr))return!0;return!1},Yr=(dr,pr=[])=>{if(Object.keys(dr).length===0)return[...new Set(pr)];const gr=new Map(Object.keys(dr).map(Ln=>[Ln,dr[Ln]])),xn={};for(let[Ln,Cn]of gr)ar(Ln,gr)?xn[Ln]=Cn:pr=pr.concat(Ln,Cn);return Yr(xn,pr)};return Yr(ge).filter(dr=>Be.includes(dr))}(v.compound||{},(N==null?void 0:N.expanded)||[]),xe=function(ge,Be){return function(ar){return new lc(ar)}(Zs(yd(ge),Be))}(Vt,{rankDirection:((ht=(it=K==null?void 0:K.graph)===null||it===void 0?void 0:it.meta)===null||ht===void 0?void 0:ht.rankDir)||(N==null?void 0:N.rankDirection)||m.graph.meta.rankDir,align:((Ot=(yt=K==null?void 0:K.graph)===null||yt===void 0?void 0:yt.meta)===null||Ot===void 0?void 0:Ot.align)||m.graph.meta.align});return function(ge,Be){Be.forEach(ar=>{const Yr=ge.getRenderInfoNodes().find(gr=>gr.displayName===ar);let dr=Yr&&Yr.node&&Yr.node.name||"";const pr=ge.getRenderNodeByName(dr);if(!pr)throw new Error(`No nodes found: ${dr}`);pr.expanded=!0,ge.buildSubHierarchy(dr)})}(xe,le),Ge(xe.root,K),wn(xe.root)}function vn(v,N=!1){const K=JSON.parse(JSON.stringify(v)),it={nodes:[K],edges:[...K.edges]};return K.nodes.forEach(function ht(yt){(yt.type===0||yt.type===1)&&it.nodes.push(yt),yt.type===0&&(it.edges=it.edges.concat(yt.edges)),Array.isArray(yt.nodes)&&yt.nodes.forEach(ht)}),N&&it.nodes.forEach(ht=>{const yt=it.nodes.find(Ot=>Ot.id===ht.parentNodeName);if(yt){const Ot=yt.x-yt.width/2+yt.paddingLeft,kt=yt.y-yt.height/2+yt.labelHeight+yt.paddingTop;yt.id!==M&&(ht.x+=Ot,ht.y+=kt),ht.type===0&&ht.edges.forEach(Vt=>{Vt.points.forEach(le=>{le.x+=ht.x-ht.width/2+ht.paddingLeft,le.y+=ht.y-ht.height/2+ht.labelHeight+ht.paddingTop})})}}),it}function yn(v,N,K,it){var ht,yt;let Ot=[];const kt=((ht=K.find(ge=>ge.id===v))===null||ht===void 0?void 0:ht.path)||[],Vt=((yt=K.find(ge=>ge.id===N))===null||yt===void 0?void 0:yt.path)||[],le=[M,...kt].slice(0,kt.length).reverse(),xe=[M,...Vt].slice(0,Vt.length);return le.forEach(ge=>{const Be=K.find(ar=>ar.id===ge);Ot=Ot.concat(Be.edges.filter(ar=>ar.baseEdgeList.some(Yr=>Yr.v===((it==null?void 0:it.v)||v)&&Yr.w===((it==null?void 0:it.w)||N))))}),xe.filter(ge=>!le.includes(ge)).forEach(ge=>{const Be=K.find(ar=>ar.id===ge);Ot=Ot.concat(Be.edges.filter(ar=>ar.baseEdgeList.some(Yr=>Yr.v===((it==null?void 0:it.v)||v)&&Yr.w===((it==null?void 0:it.w)||N))))}),Ot}function wn(v){const N=v.coreGraph.nodes().map(it=>v.coreGraph.node(it));return Object.assign(Object.assign({},bn(v)),{expanded:v.expanded,nodes:v.expanded?(K=N,K.map(it=>it.node.type===P.META?wn(it):bn(it))):[],edges:v.expanded?_n(v):[]});var K}function bn(v){return{id:v.node.name,name:v.node.name,type:v.node.type,cardinality:v.node.cardinality,attr:v.attr,parentNodeName:v.node.parentNode?v.node.parentNode.name:null,coreBox:Object.assign({},v.coreBox),x:v.x,y:v.y,width:v.width,height:v.height,radius:v.radius,labelHeight:v.labelHeight,labelOffset:v.labelOffset,outboxWidth:v.outboxWidth,paddingLeft:v.paddingLeft,paddingTop:v.paddingTop,paddingRight:v.paddingRight,paddingBottom:v.paddingBottom,path:v.node.path}}function _n(v){return v.coreGraph.edges().map(N=>({renderInfoEdge:v.coreGraph.edge(N),edge:N})).filter(({renderInfoEdge:N})=>N.metaEdge).map(({edge:N,renderInfoEdge:K})=>{const it=function(ht,yt){const Ot=yt.points.map(kt=>Object.assign({},kt));if(yt.adjoiningMetaEdge){const kt=yt.adjoiningMetaEdge.points,Vt=yt.metaEdge.inbound,le=Vt?kt[kt.length-1]:kt[0],xe=Ot[Vt?0:Ot.length-1],ge=ht.x-ht.width/2,Be=ht.y-ht.height/2,ar=le.x-ge,Yr=le.y-Be,dr=-ht.paddingLeft,pr=-(ht.paddingTop+ht.labelHeight);xe.x=ar+dr,xe.y=Yr+pr}return Ot}(v,K);return{adjoiningEdge:K.adjoiningMetaEdge?{w:K.adjoiningMetaEdge.metaEdge.w,v:K.adjoiningMetaEdge.metaEdge.v}:null,inbound:K.metaEdge.inbound,w:N.w,v:N.v,points:it,weight:K.weight,baseEdgeList:K.metaEdge.baseEdgeList,parentNodeName:v.node.name}})}},533852:function(ze,G,C){(function(m,R){ze.exports=R(C(727484))})(this,function(m){"use strict";function R(L){return L&&typeof L=="object"&&"default"in L?L:{default:L}}var S=R(m),M={name:"zh-cn",weekdays:"\u661F\u671F\u65E5_\u661F\u671F\u4E00_\u661F\u671F\u4E8C_\u661F\u671F\u4E09_\u661F\u671F\u56DB_\u661F\u671F\u4E94_\u661F\u671F\u516D".split("_"),weekdaysShort:"\u5468\u65E5_\u5468\u4E00_\u5468\u4E8C_\u5468\u4E09_\u5468\u56DB_\u5468\u4E94_\u5468\u516D".split("_"),weekdaysMin:"\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D".split("_"),months:"\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(L,P){return P==="W"?L+"\u5468":L+"\u65E5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5Ah\u70B9mm\u5206",LLLL:"YYYY\u5E74M\u6708D\u65E5ddddAh\u70B9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524D",s:"\u51E0\u79D2",m:"1 \u5206\u949F",mm:"%d \u5206\u949F",h:"1 \u5C0F\u65F6",hh:"%d \u5C0F\u65F6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4E2A\u6708",MM:"%d \u4E2A\u6708",y:"1 \u5E74",yy:"%d \u5E74"},meridiem:function(L,P){var p=100*L+P;return p<600?"\u51CC\u6668":p<900?"\u65E9\u4E0A":p<1100?"\u4E0A\u5348":p<1300?"\u4E2D\u5348":p<1800?"\u4E0B\u5348":"\u665A\u4E0A"}};return S.default.locale(M,null,!0),M})},414144:function(ze,G){var C,m,R;(function(S,M){if(!0)m=[G,ze],C=M,R=typeof C=="function"?C.apply(G,m):C,R!==void 0&&(ze.exports=R);else var L})(this,function(S,M){"use strict";var L={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function P(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function p(x){try{delete window[x]}catch(y){window[x]=void 0}}function g(x){var y=document.getElementById(x);y&&document.getElementsByTagName("head")[0].removeChild(y)}function w(x){var y=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],T=x,E=y.timeout||L.timeout,D=y.jsonpCallback||L.jsonpCallback,k=void 0;return new Promise(function(b,f){var W=y.jsonpCallbackFunction||P(),X=D+"_"+W;window[W]=function(U){b({ok:!0,json:function(){return Promise.resolve(U)}}),k&&clearTimeout(k),g(X),p(W)},T+=T.indexOf("?")===-1?"?":"&";var z=document.createElement("script");z.setAttribute("src",""+T+D+"="+W),y.charset&&z.setAttribute("charset",y.charset),y.nonce&&z.setAttribute("nonce",y.nonce),y.referrerPolicy&&z.setAttribute("referrerPolicy",y.referrerPolicy),z.id=X,document.getElementsByTagName("head")[0].appendChild(z),k=setTimeout(function(){f(new Error("JSONP request to "+x+" timed out")),p(W),g(X),window[W]=function(){p(W)}},E),z.onerror=function(){f(new Error("JSONP request to "+x+" failed")),p(W),g(X),k&&clearTimeout(k)}})}M.exports=w})},417648:function(ze){"use strict";var G="Function.prototype.bind called on incompatible ",C=Array.prototype.slice,m=Object.prototype.toString,R="[object Function]";ze.exports=function(M){var L=this;if(typeof L!="function"||m.call(L)!==R)throw new TypeError(G+L);for(var P=C.call(arguments,1),p,g=function(){if(this instanceof p){var E=L.apply(this,P.concat(C.call(arguments)));return Object(E)===E?E:this}else return L.apply(M,P.concat(C.call(arguments)))},w=Math.max(0,L.length-P.length),x=[],y=0;y<w;y++)x.push("$"+y);if(p=Function("binder","return function ("+x.join(",")+"){ return binder.apply(this,arguments); }")(g),L.prototype){var T=function(){};T.prototype=L.prototype,p.prototype=new T,T.prototype=null}return p}},158612:function(ze,G,C){"use strict";var m=C(417648);ze.exports=Function.prototype.bind||m},340210:function(ze,G,C){"use strict";var m,R=SyntaxError,S=Function,M=TypeError,L=function(ot){try{return S('"use strict"; return ('+ot+").constructor;")()}catch(mt){}},P=Object.getOwnPropertyDescriptor;if(P)try{P({},"")}catch(ot){P=null}var p=function(){throw new M},g=P?function(){try{return arguments.callee,p}catch(ot){try{return P(arguments,"callee").get}catch(mt){return p}}}():p,w=C(241405)(),x=Object.getPrototypeOf||function(ot){return ot.__proto__},y={},T=typeof Uint8Array=="undefined"?m:x(Uint8Array),E={"%AggregateError%":typeof AggregateError=="undefined"?m:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?m:ArrayBuffer,"%ArrayIteratorPrototype%":w?x([][Symbol.iterator]()):m,"%AsyncFromSyncIteratorPrototype%":m,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":typeof Atomics=="undefined"?m:Atomics,"%BigInt%":typeof BigInt=="undefined"?m:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?m:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?m:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?m:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?m:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?m:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?m:FinalizationRegistry,"%Function%":S,"%GeneratorFunction%":y,"%Int8Array%":typeof Int8Array=="undefined"?m:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?m:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?m:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":w?x(x([][Symbol.iterator]())):m,"%JSON%":typeof JSON=="object"?JSON:m,"%Map%":typeof Map=="undefined"?m:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!w?m:x(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?m:Promise,"%Proxy%":typeof Proxy=="undefined"?m:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?m:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?m:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!w?m:x(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?m:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":w?x(""[Symbol.iterator]()):m,"%Symbol%":w?Symbol:m,"%SyntaxError%":R,"%ThrowTypeError%":g,"%TypedArray%":T,"%TypeError%":M,"%Uint8Array%":typeof Uint8Array=="undefined"?m:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?m:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?m:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?m:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?m:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?m:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?m:WeakSet};try{null.error}catch(ot){var D=x(x(ot));E["%Error.prototype%"]=D}var k=function ot(mt){var ft;if(mt==="%AsyncFunction%")ft=L("async function () {}");else if(mt==="%GeneratorFunction%")ft=L("function* () {}");else if(mt==="%AsyncGeneratorFunction%")ft=L("async function* () {}");else if(mt==="%AsyncGenerator%"){var Bt=ot("%AsyncGeneratorFunction%");Bt&&(ft=Bt.prototype)}else if(mt==="%AsyncIteratorPrototype%"){var St=ot("%AsyncGenerator%");St&&(ft=x(St.prototype))}return E[mt]=ft,ft},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},f=C(158612),W=C(117642),X=f.call(Function.call,Array.prototype.concat),z=f.call(Function.apply,Array.prototype.splice),U=f.call(Function.call,String.prototype.replace),j=f.call(Function.call,String.prototype.slice),V=f.call(Function.call,RegExp.prototype.exec),J=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,et=function(mt){var ft=j(mt,0,1),Bt=j(mt,-1);if(ft==="%"&&Bt!=="%")throw new R("invalid intrinsic syntax, expected closing `%`");if(Bt==="%"&&ft!=="%")throw new R("invalid intrinsic syntax, expected opening `%`");var St=[];return U(mt,J,function(wt,H,Q,bt){St[St.length]=Q?U(bt,q,"$1"):H||wt}),St},st=function(mt,ft){var Bt=mt,St;if(W(b,Bt)&&(St=b[Bt],Bt="%"+St[0]+"%"),W(E,Bt)){var wt=E[Bt];if(wt===y&&(wt=k(Bt)),typeof wt=="undefined"&&!ft)throw new M("intrinsic "+mt+" exists, but is not available. Please file an issue!");return{alias:St,name:Bt,value:wt}}throw new R("intrinsic "+mt+" does not exist!")};ze.exports=function(mt,ft){if(typeof mt!="string"||mt.length===0)throw new M("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ft!="boolean")throw new M('"allowMissing" argument must be a boolean');if(V(/^%?[^%]*%?$/,mt)===null)throw new R("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Bt=et(mt),St=Bt.length>0?Bt[0]:"",wt=st("%"+St+"%",ft),H=wt.name,Q=wt.value,bt=!1,Ct=wt.alias;Ct&&(St=Ct[0],z(Bt,X([0,1],Ct)));for(var nt=1,dt=!0;nt<Bt.length;nt+=1){var Tt=Bt[nt],At=j(Tt,0,1),xt=j(Tt,-1);if((At==='"'||At==="'"||At==="`"||xt==='"'||xt==="'"||xt==="`")&&At!==xt)throw new R("property names with quotes must have matching quotes");if((Tt==="constructor"||!dt)&&(bt=!0),St+="."+Tt,H="%"+St+"%",W(E,H))Q=E[H];else if(Q!=null){if(!(Tt in Q)){if(!ft)throw new M("base intrinsic for "+mt+" exists, but the property is not available.");return}if(P&&nt+1>=Bt.length){var Dt=P(Q,Tt);dt=!!Dt,dt&&"get"in Dt&&!("originalValue"in Dt.get)?Q=Dt.get:Q=Q[Tt]}else dt=W(Q,Tt),Q=Q[Tt];dt&&!bt&&(E[H]=Q)}}return Q}},73633:function(ze,G,C){"use strict";C.r(G),C.d(G,{ARRAY_TYPE:function(){return R},EPSILON:function(){return m},RANDOM:function(){return S},equals:function(){return p},setMatrixArrayType:function(){return M},toRadian:function(){return P}});var m=1e-6,R=typeof Float32Array!="undefined"?Float32Array:Array,S=Math.random;function M(g){R=g}var L=Math.PI/180;function P(g){return g*L}function p(g,w){return Math.abs(g-w)<=m*Math.max(1,Math.abs(g),Math.abs(w))}Math.hypot||(Math.hypot=function(){for(var g=0,w=arguments.length;w--;)g+=arguments[w]*arguments[w];return Math.sqrt(g)})},858204:function(ze,G,C){"use strict";C.r(G),C.d(G,{glMatrix:function(){return p},mat2:function(){return m},mat2d:function(){return R},mat3:function(){return Tr},mat4:function(){return S},quat:function(){return L},quat2:function(){return P},vec2:function(){return Ro},vec3:function(){return Ar},vec4:function(){return M}});var m={};C.r(m),C.d(m,{LDU:function(){return q},add:function(){return et},adjoint:function(){return b},clone:function(){return w},copy:function(){return x},create:function(){return g},determinant:function(){return f},equals:function(){return mt},exactEquals:function(){return ot},frob:function(){return J},fromRotation:function(){return U},fromScaling:function(){return j},fromValues:function(){return T},identity:function(){return y},invert:function(){return k},mul:function(){return St},multiply:function(){return W},multiplyScalar:function(){return ft},multiplyScalarAndAdd:function(){return Bt},rotate:function(){return X},scale:function(){return z},set:function(){return E},str:function(){return V},sub:function(){return wt},subtract:function(){return st},transpose:function(){return D}});var R={};C.r(R),C.d(R,{add:function(){return Jt},clone:function(){return Q},copy:function(){return bt},create:function(){return H},determinant:function(){return At},equals:function(){return Pt},exactEquals:function(){return Se},frob:function(){return Wt},fromRotation:function(){return re},fromScaling:function(){return It},fromTranslation:function(){return ne},fromValues:function(){return nt},identity:function(){return Ct},invert:function(){return Tt},mul:function(){return Fe},multiply:function(){return xt},multiplyScalar:function(){return Kt},multiplyScalarAndAdd:function(){return ue},rotate:function(){return Dt},scale:function(){return Ht},set:function(){return dt},str:function(){return pe},sub:function(){return vr},subtract:function(){return $t},translate:function(){return se}});var S={};C.r(S),C.d(S,{add:function(){return me},adjoint:function(){return Gr},clone:function(){return Fr},copy:function(){return nn},create:function(){return Or},determinant:function(){return Dr},equals:function(){return ln},exactEquals:function(){return Lr},frob:function(){return _e},fromQuat:function(){return Rt},fromQuat2:function(){return Zt},fromRotation:function(){return En},fromRotationTranslation:function(){return Xe},fromRotationTranslationScale:function(){return Ut},fromRotationTranslationScaleOrigin:function(){return vt},fromScaling:function(){return dn},fromTranslation:function(){return on},fromValues:function(){return an},fromXRotation:function(){return Pn},fromYRotation:function(){return Nn},fromZRotation:function(){return at},frustum:function(){return ae},getRotation:function(){return Nt},getScaling:function(){return Mt},getTranslation:function(){return Qt},identity:function(){return Rr},invert:function(){return xr},lookAt:function(){return Ft},mul:function(){return Ve},multiply:function(){return We},multiplyScalar:function(){return fr},multiplyScalarAndAdd:function(){return je},ortho:function(){return $},orthoNO:function(){return _},orthoZO:function(){return gt},perspective:function(){return ut},perspectiveFromFieldOfView:function(){return O},perspectiveNO:function(){return tt},perspectiveZO:function(){return B},rotate:function(){return rr},rotateX:function(){return jr},rotateY:function(){return Nr},rotateZ:function(){return kn},scale:function(){return gn},set:function(){return er},str:function(){return te},sub:function(){return or},subtract:function(){return Ue},targetTo:function(){return zt},translate:function(){return Je},transpose:function(){return qr}});var M={};C.r(M),C.d(M,{add:function(){return be},ceil:function(){return en},clone:function(){return ce},copy:function(){return he},create:function(){return Mr},cross:function(){return ui},dist:function(){return Za},distance:function(){return sa},div:function(){return bo},divide:function(){return cr},dot:function(){return si},equals:function(){return gi},exactEquals:function(){return to},floor:function(){return Dn},forEach:function(){return fe},fromValues:function(){return Xt},inverse:function(){return ti},len:function(){return Hn},length:function(){return Ti},lerp:function(){return ba},max:function(){return Fn},min:function(){return un},mul:function(){return Po},multiply:function(){return ir},negate:function(){return Va},normalize:function(){return zi},random:function(){return qi},round:function(){return sn},scale:function(){return Bn},scaleAndAdd:function(){return qn},set:function(){return Me},sqrDist:function(){return Mi},sqrLen:function(){return ee},squaredDistance:function(){return oa},squaredLength:function(){return oi},str:function(){return uo},sub:function(){return Si},subtract:function(){return Ne},transformMat4:function(){return Co},transformQuat:function(){return Ba},zero:function(){return Ji}});var L={};C.r(L),C.d(L,{add:function(){return ni},calculateW:function(){return Wn},clone:function(){return Na},conjugate:function(){return Da},copy:function(){return va},create:function(){return Pe},dot:function(){return Ii},equals:function(){return Sa},exactEquals:function(){return ki},exp:function(){return ra},fromEuler:function(){return li},fromMat3:function(){return xa},fromValues:function(){return _a},getAngle:function(){return br},getAxisAngle:function(){return Sr},identity:function(){return nr},invert:function(){return Fa},len:function(){return Oo},length:function(){return Ao},lerp:function(){return Gi},ln:function(){return na},mul:function(){return hi},multiply:function(){return Kr},normalize:function(){return mi},pow:function(){return Ua},random:function(){return Qn},rotateX:function(){return cn},rotateY:function(){return Mn},rotateZ:function(){return Kn},rotationTo:function(){return Ui},scale:function(){return Ri},set:function(){return di},setAxes:function(){return Ai},setAxisAngle:function(){return _r},slerp:function(){return ua},sqlerp:function(){return lo},sqrLen:function(){return Ra},squaredLength:function(){return Ni},str:function(){return Qa}});var P={};C.r(P),C.d(P,{add:function(){return ro},clone:function(){return yi},conjugate:function(){return nu},copy:function(){return fs},create:function(){return Lo},dot:function(){return Es},equals:function(){return Eo},exactEquals:function(){return Yi},fromMat4:function(){return Wo},fromRotation:function(){return Uo},fromRotationTranslation:function(){return ts},fromRotationTranslationValues:function(){return Go},fromTranslation:function(){return Wi},fromValues:function(){return co},getDual:function(){return qe},getReal:function(){return Le},getTranslation:function(){return fn},identity:function(){return ha},invert:function(){return ws},len:function(){return is},length:function(){return Ko},lerp:function(){return As},mul:function(){return hs},multiply:function(){return Yo},normalize:function(){return xu},rotateAroundAxis:function(){return Di},rotateByQuatAppend:function(){return xo},rotateByQuatPrepend:function(){return ds},rotateX:function(){return Ia},rotateY:function(){return vi},rotateZ:function(){return eo},scale:function(){return qo},set:function(){return Yt},setDual:function(){return Zr},setReal:function(){return mr},sqrLen:function(){return No},squaredLength:function(){return vs},str:function(){return Eu},translate:function(){return zn}});var p=C(73633);function g(){var h=new p.ARRAY_TYPE(4);return p.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0),h[0]=1,h[3]=1,h}function w(h){var Y=new p.ARRAY_TYPE(4);return Y[0]=h[0],Y[1]=h[1],Y[2]=h[2],Y[3]=h[3],Y}function x(h,Y){return h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h}function y(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h}function T(h,Y,Et,Gt){var qt=new p.ARRAY_TYPE(4);return qt[0]=h,qt[1]=Y,qt[2]=Et,qt[3]=Gt,qt}function E(h,Y,Et,Gt,qt){return h[0]=Y,h[1]=Et,h[2]=Gt,h[3]=qt,h}function D(h,Y){if(h===Y){var Et=Y[1];h[1]=Y[2],h[2]=Et}else h[0]=Y[0],h[1]=Y[2],h[2]=Y[1],h[3]=Y[3];return h}function k(h,Y){var Et=Y[0],Gt=Y[1],qt=Y[2],de=Y[3],ve=Et*de-qt*Gt;return ve?(ve=1/ve,h[0]=de*ve,h[1]=-Gt*ve,h[2]=-qt*ve,h[3]=Et*ve,h):null}function b(h,Y){var Et=Y[0];return h[0]=Y[3],h[1]=-Y[1],h[2]=-Y[2],h[3]=Et,h}function f(h){return h[0]*h[3]-h[2]*h[1]}function W(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Et[0],De=Et[1],Ye=Et[2],sr=Et[3];return h[0]=Gt*Ce+de*De,h[1]=qt*Ce+ve*De,h[2]=Gt*Ye+de*sr,h[3]=qt*Ye+ve*sr,h}function X(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Math.sin(Et),De=Math.cos(Et);return h[0]=Gt*De+de*Ce,h[1]=qt*De+ve*Ce,h[2]=Gt*-Ce+de*De,h[3]=qt*-Ce+ve*De,h}function z(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Et[0],De=Et[1];return h[0]=Gt*Ce,h[1]=qt*Ce,h[2]=de*De,h[3]=ve*De,h}function U(h,Y){var Et=Math.sin(Y),Gt=Math.cos(Y);return h[0]=Gt,h[1]=Et,h[2]=-Et,h[3]=Gt,h}function j(h,Y){return h[0]=Y[0],h[1]=0,h[2]=0,h[3]=Y[1],h}function V(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"}function J(h){return Math.hypot(h[0],h[1],h[2],h[3])}function q(h,Y,Et,Gt){return h[2]=Gt[2]/Gt[0],Et[0]=Gt[0],Et[1]=Gt[1],Et[3]=Gt[3]-h[2]*Et[1],[h,Y,Et]}function et(h,Y,Et){return h[0]=Y[0]+Et[0],h[1]=Y[1]+Et[1],h[2]=Y[2]+Et[2],h[3]=Y[3]+Et[3],h}function st(h,Y,Et){return h[0]=Y[0]-Et[0],h[1]=Y[1]-Et[1],h[2]=Y[2]-Et[2],h[3]=Y[3]-Et[3],h}function ot(h,Y){return h[0]===Y[0]&&h[1]===Y[1]&&h[2]===Y[2]&&h[3]===Y[3]}function mt(h,Y){var Et=h[0],Gt=h[1],qt=h[2],de=h[3],ve=Y[0],Ce=Y[1],De=Y[2],Ye=Y[3];return Math.abs(Et-ve)<=p.EPSILON*Math.max(1,Math.abs(Et),Math.abs(ve))&&Math.abs(Gt-Ce)<=p.EPSILON*Math.max(1,Math.abs(Gt),Math.abs(Ce))&&Math.abs(qt-De)<=p.EPSILON*Math.max(1,Math.abs(qt),Math.abs(De))&&Math.abs(de-Ye)<=p.EPSILON*Math.max(1,Math.abs(de),Math.abs(Ye))}function ft(h,Y,Et){return h[0]=Y[0]*Et,h[1]=Y[1]*Et,h[2]=Y[2]*Et,h[3]=Y[3]*Et,h}function Bt(h,Y,Et,Gt){return h[0]=Y[0]+Et[0]*Gt,h[1]=Y[1]+Et[1]*Gt,h[2]=Y[2]+Et[2]*Gt,h[3]=Y[3]+Et[3]*Gt,h}var St=W,wt=st;function H(){var h=new p.ARRAY_TYPE(6);return p.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0),h[0]=1,h[3]=1,h}function Q(h){var Y=new p.ARRAY_TYPE(6);return Y[0]=h[0],Y[1]=h[1],Y[2]=h[2],Y[3]=h[3],Y[4]=h[4],Y[5]=h[5],Y}function bt(h,Y){return h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h[4]=Y[4],h[5]=Y[5],h}function Ct(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,h}function nt(h,Y,Et,Gt,qt,de){var ve=new p.ARRAY_TYPE(6);return ve[0]=h,ve[1]=Y,ve[2]=Et,ve[3]=Gt,ve[4]=qt,ve[5]=de,ve}function dt(h,Y,Et,Gt,qt,de,ve){return h[0]=Y,h[1]=Et,h[2]=Gt,h[3]=qt,h[4]=de,h[5]=ve,h}function Tt(h,Y){var Et=Y[0],Gt=Y[1],qt=Y[2],de=Y[3],ve=Y[4],Ce=Y[5],De=Et*de-Gt*qt;return De?(De=1/De,h[0]=de*De,h[1]=-Gt*De,h[2]=-qt*De,h[3]=Et*De,h[4]=(qt*Ce-de*ve)*De,h[5]=(Gt*ve-Et*Ce)*De,h):null}function At(h){return h[0]*h[3]-h[1]*h[2]}function xt(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Y[4],De=Y[5],Ye=Et[0],sr=Et[1],Br=Et[2],Wr=Et[3],zr=Et[4],mn=Et[5];return h[0]=Gt*Ye+de*sr,h[1]=qt*Ye+ve*sr,h[2]=Gt*Br+de*Wr,h[3]=qt*Br+ve*Wr,h[4]=Gt*zr+de*mn+Ce,h[5]=qt*zr+ve*mn+De,h}function Dt(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Y[4],De=Y[5],Ye=Math.sin(Et),sr=Math.cos(Et);return h[0]=Gt*sr+de*Ye,h[1]=qt*sr+ve*Ye,h[2]=Gt*-Ye+de*sr,h[3]=qt*-Ye+ve*sr,h[4]=Ce,h[5]=De,h}function Ht(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Y[4],De=Y[5],Ye=Et[0],sr=Et[1];return h[0]=Gt*Ye,h[1]=qt*Ye,h[2]=de*sr,h[3]=ve*sr,h[4]=Ce,h[5]=De,h}function se(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Y[4],De=Y[5],Ye=Et[0],sr=Et[1];return h[0]=Gt,h[1]=qt,h[2]=de,h[3]=ve,h[4]=Gt*Ye+de*sr+Ce,h[5]=qt*Ye+ve*sr+De,h}function re(h,Y){var Et=Math.sin(Y),Gt=Math.cos(Y);return h[0]=Gt,h[1]=Et,h[2]=-Et,h[3]=Gt,h[4]=0,h[5]=0,h}function It(h,Y){return h[0]=Y[0],h[1]=0,h[2]=0,h[3]=Y[1],h[4]=0,h[5]=0,h}function ne(h,Y){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=Y[0],h[5]=Y[1],h}function pe(h){return"mat2d("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"}function Wt(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)}function Jt(h,Y,Et){return h[0]=Y[0]+Et[0],h[1]=Y[1]+Et[1],h[2]=Y[2]+Et[2],h[3]=Y[3]+Et[3],h[4]=Y[4]+Et[4],h[5]=Y[5]+Et[5],h}function $t(h,Y,Et){return h[0]=Y[0]-Et[0],h[1]=Y[1]-Et[1],h[2]=Y[2]-Et[2],h[3]=Y[3]-Et[3],h[4]=Y[4]-Et[4],h[5]=Y[5]-Et[5],h}function Kt(h,Y,Et){return h[0]=Y[0]*Et,h[1]=Y[1]*Et,h[2]=Y[2]*Et,h[3]=Y[3]*Et,h[4]=Y[4]*Et,h[5]=Y[5]*Et,h}function ue(h,Y,Et,Gt){return h[0]=Y[0]+Et[0]*Gt,h[1]=Y[1]+Et[1]*Gt,h[2]=Y[2]+Et[2]*Gt,h[3]=Y[3]+Et[3]*Gt,h[4]=Y[4]+Et[4]*Gt,h[5]=Y[5]+Et[5]*Gt,h}function Se(h,Y){return h[0]===Y[0]&&h[1]===Y[1]&&h[2]===Y[2]&&h[3]===Y[3]&&h[4]===Y[4]&&h[5]===Y[5]}function Pt(h,Y){var Et=h[0],Gt=h[1],qt=h[2],de=h[3],ve=h[4],Ce=h[5],De=Y[0],Ye=Y[1],sr=Y[2],Br=Y[3],Wr=Y[4],zr=Y[5];return Math.abs(Et-De)<=p.EPSILON*Math.max(1,Math.abs(Et),Math.abs(De))&&Math.abs(Gt-Ye)<=p.EPSILON*Math.max(1,Math.abs(Gt),Math.abs(Ye))&&Math.abs(qt-sr)<=p.EPSILON*Math.max(1,Math.abs(qt),Math.abs(sr))&&Math.abs(de-Br)<=p.EPSILON*Math.max(1,Math.abs(de),Math.abs(Br))&&Math.abs(ve-Wr)<=p.EPSILON*Math.max(1,Math.abs(ve),Math.abs(Wr))&&Math.abs(Ce-zr)<=p.EPSILON*Math.max(1,Math.abs(Ce),Math.abs(zr))}var Fe=xt,vr=$t,Tr=C(935600);function Or(){var h=new p.ARRAY_TYPE(16);return p.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0),h[0]=1,h[5]=1,h[10]=1,h[15]=1,h}function Fr(h){var Y=new p.ARRAY_TYPE(16);return Y[0]=h[0],Y[1]=h[1],Y[2]=h[2],Y[3]=h[3],Y[4]=h[4],Y[5]=h[5],Y[6]=h[6],Y[7]=h[7],Y[8]=h[8],Y[9]=h[9],Y[10]=h[10],Y[11]=h[11],Y[12]=h[12],Y[13]=h[13],Y[14]=h[14],Y[15]=h[15],Y}function nn(h,Y){return h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h[4]=Y[4],h[5]=Y[5],h[6]=Y[6],h[7]=Y[7],h[8]=Y[8],h[9]=Y[9],h[10]=Y[10],h[11]=Y[11],h[12]=Y[12],h[13]=Y[13],h[14]=Y[14],h[15]=Y[15],h}function an(h,Y,Et,Gt,qt,de,ve,Ce,De,Ye,sr,Br,Wr,zr,mn,In){var Qr=new p.ARRAY_TYPE(16);return Qr[0]=h,Qr[1]=Y,Qr[2]=Et,Qr[3]=Gt,Qr[4]=qt,Qr[5]=de,Qr[6]=ve,Qr[7]=Ce,Qr[8]=De,Qr[9]=Ye,Qr[10]=sr,Qr[11]=Br,Qr[12]=Wr,Qr[13]=zr,Qr[14]=mn,Qr[15]=In,Qr}function er(h,Y,Et,Gt,qt,de,ve,Ce,De,Ye,sr,Br,Wr,zr,mn,In,Qr){return h[0]=Y,h[1]=Et,h[2]=Gt,h[3]=qt,h[4]=de,h[5]=ve,h[6]=Ce,h[7]=De,h[8]=Ye,h[9]=sr,h[10]=Br,h[11]=Wr,h[12]=zr,h[13]=mn,h[14]=In,h[15]=Qr,h}function Rr(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function qr(h,Y){if(h===Y){var Et=Y[1],Gt=Y[2],qt=Y[3],de=Y[6],ve=Y[7],Ce=Y[11];h[1]=Y[4],h[2]=Y[8],h[3]=Y[12],h[4]=Et,h[6]=Y[9],h[7]=Y[13],h[8]=Gt,h[9]=de,h[11]=Y[14],h[12]=qt,h[13]=ve,h[14]=Ce}else h[0]=Y[0],h[1]=Y[4],h[2]=Y[8],h[3]=Y[12],h[4]=Y[1],h[5]=Y[5],h[6]=Y[9],h[7]=Y[13],h[8]=Y[2],h[9]=Y[6],h[10]=Y[10],h[11]=Y[14],h[12]=Y[3],h[13]=Y[7],h[14]=Y[11],h[15]=Y[15];return h}function xr(h,Y){var Et=Y[0],Gt=Y[1],qt=Y[2],de=Y[3],ve=Y[4],Ce=Y[5],De=Y[6],Ye=Y[7],sr=Y[8],Br=Y[9],Wr=Y[10],zr=Y[11],mn=Y[12],In=Y[13],Qr=Y[14],Vn=Y[15],Ta=Et*Ce-Gt*ve,Oa=Et*De-qt*ve,Ea=Et*Ye-de*ve,ca=Gt*De-qt*Ce,ga=Gt*Ye-de*Ce,no=qt*Ye-de*De,Hi=sr*In-Br*mn,Xi=sr*Qr-Wr*mn,Zi=sr*Vn-zr*mn,Ki=Br*Qr-Wr*In,fo=Br*Vn-zr*In,wo=Wr*Vn-zr*Qr,Wa=Ta*wo-Oa*fo+Ea*Ki+ca*Zi-ga*Xi+no*Hi;return Wa?(Wa=1/Wa,h[0]=(Ce*wo-De*fo+Ye*Ki)*Wa,h[1]=(qt*fo-Gt*wo-de*Ki)*Wa,h[2]=(In*no-Qr*ga+Vn*ca)*Wa,h[3]=(Wr*ga-Br*no-zr*ca)*Wa,h[4]=(De*Zi-ve*wo-Ye*Xi)*Wa,h[5]=(Et*wo-qt*Zi+de*Xi)*Wa,h[6]=(Qr*Ea-mn*no-Vn*Oa)*Wa,h[7]=(sr*no-Wr*Ea+zr*Oa)*Wa,h[8]=(ve*fo-Ce*Zi+Ye*Hi)*Wa,h[9]=(Gt*Zi-Et*fo-de*Hi)*Wa,h[10]=(mn*ga-In*Ea+Vn*Ta)*Wa,h[11]=(Br*Ea-sr*ga-zr*Ta)*Wa,h[12]=(Ce*Xi-ve*Ki-De*Hi)*Wa,h[13]=(Et*Ki-Gt*Xi+qt*Hi)*Wa,h[14]=(In*Oa-mn*ca-Qr*Ta)*Wa,h[15]=(sr*ca-Br*Oa+Wr*Ta)*Wa,h):null}function Gr(h,Y){var Et=Y[0],Gt=Y[1],qt=Y[2],de=Y[3],ve=Y[4],Ce=Y[5],De=Y[6],Ye=Y[7],sr=Y[8],Br=Y[9],Wr=Y[10],zr=Y[11],mn=Y[12],In=Y[13],Qr=Y[14],Vn=Y[15];return h[0]=Ce*(Wr*Vn-zr*Qr)-Br*(De*Vn-Ye*Qr)+In*(De*zr-Ye*Wr),h[1]=-(Gt*(Wr*Vn-zr*Qr)-Br*(qt*Vn-de*Qr)+In*(qt*zr-de*Wr)),h[2]=Gt*(De*Vn-Ye*Qr)-Ce*(qt*Vn-de*Qr)+In*(qt*Ye-de*De),h[3]=-(Gt*(De*zr-Ye*Wr)-Ce*(qt*zr-de*Wr)+Br*(qt*Ye-de*De)),h[4]=-(ve*(Wr*Vn-zr*Qr)-sr*(De*Vn-Ye*Qr)+mn*(De*zr-Ye*Wr)),h[5]=Et*(Wr*Vn-zr*Qr)-sr*(qt*Vn-de*Qr)+mn*(qt*zr-de*Wr),h[6]=-(Et*(De*Vn-Ye*Qr)-ve*(qt*Vn-de*Qr)+mn*(qt*Ye-de*De)),h[7]=Et*(De*zr-Ye*Wr)-ve*(qt*zr-de*Wr)+sr*(qt*Ye-de*De),h[8]=ve*(Br*Vn-zr*In)-sr*(Ce*Vn-Ye*In)+mn*(Ce*zr-Ye*Br),h[9]=-(Et*(Br*Vn-zr*In)-sr*(Gt*Vn-de*In)+mn*(Gt*zr-de*Br)),h[10]=Et*(Ce*Vn-Ye*In)-ve*(Gt*Vn-de*In)+mn*(Gt*Ye-de*Ce),h[11]=-(Et*(Ce*zr-Ye*Br)-ve*(Gt*zr-de*Br)+sr*(Gt*Ye-de*Ce)),h[12]=-(ve*(Br*Qr-Wr*In)-sr*(Ce*Qr-De*In)+mn*(Ce*Wr-De*Br)),h[13]=Et*(Br*Qr-Wr*In)-sr*(Gt*Qr-qt*In)+mn*(Gt*Wr-qt*Br),h[14]=-(Et*(Ce*Qr-De*In)-ve*(Gt*Qr-qt*In)+mn*(Gt*De-qt*Ce)),h[15]=Et*(Ce*Wr-De*Br)-ve*(Gt*Wr-qt*Br)+sr*(Gt*De-qt*Ce),h}function Dr(h){var Y=h[0],Et=h[1],Gt=h[2],qt=h[3],de=h[4],ve=h[5],Ce=h[6],De=h[7],Ye=h[8],sr=h[9],Br=h[10],Wr=h[11],zr=h[12],mn=h[13],In=h[14],Qr=h[15],Vn=Y*ve-Et*de,Ta=Y*Ce-Gt*de,Oa=Y*De-qt*de,Ea=Et*Ce-Gt*ve,ca=Et*De-qt*ve,ga=Gt*De-qt*Ce,no=Ye*mn-sr*zr,Hi=Ye*In-Br*zr,Xi=Ye*Qr-Wr*zr,Zi=sr*In-Br*mn,Ki=sr*Qr-Wr*mn,fo=Br*Qr-Wr*In;return Vn*fo-Ta*Ki+Oa*Zi+Ea*Xi-ca*Hi+ga*no}function We(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Y[4],De=Y[5],Ye=Y[6],sr=Y[7],Br=Y[8],Wr=Y[9],zr=Y[10],mn=Y[11],In=Y[12],Qr=Y[13],Vn=Y[14],Ta=Y[15],Oa=Et[0],Ea=Et[1],ca=Et[2],ga=Et[3];return h[0]=Oa*Gt+Ea*Ce+ca*Br+ga*In,h[1]=Oa*qt+Ea*De+ca*Wr+ga*Qr,h[2]=Oa*de+Ea*Ye+ca*zr+ga*Vn,h[3]=Oa*ve+Ea*sr+ca*mn+ga*Ta,Oa=Et[4],Ea=Et[5],ca=Et[6],ga=Et[7],h[4]=Oa*Gt+Ea*Ce+ca*Br+ga*In,h[5]=Oa*qt+Ea*De+ca*Wr+ga*Qr,h[6]=Oa*de+Ea*Ye+ca*zr+ga*Vn,h[7]=Oa*ve+Ea*sr+ca*mn+ga*Ta,Oa=Et[8],Ea=Et[9],ca=Et[10],ga=Et[11],h[8]=Oa*Gt+Ea*Ce+ca*Br+ga*In,h[9]=Oa*qt+Ea*De+ca*Wr+ga*Qr,h[10]=Oa*de+Ea*Ye+ca*zr+ga*Vn,h[11]=Oa*ve+Ea*sr+ca*mn+ga*Ta,Oa=Et[12],Ea=Et[13],ca=Et[14],ga=Et[15],h[12]=Oa*Gt+Ea*Ce+ca*Br+ga*In,h[13]=Oa*qt+Ea*De+ca*Wr+ga*Qr,h[14]=Oa*de+Ea*Ye+ca*zr+ga*Vn,h[15]=Oa*ve+Ea*sr+ca*mn+ga*Ta,h}function Je(h,Y,Et){var Gt=Et[0],qt=Et[1],de=Et[2],ve,Ce,De,Ye,sr,Br,Wr,zr,mn,In,Qr,Vn;return Y===h?(h[12]=Y[0]*Gt+Y[4]*qt+Y[8]*de+Y[12],h[13]=Y[1]*Gt+Y[5]*qt+Y[9]*de+Y[13],h[14]=Y[2]*Gt+Y[6]*qt+Y[10]*de+Y[14],h[15]=Y[3]*Gt+Y[7]*qt+Y[11]*de+Y[15]):(ve=Y[0],Ce=Y[1],De=Y[2],Ye=Y[3],sr=Y[4],Br=Y[5],Wr=Y[6],zr=Y[7],mn=Y[8],In=Y[9],Qr=Y[10],Vn=Y[11],h[0]=ve,h[1]=Ce,h[2]=De,h[3]=Ye,h[4]=sr,h[5]=Br,h[6]=Wr,h[7]=zr,h[8]=mn,h[9]=In,h[10]=Qr,h[11]=Vn,h[12]=ve*Gt+sr*qt+mn*de+Y[12],h[13]=Ce*Gt+Br*qt+In*de+Y[13],h[14]=De*Gt+Wr*qt+Qr*de+Y[14],h[15]=Ye*Gt+zr*qt+Vn*de+Y[15]),h}function gn(h,Y,Et){var Gt=Et[0],qt=Et[1],de=Et[2];return h[0]=Y[0]*Gt,h[1]=Y[1]*Gt,h[2]=Y[2]*Gt,h[3]=Y[3]*Gt,h[4]=Y[4]*qt,h[5]=Y[5]*qt,h[6]=Y[6]*qt,h[7]=Y[7]*qt,h[8]=Y[8]*de,h[9]=Y[9]*de,h[10]=Y[10]*de,h[11]=Y[11]*de,h[12]=Y[12],h[13]=Y[13],h[14]=Y[14],h[15]=Y[15],h}function rr(h,Y,Et,Gt){var qt=Gt[0],de=Gt[1],ve=Gt[2],Ce=Math.hypot(qt,de,ve),De,Ye,sr,Br,Wr,zr,mn,In,Qr,Vn,Ta,Oa,Ea,ca,ga,no,Hi,Xi,Zi,Ki,fo,wo,Wa,pi;return Ce<p.EPSILON?null:(Ce=1/Ce,qt*=Ce,de*=Ce,ve*=Ce,De=Math.sin(Et),Ye=Math.cos(Et),sr=1-Ye,Br=Y[0],Wr=Y[1],zr=Y[2],mn=Y[3],In=Y[4],Qr=Y[5],Vn=Y[6],Ta=Y[7],Oa=Y[8],Ea=Y[9],ca=Y[10],ga=Y[11],no=qt*qt*sr+Ye,Hi=de*qt*sr+ve*De,Xi=ve*qt*sr-de*De,Zi=qt*de*sr-ve*De,Ki=de*de*sr+Ye,fo=ve*de*sr+qt*De,wo=qt*ve*sr+de*De,Wa=de*ve*sr-qt*De,pi=ve*ve*sr+Ye,h[0]=Br*no+In*Hi+Oa*Xi,h[1]=Wr*no+Qr*Hi+Ea*Xi,h[2]=zr*no+Vn*Hi+ca*Xi,h[3]=mn*no+Ta*Hi+ga*Xi,h[4]=Br*Zi+In*Ki+Oa*fo,h[5]=Wr*Zi+Qr*Ki+Ea*fo,h[6]=zr*Zi+Vn*Ki+ca*fo,h[7]=mn*Zi+Ta*Ki+ga*fo,h[8]=Br*wo+In*Wa+Oa*pi,h[9]=Wr*wo+Qr*Wa+Ea*pi,h[10]=zr*wo+Vn*Wa+ca*pi,h[11]=mn*wo+Ta*Wa+ga*pi,Y!==h&&(h[12]=Y[12],h[13]=Y[13],h[14]=Y[14],h[15]=Y[15]),h)}function jr(h,Y,Et){var Gt=Math.sin(Et),qt=Math.cos(Et),de=Y[4],ve=Y[5],Ce=Y[6],De=Y[7],Ye=Y[8],sr=Y[9],Br=Y[10],Wr=Y[11];return Y!==h&&(h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h[12]=Y[12],h[13]=Y[13],h[14]=Y[14],h[15]=Y[15]),h[4]=de*qt+Ye*Gt,h[5]=ve*qt+sr*Gt,h[6]=Ce*qt+Br*Gt,h[7]=De*qt+Wr*Gt,h[8]=Ye*qt-de*Gt,h[9]=sr*qt-ve*Gt,h[10]=Br*qt-Ce*Gt,h[11]=Wr*qt-De*Gt,h}function Nr(h,Y,Et){var Gt=Math.sin(Et),qt=Math.cos(Et),de=Y[0],ve=Y[1],Ce=Y[2],De=Y[3],Ye=Y[8],sr=Y[9],Br=Y[10],Wr=Y[11];return Y!==h&&(h[4]=Y[4],h[5]=Y[5],h[6]=Y[6],h[7]=Y[7],h[12]=Y[12],h[13]=Y[13],h[14]=Y[14],h[15]=Y[15]),h[0]=de*qt-Ye*Gt,h[1]=ve*qt-sr*Gt,h[2]=Ce*qt-Br*Gt,h[3]=De*qt-Wr*Gt,h[8]=de*Gt+Ye*qt,h[9]=ve*Gt+sr*qt,h[10]=Ce*Gt+Br*qt,h[11]=De*Gt+Wr*qt,h}function kn(h,Y,Et){var Gt=Math.sin(Et),qt=Math.cos(Et),de=Y[0],ve=Y[1],Ce=Y[2],De=Y[3],Ye=Y[4],sr=Y[5],Br=Y[6],Wr=Y[7];return Y!==h&&(h[8]=Y[8],h[9]=Y[9],h[10]=Y[10],h[11]=Y[11],h[12]=Y[12],h[13]=Y[13],h[14]=Y[14],h[15]=Y[15]),h[0]=de*qt+Ye*Gt,h[1]=ve*qt+sr*Gt,h[2]=Ce*qt+Br*Gt,h[3]=De*qt+Wr*Gt,h[4]=Ye*qt-de*Gt,h[5]=sr*qt-ve*Gt,h[6]=Br*qt-Ce*Gt,h[7]=Wr*qt-De*Gt,h}function on(h,Y){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=Y[0],h[13]=Y[1],h[14]=Y[2],h[15]=1,h}function dn(h,Y){return h[0]=Y[0],h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=Y[1],h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=Y[2],h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function En(h,Y,Et){var Gt=Et[0],qt=Et[1],de=Et[2],ve=Math.hypot(Gt,qt,de),Ce,De,Ye;return ve<p.EPSILON?null:(ve=1/ve,Gt*=ve,qt*=ve,de*=ve,Ce=Math.sin(Y),De=Math.cos(Y),Ye=1-De,h[0]=Gt*Gt*Ye+De,h[1]=qt*Gt*Ye+de*Ce,h[2]=de*Gt*Ye-qt*Ce,h[3]=0,h[4]=Gt*qt*Ye-de*Ce,h[5]=qt*qt*Ye+De,h[6]=de*qt*Ye+Gt*Ce,h[7]=0,h[8]=Gt*de*Ye+qt*Ce,h[9]=qt*de*Ye-Gt*Ce,h[10]=de*de*Ye+De,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h)}function Pn(h,Y){var Et=Math.sin(Y),Gt=Math.cos(Y);return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=Gt,h[6]=Et,h[7]=0,h[8]=0,h[9]=-Et,h[10]=Gt,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function Nn(h,Y){var Et=Math.sin(Y),Gt=Math.cos(Y);return h[0]=Gt,h[1]=0,h[2]=-Et,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=Et,h[9]=0,h[10]=Gt,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function at(h,Y){var Et=Math.sin(Y),Gt=Math.cos(Y);return h[0]=Gt,h[1]=Et,h[2]=0,h[3]=0,h[4]=-Et,h[5]=Gt,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function Xe(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Gt+Gt,De=qt+qt,Ye=de+de,sr=Gt*Ce,Br=Gt*De,Wr=Gt*Ye,zr=qt*De,mn=qt*Ye,In=de*Ye,Qr=ve*Ce,Vn=ve*De,Ta=ve*Ye;return h[0]=1-(zr+In),h[1]=Br+Ta,h[2]=Wr-Vn,h[3]=0,h[4]=Br-Ta,h[5]=1-(sr+In),h[6]=mn+Qr,h[7]=0,h[8]=Wr+Vn,h[9]=mn-Qr,h[10]=1-(sr+zr),h[11]=0,h[12]=Et[0],h[13]=Et[1],h[14]=Et[2],h[15]=1,h}function Zt(h,Y){var Et=new p.ARRAY_TYPE(3),Gt=-Y[0],qt=-Y[1],de=-Y[2],ve=Y[3],Ce=Y[4],De=Y[5],Ye=Y[6],sr=Y[7],Br=Gt*Gt+qt*qt+de*de+ve*ve;return Br>0?(Et[0]=(Ce*ve+sr*Gt+De*de-Ye*qt)*2/Br,Et[1]=(De*ve+sr*qt+Ye*Gt-Ce*de)*2/Br,Et[2]=(Ye*ve+sr*de+Ce*qt-De*Gt)*2/Br):(Et[0]=(Ce*ve+sr*Gt+De*de-Ye*qt)*2,Et[1]=(De*ve+sr*qt+Ye*Gt-Ce*de)*2,Et[2]=(Ye*ve+sr*de+Ce*qt-De*Gt)*2),Xe(h,Y,Et),h}function Qt(h,Y){return h[0]=Y[12],h[1]=Y[13],h[2]=Y[14],h}function Mt(h,Y){var Et=Y[0],Gt=Y[1],qt=Y[2],de=Y[4],ve=Y[5],Ce=Y[6],De=Y[8],Ye=Y[9],sr=Y[10];return h[0]=Math.hypot(Et,Gt,qt),h[1]=Math.hypot(de,ve,Ce),h[2]=Math.hypot(De,Ye,sr),h}function Nt(h,Y){var Et=new p.ARRAY_TYPE(3);Mt(Et,Y);var Gt=1/Et[0],qt=1/Et[1],de=1/Et[2],ve=Y[0]*Gt,Ce=Y[1]*qt,De=Y[2]*de,Ye=Y[4]*Gt,sr=Y[5]*qt,Br=Y[6]*de,Wr=Y[8]*Gt,zr=Y[9]*qt,mn=Y[10]*de,In=ve+sr+mn,Qr=0;return In>0?(Qr=Math.sqrt(In+1)*2,h[3]=.25*Qr,h[0]=(Br-zr)/Qr,h[1]=(Wr-De)/Qr,h[2]=(Ce-Ye)/Qr):ve>sr&&ve>mn?(Qr=Math.sqrt(1+ve-sr-mn)*2,h[3]=(Br-zr)/Qr,h[0]=.25*Qr,h[1]=(Ce+Ye)/Qr,h[2]=(Wr+De)/Qr):sr>mn?(Qr=Math.sqrt(1+sr-ve-mn)*2,h[3]=(Wr-De)/Qr,h[0]=(Ce+Ye)/Qr,h[1]=.25*Qr,h[2]=(Br+zr)/Qr):(Qr=Math.sqrt(1+mn-ve-sr)*2,h[3]=(Ce-Ye)/Qr,h[0]=(Wr+De)/Qr,h[1]=(Br+zr)/Qr,h[2]=.25*Qr),h}function Ut(h,Y,Et,Gt){var qt=Y[0],de=Y[1],ve=Y[2],Ce=Y[3],De=qt+qt,Ye=de+de,sr=ve+ve,Br=qt*De,Wr=qt*Ye,zr=qt*sr,mn=de*Ye,In=de*sr,Qr=ve*sr,Vn=Ce*De,Ta=Ce*Ye,Oa=Ce*sr,Ea=Gt[0],ca=Gt[1],ga=Gt[2];return h[0]=(1-(mn+Qr))*Ea,h[1]=(Wr+Oa)*Ea,h[2]=(zr-Ta)*Ea,h[3]=0,h[4]=(Wr-Oa)*ca,h[5]=(1-(Br+Qr))*ca,h[6]=(In+Vn)*ca,h[7]=0,h[8]=(zr+Ta)*ga,h[9]=(In-Vn)*ga,h[10]=(1-(Br+mn))*ga,h[11]=0,h[12]=Et[0],h[13]=Et[1],h[14]=Et[2],h[15]=1,h}function vt(h,Y,Et,Gt,qt){var de=Y[0],ve=Y[1],Ce=Y[2],De=Y[3],Ye=de+de,sr=ve+ve,Br=Ce+Ce,Wr=de*Ye,zr=de*sr,mn=de*Br,In=ve*sr,Qr=ve*Br,Vn=Ce*Br,Ta=De*Ye,Oa=De*sr,Ea=De*Br,ca=Gt[0],ga=Gt[1],no=Gt[2],Hi=qt[0],Xi=qt[1],Zi=qt[2],Ki=(1-(In+Vn))*ca,fo=(zr+Ea)*ca,wo=(mn-Oa)*ca,Wa=(zr-Ea)*ga,pi=(1-(Wr+Vn))*ga,Os=(Qr+Ta)*ga,ps=(mn+Oa)*no,es=(Qr-Ta)*no,au=(1-(Wr+In))*no;return h[0]=Ki,h[1]=fo,h[2]=wo,h[3]=0,h[4]=Wa,h[5]=pi,h[6]=Os,h[7]=0,h[8]=ps,h[9]=es,h[10]=au,h[11]=0,h[12]=Et[0]+Hi-(Ki*Hi+Wa*Xi+ps*Zi),h[13]=Et[1]+Xi-(fo*Hi+pi*Xi+es*Zi),h[14]=Et[2]+Zi-(wo*Hi+Os*Xi+au*Zi),h[15]=1,h}function Rt(h,Y){var Et=Y[0],Gt=Y[1],qt=Y[2],de=Y[3],ve=Et+Et,Ce=Gt+Gt,De=qt+qt,Ye=Et*ve,sr=Gt*ve,Br=Gt*Ce,Wr=qt*ve,zr=qt*Ce,mn=qt*De,In=de*ve,Qr=de*Ce,Vn=de*De;return h[0]=1-Br-mn,h[1]=sr+Vn,h[2]=Wr-Qr,h[3]=0,h[4]=sr-Vn,h[5]=1-Ye-mn,h[6]=zr+In,h[7]=0,h[8]=Wr+Qr,h[9]=zr-In,h[10]=1-Ye-Br,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}function ae(h,Y,Et,Gt,qt,de,ve){var Ce=1/(Et-Y),De=1/(qt-Gt),Ye=1/(de-ve);return h[0]=de*2*Ce,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=de*2*De,h[6]=0,h[7]=0,h[8]=(Et+Y)*Ce,h[9]=(qt+Gt)*De,h[10]=(ve+de)*Ye,h[11]=-1,h[12]=0,h[13]=0,h[14]=ve*de*2*Ye,h[15]=0,h}function tt(h,Y,Et,Gt,qt){var de=1/Math.tan(Y/2),ve;return h[0]=de/Et,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=de,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=-1,h[12]=0,h[13]=0,h[15]=0,qt!=null&&qt!==1/0?(ve=1/(Gt-qt),h[10]=(qt+Gt)*ve,h[14]=2*qt*Gt*ve):(h[10]=-1,h[14]=-2*Gt),h}var ut=tt;function B(h,Y,Et,Gt,qt){var de=1/Math.tan(Y/2),ve;return h[0]=de/Et,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=de,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=-1,h[12]=0,h[13]=0,h[15]=0,qt!=null&&qt!==1/0?(ve=1/(Gt-qt),h[10]=qt*ve,h[14]=qt*Gt*ve):(h[10]=-1,h[14]=-Gt),h}function O(h,Y,Et,Gt){var qt=Math.tan(Y.upDegrees*Math.PI/180),de=Math.tan(Y.downDegrees*Math.PI/180),ve=Math.tan(Y.leftDegrees*Math.PI/180),Ce=Math.tan(Y.rightDegrees*Math.PI/180),De=2/(ve+Ce),Ye=2/(qt+de);return h[0]=De,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=Ye,h[6]=0,h[7]=0,h[8]=-((ve-Ce)*De*.5),h[9]=(qt-de)*Ye*.5,h[10]=Gt/(Et-Gt),h[11]=-1,h[12]=0,h[13]=0,h[14]=Gt*Et/(Et-Gt),h[15]=0,h}function _(h,Y,Et,Gt,qt,de,ve){var Ce=1/(Y-Et),De=1/(Gt-qt),Ye=1/(de-ve);return h[0]=-2*Ce,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*De,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=2*Ye,h[11]=0,h[12]=(Y+Et)*Ce,h[13]=(qt+Gt)*De,h[14]=(ve+de)*Ye,h[15]=1,h}var $=_;function gt(h,Y,Et,Gt,qt,de,ve){var Ce=1/(Y-Et),De=1/(Gt-qt),Ye=1/(de-ve);return h[0]=-2*Ce,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*De,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=Ye,h[11]=0,h[12]=(Y+Et)*Ce,h[13]=(qt+Gt)*De,h[14]=de*Ye,h[15]=1,h}function Ft(h,Y,Et,Gt){var qt,de,ve,Ce,De,Ye,sr,Br,Wr,zr,mn=Y[0],In=Y[1],Qr=Y[2],Vn=Gt[0],Ta=Gt[1],Oa=Gt[2],Ea=Et[0],ca=Et[1],ga=Et[2];return Math.abs(mn-Ea)<p.EPSILON&&Math.abs(In-ca)<p.EPSILON&&Math.abs(Qr-ga)<p.EPSILON?Rr(h):(sr=mn-Ea,Br=In-ca,Wr=Qr-ga,zr=1/Math.hypot(sr,Br,Wr),sr*=zr,Br*=zr,Wr*=zr,qt=Ta*Wr-Oa*Br,de=Oa*sr-Vn*Wr,ve=Vn*Br-Ta*sr,zr=Math.hypot(qt,de,ve),zr?(zr=1/zr,qt*=zr,de*=zr,ve*=zr):(qt=0,de=0,ve=0),Ce=Br*ve-Wr*de,De=Wr*qt-sr*ve,Ye=sr*de-Br*qt,zr=Math.hypot(Ce,De,Ye),zr?(zr=1/zr,Ce*=zr,De*=zr,Ye*=zr):(Ce=0,De=0,Ye=0),h[0]=qt,h[1]=Ce,h[2]=sr,h[3]=0,h[4]=de,h[5]=De,h[6]=Br,h[7]=0,h[8]=ve,h[9]=Ye,h[10]=Wr,h[11]=0,h[12]=-(qt*mn+de*In+ve*Qr),h[13]=-(Ce*mn+De*In+Ye*Qr),h[14]=-(sr*mn+Br*In+Wr*Qr),h[15]=1,h)}function zt(h,Y,Et,Gt){var qt=Y[0],de=Y[1],ve=Y[2],Ce=Gt[0],De=Gt[1],Ye=Gt[2],sr=qt-Et[0],Br=de-Et[1],Wr=ve-Et[2],zr=sr*sr+Br*Br+Wr*Wr;zr>0&&(zr=1/Math.sqrt(zr),sr*=zr,Br*=zr,Wr*=zr);var mn=De*Wr-Ye*Br,In=Ye*sr-Ce*Wr,Qr=Ce*Br-De*sr;return zr=mn*mn+In*In+Qr*Qr,zr>0&&(zr=1/Math.sqrt(zr),mn*=zr,In*=zr,Qr*=zr),h[0]=mn,h[1]=In,h[2]=Qr,h[3]=0,h[4]=Br*Qr-Wr*In,h[5]=Wr*mn-sr*Qr,h[6]=sr*In-Br*mn,h[7]=0,h[8]=sr,h[9]=Br,h[10]=Wr,h[11]=0,h[12]=qt,h[13]=de,h[14]=ve,h[15]=1,h}function te(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"}function _e(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])}function me(h,Y,Et){return h[0]=Y[0]+Et[0],h[1]=Y[1]+Et[1],h[2]=Y[2]+Et[2],h[3]=Y[3]+Et[3],h[4]=Y[4]+Et[4],h[5]=Y[5]+Et[5],h[6]=Y[6]+Et[6],h[7]=Y[7]+Et[7],h[8]=Y[8]+Et[8],h[9]=Y[9]+Et[9],h[10]=Y[10]+Et[10],h[11]=Y[11]+Et[11],h[12]=Y[12]+Et[12],h[13]=Y[13]+Et[13],h[14]=Y[14]+Et[14],h[15]=Y[15]+Et[15],h}function Ue(h,Y,Et){return h[0]=Y[0]-Et[0],h[1]=Y[1]-Et[1],h[2]=Y[2]-Et[2],h[3]=Y[3]-Et[3],h[4]=Y[4]-Et[4],h[5]=Y[5]-Et[5],h[6]=Y[6]-Et[6],h[7]=Y[7]-Et[7],h[8]=Y[8]-Et[8],h[9]=Y[9]-Et[9],h[10]=Y[10]-Et[10],h[11]=Y[11]-Et[11],h[12]=Y[12]-Et[12],h[13]=Y[13]-Et[13],h[14]=Y[14]-Et[14],h[15]=Y[15]-Et[15],h}function fr(h,Y,Et){return h[0]=Y[0]*Et,h[1]=Y[1]*Et,h[2]=Y[2]*Et,h[3]=Y[3]*Et,h[4]=Y[4]*Et,h[5]=Y[5]*Et,h[6]=Y[6]*Et,h[7]=Y[7]*Et,h[8]=Y[8]*Et,h[9]=Y[9]*Et,h[10]=Y[10]*Et,h[11]=Y[11]*Et,h[12]=Y[12]*Et,h[13]=Y[13]*Et,h[14]=Y[14]*Et,h[15]=Y[15]*Et,h}function je(h,Y,Et,Gt){return h[0]=Y[0]+Et[0]*Gt,h[1]=Y[1]+Et[1]*Gt,h[2]=Y[2]+Et[2]*Gt,h[3]=Y[3]+Et[3]*Gt,h[4]=Y[4]+Et[4]*Gt,h[5]=Y[5]+Et[5]*Gt,h[6]=Y[6]+Et[6]*Gt,h[7]=Y[7]+Et[7]*Gt,h[8]=Y[8]+Et[8]*Gt,h[9]=Y[9]+Et[9]*Gt,h[10]=Y[10]+Et[10]*Gt,h[11]=Y[11]+Et[11]*Gt,h[12]=Y[12]+Et[12]*Gt,h[13]=Y[13]+Et[13]*Gt,h[14]=Y[14]+Et[14]*Gt,h[15]=Y[15]+Et[15]*Gt,h}function Lr(h,Y){return h[0]===Y[0]&&h[1]===Y[1]&&h[2]===Y[2]&&h[3]===Y[3]&&h[4]===Y[4]&&h[5]===Y[5]&&h[6]===Y[6]&&h[7]===Y[7]&&h[8]===Y[8]&&h[9]===Y[9]&&h[10]===Y[10]&&h[11]===Y[11]&&h[12]===Y[12]&&h[13]===Y[13]&&h[14]===Y[14]&&h[15]===Y[15]}function ln(h,Y){var Et=h[0],Gt=h[1],qt=h[2],de=h[3],ve=h[4],Ce=h[5],De=h[6],Ye=h[7],sr=h[8],Br=h[9],Wr=h[10],zr=h[11],mn=h[12],In=h[13],Qr=h[14],Vn=h[15],Ta=Y[0],Oa=Y[1],Ea=Y[2],ca=Y[3],ga=Y[4],no=Y[5],Hi=Y[6],Xi=Y[7],Zi=Y[8],Ki=Y[9],fo=Y[10],wo=Y[11],Wa=Y[12],pi=Y[13],Os=Y[14],ps=Y[15];return Math.abs(Et-Ta)<=p.EPSILON*Math.max(1,Math.abs(Et),Math.abs(Ta))&&Math.abs(Gt-Oa)<=p.EPSILON*Math.max(1,Math.abs(Gt),Math.abs(Oa))&&Math.abs(qt-Ea)<=p.EPSILON*Math.max(1,Math.abs(qt),Math.abs(Ea))&&Math.abs(de-ca)<=p.EPSILON*Math.max(1,Math.abs(de),Math.abs(ca))&&Math.abs(ve-ga)<=p.EPSILON*Math.max(1,Math.abs(ve),Math.abs(ga))&&Math.abs(Ce-no)<=p.EPSILON*Math.max(1,Math.abs(Ce),Math.abs(no))&&Math.abs(De-Hi)<=p.EPSILON*Math.max(1,Math.abs(De),Math.abs(Hi))&&Math.abs(Ye-Xi)<=p.EPSILON*Math.max(1,Math.abs(Ye),Math.abs(Xi))&&Math.abs(sr-Zi)<=p.EPSILON*Math.max(1,Math.abs(sr),Math.abs(Zi))&&Math.abs(Br-Ki)<=p.EPSILON*Math.max(1,Math.abs(Br),Math.abs(Ki))&&Math.abs(Wr-fo)<=p.EPSILON*Math.max(1,Math.abs(Wr),Math.abs(fo))&&Math.abs(zr-wo)<=p.EPSILON*Math.max(1,Math.abs(zr),Math.abs(wo))&&Math.abs(mn-Wa)<=p.EPSILON*Math.max(1,Math.abs(mn),Math.abs(Wa))&&Math.abs(In-pi)<=p.EPSILON*Math.max(1,Math.abs(In),Math.abs(pi))&&Math.abs(Qr-Os)<=p.EPSILON*Math.max(1,Math.abs(Qr),Math.abs(Os))&&Math.abs(Vn-ps)<=p.EPSILON*Math.max(1,Math.abs(Vn),Math.abs(ps))}var Ve=We,or=Ue,Ar=C(277160);function Mr(){var h=new p.ARRAY_TYPE(4);return p.ARRAY_TYPE!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[3]=0),h}function ce(h){var Y=new p.ARRAY_TYPE(4);return Y[0]=h[0],Y[1]=h[1],Y[2]=h[2],Y[3]=h[3],Y}function Xt(h,Y,Et,Gt){var qt=new p.ARRAY_TYPE(4);return qt[0]=h,qt[1]=Y,qt[2]=Et,qt[3]=Gt,qt}function he(h,Y){return h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h}function Me(h,Y,Et,Gt,qt){return h[0]=Y,h[1]=Et,h[2]=Gt,h[3]=qt,h}function be(h,Y,Et){return h[0]=Y[0]+Et[0],h[1]=Y[1]+Et[1],h[2]=Y[2]+Et[2],h[3]=Y[3]+Et[3],h}function Ne(h,Y,Et){return h[0]=Y[0]-Et[0],h[1]=Y[1]-Et[1],h[2]=Y[2]-Et[2],h[3]=Y[3]-Et[3],h}function ir(h,Y,Et){return h[0]=Y[0]*Et[0],h[1]=Y[1]*Et[1],h[2]=Y[2]*Et[2],h[3]=Y[3]*Et[3],h}function cr(h,Y,Et){return h[0]=Y[0]/Et[0],h[1]=Y[1]/Et[1],h[2]=Y[2]/Et[2],h[3]=Y[3]/Et[3],h}function en(h,Y){return h[0]=Math.ceil(Y[0]),h[1]=Math.ceil(Y[1]),h[2]=Math.ceil(Y[2]),h[3]=Math.ceil(Y[3]),h}function Dn(h,Y){return h[0]=Math.floor(Y[0]),h[1]=Math.floor(Y[1]),h[2]=Math.floor(Y[2]),h[3]=Math.floor(Y[3]),h}function un(h,Y,Et){return h[0]=Math.min(Y[0],Et[0]),h[1]=Math.min(Y[1],Et[1]),h[2]=Math.min(Y[2],Et[2]),h[3]=Math.min(Y[3],Et[3]),h}function Fn(h,Y,Et){return h[0]=Math.max(Y[0],Et[0]),h[1]=Math.max(Y[1],Et[1]),h[2]=Math.max(Y[2],Et[2]),h[3]=Math.max(Y[3],Et[3]),h}function sn(h,Y){return h[0]=Math.round(Y[0]),h[1]=Math.round(Y[1]),h[2]=Math.round(Y[2]),h[3]=Math.round(Y[3]),h}function Bn(h,Y,Et){return h[0]=Y[0]*Et,h[1]=Y[1]*Et,h[2]=Y[2]*Et,h[3]=Y[3]*Et,h}function qn(h,Y,Et,Gt){return h[0]=Y[0]+Et[0]*Gt,h[1]=Y[1]+Et[1]*Gt,h[2]=Y[2]+Et[2]*Gt,h[3]=Y[3]+Et[3]*Gt,h}function sa(h,Y){var Et=Y[0]-h[0],Gt=Y[1]-h[1],qt=Y[2]-h[2],de=Y[3]-h[3];return Math.hypot(Et,Gt,qt,de)}function oa(h,Y){var Et=Y[0]-h[0],Gt=Y[1]-h[1],qt=Y[2]-h[2],de=Y[3]-h[3];return Et*Et+Gt*Gt+qt*qt+de*de}function Ti(h){var Y=h[0],Et=h[1],Gt=h[2],qt=h[3];return Math.hypot(Y,Et,Gt,qt)}function oi(h){var Y=h[0],Et=h[1],Gt=h[2],qt=h[3];return Y*Y+Et*Et+Gt*Gt+qt*qt}function Va(h,Y){return h[0]=-Y[0],h[1]=-Y[1],h[2]=-Y[2],h[3]=-Y[3],h}function ti(h,Y){return h[0]=1/Y[0],h[1]=1/Y[1],h[2]=1/Y[2],h[3]=1/Y[3],h}function zi(h,Y){var Et=Y[0],Gt=Y[1],qt=Y[2],de=Y[3],ve=Et*Et+Gt*Gt+qt*qt+de*de;return ve>0&&(ve=1/Math.sqrt(ve)),h[0]=Et*ve,h[1]=Gt*ve,h[2]=qt*ve,h[3]=de*ve,h}function si(h,Y){return h[0]*Y[0]+h[1]*Y[1]+h[2]*Y[2]+h[3]*Y[3]}function ui(h,Y,Et,Gt){var qt=Et[0]*Gt[1]-Et[1]*Gt[0],de=Et[0]*Gt[2]-Et[2]*Gt[0],ve=Et[0]*Gt[3]-Et[3]*Gt[0],Ce=Et[1]*Gt[2]-Et[2]*Gt[1],De=Et[1]*Gt[3]-Et[3]*Gt[1],Ye=Et[2]*Gt[3]-Et[3]*Gt[2],sr=Y[0],Br=Y[1],Wr=Y[2],zr=Y[3];return h[0]=Br*Ye-Wr*De+zr*Ce,h[1]=-(sr*Ye)+Wr*ve-zr*de,h[2]=sr*De-Br*ve+zr*qt,h[3]=-(sr*Ce)+Br*de-Wr*qt,h}function ba(h,Y,Et,Gt){var qt=Y[0],de=Y[1],ve=Y[2],Ce=Y[3];return h[0]=qt+Gt*(Et[0]-qt),h[1]=de+Gt*(Et[1]-de),h[2]=ve+Gt*(Et[2]-ve),h[3]=Ce+Gt*(Et[3]-Ce),h}function qi(h,Y){Y=Y||1;var Et,Gt,qt,de,ve,Ce;do Et=p.RANDOM()*2-1,Gt=p.RANDOM()*2-1,ve=Et*Et+Gt*Gt;while(ve>=1);do qt=p.RANDOM()*2-1,de=p.RANDOM()*2-1,Ce=qt*qt+de*de;while(Ce>=1);var De=Math.sqrt((1-ve)/Ce);return h[0]=Y*Et,h[1]=Y*Gt,h[2]=Y*qt*De,h[3]=Y*de*De,h}function Co(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3];return h[0]=Et[0]*Gt+Et[4]*qt+Et[8]*de+Et[12]*ve,h[1]=Et[1]*Gt+Et[5]*qt+Et[9]*de+Et[13]*ve,h[2]=Et[2]*Gt+Et[6]*qt+Et[10]*de+Et[14]*ve,h[3]=Et[3]*Gt+Et[7]*qt+Et[11]*de+Et[15]*ve,h}function Ba(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Et[0],Ce=Et[1],De=Et[2],Ye=Et[3],sr=Ye*Gt+Ce*de-De*qt,Br=Ye*qt+De*Gt-ve*de,Wr=Ye*de+ve*qt-Ce*Gt,zr=-ve*Gt-Ce*qt-De*de;return h[0]=sr*Ye+zr*-ve+Br*-De-Wr*-Ce,h[1]=Br*Ye+zr*-Ce+Wr*-ve-sr*-De,h[2]=Wr*Ye+zr*-De+sr*-Ce-Br*-ve,h[3]=Y[3],h}function Ji(h){return h[0]=0,h[1]=0,h[2]=0,h[3]=0,h}function uo(h){return"vec4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"}function to(h,Y){return h[0]===Y[0]&&h[1]===Y[1]&&h[2]===Y[2]&&h[3]===Y[3]}function gi(h,Y){var Et=h[0],Gt=h[1],qt=h[2],de=h[3],ve=Y[0],Ce=Y[1],De=Y[2],Ye=Y[3];return Math.abs(Et-ve)<=p.EPSILON*Math.max(1,Math.abs(Et),Math.abs(ve))&&Math.abs(Gt-Ce)<=p.EPSILON*Math.max(1,Math.abs(Gt),Math.abs(Ce))&&Math.abs(qt-De)<=p.EPSILON*Math.max(1,Math.abs(qt),Math.abs(De))&&Math.abs(de-Ye)<=p.EPSILON*Math.max(1,Math.abs(de),Math.abs(Ye))}var Si=Ne,Po=ir,bo=cr,Za=sa,Mi=oa,Hn=Ti,ee=oi,fe=function(){var h=Mr();return function(Y,Et,Gt,qt,de,ve){var Ce,De;for(Et||(Et=4),Gt||(Gt=0),qt?De=Math.min(qt*Et+Gt,Y.length):De=Y.length,Ce=Gt;Ce<De;Ce+=Et)h[0]=Y[Ce],h[1]=Y[Ce+1],h[2]=Y[Ce+2],h[3]=Y[Ce+3],de(h,h,ve),Y[Ce]=h[0],Y[Ce+1]=h[1],Y[Ce+2]=h[2],Y[Ce+3]=h[3];return Y}}();function Pe(){var h=new p.ARRAY_TYPE(4);return p.ARRAY_TYPE!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0),h[3]=1,h}function nr(h){return h[0]=0,h[1]=0,h[2]=0,h[3]=1,h}function _r(h,Y,Et){Et=Et*.5;var Gt=Math.sin(Et);return h[0]=Gt*Y[0],h[1]=Gt*Y[1],h[2]=Gt*Y[2],h[3]=Math.cos(Et),h}function Sr(h,Y){var Et=Math.acos(Y[3])*2,Gt=Math.sin(Et/2);return Gt>p.EPSILON?(h[0]=Y[0]/Gt,h[1]=Y[1]/Gt,h[2]=Y[2]/Gt):(h[0]=1,h[1]=0,h[2]=0),Et}function br(h,Y){var Et=Ii(h,Y);return Math.acos(2*Et*Et-1)}function Kr(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Et[0],De=Et[1],Ye=Et[2],sr=Et[3];return h[0]=Gt*sr+ve*Ce+qt*Ye-de*De,h[1]=qt*sr+ve*De+de*Ce-Gt*Ye,h[2]=de*sr+ve*Ye+Gt*De-qt*Ce,h[3]=ve*sr-Gt*Ce-qt*De-de*Ye,h}function cn(h,Y,Et){Et*=.5;var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Math.sin(Et),De=Math.cos(Et);return h[0]=Gt*De+ve*Ce,h[1]=qt*De+de*Ce,h[2]=de*De-qt*Ce,h[3]=ve*De-Gt*Ce,h}function Mn(h,Y,Et){Et*=.5;var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Math.sin(Et),De=Math.cos(Et);return h[0]=Gt*De-de*Ce,h[1]=qt*De+ve*Ce,h[2]=de*De+Gt*Ce,h[3]=ve*De-qt*Ce,h}function Kn(h,Y,Et){Et*=.5;var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Math.sin(Et),De=Math.cos(Et);return h[0]=Gt*De+qt*Ce,h[1]=qt*De-Gt*Ce,h[2]=de*De+ve*Ce,h[3]=ve*De-de*Ce,h}function Wn(h,Y){var Et=Y[0],Gt=Y[1],qt=Y[2];return h[0]=Et,h[1]=Gt,h[2]=qt,h[3]=Math.sqrt(Math.abs(1-Et*Et-Gt*Gt-qt*qt)),h}function ra(h,Y){var Et=Y[0],Gt=Y[1],qt=Y[2],de=Y[3],ve=Math.sqrt(Et*Et+Gt*Gt+qt*qt),Ce=Math.exp(de),De=ve>0?Ce*Math.sin(ve)/ve:0;return h[0]=Et*De,h[1]=Gt*De,h[2]=qt*De,h[3]=Ce*Math.cos(ve),h}function na(h,Y){var Et=Y[0],Gt=Y[1],qt=Y[2],de=Y[3],ve=Math.sqrt(Et*Et+Gt*Gt+qt*qt),Ce=ve>0?Math.atan2(ve,de)/ve:0;return h[0]=Et*Ce,h[1]=Gt*Ce,h[2]=qt*Ce,h[3]=.5*Math.log(Et*Et+Gt*Gt+qt*qt+de*de),h}function Ua(h,Y,Et){return na(h,Y),Ri(h,h,Et),ra(h,h),h}function ua(h,Y,Et,Gt){var qt=Y[0],de=Y[1],ve=Y[2],Ce=Y[3],De=Et[0],Ye=Et[1],sr=Et[2],Br=Et[3],Wr,zr,mn,In,Qr;return zr=qt*De+de*Ye+ve*sr+Ce*Br,zr<0&&(zr=-zr,De=-De,Ye=-Ye,sr=-sr,Br=-Br),1-zr>p.EPSILON?(Wr=Math.acos(zr),mn=Math.sin(Wr),In=Math.sin((1-Gt)*Wr)/mn,Qr=Math.sin(Gt*Wr)/mn):(In=1-Gt,Qr=Gt),h[0]=In*qt+Qr*De,h[1]=In*de+Qr*Ye,h[2]=In*ve+Qr*sr,h[3]=In*Ce+Qr*Br,h}function Qn(h){var Y=p.RANDOM(),Et=p.RANDOM(),Gt=p.RANDOM(),qt=Math.sqrt(1-Y),de=Math.sqrt(Y);return h[0]=qt*Math.sin(2*Math.PI*Et),h[1]=qt*Math.cos(2*Math.PI*Et),h[2]=de*Math.sin(2*Math.PI*Gt),h[3]=de*Math.cos(2*Math.PI*Gt),h}function Fa(h,Y){var Et=Y[0],Gt=Y[1],qt=Y[2],de=Y[3],ve=Et*Et+Gt*Gt+qt*qt+de*de,Ce=ve?1/ve:0;return h[0]=-Et*Ce,h[1]=-Gt*Ce,h[2]=-qt*Ce,h[3]=de*Ce,h}function Da(h,Y){return h[0]=-Y[0],h[1]=-Y[1],h[2]=-Y[2],h[3]=Y[3],h}function xa(h,Y){var Et=Y[0]+Y[4]+Y[8],Gt;if(Et>0)Gt=Math.sqrt(Et+1),h[3]=.5*Gt,Gt=.5/Gt,h[0]=(Y[5]-Y[7])*Gt,h[1]=(Y[6]-Y[2])*Gt,h[2]=(Y[1]-Y[3])*Gt;else{var qt=0;Y[4]>Y[0]&&(qt=1),Y[8]>Y[qt*3+qt]&&(qt=2);var de=(qt+1)%3,ve=(qt+2)%3;Gt=Math.sqrt(Y[qt*3+qt]-Y[de*3+de]-Y[ve*3+ve]+1),h[qt]=.5*Gt,Gt=.5/Gt,h[3]=(Y[de*3+ve]-Y[ve*3+de])*Gt,h[de]=(Y[de*3+qt]+Y[qt*3+de])*Gt,h[ve]=(Y[ve*3+qt]+Y[qt*3+ve])*Gt}return h}function li(h,Y,Et,Gt){var qt=.5*Math.PI/180;Y*=qt,Et*=qt,Gt*=qt;var de=Math.sin(Y),ve=Math.cos(Y),Ce=Math.sin(Et),De=Math.cos(Et),Ye=Math.sin(Gt),sr=Math.cos(Gt);return h[0]=de*De*sr-ve*Ce*Ye,h[1]=ve*Ce*sr+de*De*Ye,h[2]=ve*De*Ye-de*Ce*sr,h[3]=ve*De*sr+de*Ce*Ye,h}function Qa(h){return"quat("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"}var Na=ce,_a=Xt,va=he,di=Me,ni=be,hi=Kr,Ri=Bn,Ii=si,Gi=ba,Ao=Ti,Oo=Ao,Ni=oi,Ra=Ni,mi=zi,ki=to,Sa=gi,Ui=function(){var h=Ar.create(),Y=Ar.fromValues(1,0,0),Et=Ar.fromValues(0,1,0);return function(Gt,qt,de){var ve=Ar.dot(qt,de);return ve<-.999999?(Ar.cross(h,Y,qt),Ar.len(h)<1e-6&&Ar.cross(h,Et,qt),Ar.normalize(h,h),_r(Gt,h,Math.PI),Gt):ve>.999999?(Gt[0]=0,Gt[1]=0,Gt[2]=0,Gt[3]=1,Gt):(Ar.cross(h,qt,de),Gt[0]=h[0],Gt[1]=h[1],Gt[2]=h[2],Gt[3]=1+ve,mi(Gt,Gt))}}(),lo=function(){var h=Pe(),Y=Pe();return function(Et,Gt,qt,de,ve,Ce){return ua(h,Gt,ve,Ce),ua(Y,qt,de,Ce),ua(Et,h,Y,2*Ce*(1-Ce)),Et}}(),Ai=function(){var h=Tr.create();return function(Y,Et,Gt,qt){return h[0]=Gt[0],h[3]=Gt[1],h[6]=Gt[2],h[1]=qt[0],h[4]=qt[1],h[7]=qt[2],h[2]=-Et[0],h[5]=-Et[1],h[8]=-Et[2],mi(Y,xa(Y,h))}}();function Lo(){var h=new p.ARRAY_TYPE(8);return p.ARRAY_TYPE!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[4]=0,h[5]=0,h[6]=0,h[7]=0),h[3]=1,h}function yi(h){var Y=new p.ARRAY_TYPE(8);return Y[0]=h[0],Y[1]=h[1],Y[2]=h[2],Y[3]=h[3],Y[4]=h[4],Y[5]=h[5],Y[6]=h[6],Y[7]=h[7],Y}function co(h,Y,Et,Gt,qt,de,ve,Ce){var De=new p.ARRAY_TYPE(8);return De[0]=h,De[1]=Y,De[2]=Et,De[3]=Gt,De[4]=qt,De[5]=de,De[6]=ve,De[7]=Ce,De}function Go(h,Y,Et,Gt,qt,de,ve){var Ce=new p.ARRAY_TYPE(8);Ce[0]=h,Ce[1]=Y,Ce[2]=Et,Ce[3]=Gt;var De=qt*.5,Ye=de*.5,sr=ve*.5;return Ce[4]=De*Gt+Ye*Et-sr*Y,Ce[5]=Ye*Gt+sr*h-De*Et,Ce[6]=sr*Gt+De*Y-Ye*h,Ce[7]=-De*h-Ye*Y-sr*Et,Ce}function ts(h,Y,Et){var Gt=Et[0]*.5,qt=Et[1]*.5,de=Et[2]*.5,ve=Y[0],Ce=Y[1],De=Y[2],Ye=Y[3];return h[0]=ve,h[1]=Ce,h[2]=De,h[3]=Ye,h[4]=Gt*Ye+qt*De-de*Ce,h[5]=qt*Ye+de*ve-Gt*De,h[6]=de*Ye+Gt*Ce-qt*ve,h[7]=-Gt*ve-qt*Ce-de*De,h}function Wi(h,Y){return h[0]=0,h[1]=0,h[2]=0,h[3]=1,h[4]=Y[0]*.5,h[5]=Y[1]*.5,h[6]=Y[2]*.5,h[7]=0,h}function Uo(h,Y){return h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h[4]=0,h[5]=0,h[6]=0,h[7]=0,h}function Wo(h,Y){var Et=Pe();Nt(Et,Y);var Gt=new p.ARRAY_TYPE(3);return Qt(Gt,Y),ts(h,Et,Gt),h}function fs(h,Y){return h[0]=Y[0],h[1]=Y[1],h[2]=Y[2],h[3]=Y[3],h[4]=Y[4],h[5]=Y[5],h[6]=Y[6],h[7]=Y[7],h}function ha(h){return h[0]=0,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,h[6]=0,h[7]=0,h}function Yt(h,Y,Et,Gt,qt,de,ve,Ce,De){return h[0]=Y,h[1]=Et,h[2]=Gt,h[3]=qt,h[4]=de,h[5]=ve,h[6]=Ce,h[7]=De,h}var Le=va;function qe(h,Y){return h[0]=Y[4],h[1]=Y[5],h[2]=Y[6],h[3]=Y[7],h}var mr=va;function Zr(h,Y){return h[4]=Y[0],h[5]=Y[1],h[6]=Y[2],h[7]=Y[3],h}function fn(h,Y){var Et=Y[4],Gt=Y[5],qt=Y[6],de=Y[7],ve=-Y[0],Ce=-Y[1],De=-Y[2],Ye=Y[3];return h[0]=(Et*Ye+de*ve+Gt*De-qt*Ce)*2,h[1]=(Gt*Ye+de*Ce+qt*ve-Et*De)*2,h[2]=(qt*Ye+de*De+Et*Ce-Gt*ve)*2,h}function zn(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Et[0]*.5,De=Et[1]*.5,Ye=Et[2]*.5,sr=Y[4],Br=Y[5],Wr=Y[6],zr=Y[7];return h[0]=Gt,h[1]=qt,h[2]=de,h[3]=ve,h[4]=ve*Ce+qt*Ye-de*De+sr,h[5]=ve*De+de*Ce-Gt*Ye+Br,h[6]=ve*Ye+Gt*De-qt*Ce+Wr,h[7]=-Gt*Ce-qt*De-de*Ye+zr,h}function Ia(h,Y,Et){var Gt=-Y[0],qt=-Y[1],de=-Y[2],ve=Y[3],Ce=Y[4],De=Y[5],Ye=Y[6],sr=Y[7],Br=Ce*ve+sr*Gt+De*de-Ye*qt,Wr=De*ve+sr*qt+Ye*Gt-Ce*de,zr=Ye*ve+sr*de+Ce*qt-De*Gt,mn=sr*ve-Ce*Gt-De*qt-Ye*de;return cn(h,Y,Et),Gt=h[0],qt=h[1],de=h[2],ve=h[3],h[4]=Br*ve+mn*Gt+Wr*de-zr*qt,h[5]=Wr*ve+mn*qt+zr*Gt-Br*de,h[6]=zr*ve+mn*de+Br*qt-Wr*Gt,h[7]=mn*ve-Br*Gt-Wr*qt-zr*de,h}function vi(h,Y,Et){var Gt=-Y[0],qt=-Y[1],de=-Y[2],ve=Y[3],Ce=Y[4],De=Y[5],Ye=Y[6],sr=Y[7],Br=Ce*ve+sr*Gt+De*de-Ye*qt,Wr=De*ve+sr*qt+Ye*Gt-Ce*de,zr=Ye*ve+sr*de+Ce*qt-De*Gt,mn=sr*ve-Ce*Gt-De*qt-Ye*de;return Mn(h,Y,Et),Gt=h[0],qt=h[1],de=h[2],ve=h[3],h[4]=Br*ve+mn*Gt+Wr*de-zr*qt,h[5]=Wr*ve+mn*qt+zr*Gt-Br*de,h[6]=zr*ve+mn*de+Br*qt-Wr*Gt,h[7]=mn*ve-Br*Gt-Wr*qt-zr*de,h}function eo(h,Y,Et){var Gt=-Y[0],qt=-Y[1],de=-Y[2],ve=Y[3],Ce=Y[4],De=Y[5],Ye=Y[6],sr=Y[7],Br=Ce*ve+sr*Gt+De*de-Ye*qt,Wr=De*ve+sr*qt+Ye*Gt-Ce*de,zr=Ye*ve+sr*de+Ce*qt-De*Gt,mn=sr*ve-Ce*Gt-De*qt-Ye*de;return Kn(h,Y,Et),Gt=h[0],qt=h[1],de=h[2],ve=h[3],h[4]=Br*ve+mn*Gt+Wr*de-zr*qt,h[5]=Wr*ve+mn*qt+zr*Gt-Br*de,h[6]=zr*ve+mn*de+Br*qt-Wr*Gt,h[7]=mn*ve-Br*Gt-Wr*qt-zr*de,h}function xo(h,Y,Et){var Gt=Et[0],qt=Et[1],de=Et[2],ve=Et[3],Ce=Y[0],De=Y[1],Ye=Y[2],sr=Y[3];return h[0]=Ce*ve+sr*Gt+De*de-Ye*qt,h[1]=De*ve+sr*qt+Ye*Gt-Ce*de,h[2]=Ye*ve+sr*de+Ce*qt-De*Gt,h[3]=sr*ve-Ce*Gt-De*qt-Ye*de,Ce=Y[4],De=Y[5],Ye=Y[6],sr=Y[7],h[4]=Ce*ve+sr*Gt+De*de-Ye*qt,h[5]=De*ve+sr*qt+Ye*Gt-Ce*de,h[6]=Ye*ve+sr*de+Ce*qt-De*Gt,h[7]=sr*ve-Ce*Gt-De*qt-Ye*de,h}function ds(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Et[0],De=Et[1],Ye=Et[2],sr=Et[3];return h[0]=Gt*sr+ve*Ce+qt*Ye-de*De,h[1]=qt*sr+ve*De+de*Ce-Gt*Ye,h[2]=de*sr+ve*Ye+Gt*De-qt*Ce,h[3]=ve*sr-Gt*Ce-qt*De-de*Ye,Ce=Et[4],De=Et[5],Ye=Et[6],sr=Et[7],h[4]=Gt*sr+ve*Ce+qt*Ye-de*De,h[5]=qt*sr+ve*De+de*Ce-Gt*Ye,h[6]=de*sr+ve*Ye+Gt*De-qt*Ce,h[7]=ve*sr-Gt*Ce-qt*De-de*Ye,h}function Di(h,Y,Et,Gt){if(Math.abs(Gt)<p.EPSILON)return fs(h,Y);var qt=Math.hypot(Et[0],Et[1],Et[2]);Gt=Gt*.5;var de=Math.sin(Gt),ve=de*Et[0]/qt,Ce=de*Et[1]/qt,De=de*Et[2]/qt,Ye=Math.cos(Gt),sr=Y[0],Br=Y[1],Wr=Y[2],zr=Y[3];h[0]=sr*Ye+zr*ve+Br*De-Wr*Ce,h[1]=Br*Ye+zr*Ce+Wr*ve-sr*De,h[2]=Wr*Ye+zr*De+sr*Ce-Br*ve,h[3]=zr*Ye-sr*ve-Br*Ce-Wr*De;var mn=Y[4],In=Y[5],Qr=Y[6],Vn=Y[7];return h[4]=mn*Ye+Vn*ve+In*De-Qr*Ce,h[5]=In*Ye+Vn*Ce+Qr*ve-mn*De,h[6]=Qr*Ye+Vn*De+mn*Ce-In*ve,h[7]=Vn*Ye-mn*ve-In*Ce-Qr*De,h}function ro(h,Y,Et){return h[0]=Y[0]+Et[0],h[1]=Y[1]+Et[1],h[2]=Y[2]+Et[2],h[3]=Y[3]+Et[3],h[4]=Y[4]+Et[4],h[5]=Y[5]+Et[5],h[6]=Y[6]+Et[6],h[7]=Y[7]+Et[7],h}function Yo(h,Y,Et){var Gt=Y[0],qt=Y[1],de=Y[2],ve=Y[3],Ce=Et[4],De=Et[5],Ye=Et[6],sr=Et[7],Br=Y[4],Wr=Y[5],zr=Y[6],mn=Y[7],In=Et[0],Qr=Et[1],Vn=Et[2],Ta=Et[3];return h[0]=Gt*Ta+ve*In+qt*Vn-de*Qr,h[1]=qt*Ta+ve*Qr+de*In-Gt*Vn,h[2]=de*Ta+ve*Vn+Gt*Qr-qt*In,h[3]=ve*Ta-Gt*In-qt*Qr-de*Vn,h[4]=Gt*sr+ve*Ce+qt*Ye-de*De+Br*Ta+mn*In+Wr*Vn-zr*Qr,h[5]=qt*sr+ve*De+de*Ce-Gt*Ye+Wr*Ta+mn*Qr+zr*In-Br*Vn,h[6]=de*sr+ve*Ye+Gt*De-qt*Ce+zr*Ta+mn*Vn+Br*Qr-Wr*In,h[7]=ve*sr-Gt*Ce-qt*De-de*Ye+mn*Ta-Br*In-Wr*Qr-zr*Vn,h}var hs=Yo;function qo(h,Y,Et){return h[0]=Y[0]*Et,h[1]=Y[1]*Et,h[2]=Y[2]*Et,h[3]=Y[3]*Et,h[4]=Y[4]*Et,h[5]=Y[5]*Et,h[6]=Y[6]*Et,h[7]=Y[7]*Et,h}var Es=Ii;function As(h,Y,Et,Gt){var qt=1-Gt;return Es(Y,Et)<0&&(Gt=-Gt),h[0]=Y[0]*qt+Et[0]*Gt,h[1]=Y[1]*qt+Et[1]*Gt,h[2]=Y[2]*qt+Et[2]*Gt,h[3]=Y[3]*qt+Et[3]*Gt,h[4]=Y[4]*qt+Et[4]*Gt,h[5]=Y[5]*qt+Et[5]*Gt,h[6]=Y[6]*qt+Et[6]*Gt,h[7]=Y[7]*qt+Et[7]*Gt,h}function ws(h,Y){var Et=vs(Y);return h[0]=-Y[0]/Et,h[1]=-Y[1]/Et,h[2]=-Y[2]/Et,h[3]=Y[3]/Et,h[4]=-Y[4]/Et,h[5]=-Y[5]/Et,h[6]=-Y[6]/Et,h[7]=Y[7]/Et,h}function nu(h,Y){return h[0]=-Y[0],h[1]=-Y[1],h[2]=-Y[2],h[3]=Y[3],h[4]=-Y[4],h[5]=-Y[5],h[6]=-Y[6],h[7]=Y[7],h}var Ko=Ao,is=Ko,vs=Ni,No=vs;function xu(h,Y){var Et=vs(Y);if(Et>0){Et=Math.sqrt(Et);var Gt=Y[0]/Et,qt=Y[1]/Et,de=Y[2]/Et,ve=Y[3]/Et,Ce=Y[4],De=Y[5],Ye=Y[6],sr=Y[7],Br=Gt*Ce+qt*De+de*Ye+ve*sr;h[0]=Gt,h[1]=qt,h[2]=de,h[3]=ve,h[4]=(Ce-Gt*Br)/Et,h[5]=(De-qt*Br)/Et,h[6]=(Ye-de*Br)/Et,h[7]=(sr-ve*Br)/Et}return h}function Eu(h){return"quat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+")"}function Yi(h,Y){return h[0]===Y[0]&&h[1]===Y[1]&&h[2]===Y[2]&&h[3]===Y[3]&&h[4]===Y[4]&&h[5]===Y[5]&&h[6]===Y[6]&&h[7]===Y[7]}function Eo(h,Y){var Et=h[0],Gt=h[1],qt=h[2],de=h[3],ve=h[4],Ce=h[5],De=h[6],Ye=h[7],sr=Y[0],Br=Y[1],Wr=Y[2],zr=Y[3],mn=Y[4],In=Y[5],Qr=Y[6],Vn=Y[7];return Math.abs(Et-sr)<=p.EPSILON*Math.max(1,Math.abs(Et),Math.abs(sr))&&Math.abs(Gt-Br)<=p.EPSILON*Math.max(1,Math.abs(Gt),Math.abs(Br))&&Math.abs(qt-Wr)<=p.EPSILON*Math.max(1,Math.abs(qt),Math.abs(Wr))&&Math.abs(de-zr)<=p.EPSILON*Math.max(1,Math.abs(de),Math.abs(zr))&&Math.abs(ve-mn)<=p.EPSILON*Math.max(1,Math.abs(ve),Math.abs(mn))&&Math.abs(Ce-In)<=p.EPSILON*Math.max(1,Math.abs(Ce),Math.abs(In))&&Math.abs(De-Qr)<=p.EPSILON*Math.max(1,Math.abs(De),Math.abs(Qr))&&Math.abs(Ye-Vn)<=p.EPSILON*Math.max(1,Math.abs(Ye),Math.abs(Vn))}var Ro=C(631437)},935600:function(ze,G,C){"use strict";C.r(G),C.d(G,{add:function(){return et},adjoint:function(){return y},clone:function(){return M},copy:function(){return L},create:function(){return R},determinant:function(){return T},equals:function(){return Bt},exactEquals:function(){return ft},frob:function(){return q},fromMat2d:function(){return z},fromMat4:function(){return S},fromQuat:function(){return U},fromRotation:function(){return W},fromScaling:function(){return X},fromTranslation:function(){return f},fromValues:function(){return P},identity:function(){return g},invert:function(){return x},mul:function(){return St},multiply:function(){return E},multiplyScalar:function(){return ot},multiplyScalarAndAdd:function(){return mt},normalFromMat4:function(){return j},projection:function(){return V},rotate:function(){return k},scale:function(){return b},set:function(){return p},str:function(){return J},sub:function(){return wt},subtract:function(){return st},translate:function(){return D},transpose:function(){return w}});var m=C(73633);function R(){var H=new m.ARRAY_TYPE(9);return m.ARRAY_TYPE!=Float32Array&&(H[1]=0,H[2]=0,H[3]=0,H[5]=0,H[6]=0,H[7]=0),H[0]=1,H[4]=1,H[8]=1,H}function S(H,Q){return H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[4],H[4]=Q[5],H[5]=Q[6],H[6]=Q[8],H[7]=Q[9],H[8]=Q[10],H}function M(H){var Q=new m.ARRAY_TYPE(9);return Q[0]=H[0],Q[1]=H[1],Q[2]=H[2],Q[3]=H[3],Q[4]=H[4],Q[5]=H[5],Q[6]=H[6],Q[7]=H[7],Q[8]=H[8],Q}function L(H,Q){return H[0]=Q[0],H[1]=Q[1],H[2]=Q[2],H[3]=Q[3],H[4]=Q[4],H[5]=Q[5],H[6]=Q[6],H[7]=Q[7],H[8]=Q[8],H}function P(H,Q,bt,Ct,nt,dt,Tt,At,xt){var Dt=new m.ARRAY_TYPE(9);return Dt[0]=H,Dt[1]=Q,Dt[2]=bt,Dt[3]=Ct,Dt[4]=nt,Dt[5]=dt,Dt[6]=Tt,Dt[7]=At,Dt[8]=xt,Dt}function p(H,Q,bt,Ct,nt,dt,Tt,At,xt,Dt){return H[0]=Q,H[1]=bt,H[2]=Ct,H[3]=nt,H[4]=dt,H[5]=Tt,H[6]=At,H[7]=xt,H[8]=Dt,H}function g(H){return H[0]=1,H[1]=0,H[2]=0,H[3]=0,H[4]=1,H[5]=0,H[6]=0,H[7]=0,H[8]=1,H}function w(H,Q){if(H===Q){var bt=Q[1],Ct=Q[2],nt=Q[5];H[1]=Q[3],H[2]=Q[6],H[3]=bt,H[5]=Q[7],H[6]=Ct,H[7]=nt}else H[0]=Q[0],H[1]=Q[3],H[2]=Q[6],H[3]=Q[1],H[4]=Q[4],H[5]=Q[7],H[6]=Q[2],H[7]=Q[5],H[8]=Q[8];return H}function x(H,Q){var bt=Q[0],Ct=Q[1],nt=Q[2],dt=Q[3],Tt=Q[4],At=Q[5],xt=Q[6],Dt=Q[7],Ht=Q[8],se=Ht*Tt-At*Dt,re=-Ht*dt+At*xt,It=Dt*dt-Tt*xt,ne=bt*se+Ct*re+nt*It;return ne?(ne=1/ne,H[0]=se*ne,H[1]=(-Ht*Ct+nt*Dt)*ne,H[2]=(At*Ct-nt*Tt)*ne,H[3]=re*ne,H[4]=(Ht*bt-nt*xt)*ne,H[5]=(-At*bt+nt*dt)*ne,H[6]=It*ne,H[7]=(-Dt*bt+Ct*xt)*ne,H[8]=(Tt*bt-Ct*dt)*ne,H):null}function y(H,Q){var bt=Q[0],Ct=Q[1],nt=Q[2],dt=Q[3],Tt=Q[4],At=Q[5],xt=Q[6],Dt=Q[7],Ht=Q[8];return H[0]=Tt*Ht-At*Dt,H[1]=nt*Dt-Ct*Ht,H[2]=Ct*At-nt*Tt,H[3]=At*xt-dt*Ht,H[4]=bt*Ht-nt*xt,H[5]=nt*dt-bt*At,H[6]=dt*Dt-Tt*xt,H[7]=Ct*xt-bt*Dt,H[8]=bt*Tt-Ct*dt,H}function T(H){var Q=H[0],bt=H[1],Ct=H[2],nt=H[3],dt=H[4],Tt=H[5],At=H[6],xt=H[7],Dt=H[8];return Q*(Dt*dt-Tt*xt)+bt*(-Dt*nt+Tt*At)+Ct*(xt*nt-dt*At)}function E(H,Q,bt){var Ct=Q[0],nt=Q[1],dt=Q[2],Tt=Q[3],At=Q[4],xt=Q[5],Dt=Q[6],Ht=Q[7],se=Q[8],re=bt[0],It=bt[1],ne=bt[2],pe=bt[3],Wt=bt[4],Jt=bt[5],$t=bt[6],Kt=bt[7],ue=bt[8];return H[0]=re*Ct+It*Tt+ne*Dt,H[1]=re*nt+It*At+ne*Ht,H[2]=re*dt+It*xt+ne*se,H[3]=pe*Ct+Wt*Tt+Jt*Dt,H[4]=pe*nt+Wt*At+Jt*Ht,H[5]=pe*dt+Wt*xt+Jt*se,H[6]=$t*Ct+Kt*Tt+ue*Dt,H[7]=$t*nt+Kt*At+ue*Ht,H[8]=$t*dt+Kt*xt+ue*se,H}function D(H,Q,bt){var Ct=Q[0],nt=Q[1],dt=Q[2],Tt=Q[3],At=Q[4],xt=Q[5],Dt=Q[6],Ht=Q[7],se=Q[8],re=bt[0],It=bt[1];return H[0]=Ct,H[1]=nt,H[2]=dt,H[3]=Tt,H[4]=At,H[5]=xt,H[6]=re*Ct+It*Tt+Dt,H[7]=re*nt+It*At+Ht,H[8]=re*dt+It*xt+se,H}function k(H,Q,bt){var Ct=Q[0],nt=Q[1],dt=Q[2],Tt=Q[3],At=Q[4],xt=Q[5],Dt=Q[6],Ht=Q[7],se=Q[8],re=Math.sin(bt),It=Math.cos(bt);return H[0]=It*Ct+re*Tt,H[1]=It*nt+re*At,H[2]=It*dt+re*xt,H[3]=It*Tt-re*Ct,H[4]=It*At-re*nt,H[5]=It*xt-re*dt,H[6]=Dt,H[7]=Ht,H[8]=se,H}function b(H,Q,bt){var Ct=bt[0],nt=bt[1];return H[0]=Ct*Q[0],H[1]=Ct*Q[1],H[2]=Ct*Q[2],H[3]=nt*Q[3],H[4]=nt*Q[4],H[5]=nt*Q[5],H[6]=Q[6],H[7]=Q[7],H[8]=Q[8],H}function f(H,Q){return H[0]=1,H[1]=0,H[2]=0,H[3]=0,H[4]=1,H[5]=0,H[6]=Q[0],H[7]=Q[1],H[8]=1,H}function W(H,Q){var bt=Math.sin(Q),Ct=Math.cos(Q);return H[0]=Ct,H[1]=bt,H[2]=0,H[3]=-bt,H[4]=Ct,H[5]=0,H[6]=0,H[7]=0,H[8]=1,H}function X(H,Q){return H[0]=Q[0],H[1]=0,H[2]=0,H[3]=0,H[4]=Q[1],H[5]=0,H[6]=0,H[7]=0,H[8]=1,H}function z(H,Q){return H[0]=Q[0],H[1]=Q[1],H[2]=0,H[3]=Q[2],H[4]=Q[3],H[5]=0,H[6]=Q[4],H[7]=Q[5],H[8]=1,H}function U(H,Q){var bt=Q[0],Ct=Q[1],nt=Q[2],dt=Q[3],Tt=bt+bt,At=Ct+Ct,xt=nt+nt,Dt=bt*Tt,Ht=Ct*Tt,se=Ct*At,re=nt*Tt,It=nt*At,ne=nt*xt,pe=dt*Tt,Wt=dt*At,Jt=dt*xt;return H[0]=1-se-ne,H[3]=Ht-Jt,H[6]=re+Wt,H[1]=Ht+Jt,H[4]=1-Dt-ne,H[7]=It-pe,H[2]=re-Wt,H[5]=It+pe,H[8]=1-Dt-se,H}function j(H,Q){var bt=Q[0],Ct=Q[1],nt=Q[2],dt=Q[3],Tt=Q[4],At=Q[5],xt=Q[6],Dt=Q[7],Ht=Q[8],se=Q[9],re=Q[10],It=Q[11],ne=Q[12],pe=Q[13],Wt=Q[14],Jt=Q[15],$t=bt*At-Ct*Tt,Kt=bt*xt-nt*Tt,ue=bt*Dt-dt*Tt,Se=Ct*xt-nt*At,Pt=Ct*Dt-dt*At,Fe=nt*Dt-dt*xt,vr=Ht*pe-se*ne,Tr=Ht*Wt-re*ne,Or=Ht*Jt-It*ne,Fr=se*Wt-re*pe,nn=se*Jt-It*pe,an=re*Jt-It*Wt,er=$t*an-Kt*nn+ue*Fr+Se*Or-Pt*Tr+Fe*vr;return er?(er=1/er,H[0]=(At*an-xt*nn+Dt*Fr)*er,H[1]=(xt*Or-Tt*an-Dt*Tr)*er,H[2]=(Tt*nn-At*Or+Dt*vr)*er,H[3]=(nt*nn-Ct*an-dt*Fr)*er,H[4]=(bt*an-nt*Or+dt*Tr)*er,H[5]=(Ct*Or-bt*nn-dt*vr)*er,H[6]=(pe*Fe-Wt*Pt+Jt*Se)*er,H[7]=(Wt*ue-ne*Fe-Jt*Kt)*er,H[8]=(ne*Pt-pe*ue+Jt*$t)*er,H):null}function V(H,Q,bt){return H[0]=2/Q,H[1]=0,H[2]=0,H[3]=0,H[4]=-2/bt,H[5]=0,H[6]=-1,H[7]=1,H[8]=1,H}function J(H){return"mat3("+H[0]+", "+H[1]+", "+H[2]+", "+H[3]+", "+H[4]+", "+H[5]+", "+H[6]+", "+H[7]+", "+H[8]+")"}function q(H){return Math.hypot(H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],H[8])}function et(H,Q,bt){return H[0]=Q[0]+bt[0],H[1]=Q[1]+bt[1],H[2]=Q[2]+bt[2],H[3]=Q[3]+bt[3],H[4]=Q[4]+bt[4],H[5]=Q[5]+bt[5],H[6]=Q[6]+bt[6],H[7]=Q[7]+bt[7],H[8]=Q[8]+bt[8],H}function st(H,Q,bt){return H[0]=Q[0]-bt[0],H[1]=Q[1]-bt[1],H[2]=Q[2]-bt[2],H[3]=Q[3]-bt[3],H[4]=Q[4]-bt[4],H[5]=Q[5]-bt[5],H[6]=Q[6]-bt[6],H[7]=Q[7]-bt[7],H[8]=Q[8]-bt[8],H}function ot(H,Q,bt){return H[0]=Q[0]*bt,H[1]=Q[1]*bt,H[2]=Q[2]*bt,H[3]=Q[3]*bt,H[4]=Q[4]*bt,H[5]=Q[5]*bt,H[6]=Q[6]*bt,H[7]=Q[7]*bt,H[8]=Q[8]*bt,H}function mt(H,Q,bt,Ct){return H[0]=Q[0]+bt[0]*Ct,H[1]=Q[1]+bt[1]*Ct,H[2]=Q[2]+bt[2]*Ct,H[3]=Q[3]+bt[3]*Ct,H[4]=Q[4]+bt[4]*Ct,H[5]=Q[5]+bt[5]*Ct,H[6]=Q[6]+bt[6]*Ct,H[7]=Q[7]+bt[7]*Ct,H[8]=Q[8]+bt[8]*Ct,H}function ft(H,Q){return H[0]===Q[0]&&H[1]===Q[1]&&H[2]===Q[2]&&H[3]===Q[3]&&H[4]===Q[4]&&H[5]===Q[5]&&H[6]===Q[6]&&H[7]===Q[7]&&H[8]===Q[8]}function Bt(H,Q){var bt=H[0],Ct=H[1],nt=H[2],dt=H[3],Tt=H[4],At=H[5],xt=H[6],Dt=H[7],Ht=H[8],se=Q[0],re=Q[1],It=Q[2],ne=Q[3],pe=Q[4],Wt=Q[5],Jt=Q[6],$t=Q[7],Kt=Q[8];return Math.abs(bt-se)<=m.EPSILON*Math.max(1,Math.abs(bt),Math.abs(se))&&Math.abs(Ct-re)<=m.EPSILON*Math.max(1,Math.abs(Ct),Math.abs(re))&&Math.abs(nt-It)<=m.EPSILON*Math.max(1,Math.abs(nt),Math.abs(It))&&Math.abs(dt-ne)<=m.EPSILON*Math.max(1,Math.abs(dt),Math.abs(ne))&&Math.abs(Tt-pe)<=m.EPSILON*Math.max(1,Math.abs(Tt),Math.abs(pe))&&Math.abs(At-Wt)<=m.EPSILON*Math.max(1,Math.abs(At),Math.abs(Wt))&&Math.abs(xt-Jt)<=m.EPSILON*Math.max(1,Math.abs(xt),Math.abs(Jt))&&Math.abs(Dt-$t)<=m.EPSILON*Math.max(1,Math.abs(Dt),Math.abs($t))&&Math.abs(Ht-Kt)<=m.EPSILON*Math.max(1,Math.abs(Ht),Math.abs(Kt))}var St=E,wt=st},631437:function(ze,G,C){"use strict";C.r(G),C.d(G,{add:function(){return p},angle:function(){return H},ceil:function(){return y},clone:function(){return S},copy:function(){return L},create:function(){return R},cross:function(){return et},dist:function(){return Dt},distance:function(){return W},div:function(){return xt},divide:function(){return x},dot:function(){return q},equals:function(){return nt},exactEquals:function(){return Ct},floor:function(){return T},forEach:function(){return re},fromValues:function(){return M},inverse:function(){return V},len:function(){return dt},length:function(){return z},lerp:function(){return st},max:function(){return D},min:function(){return E},mul:function(){return At},multiply:function(){return w},negate:function(){return j},normalize:function(){return J},random:function(){return ot},rotate:function(){return wt},round:function(){return k},scale:function(){return b},scaleAndAdd:function(){return f},set:function(){return P},sqrDist:function(){return Ht},sqrLen:function(){return se},squaredDistance:function(){return X},squaredLength:function(){return U},str:function(){return bt},sub:function(){return Tt},subtract:function(){return g},transformMat2:function(){return mt},transformMat2d:function(){return ft},transformMat3:function(){return Bt},transformMat4:function(){return St},zero:function(){return Q}});var m=C(73633);function R(){var It=new m.ARRAY_TYPE(2);return m.ARRAY_TYPE!=Float32Array&&(It[0]=0,It[1]=0),It}function S(It){var ne=new m.ARRAY_TYPE(2);return ne[0]=It[0],ne[1]=It[1],ne}function M(It,ne){var pe=new m.ARRAY_TYPE(2);return pe[0]=It,pe[1]=ne,pe}function L(It,ne){return It[0]=ne[0],It[1]=ne[1],It}function P(It,ne,pe){return It[0]=ne,It[1]=pe,It}function p(It,ne,pe){return It[0]=ne[0]+pe[0],It[1]=ne[1]+pe[1],It}function g(It,ne,pe){return It[0]=ne[0]-pe[0],It[1]=ne[1]-pe[1],It}function w(It,ne,pe){return It[0]=ne[0]*pe[0],It[1]=ne[1]*pe[1],It}function x(It,ne,pe){return It[0]=ne[0]/pe[0],It[1]=ne[1]/pe[1],It}function y(It,ne){return It[0]=Math.ceil(ne[0]),It[1]=Math.ceil(ne[1]),It}function T(It,ne){return It[0]=Math.floor(ne[0]),It[1]=Math.floor(ne[1]),It}function E(It,ne,pe){return It[0]=Math.min(ne[0],pe[0]),It[1]=Math.min(ne[1],pe[1]),It}function D(It,ne,pe){return It[0]=Math.max(ne[0],pe[0]),It[1]=Math.max(ne[1],pe[1]),It}function k(It,ne){return It[0]=Math.round(ne[0]),It[1]=Math.round(ne[1]),It}function b(It,ne,pe){return It[0]=ne[0]*pe,It[1]=ne[1]*pe,It}function f(It,ne,pe,Wt){return It[0]=ne[0]+pe[0]*Wt,It[1]=ne[1]+pe[1]*Wt,It}function W(It,ne){var pe=ne[0]-It[0],Wt=ne[1]-It[1];return Math.hypot(pe,Wt)}function X(It,ne){var pe=ne[0]-It[0],Wt=ne[1]-It[1];return pe*pe+Wt*Wt}function z(It){var ne=It[0],pe=It[1];return Math.hypot(ne,pe)}function U(It){var ne=It[0],pe=It[1];return ne*ne+pe*pe}function j(It,ne){return It[0]=-ne[0],It[1]=-ne[1],It}function V(It,ne){return It[0]=1/ne[0],It[1]=1/ne[1],It}function J(It,ne){var pe=ne[0],Wt=ne[1],Jt=pe*pe+Wt*Wt;return Jt>0&&(Jt=1/Math.sqrt(Jt)),It[0]=ne[0]*Jt,It[1]=ne[1]*Jt,It}function q(It,ne){return It[0]*ne[0]+It[1]*ne[1]}function et(It,ne,pe){var Wt=ne[0]*pe[1]-ne[1]*pe[0];return It[0]=It[1]=0,It[2]=Wt,It}function st(It,ne,pe,Wt){var Jt=ne[0],$t=ne[1];return It[0]=Jt+Wt*(pe[0]-Jt),It[1]=$t+Wt*(pe[1]-$t),It}function ot(It,ne){ne=ne||1;var pe=m.RANDOM()*2*Math.PI;return It[0]=Math.cos(pe)*ne,It[1]=Math.sin(pe)*ne,It}function mt(It,ne,pe){var Wt=ne[0],Jt=ne[1];return It[0]=pe[0]*Wt+pe[2]*Jt,It[1]=pe[1]*Wt+pe[3]*Jt,It}function ft(It,ne,pe){var Wt=ne[0],Jt=ne[1];return It[0]=pe[0]*Wt+pe[2]*Jt+pe[4],It[1]=pe[1]*Wt+pe[3]*Jt+pe[5],It}function Bt(It,ne,pe){var Wt=ne[0],Jt=ne[1];return It[0]=pe[0]*Wt+pe[3]*Jt+pe[6],It[1]=pe[1]*Wt+pe[4]*Jt+pe[7],It}function St(It,ne,pe){var Wt=ne[0],Jt=ne[1];return It[0]=pe[0]*Wt+pe[4]*Jt+pe[12],It[1]=pe[1]*Wt+pe[5]*Jt+pe[13],It}function wt(It,ne,pe,Wt){var Jt=ne[0]-pe[0],$t=ne[1]-pe[1],Kt=Math.sin(Wt),ue=Math.cos(Wt);return It[0]=Jt*ue-$t*Kt+pe[0],It[1]=Jt*Kt+$t*ue+pe[1],It}function H(It,ne){var pe=It[0],Wt=It[1],Jt=ne[0],$t=ne[1],Kt=Math.sqrt(pe*pe+Wt*Wt)*Math.sqrt(Jt*Jt+$t*$t),ue=Kt&&(pe*Jt+Wt*$t)/Kt;return Math.acos(Math.min(Math.max(ue,-1),1))}function Q(It){return It[0]=0,It[1]=0,It}function bt(It){return"vec2("+It[0]+", "+It[1]+")"}function Ct(It,ne){return It[0]===ne[0]&&It[1]===ne[1]}function nt(It,ne){var pe=It[0],Wt=It[1],Jt=ne[0],$t=ne[1];return Math.abs(pe-Jt)<=m.EPSILON*Math.max(1,Math.abs(pe),Math.abs(Jt))&&Math.abs(Wt-$t)<=m.EPSILON*Math.max(1,Math.abs(Wt),Math.abs($t))}var dt=z,Tt=g,At=w,xt=x,Dt=W,Ht=X,se=U,re=function(){var It=R();return function(ne,pe,Wt,Jt,$t,Kt){var ue,Se;for(pe||(pe=2),Wt||(Wt=0),Jt?Se=Math.min(Jt*pe+Wt,ne.length):Se=ne.length,ue=Wt;ue<Se;ue+=pe)It[0]=ne[ue],It[1]=ne[ue+1],$t(It,It,Kt),ne[ue]=It[0],ne[ue+1]=It[1];return ne}}()},277160:function(ze,G,C){"use strict";C.r(G),C.d(G,{add:function(){return g},angle:function(){return Ct},bezier:function(){return mt},ceil:function(){return T},clone:function(){return S},copy:function(){return P},create:function(){return R},cross:function(){return et},dist:function(){return se},distance:function(){return X},div:function(){return Ht},divide:function(){return y},dot:function(){return q},equals:function(){return At},exactEquals:function(){return Tt},floor:function(){return E},forEach:function(){return pe},fromValues:function(){return L},hermite:function(){return ot},inverse:function(){return V},len:function(){return It},length:function(){return M},lerp:function(){return st},max:function(){return k},min:function(){return D},mul:function(){return Dt},multiply:function(){return x},negate:function(){return j},normalize:function(){return J},random:function(){return ft},rotateX:function(){return H},rotateY:function(){return Q},rotateZ:function(){return bt},round:function(){return b},scale:function(){return f},scaleAndAdd:function(){return W},set:function(){return p},sqrDist:function(){return re},sqrLen:function(){return ne},squaredDistance:function(){return z},squaredLength:function(){return U},str:function(){return dt},sub:function(){return xt},subtract:function(){return w},transformMat3:function(){return St},transformMat4:function(){return Bt},transformQuat:function(){return wt},zero:function(){return nt}});var m=C(73633);function R(){var Wt=new m.ARRAY_TYPE(3);return m.ARRAY_TYPE!=Float32Array&&(Wt[0]=0,Wt[1]=0,Wt[2]=0),Wt}function S(Wt){var Jt=new m.ARRAY_TYPE(3);return Jt[0]=Wt[0],Jt[1]=Wt[1],Jt[2]=Wt[2],Jt}function M(Wt){var Jt=Wt[0],$t=Wt[1],Kt=Wt[2];return Math.hypot(Jt,$t,Kt)}function L(Wt,Jt,$t){var Kt=new m.ARRAY_TYPE(3);return Kt[0]=Wt,Kt[1]=Jt,Kt[2]=$t,Kt}function P(Wt,Jt){return Wt[0]=Jt[0],Wt[1]=Jt[1],Wt[2]=Jt[2],Wt}function p(Wt,Jt,$t,Kt){return Wt[0]=Jt,Wt[1]=$t,Wt[2]=Kt,Wt}function g(Wt,Jt,$t){return Wt[0]=Jt[0]+$t[0],Wt[1]=Jt[1]+$t[1],Wt[2]=Jt[2]+$t[2],Wt}function w(Wt,Jt,$t){return Wt[0]=Jt[0]-$t[0],Wt[1]=Jt[1]-$t[1],Wt[2]=Jt[2]-$t[2],Wt}function x(Wt,Jt,$t){return Wt[0]=Jt[0]*$t[0],Wt[1]=Jt[1]*$t[1],Wt[2]=Jt[2]*$t[2],Wt}function y(Wt,Jt,$t){return Wt[0]=Jt[0]/$t[0],Wt[1]=Jt[1]/$t[1],Wt[2]=Jt[2]/$t[2],Wt}function T(Wt,Jt){return Wt[0]=Math.ceil(Jt[0]),Wt[1]=Math.ceil(Jt[1]),Wt[2]=Math.ceil(Jt[2]),Wt}function E(Wt,Jt){return Wt[0]=Math.floor(Jt[0]),Wt[1]=Math.floor(Jt[1]),Wt[2]=Math.floor(Jt[2]),Wt}function D(Wt,Jt,$t){return Wt[0]=Math.min(Jt[0],$t[0]),Wt[1]=Math.min(Jt[1],$t[1]),Wt[2]=Math.min(Jt[2],$t[2]),Wt}function k(Wt,Jt,$t){return Wt[0]=Math.max(Jt[0],$t[0]),Wt[1]=Math.max(Jt[1],$t[1]),Wt[2]=Math.max(Jt[2],$t[2]),Wt}function b(Wt,Jt){return Wt[0]=Math.round(Jt[0]),Wt[1]=Math.round(Jt[1]),Wt[2]=Math.round(Jt[2]),Wt}function f(Wt,Jt,$t){return Wt[0]=Jt[0]*$t,Wt[1]=Jt[1]*$t,Wt[2]=Jt[2]*$t,Wt}function W(Wt,Jt,$t,Kt){return Wt[0]=Jt[0]+$t[0]*Kt,Wt[1]=Jt[1]+$t[1]*Kt,Wt[2]=Jt[2]+$t[2]*Kt,Wt}function X(Wt,Jt){var $t=Jt[0]-Wt[0],Kt=Jt[1]-Wt[1],ue=Jt[2]-Wt[2];return Math.hypot($t,Kt,ue)}function z(Wt,Jt){var $t=Jt[0]-Wt[0],Kt=Jt[1]-Wt[1],ue=Jt[2]-Wt[2];return $t*$t+Kt*Kt+ue*ue}function U(Wt){var Jt=Wt[0],$t=Wt[1],Kt=Wt[2];return Jt*Jt+$t*$t+Kt*Kt}function j(Wt,Jt){return Wt[0]=-Jt[0],Wt[1]=-Jt[1],Wt[2]=-Jt[2],Wt}function V(Wt,Jt){return Wt[0]=1/Jt[0],Wt[1]=1/Jt[1],Wt[2]=1/Jt[2],Wt}function J(Wt,Jt){var $t=Jt[0],Kt=Jt[1],ue=Jt[2],Se=$t*$t+Kt*Kt+ue*ue;return Se>0&&(Se=1/Math.sqrt(Se)),Wt[0]=Jt[0]*Se,Wt[1]=Jt[1]*Se,Wt[2]=Jt[2]*Se,Wt}function q(Wt,Jt){return Wt[0]*Jt[0]+Wt[1]*Jt[1]+Wt[2]*Jt[2]}function et(Wt,Jt,$t){var Kt=Jt[0],ue=Jt[1],Se=Jt[2],Pt=$t[0],Fe=$t[1],vr=$t[2];return Wt[0]=ue*vr-Se*Fe,Wt[1]=Se*Pt-Kt*vr,Wt[2]=Kt*Fe-ue*Pt,Wt}function st(Wt,Jt,$t,Kt){var ue=Jt[0],Se=Jt[1],Pt=Jt[2];return Wt[0]=ue+Kt*($t[0]-ue),Wt[1]=Se+Kt*($t[1]-Se),Wt[2]=Pt+Kt*($t[2]-Pt),Wt}function ot(Wt,Jt,$t,Kt,ue,Se){var Pt=Se*Se,Fe=Pt*(2*Se-3)+1,vr=Pt*(Se-2)+Se,Tr=Pt*(Se-1),Or=Pt*(3-2*Se);return Wt[0]=Jt[0]*Fe+$t[0]*vr+Kt[0]*Tr+ue[0]*Or,Wt[1]=Jt[1]*Fe+$t[1]*vr+Kt[1]*Tr+ue[1]*Or,Wt[2]=Jt[2]*Fe+$t[2]*vr+Kt[2]*Tr+ue[2]*Or,Wt}function mt(Wt,Jt,$t,Kt,ue,Se){var Pt=1-Se,Fe=Pt*Pt,vr=Se*Se,Tr=Fe*Pt,Or=3*Se*Fe,Fr=3*vr*Pt,nn=vr*Se;return Wt[0]=Jt[0]*Tr+$t[0]*Or+Kt[0]*Fr+ue[0]*nn,Wt[1]=Jt[1]*Tr+$t[1]*Or+Kt[1]*Fr+ue[1]*nn,Wt[2]=Jt[2]*Tr+$t[2]*Or+Kt[2]*Fr+ue[2]*nn,Wt}function ft(Wt,Jt){Jt=Jt||1;var $t=m.RANDOM()*2*Math.PI,Kt=m.RANDOM()*2-1,ue=Math.sqrt(1-Kt*Kt)*Jt;return Wt[0]=Math.cos($t)*ue,Wt[1]=Math.sin($t)*ue,Wt[2]=Kt*Jt,Wt}function Bt(Wt,Jt,$t){var Kt=Jt[0],ue=Jt[1],Se=Jt[2],Pt=$t[3]*Kt+$t[7]*ue+$t[11]*Se+$t[15];return Pt=Pt||1,Wt[0]=($t[0]*Kt+$t[4]*ue+$t[8]*Se+$t[12])/Pt,Wt[1]=($t[1]*Kt+$t[5]*ue+$t[9]*Se+$t[13])/Pt,Wt[2]=($t[2]*Kt+$t[6]*ue+$t[10]*Se+$t[14])/Pt,Wt}function St(Wt,Jt,$t){var Kt=Jt[0],ue=Jt[1],Se=Jt[2];return Wt[0]=Kt*$t[0]+ue*$t[3]+Se*$t[6],Wt[1]=Kt*$t[1]+ue*$t[4]+Se*$t[7],Wt[2]=Kt*$t[2]+ue*$t[5]+Se*$t[8],Wt}function wt(Wt,Jt,$t){var Kt=$t[0],ue=$t[1],Se=$t[2],Pt=$t[3],Fe=Jt[0],vr=Jt[1],Tr=Jt[2],Or=ue*Tr-Se*vr,Fr=Se*Fe-Kt*Tr,nn=Kt*vr-ue*Fe,an=ue*nn-Se*Fr,er=Se*Or-Kt*nn,Rr=Kt*Fr-ue*Or,qr=Pt*2;return Or*=qr,Fr*=qr,nn*=qr,an*=2,er*=2,Rr*=2,Wt[0]=Fe+Or+an,Wt[1]=vr+Fr+er,Wt[2]=Tr+nn+Rr,Wt}function H(Wt,Jt,$t,Kt){var ue=[],Se=[];return ue[0]=Jt[0]-$t[0],ue[1]=Jt[1]-$t[1],ue[2]=Jt[2]-$t[2],Se[0]=ue[0],Se[1]=ue[1]*Math.cos(Kt)-ue[2]*Math.sin(Kt),Se[2]=ue[1]*Math.sin(Kt)+ue[2]*Math.cos(Kt),Wt[0]=Se[0]+$t[0],Wt[1]=Se[1]+$t[1],Wt[2]=Se[2]+$t[2],Wt}function Q(Wt,Jt,$t,Kt){var ue=[],Se=[];return ue[0]=Jt[0]-$t[0],ue[1]=Jt[1]-$t[1],ue[2]=Jt[2]-$t[2],Se[0]=ue[2]*Math.sin(Kt)+ue[0]*Math.cos(Kt),Se[1]=ue[1],Se[2]=ue[2]*Math.cos(Kt)-ue[0]*Math.sin(Kt),Wt[0]=Se[0]+$t[0],Wt[1]=Se[1]+$t[1],Wt[2]=Se[2]+$t[2],Wt}function bt(Wt,Jt,$t,Kt){var ue=[],Se=[];return ue[0]=Jt[0]-$t[0],ue[1]=Jt[1]-$t[1],ue[2]=Jt[2]-$t[2],Se[0]=ue[0]*Math.cos(Kt)-ue[1]*Math.sin(Kt),Se[1]=ue[0]*Math.sin(Kt)+ue[1]*Math.cos(Kt),Se[2]=ue[2],Wt[0]=Se[0]+$t[0],Wt[1]=Se[1]+$t[1],Wt[2]=Se[2]+$t[2],Wt}function Ct(Wt,Jt){var $t=Wt[0],Kt=Wt[1],ue=Wt[2],Se=Jt[0],Pt=Jt[1],Fe=Jt[2],vr=Math.sqrt($t*$t+Kt*Kt+ue*ue),Tr=Math.sqrt(Se*Se+Pt*Pt+Fe*Fe),Or=vr*Tr,Fr=Or&&q(Wt,Jt)/Or;return Math.acos(Math.min(Math.max(Fr,-1),1))}function nt(Wt){return Wt[0]=0,Wt[1]=0,Wt[2]=0,Wt}function dt(Wt){return"vec3("+Wt[0]+", "+Wt[1]+", "+Wt[2]+")"}function Tt(Wt,Jt){return Wt[0]===Jt[0]&&Wt[1]===Jt[1]&&Wt[2]===Jt[2]}function At(Wt,Jt){var $t=Wt[0],Kt=Wt[1],ue=Wt[2],Se=Jt[0],Pt=Jt[1],Fe=Jt[2];return Math.abs($t-Se)<=m.EPSILON*Math.max(1,Math.abs($t),Math.abs(Se))&&Math.abs(Kt-Pt)<=m.EPSILON*Math.max(1,Math.abs(Kt),Math.abs(Pt))&&Math.abs(ue-Fe)<=m.EPSILON*Math.max(1,Math.abs(ue),Math.abs(Fe))}var xt=w,Dt=x,Ht=y,se=X,re=z,It=M,ne=U,pe=function(){var Wt=R();return function(Jt,$t,Kt,ue,Se,Pt){var Fe,vr;for($t||($t=3),Kt||(Kt=0),ue?vr=Math.min(ue*$t+Kt,Jt.length):vr=Jt.length,Fe=Kt;Fe<vr;Fe+=$t)Wt[0]=Jt[Fe],Wt[1]=Jt[Fe+1],Wt[2]=Jt[Fe+2],Se(Wt,Wt,Pt),Jt[Fe]=Wt[0],Jt[Fe+1]=Wt[1],Jt[Fe+2]=Wt[2];return Jt}}()},241405:function(ze,G,C){"use strict";var m=typeof Symbol!="undefined"&&Symbol,R=C(455419);ze.exports=function(){return typeof m!="function"||typeof Symbol!="function"||typeof m("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:R()}},455419:function(ze){"use strict";ze.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var C={},m=Symbol("test"),R=Object(m);if(typeof m=="string"||Object.prototype.toString.call(m)!=="[object Symbol]"||Object.prototype.toString.call(R)!=="[object Symbol]")return!1;var S=42;C[m]=S;for(m in C)return!1;if(typeof Object.keys=="function"&&Object.keys(C).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(C).length!==0)return!1;var M=Object.getOwnPropertySymbols(C);if(M.length!==1||M[0]!==m||!Object.prototype.propertyIsEnumerable.call(C,m))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var L=Object.getOwnPropertyDescriptor(C,m);if(L.value!==S||L.enumerable!==!0)return!1}return!0}},117642:function(ze,G,C){"use strict";var m=C(158612);ze.exports=m.call(Function.call,Object.prototype.hasOwnProperty)},738186:function(ze){var G=[],C=[],m="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function R(M,L){if(L=L||{},M===void 0)throw new Error(m);var P=L.prepend===!0?"prepend":"append",p=L.container!==void 0?L.container:document.querySelector("head"),g=G.indexOf(p);g===-1&&(g=G.push(p)-1,C[g]={});var w;return C[g]!==void 0&&C[g][P]!==void 0?w=C[g][P]:(w=C[g][P]=S(),P==="prepend"?p.insertBefore(w,p.childNodes[0]):p.appendChild(w)),M.charCodeAt(0)===65279&&(M=M.substr(1,M.length)),w.styleSheet?w.styleSheet.cssText+=M:w.textContent+=M,w}function S(){var M=document.createElement("style");return M.setAttribute("type","text/css"),M}ze.exports=R,ze.exports.insertCss=R},896874:function(ze){function G(C,m,R){switch(R.length){case 0:return C.call(m);case 1:return C.call(m,R[0]);case 2:return C.call(m,R[0],R[1]);case 3:return C.call(m,R[0],R[1],R[2])}return C.apply(m,R)}ze.exports=G},920731:function(ze,G,C){var m=C(288668),R=C(447443),S=C(301196),M=C(829932),L=C(307518),P=C(274757),p=200;function g(w,x,y,T){var E=-1,D=R,k=!0,b=w.length,f=[],W=x.length;if(!b)return f;y&&(x=M(x,L(y))),T?(D=S,k=!1):x.length>=p&&(D=P,k=!1,x=new m(x));t:for(;++E<b;){var X=w[E],z=y==null?X:y(X);if(X=T||X!==0?X:0,k&&z===z){for(var U=W;U--;)if(x[U]===z)continue t;f.push(X)}else D(x,z,T)||f.push(X)}return f}ze.exports=g},105976:function(ze,G,C){var m=C(406557),R=C(545357),S=C(430061);function M(L,P){return S(R(L,P,m),L+"")}ze.exports=M},356560:function(ze,G,C){var m=C(575703),R=C(538777),S=C(406557),M=R?function(L,P){return R(L,"toString",{configurable:!0,enumerable:!1,value:m(P),writable:!0})}:S;ze.exports=M},545357:function(ze,G,C){var m=C(896874),R=Math.max;function S(M,L,P){return L=R(L===void 0?M.length-1:L,0),function(){for(var p=arguments,g=-1,w=R(p.length-L,0),x=Array(w);++g<w;)x[g]=p[L+g];g=-1;for(var y=Array(L+1);++g<L;)y[g]=p[g];return y[L]=P(x),m(M,this,y)}}ze.exports=S},430061:function(ze,G,C){var m=C(356560),R=C(521275),S=R(m);ze.exports=S},521275:function(ze){var G=800,C=16,m=Date.now;function R(S){var M=0,L=0;return function(){var P=m(),p=C-(P-L);if(L=P,p>0){if(++M>=G)return arguments[0]}else M=0;return S.apply(void 0,arguments)}}ze.exports=R},575703:function(ze){function G(C){return function(){return C}}ze.exports=G},291966:function(ze,G,C){var m=C(920731),R=C(121078),S=C(105976),M=C(229246),L=S(function(P,p){return M(P)?m(P,R(p,1,M,!0)):[]});ze.exports=L},229246:function(ze,G,C){var m=C(498612),R=C(637005);function S(M){return R(M)&&m(M)}ze.exports=S},281763:function(ze,G,C){var m=C(644239),R=C(637005),S="[object Number]";function M(L){return typeof L=="number"||R(L)&&m(L)==S}ze.exports=M},252796:function(ze,G,C){ze.exports=C(410643)},913264:function(ze){"use strict";var G=!!(typeof window!="undefined"&&window.document&&window.document.createElement),C={canUseDOM:G,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:G&&!!(window.addEventListener||window.attachEvent),canUseViewport:G&&!!window.screen,isInWorker:!G};ze.exports=C},784518:function(ze){var G=!1,C,m,R,S,M,L,P,p,g,w,x,y,T,E,D;function k(){if(!G){G=!0;var f=navigator.userAgent,W=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(f),X=/(Mac OS X)|(Windows)|(Linux)/.exec(f);if(y=/\b(iPhone|iP[ao]d)/.exec(f),T=/\b(iP[ao]d)/.exec(f),w=/Android/i.exec(f),E=/FBAN\/\w+;/i.exec(f),D=/Mobile/i.exec(f),x=!!/Win64/.exec(f),W){C=W[1]?parseFloat(W[1]):W[5]?parseFloat(W[5]):NaN,C&&document&&document.documentMode&&(C=document.documentMode);var z=/(?:Trident\/(\d+.\d+))/.exec(f);L=z?parseFloat(z[1])+4:C,m=W[2]?parseFloat(W[2]):NaN,R=W[3]?parseFloat(W[3]):NaN,S=W[4]?parseFloat(W[4]):NaN,S?(W=/(?:Chrome\/(\d+\.\d+))/.exec(f),M=W&&W[1]?parseFloat(W[1]):NaN):M=NaN}else C=m=R=M=S=NaN;if(X){if(X[1]){var U=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(f);P=U?parseFloat(U[1].replace("_",".")):!0}else P=!1;p=!!X[2],g=!!X[3]}else P=p=g=!1}}var b={ie:function(){return k()||C},ieCompatibilityMode:function(){return k()||L>C},ie64:function(){return b.ie()&&x},firefox:function(){return k()||m},opera:function(){return k()||R},webkit:function(){return k()||S},safari:function(){return b.webkit()},chrome:function(){return k()||M},windows:function(){return k()||p},osx:function(){return k()||P},linux:function(){return k()||g},iphone:function(){return k()||y},mobile:function(){return k()||y||T||w||D},nativeApp:function(){return k()||E},android:function(){return k()||w},ipad:function(){return k()||T}};ze.exports=b},396534:function(ze,G,C){"use strict";var m=C(913264),R;m.canUseDOM&&(R=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function S(M,L){if(!m.canUseDOM||L&&!("addEventListener"in document))return!1;var P="on"+M,p=P in document;if(!p){var g=document.createElement("div");g.setAttribute(P,"return;"),p=typeof g[P]=="function"}return!p&&R&&M==="wheel"&&(p=document.implementation.hasFeature("Events.wheel","3.0")),p}ze.exports=S},410643:function(ze,G,C){"use strict";var m=C(784518),R=C(396534),S=10,M=40,L=800;function P(p){var g=0,w=0,x=0,y=0;return"detail"in p&&(w=p.detail),"wheelDelta"in p&&(w=-p.wheelDelta/120),"wheelDeltaY"in p&&(w=-p.wheelDeltaY/120),"wheelDeltaX"in p&&(g=-p.wheelDeltaX/120),"axis"in p&&p.axis===p.HORIZONTAL_AXIS&&(g=w,w=0),x=g*S,y=w*S,"deltaY"in p&&(y=p.deltaY),"deltaX"in p&&(x=p.deltaX),(x||y)&&p.deltaMode&&(p.deltaMode==1?(x*=M,y*=M):(x*=L,y*=L)),x&&!g&&(g=x<1?-1:1),y&&!w&&(w=y<1?-1:1),{spinX:g,spinY:w,pixelX:x,pixelY:y}}P.getEventType=function(){return m.firefox()?"DOMMouseScroll":R("wheel")?"wheel":"mousewheel"},ze.exports=P},470631:function(ze,G,C){var m=typeof Map=="function"&&Map.prototype,R=Object.getOwnPropertyDescriptor&&m?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,S=m&&R&&typeof R.get=="function"?R.get:null,M=m&&Map.prototype.forEach,L=typeof Set=="function"&&Set.prototype,P=Object.getOwnPropertyDescriptor&&L?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,p=L&&P&&typeof P.get=="function"?P.get:null,g=L&&Set.prototype.forEach,w=typeof WeakMap=="function"&&WeakMap.prototype,x=w?WeakMap.prototype.has:null,y=typeof WeakSet=="function"&&WeakSet.prototype,T=y?WeakSet.prototype.has:null,E=typeof WeakRef=="function"&&WeakRef.prototype,D=E?WeakRef.prototype.deref:null,k=Boolean.prototype.valueOf,b=Object.prototype.toString,f=Function.prototype.toString,W=String.prototype.match,X=String.prototype.slice,z=String.prototype.replace,U=String.prototype.toUpperCase,j=String.prototype.toLowerCase,V=RegExp.prototype.test,J=Array.prototype.concat,q=Array.prototype.join,et=Array.prototype.slice,st=Math.floor,ot=typeof BigInt=="function"?BigInt.prototype.valueOf:null,mt=Object.getOwnPropertySymbols,ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Bt=typeof Symbol=="function"&&typeof Symbol.iterator=="object",St=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Bt||"symbol")?Symbol.toStringTag:null,wt=Object.prototype.propertyIsEnumerable,H=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(We){return We.__proto__}:null);function Q(We,Je){if(We===1/0||We===-1/0||We!==We||We&&We>-1e3&&We<1e3||V.call(/e/,Je))return Je;var gn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof We=="number"){var rr=We<0?-st(-We):st(We);if(rr!==We){var jr=String(rr),Nr=X.call(Je,jr.length+1);return z.call(jr,gn,"$&_")+"."+z.call(z.call(Nr,/([0-9]{3})/g,"$&_"),/_$/,"")}}return z.call(Je,gn,"$&_")}var bt=C(824654),Ct=bt.custom,nt=ne(Ct)?Ct:null;ze.exports=function We(Je,gn,rr,jr){var Nr=gn||{};if(Jt(Nr,"quoteStyle")&&Nr.quoteStyle!=="single"&&Nr.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jt(Nr,"maxStringLength")&&(typeof Nr.maxStringLength=="number"?Nr.maxStringLength<0&&Nr.maxStringLength!==1/0:Nr.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var kn=Jt(Nr,"customInspect")?Nr.customInspect:!0;if(typeof kn!="boolean"&&kn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jt(Nr,"indent")&&Nr.indent!==null&&Nr.indent!=="	"&&!(parseInt(Nr.indent,10)===Nr.indent&&Nr.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jt(Nr,"numericSeparator")&&typeof Nr.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var on=Nr.numericSeparator;if(typeof Je=="undefined")return"undefined";if(Je===null)return"null";if(typeof Je=="boolean")return Je?"true":"false";if(typeof Je=="string")return Fr(Je,Nr);if(typeof Je=="number"){if(Je===0)return 1/0/Je>0?"0":"-0";var dn=String(Je);return on?Q(Je,dn):dn}if(typeof Je=="bigint"){var En=String(Je)+"n";return on?Q(Je,En):En}var Pn=typeof Nr.depth=="undefined"?5:Nr.depth;if(typeof rr=="undefined"&&(rr=0),rr>=Pn&&Pn>0&&typeof Je=="object")return At(Je)?"[Array]":"[Object]";var Nn=xr(Nr,rr);if(typeof jr=="undefined")jr=[];else if(ue(jr,Je)>=0)return"[Circular]";function at(Ft,zt,te){if(zt&&(jr=et.call(jr),jr.push(zt)),te){var _e={depth:Nr.depth};return Jt(Nr,"quoteStyle")&&(_e.quoteStyle=Nr.quoteStyle),We(Ft,_e,rr+1,jr)}return We(Ft,Nr,rr+1,jr)}if(typeof Je=="function"&&!Dt(Je)){var Xe=Kt(Je),Zt=Dr(Je,at);return"[Function"+(Xe?": "+Xe:" (anonymous)")+"]"+(Zt.length>0?" { "+q.call(Zt,", ")+" }":"")}if(ne(Je)){var Qt=Bt?z.call(String(Je),/^(Symbol\(.*\))_[^)]*$/,"$1"):ft.call(Je);return typeof Je=="object"&&!Bt?an(Qt):Qt}if(Or(Je)){for(var Mt="<"+j.call(String(Je.nodeName)),Nt=Je.attributes||[],Ut=0;Ut<Nt.length;Ut++)Mt+=" "+Nt[Ut].name+"="+dt(Tt(Nt[Ut].value),"double",Nr);return Mt+=">",Je.childNodes&&Je.childNodes.length&&(Mt+="..."),Mt+="</"+j.call(String(Je.nodeName))+">",Mt}if(At(Je)){if(Je.length===0)return"[]";var vt=Dr(Je,at);return Nn&&!qr(vt)?"["+Gr(vt,Nn)+"]":"[ "+q.call(vt,", ")+" ]"}if(Ht(Je)){var Rt=Dr(Je,at);return!("cause"in Error.prototype)&&"cause"in Je&&!wt.call(Je,"cause")?"{ ["+String(Je)+"] "+q.call(J.call("[cause]: "+at(Je.cause),Rt),", ")+" }":Rt.length===0?"["+String(Je)+"]":"{ ["+String(Je)+"] "+q.call(Rt,", ")+" }"}if(typeof Je=="object"&&kn){if(nt&&typeof Je[nt]=="function"&&bt)return bt(Je,{depth:Pn-rr});if(kn!=="symbol"&&typeof Je.inspect=="function")return Je.inspect()}if(Se(Je)){var ae=[];return M&&M.call(Je,function(Ft,zt){ae.push(at(zt,Je,!0)+" => "+at(Ft,Je))}),Rr("Map",S.call(Je),ae,Nn)}if(vr(Je)){var tt=[];return g&&g.call(Je,function(Ft){tt.push(at(Ft,Je))}),Rr("Set",p.call(Je),tt,Nn)}if(Pt(Je))return er("WeakMap");if(Tr(Je))return er("WeakSet");if(Fe(Je))return er("WeakRef");if(re(Je))return an(at(Number(Je)));if(pe(Je))return an(at(ot.call(Je)));if(It(Je))return an(k.call(Je));if(se(Je))return an(at(String(Je)));if(!xt(Je)&&!Dt(Je)){var ut=Dr(Je,at),B=H?H(Je)===Object.prototype:Je instanceof Object||Je.constructor===Object,O=Je instanceof Object?"":"null prototype",_=!B&&St&&Object(Je)===Je&&St in Je?X.call($t(Je),8,-1):O?"Object":"",$=B||typeof Je.constructor!="function"?"":Je.constructor.name?Je.constructor.name+" ":"",gt=$+(_||O?"["+q.call(J.call([],_||[],O||[]),": ")+"] ":"");return ut.length===0?gt+"{}":Nn?gt+"{"+Gr(ut,Nn)+"}":gt+"{ "+q.call(ut,", ")+" }"}return String(Je)};function dt(We,Je,gn){var rr=(gn.quoteStyle||Je)==="double"?'"':"'";return rr+We+rr}function Tt(We){return z.call(String(We),/"/g,"&quot;")}function At(We){return $t(We)==="[object Array]"&&(!St||!(typeof We=="object"&&St in We))}function xt(We){return $t(We)==="[object Date]"&&(!St||!(typeof We=="object"&&St in We))}function Dt(We){return $t(We)==="[object RegExp]"&&(!St||!(typeof We=="object"&&St in We))}function Ht(We){return $t(We)==="[object Error]"&&(!St||!(typeof We=="object"&&St in We))}function se(We){return $t(We)==="[object String]"&&(!St||!(typeof We=="object"&&St in We))}function re(We){return $t(We)==="[object Number]"&&(!St||!(typeof We=="object"&&St in We))}function It(We){return $t(We)==="[object Boolean]"&&(!St||!(typeof We=="object"&&St in We))}function ne(We){if(Bt)return We&&typeof We=="object"&&We instanceof Symbol;if(typeof We=="symbol")return!0;if(!We||typeof We!="object"||!ft)return!1;try{return ft.call(We),!0}catch(Je){}return!1}function pe(We){if(!We||typeof We!="object"||!ot)return!1;try{return ot.call(We),!0}catch(Je){}return!1}var Wt=Object.prototype.hasOwnProperty||function(We){return We in this};function Jt(We,Je){return Wt.call(We,Je)}function $t(We){return b.call(We)}function Kt(We){if(We.name)return We.name;var Je=W.call(f.call(We),/^function\s*([\w$]+)/);return Je?Je[1]:null}function ue(We,Je){if(We.indexOf)return We.indexOf(Je);for(var gn=0,rr=We.length;gn<rr;gn++)if(We[gn]===Je)return gn;return-1}function Se(We){if(!S||!We||typeof We!="object")return!1;try{S.call(We);try{p.call(We)}catch(Je){return!0}return We instanceof Map}catch(Je){}return!1}function Pt(We){if(!x||!We||typeof We!="object")return!1;try{x.call(We,x);try{T.call(We,T)}catch(Je){return!0}return We instanceof WeakMap}catch(Je){}return!1}function Fe(We){if(!D||!We||typeof We!="object")return!1;try{return D.call(We),!0}catch(Je){}return!1}function vr(We){if(!p||!We||typeof We!="object")return!1;try{p.call(We);try{S.call(We)}catch(Je){return!0}return We instanceof Set}catch(Je){}return!1}function Tr(We){if(!T||!We||typeof We!="object")return!1;try{T.call(We,T);try{x.call(We,x)}catch(Je){return!0}return We instanceof WeakSet}catch(Je){}return!1}function Or(We){return!We||typeof We!="object"?!1:typeof HTMLElement!="undefined"&&We instanceof HTMLElement?!0:typeof We.nodeName=="string"&&typeof We.getAttribute=="function"}function Fr(We,Je){if(We.length>Je.maxStringLength){var gn=We.length-Je.maxStringLength,rr="... "+gn+" more character"+(gn>1?"s":"");return Fr(X.call(We,0,Je.maxStringLength),Je)+rr}var jr=z.call(z.call(We,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,nn);return dt(jr,"single",Je)}function nn(We){var Je=We.charCodeAt(0),gn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Je];return gn?"\\"+gn:"\\x"+(Je<16?"0":"")+U.call(Je.toString(16))}function an(We){return"Object("+We+")"}function er(We){return We+" { ? }"}function Rr(We,Je,gn,rr){var jr=rr?Gr(gn,rr):q.call(gn,", ");return We+" ("+Je+") {"+jr+"}"}function qr(We){for(var Je=0;Je<We.length;Je++)if(ue(We[Je],`
`)>=0)return!1;return!0}function xr(We,Je){var gn;if(We.indent==="	")gn="	";else if(typeof We.indent=="number"&&We.indent>0)gn=q.call(Array(We.indent+1)," ");else return null;return{base:gn,prev:q.call(Array(Je+1),gn)}}function Gr(We,Je){if(We.length===0)return"";var gn=`
`+Je.prev+Je.base;return gn+q.call(We,","+gn)+`
`+Je.prev}function Dr(We,Je){var gn=At(We),rr=[];if(gn){rr.length=We.length;for(var jr=0;jr<We.length;jr++)rr[jr]=Jt(We,jr)?Je(We[jr],We):""}var Nr=typeof mt=="function"?mt(We):[],kn;if(Bt){kn={};for(var on=0;on<Nr.length;on++)kn["$"+Nr[on]]=Nr[on]}for(var dn in We)Jt(We,dn)&&(gn&&String(Number(dn))===dn&&dn<We.length||Bt&&kn["$"+dn]instanceof Symbol||(V.call(/[^\w$]/,dn)?rr.push(Je(dn,We)+": "+Je(We[dn],We)):rr.push(dn+": "+Je(We[dn],We))));if(typeof mt=="function")for(var En=0;En<Nr.length;En++)wt.call(We,Nr[En])&&rr.push("["+Je(Nr[En])+"]: "+Je(We[Nr[En]],We));return rr}},75:function(ze,G,C){var m=C(734155);(function(){var R,S,M,L,P,p;typeof performance!="undefined"&&performance!==null&&performance.now?ze.exports=function(){return performance.now()}:typeof m!="undefined"&&m!==null&&m.hrtime?(ze.exports=function(){return(R()-P)/1e6},S=m.hrtime,R=function(){var g;return g=S(),g[0]*1e9+g[1]},L=R(),p=m.uptime()*1e9,P=L-p):Date.now?(ze.exports=function(){return Date.now()-M},M=Date.now()):(ze.exports=function(){return new Date().getTime()-M},M=new Date().getTime())}).call(this)},134569:function(ze){"use strict";var G=String.prototype.replace,C=/%20/g,m={RFC1738:"RFC1738",RFC3986:"RFC3986"};ze.exports={default:m.RFC3986,formatters:{RFC1738:function(R){return G.call(R,C,"+")},RFC3986:function(R){return String(R)}},RFC1738:m.RFC1738,RFC3986:m.RFC3986}},280129:function(ze,G,C){"use strict";var m=C(458261),R=C(355235),S=C(134569);ze.exports={formats:S,parse:R,stringify:m}},355235:function(ze,G,C){"use strict";var m=C(412769),R=Object.prototype.hasOwnProperty,S=Array.isArray,M={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:m.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},L=function(E){return E.replace(/&#(\d+);/g,function(D,k){return String.fromCharCode(parseInt(k,10))})},P=function(E,D){return E&&typeof E=="string"&&D.comma&&E.indexOf(",")>-1?E.split(","):E},p="utf8=%26%2310003%3B",g="utf8=%E2%9C%93",w=function(D,k){var b={},f=k.ignoreQueryPrefix?D.replace(/^\?/,""):D,W=k.parameterLimit===1/0?void 0:k.parameterLimit,X=f.split(k.delimiter,W),z=-1,U,j=k.charset;if(k.charsetSentinel)for(U=0;U<X.length;++U)X[U].indexOf("utf8=")===0&&(X[U]===g?j="utf-8":X[U]===p&&(j="iso-8859-1"),z=U,U=X.length);for(U=0;U<X.length;++U)if(U!==z){var V=X[U],J=V.indexOf("]="),q=J===-1?V.indexOf("="):J+1,et,st;q===-1?(et=k.decoder(V,M.decoder,j,"key"),st=k.strictNullHandling?null:""):(et=k.decoder(V.slice(0,q),M.decoder,j,"key"),st=m.maybeMap(P(V.slice(q+1),k),function(ot){return k.decoder(ot,M.decoder,j,"value")})),st&&k.interpretNumericEntities&&j==="iso-8859-1"&&(st=L(st)),V.indexOf("[]=")>-1&&(st=S(st)?[st]:st),R.call(b,et)?b[et]=m.combine(b[et],st):b[et]=st}return b},x=function(E,D,k,b){for(var f=b?D:P(D,k),W=E.length-1;W>=0;--W){var X,z=E[W];if(z==="[]"&&k.parseArrays)X=[].concat(f);else{X=k.plainObjects?Object.create(null):{};var U=z.charAt(0)==="["&&z.charAt(z.length-1)==="]"?z.slice(1,-1):z,j=parseInt(U,10);!k.parseArrays&&U===""?X={0:f}:!isNaN(j)&&z!==U&&String(j)===U&&j>=0&&k.parseArrays&&j<=k.arrayLimit?(X=[],X[j]=f):U!=="__proto__"&&(X[U]=f)}f=X}return f},y=function(D,k,b,f){if(D){var W=b.allowDots?D.replace(/\.([^.[]+)/g,"[$1]"):D,X=/(\[[^[\]]*])/,z=/(\[[^[\]]*])/g,U=b.depth>0&&X.exec(W),j=U?W.slice(0,U.index):W,V=[];if(j){if(!b.plainObjects&&R.call(Object.prototype,j)&&!b.allowPrototypes)return;V.push(j)}for(var J=0;b.depth>0&&(U=z.exec(W))!==null&&J<b.depth;){if(J+=1,!b.plainObjects&&R.call(Object.prototype,U[1].slice(1,-1))&&!b.allowPrototypes)return;V.push(U[1])}return U&&V.push("["+W.slice(U.index)+"]"),x(V,k,b,f)}},T=function(D){if(!D)return M;if(D.decoder!==null&&D.decoder!==void 0&&typeof D.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof D.charset!="undefined"&&D.charset!=="utf-8"&&D.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var k=typeof D.charset=="undefined"?M.charset:D.charset;return{allowDots:typeof D.allowDots=="undefined"?M.allowDots:!!D.allowDots,allowPrototypes:typeof D.allowPrototypes=="boolean"?D.allowPrototypes:M.allowPrototypes,allowSparse:typeof D.allowSparse=="boolean"?D.allowSparse:M.allowSparse,arrayLimit:typeof D.arrayLimit=="number"?D.arrayLimit:M.arrayLimit,charset:k,charsetSentinel:typeof D.charsetSentinel=="boolean"?D.charsetSentinel:M.charsetSentinel,comma:typeof D.comma=="boolean"?D.comma:M.comma,decoder:typeof D.decoder=="function"?D.decoder:M.decoder,delimiter:typeof D.delimiter=="string"||m.isRegExp(D.delimiter)?D.delimiter:M.delimiter,depth:typeof D.depth=="number"||D.depth===!1?+D.depth:M.depth,ignoreQueryPrefix:D.ignoreQueryPrefix===!0,interpretNumericEntities:typeof D.interpretNumericEntities=="boolean"?D.interpretNumericEntities:M.interpretNumericEntities,parameterLimit:typeof D.parameterLimit=="number"?D.parameterLimit:M.parameterLimit,parseArrays:D.parseArrays!==!1,plainObjects:typeof D.plainObjects=="boolean"?D.plainObjects:M.plainObjects,strictNullHandling:typeof D.strictNullHandling=="boolean"?D.strictNullHandling:M.strictNullHandling}};ze.exports=function(E,D){var k=T(D);if(E===""||E===null||typeof E=="undefined")return k.plainObjects?Object.create(null):{};for(var b=typeof E=="string"?w(E,k):E,f=k.plainObjects?Object.create(null):{},W=Object.keys(b),X=0;X<W.length;++X){var z=W[X],U=y(z,b[z],k,typeof E=="string");f=m.merge(f,U,k)}return k.allowSparse===!0?f:m.compact(f)}},458261:function(ze,G,C){"use strict";var m=C(937478),R=C(412769),S=C(134569),M=Object.prototype.hasOwnProperty,L={brackets:function(f){return f+"[]"},comma:"comma",indices:function(f,W){return f+"["+W+"]"},repeat:function(f){return f}},P=Array.isArray,p=Array.prototype.push,g=function(b,f){p.apply(b,P(f)?f:[f])},w=Date.prototype.toISOString,x=S.default,y={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:R.encode,encodeValuesOnly:!1,format:x,formatter:S.formatters[x],indices:!1,serializeDate:function(f){return w.call(f)},skipNulls:!1,strictNullHandling:!1},T=function(f){return typeof f=="string"||typeof f=="number"||typeof f=="boolean"||typeof f=="symbol"||typeof f=="bigint"},E={},D=function b(f,W,X,z,U,j,V,J,q,et,st,ot,mt,ft,Bt,St){for(var wt=f,H=St,Q=0,bt=!1;(H=H.get(E))!==void 0&&!bt;){var Ct=H.get(f);if(Q+=1,typeof Ct!="undefined"){if(Ct===Q)throw new RangeError("Cyclic object value");bt=!0}typeof H.get(E)=="undefined"&&(Q=0)}if(typeof J=="function"?wt=J(W,wt):wt instanceof Date?wt=st(wt):X==="comma"&&P(wt)&&(wt=R.maybeMap(wt,function(ne){return ne instanceof Date?st(ne):ne})),wt===null){if(U)return V&&!ft?V(W,y.encoder,Bt,"key",ot):W;wt=""}if(T(wt)||R.isBuffer(wt)){if(V){var nt=ft?W:V(W,y.encoder,Bt,"key",ot);return[mt(nt)+"="+mt(V(wt,y.encoder,Bt,"value",ot))]}return[mt(W)+"="+mt(String(wt))]}var dt=[];if(typeof wt=="undefined")return dt;var Tt;if(X==="comma"&&P(wt))ft&&V&&(wt=R.maybeMap(wt,V)),Tt=[{value:wt.length>0?wt.join(",")||null:void 0}];else if(P(J))Tt=J;else{var At=Object.keys(wt);Tt=q?At.sort(q):At}for(var xt=z&&P(wt)&&wt.length===1?W+"[]":W,Dt=0;Dt<Tt.length;++Dt){var Ht=Tt[Dt],se=typeof Ht=="object"&&typeof Ht.value!="undefined"?Ht.value:wt[Ht];if(!(j&&se===null)){var re=P(wt)?typeof X=="function"?X(xt,Ht):xt:xt+(et?"."+Ht:"["+Ht+"]");St.set(f,Q);var It=m();It.set(E,St),g(dt,b(se,re,X,z,U,j,X==="comma"&&ft&&P(wt)?null:V,J,q,et,st,ot,mt,ft,Bt,It))}}return dt},k=function(f){if(!f)return y;if(f.encoder!==null&&typeof f.encoder!="undefined"&&typeof f.encoder!="function")throw new TypeError("Encoder has to be a function.");var W=f.charset||y.charset;if(typeof f.charset!="undefined"&&f.charset!=="utf-8"&&f.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var X=S.default;if(typeof f.format!="undefined"){if(!M.call(S.formatters,f.format))throw new TypeError("Unknown format option provided.");X=f.format}var z=S.formatters[X],U=y.filter;return(typeof f.filter=="function"||P(f.filter))&&(U=f.filter),{addQueryPrefix:typeof f.addQueryPrefix=="boolean"?f.addQueryPrefix:y.addQueryPrefix,allowDots:typeof f.allowDots=="undefined"?y.allowDots:!!f.allowDots,charset:W,charsetSentinel:typeof f.charsetSentinel=="boolean"?f.charsetSentinel:y.charsetSentinel,delimiter:typeof f.delimiter=="undefined"?y.delimiter:f.delimiter,encode:typeof f.encode=="boolean"?f.encode:y.encode,encoder:typeof f.encoder=="function"?f.encoder:y.encoder,encodeValuesOnly:typeof f.encodeValuesOnly=="boolean"?f.encodeValuesOnly:y.encodeValuesOnly,filter:U,format:X,formatter:z,serializeDate:typeof f.serializeDate=="function"?f.serializeDate:y.serializeDate,skipNulls:typeof f.skipNulls=="boolean"?f.skipNulls:y.skipNulls,sort:typeof f.sort=="function"?f.sort:null,strictNullHandling:typeof f.strictNullHandling=="boolean"?f.strictNullHandling:y.strictNullHandling}};ze.exports=function(b,f){var W=b,X=k(f),z,U;typeof X.filter=="function"?(U=X.filter,W=U("",W)):P(X.filter)&&(U=X.filter,z=U);var j=[];if(typeof W!="object"||W===null)return"";var V;f&&f.arrayFormat in L?V=f.arrayFormat:f&&"indices"in f?V=f.indices?"indices":"repeat":V="indices";var J=L[V];if(f&&"commaRoundTrip"in f&&typeof f.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var q=J==="comma"&&f&&f.commaRoundTrip;z||(z=Object.keys(W)),X.sort&&z.sort(X.sort);for(var et=m(),st=0;st<z.length;++st){var ot=z[st];X.skipNulls&&W[ot]===null||g(j,D(W[ot],ot,J,q,X.strictNullHandling,X.skipNulls,X.encode?X.encoder:null,X.filter,X.sort,X.allowDots,X.serializeDate,X.format,X.formatter,X.encodeValuesOnly,X.charset,et))}var mt=j.join(X.delimiter),ft=X.addQueryPrefix===!0?"?":"";return X.charsetSentinel&&(X.charset==="iso-8859-1"?ft+="utf8=%26%2310003%3B&":ft+="utf8=%E2%9C%93&"),mt.length>0?ft+mt:""}},412769:function(ze,G,C){"use strict";var m=C(134569),R=Object.prototype.hasOwnProperty,S=Array.isArray,M=function(){for(var b=[],f=0;f<256;++f)b.push("%"+((f<16?"0":"")+f.toString(16)).toUpperCase());return b}(),L=function(f){for(;f.length>1;){var W=f.pop(),X=W.obj[W.prop];if(S(X)){for(var z=[],U=0;U<X.length;++U)typeof X[U]!="undefined"&&z.push(X[U]);W.obj[W.prop]=z}}},P=function(f,W){for(var X=W&&W.plainObjects?Object.create(null):{},z=0;z<f.length;++z)typeof f[z]!="undefined"&&(X[z]=f[z]);return X},p=function b(f,W,X){if(!W)return f;if(typeof W!="object"){if(S(f))f.push(W);else if(f&&typeof f=="object")(X&&(X.plainObjects||X.allowPrototypes)||!R.call(Object.prototype,W))&&(f[W]=!0);else return[f,W];return f}if(!f||typeof f!="object")return[f].concat(W);var z=f;return S(f)&&!S(W)&&(z=P(f,X)),S(f)&&S(W)?(W.forEach(function(U,j){if(R.call(f,j)){var V=f[j];V&&typeof V=="object"&&U&&typeof U=="object"?f[j]=b(V,U,X):f.push(U)}else f[j]=U}),f):Object.keys(W).reduce(function(U,j){var V=W[j];return R.call(U,j)?U[j]=b(U[j],V,X):U[j]=V,U},z)},g=function(f,W){return Object.keys(W).reduce(function(X,z){return X[z]=W[z],X},f)},w=function(b,f,W){var X=b.replace(/\+/g," ");if(W==="iso-8859-1")return X.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(X)}catch(z){return X}},x=function(f,W,X,z,U){if(f.length===0)return f;var j=f;if(typeof f=="symbol"?j=Symbol.prototype.toString.call(f):typeof f!="string"&&(j=String(f)),X==="iso-8859-1")return escape(j).replace(/%u[0-9a-f]{4}/gi,function(et){return"%26%23"+parseInt(et.slice(2),16)+"%3B"});for(var V="",J=0;J<j.length;++J){var q=j.charCodeAt(J);if(q===45||q===46||q===95||q===126||q>=48&&q<=57||q>=65&&q<=90||q>=97&&q<=122||U===m.RFC1738&&(q===40||q===41)){V+=j.charAt(J);continue}if(q<128){V=V+M[q];continue}if(q<2048){V=V+(M[192|q>>6]+M[128|q&63]);continue}if(q<55296||q>=57344){V=V+(M[224|q>>12]+M[128|q>>6&63]+M[128|q&63]);continue}J+=1,q=65536+((q&1023)<<10|j.charCodeAt(J)&1023),V+=M[240|q>>18]+M[128|q>>12&63]+M[128|q>>6&63]+M[128|q&63]}return V},y=function(f){for(var W=[{obj:{o:f},prop:"o"}],X=[],z=0;z<W.length;++z)for(var U=W[z],j=U.obj[U.prop],V=Object.keys(j),J=0;J<V.length;++J){var q=V[J],et=j[q];typeof et=="object"&&et!==null&&X.indexOf(et)===-1&&(W.push({obj:j,prop:q}),X.push(et))}return L(W),f},T=function(f){return Object.prototype.toString.call(f)==="[object RegExp]"},E=function(f){return!f||typeof f!="object"?!1:!!(f.constructor&&f.constructor.isBuffer&&f.constructor.isBuffer(f))},D=function(f,W){return[].concat(f,W)},k=function(f,W){if(S(f)){for(var X=[],z=0;z<f.length;z+=1)X.push(W(f[z]));return X}return W(f)};ze.exports={arrayToObject:P,assign:g,combine:D,compact:y,decode:w,encode:x,isBuffer:E,isRegExp:T,maybeMap:k,merge:p}},654087:function(ze,G,C){for(var m=C(75),R=typeof window=="undefined"?C.g:window,S=["moz","webkit"],M="AnimationFrame",L=R["request"+M],P=R["cancel"+M]||R["cancelRequest"+M],p=0;!L&&p<S.length;p++)L=R[S[p]+"Request"+M],P=R[S[p]+"Cancel"+M]||R[S[p]+"CancelRequest"+M];if(!L||!P){var g=0,w=0,x=[],y=1e3/60;L=function(T){if(x.length===0){var E=m(),D=Math.max(0,y-(E-g));g=D+E,setTimeout(function(){var k=x.slice(0);x.length=0;for(var b=0;b<k.length;b++)if(!k[b].cancelled)try{k[b].callback(g)}catch(f){setTimeout(function(){throw f},0)}},Math.round(D))}return x.push({handle:++w,callback:T,cancelled:!1}),w},P=function(T){for(var E=0;E<x.length;E++)x[E].handle===T&&(x[E].cancelled=!0)}}ze.exports=function(T){return L.call(R,T)},ze.exports.cancel=function(){P.apply(R,arguments)},ze.exports.polyfill=function(T){T||(T=R),T.requestAnimationFrame=L,T.cancelAnimationFrame=P}},174219:function(ze,G){"use strict";var C;C={value:!0},G.Z=void 0;var m={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"};G.Z=m},585369:function(ze,G){"use strict";var C;C={value:!0},G.Z=void 0;var m={locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},R=m;G.Z=R},752376:function(ze,G,C){"use strict";C.d(G,{Z:function(){return Xe}});var m=C(671002),R=C(601413),S=C(297685),M=C(700091),L=C(667294);function P(Zt){var Qt=[];return L.Children.forEach(Zt,function(Mt){Qt.push(Mt)}),Qt}function p(Zt,Qt){var Mt=null;return Zt&&Zt.forEach(function(Nt){Mt||!Nt||Nt.key===Qt&&(Mt=Nt)}),Mt}function g(Zt,Qt){var Mt=[],Nt={},Ut=[],vt=null;return Zt.forEach(function(Rt){Rt&&(Rt.key&&p(Qt,Rt.key)?(Ut.length&&(Nt[Rt.key]=Ut,Ut=[]),vt=Rt.key):Rt.key&&Ut.push(Rt))}),vt||(Mt=Mt.concat(Ut)),Qt.forEach(function(Rt){Rt&&(Rt.key&&Nt.hasOwnProperty(Rt.key)&&(Mt=Mt.concat(Nt[Rt.key])),Mt.push(Rt),Rt.key===vt&&(Mt=Mt.concat(Ut)))}),Mt}function w(Zt,Qt,Mt){var Nt;return typeof Zt=="function"?Nt=Zt({key:Qt,index:Mt}):Nt=Zt,Nt}function x(Zt){return Zt&&Zt.children}var y=!(typeof window!="undefined"&&window.document&&window.document.createElement),T=y?L.useEffect:L.useLayoutEffect,E=C(974902),D=C(973935),k=C(364687),b=C.n(k),f=C(115861),W=C(215671),X=C(143144),z=C(952191);function U(){}var j=z.rV,V=/.*shadow$/gi,J=!(typeof window!="undefined"&&window.document&&window.document.createElement),q=Date.now;function et(Zt){if(typeof Zt=="string"){if(Zt.charAt(0).match(/m/i)){var Qt=document.createElementNS("http://www.w3.org/2000/svg","path");return Qt.setAttributeNS(null,"d",Zt),Qt}return document.querySelector(Zt)}else if(Zt.style)return Zt;throw new Error("Error while parsing the path")}var st={type:"to",duration:450,delay:0,repeat:0,repeatDelay:0,appearTo:0,yoyo:!1,ease:"easeInOutQuad",onStart:U,onUpdate:U,onComplete:U,onRepeat:U,startAt:{}},ot={animation:{},paused:!1,reverse:!1,delay:0,repeat:0,repeatDelay:0,yoyo:!1,moment:null,resetStyle:!1,regionStartTime:0,regionEndTime:void 0,onChange:U,onChangeTimeline:U},mt=function(Qt){var Mt={};return Object.keys(ot).forEach(function(Nt){Mt[Nt]=typeof Qt[Nt]=="undefined"?ot[Nt]:Qt[Nt]}),Mt.delay&&(Mt.delay=Math.round(Mt.delay)),Qt.repeatDelay&&(Mt.repeatDelay=Math.round(Mt.repeatDelay)),Mt},ft=function(Qt){if(Array.isArray(Qt)||!Qt)return Qt;if(Qt.length){var Mt=Array.prototype.slice.call(Qt);return Mt.length?[Qt]:Mt}return[Qt]},Bt=function(Qt){return Qt.length===1?Qt[0]:Qt},St=function(Qt,Mt){var Nt=Mt.appearTo,Ut=Nt===void 0?0:Nt,vt=Mt.delay,Rt=vt===void 0?0:vt,ae=Mt.duration,tt=ae===void 0?450:ae,ut=Mt.repeat,B=Mt.repeatDelay;if(typeof Ut=="string")return 0;var O,_=0;return typeof Qt.appearTo=="number"?Qt.appearTo:(typeof Qt.appearTo=="string"&&Qt.appearTo.charAt(1)==="="&&(_=parseFloat(Qt.appearTo.replace("=",""))),O=Ut+Rt+tt+_,ut===-1?O=Number.MAX_VALUE:ut&&(O=Ut+Rt+tt*(ut+1)+(B||0)*ut+_),O)},wt=function(Qt){switch(Qt){case"opacity":case"scaleX":case"scaleY":case"scale":return 1;default:return 0}},H=function(Qt,Mt){var Nt=typeof Qt=="string"?parseFloat(Qt):Qt;return Q(Nt,Mt.vars,1,Mt.count,Mt.unit)},Q=function(Qt,Mt,Nt){var Ut=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",vt=arguments.length>4?arguments[4]:void 0;return Ut==="+="||Ut==="-="?Qt+Mt*Nt+(vt||0):(Mt-Qt)*Nt+Qt+(vt||0)},bt=function(Qt){if(!Qt)return{};var Mt=typeof window!="undefined"&&document.defaultView?document.defaultView.getComputedStyle(Qt):{};return Mt},Ct={margin:1,padding:1,borderWidth:1,borderRadius:1};function nt(Zt){var Qt=Zt.target,Mt=Zt.computedStyle,Nt=Zt.style,Ut=Zt.value,vt=Zt.startUnit,Rt=Zt.endUnit,ae=Zt.fixed,tt=Zt.isOriginWidth,ut=Zt.useCurrentTarget;if(J)return Ut;var B=/(?:Left|Right|Width|X)/i.test(Nt)||tt;B=Nt==="padding"||Nt==="marign"?!0:B;var O=Nt.indexOf("border")!==-1||Nt.indexOf("translate")!==-1||Nt==="transformOrigin"||ut?Qt:Qt.parentNode||document.body;O=ae?document.body:O;var _,$,gt;switch(vt){case"%":_=parseFloat(Ut)/100*(B?O.clientWidth:O.clientHeight);break;case"vw":_=parseFloat(Ut)*document.body.clientWidth/100;break;case"vh":_=parseFloat(Ut)*document.body.clientHeight/100;break;case"em":Mt?_=parseFloat(Ut)*parseFloat(Mt.fontSize):(gt="em",_=parseFloat(Ut));break;case"rem":{Mt?($=window.getComputedStyle(document.getElementsByTagName("html")[0]),_=parseFloat(Ut)*parseFloat($.fontSize)):(gt="rem",_=parseFloat(Ut));break}default:_=parseFloat(Ut);break}switch(Rt){case"%":_=_?_*100/(B?O.clientWidth:O.clientHeight):0;break;case"vw":_=parseFloat(Ut)/document.body.clientWidth*100;break;case"vh":_=parseFloat(Ut)/document.body.clientHeight*100;break;case"em":Mt?_=parseFloat(Ut)/parseFloat(Mt.fontSize):(gt="em",_=parseFloat(Ut));break;case"rem":{Mt?($=$||window.getComputedStyle(document.getElementsByTagName("html")[0]),_=parseFloat(Ut)/parseFloat($.fontSize)):(gt="rem",_=parseFloat(Ut));break}default:break}return gt&&console.warn("Warning: Element is not 'DOM, can not use '".concat(gt,"', automatically convert to animation units.")),_}function dt(Zt){if(typeof Zt=="string")return Zt;var Qt=Zt.perspective,Mt=Zt.rotate,Nt=Zt.rotateX,Ut=Zt.rotateY,vt=Zt.scaleX,Rt=Zt.scaleY,ae=Zt.scaleZ,tt=Zt.skewX,ut=Zt.skewY,B=typeof Zt.translateX=="string"?Zt.translateX:"".concat(Zt.translateX,"px"),O=typeof Zt.translateY=="string"?Zt.translateY:"".concat(Zt.translateY,"px"),_=typeof Zt.translateZ=="string"?Zt.translateZ:"".concat(Zt.translateZ,"px"),$=tt||ut?"skew(".concat(tt,"deg,").concat(ut,"deg)"):"",gt=Mt?"rotate(".concat(Mt,"deg)"):"",Ft=vt!==1||Rt!==1||ae!==1?"scale3d(".concat(vt,",").concat(Rt,",").concat(ae,")"):"",zt=Nt?"rotateX(".concat(Nt,"deg)"):"",te=Ut?"rotateY(".concat(Ut,"deg)"):"",_e=Qt?"perspective(".concat(Qt,"px)"):"",me=Ft||gt||zt||te||$?"":"translate(0px, 0px)",Ue=Zt.translateZ?"translate3d(".concat(B,",").concat(O,",").concat(_,")"):(Zt.translateX||Zt.translateY)&&"translate(".concat(B,",").concat(O,")")||me;return"".concat(_e," ").concat(Ue," ").concat(Ft," ").concat(gt," ").concat(zt," ").concat(te," ").concat($).trim()}var Tt={brightness:1,saturate:1,contrast:1,grayScale:0,hueRotate:"0deg",sepia:0,invert:0},At=(0,X.Z)(function Zt(){var Qt=this;(0,W.Z)(this,Zt),this.push=function(Mt){ft(Mt).forEach(function(Nt){Qt[Nt.className]=Nt})},this.register=this.push}),xt=new At,Dt=/%|vw|vh|em|rem/i,Ht=(0,X.Z)(function Zt(Qt){var Mt=this;(0,W.Z)(this,Zt),this.props=void 0,this.computedStyle=void 0,this.root=void 0,this.index=void 0,this.targetIndex=void 0,this.tweenVars={},this.transformName=void 0,this.filterName=void 0,this.target=void 0,this.start={},this.startAt={},this.propsData={data:{},type:{},unit:{},count:{},splitStr:{},isTransform:{}},this.setDefaultData=function(){var Nt=Mt.props;for(var Ut in Nt){var vt=Nt[Ut],Rt=vt.split&&vt.split(/\s+|,/).length>1||Ut.match(/color|fill|stroke/i)||Ut.match(/shadow/i),ae=(Ut==="background"||Ut==="backgroundImage")&&vt.match(/[a-z|-]+\(([\s\S]*?)\)/gi);if(ae){Mt.propsData.data[Ut]={value:vt,plugin:xt.GradientsPlugin};continue}if(Rt){Mt.propsData.data[Ut]={value:vt,plugin:xt.ArrayPlugin};continue}var tt=(0,z.Lo)(Ut),ut=Mt.getTweenData(tt,Nt[Ut]);Mt.propsData.data[tt]=ut.data[tt],Mt.propsData.type[tt]=ut.type[tt],Mt.propsData.unit[tt]=ut.unit[tt],Mt.propsData.count[tt]=ut.count[tt],Mt.propsData.isTransform[tt]=(0,z.dt)(tt)==="transform",ut.splitStr[tt]&&(Mt.propsData.splitStr[tt]=ut.splitStr[tt])}},this.getTweenData=function(Nt,Ut){var vt={data:{},isTransform:{},type:{},unit:{},count:{},splitStr:{}},Rt=Ut;vt.data[Nt]=Rt;var ae=typeof vt.data[Nt]=="string";vt.unit[Nt]=ae?vt.data[Nt].replace(/[^a-z|%]/g,""):"",vt.count[Nt]=ae?vt.data[Nt].replace(/[^+|=|-]/g,""):"";var tt=ae?parseFloat(vt.data[Nt].replace(/[a-z|%|=]/g,"")):vt.data[Nt];return vt.data[Nt]=!tt&&tt!==0?vt.data[Nt]:tt,vt},this.setStartAtValue=function(Nt,Ut){return(0,m.Z)(Ut)==="object"?H(Nt,Ut):Nt},this.getAnimStart=function(){var Nt=Mt.target,Ut=Mt.root,vt=Mt.targetIndex,Rt=Mt.propsData,ae=Mt.startAt,tt=Mt.start,ut=Mt.tweenVars,B={};for(var O in ae)B[(0,z.Lo)(O)]=ae[O];Mt.computedStyle=Mt.computedStyle||bt(Nt),ut.style=ut.style||{};var _,$;for(var gt in Rt.data){var Ft,zt=Rt.data[gt];if(zt.plugin){var te=new zt.plugin(zt.value,gt);te.target=Nt,te.root=Ut,te.parent=parent,te.index=Mt.index,te.targetIndex=vt,te.tweenVars=ut,te.startAt=Mt.startAt,te.computedStyle=Mt.computedStyle,zt.plugin=te,tt[gt]=te.getAnimStart();continue}var _e=(0,z.dt)(gt),me=_e==="transform"?Mt.transformName:_e;me=_e==="filter"?Mt.filterName:me;var Ue=ut.style[me],fr=Ue!=null?Ue:Mt.computedStyle[_e],je=(Ft=B[gt])!==null&&Ft!==void 0?Ft:fr,Lr=Rt.unit[gt],ln="";if(_e==="transform"){_=_||(je===Ue?(0,R.Z)({},Ue):(0,z.Ck)(Mt.computedStyle[Mt.transformName]));var Ve=_[gt];if(B&&gt in B){var or,Ar;Ve=Mt.setStartAtValue((or=(Ar=B[gt].vars)!==null&&Ar!==void 0?Ar:Ue==null?void 0:Ue[gt])!==null&&or!==void 0?or:Ve,B[gt]),ln=B[gt].unit,gt==="scale"?(_.scaleX=Ve,_.scaleY=Ve):_[gt]=Ve}ln!==Lr&&(Ve=nt({target:Nt,computedStyle:Mt.computedStyle,style:_e,value:Ve,startUnit:ln,endUnit:Lr}),gt==="scale"?(_.scaleX=Ve,_.scaleY=Ve):_[gt]=Ve),tt[Mt.transformName]=_}else if(_e==="filter"){var Mr=z._T.filterConvert[gt]||gt;$=$||(je===Ue?(0,R.Z)({},Ue):(0,z.GX)(fr)||{}),$[Mr]=$[Mr]||Tt[Mr];var ce=$[Mr];if(B&&gt in B){var Xt;ce=Mt.setStartAtValue((Xt=B[gt].vars)!==null&&Xt!==void 0?Xt:ce,B[gt]),ln=B[gt].unit,$[Mr]=ce}if(Lr!==ln){var he;$[Mr]=nt({target:Nt,computedStyle:Mt.computedStyle,style:_e,value:ce,startUnit:ln,endUnit:Lr,fixed:((he=Mt.computedStyle)===null||he===void 0?void 0:he.position)==="fixed"})}tt[Mt.filterName]=$}else{var Me;if(je=(Me=B[gt])!==null&&Me!==void 0?Me:fr,(!je||je==="none"||je==="auto")&&(je=""),Lr=Rt.unit[_e],ln=(0,m.Z)(je)==="object"?je.unit:"".concat(je).replace(/[^a-z|%]/g,""),je=Mt.setStartAtValue(fr,B[gt]),Lr!==ln){var be;je=nt({target:Nt,computedStyle:Mt.computedStyle,style:_e,value:parseFloat(je),startUnit:ln,endUnit:Lr,fixed:((be=Mt.computedStyle)===null||be===void 0?void 0:be.position)==="fixed"})}var Ne=parseFloat(je);tt[_e]=isNaN(Ne)?wt(_e):Ne}}return tt},this.render=function(Nt){var Ut=Mt.propsData,vt=Mt.start,Rt=Mt.tweenVars,ae=Rt.style||{};vt[Mt.transformName]&&!ae[Mt.transformName]&&(ae[Mt.transformName]=(0,R.Z)({},vt[Mt.transformName])),vt[Mt.filterName]&&!ae[Mt.filterName]&&(ae[Mt.filterName]=(0,R.Z)({},vt[Mt.filterName]));var tt=ae[Mt.transformName],ut=ae[Mt.filterName],B=Ut.data,O=Ut.unit,_=Ut.count,$=Ut.isTransform;for(var gt in B){var Ft=B[gt];if(Ft.plugin){ae[gt]=Ft.plugin.render(Nt);continue}var zt=$[gt],te=zt?vt[Mt.transformName][gt]:vt[gt],_e=O[gt],me=_[gt];if(zt){if(gt==="scale"){var Ue=vt[Mt.transformName].scaleX,fr=vt[Mt.transformName].scaleY;me.charAt(1)==="="?(tt.scaleX=Ue+Ft*Nt,tt.scaleY=fr+Ft*Nt):(tt.scaleX=(Ft-Ue)*Nt+Ue,tt.scaleY=(Ft-fr)*Nt+fr)}else tt[gt]=Q(parseFloat(te),Ft,Nt,me,_e);tt.text=dt(ae[Mt.transformName])}else if(z._T.filter.indexOf(gt)>=0){var je=z._T.filterConvert[gt]||gt;te=parseFloat(vt[Mt.filterName][je])||0,ut[je]=Q(te,Ft,Nt,me,_e),ut.text="";for(var Lr in ut)Lr!=="text"&&(ut.text="".concat(ut.text," ").concat(Lr,"(").concat(ut[Lr],")").trim())}else{var ln=(0,z.YJ)(gt,0);ln=typeof ln=="number"?0:ln.replace(/[^a-z|%]/g,""),_e=_e||ln,typeof Ft=="string"?ae[gt]=Ft:ae[gt]=Q(te,Ft,Nt,me,_e)}}return ae},this.props=Qt,this.transformName=(0,z.Yf)("transform"),this.filterName=(0,z.Yf)("filter")||"filter",this.setDefaultData()});Ht.key="style",Ht.className="style";var se=Ht,re=C(497326),It=C(360136),ne=C(318486),pe=(0,X.Z)(function Zt(Qt,Mt){(0,W.Z)(this,Zt),this.value=void 0,this.key=void 0,this.root=void 0,this.index=void 0,this.style={},this.start={},this.startAt={},this.target=void 0,this.value=Qt,this.key=Mt});pe.className=void 0,pe.key=void 0;var Wt=function(Zt){(0,It.Z)(Mt,Zt);var Qt=(0,ne.Z)(Mt);function Mt(Nt,Ut){var vt;(0,W.Z)(this,Mt),vt=Qt.call(this,Nt,Ut),vt.value=void 0,vt.key=void 0,vt.start=[],vt.tweenVars={},vt.vars={},vt.computedStyle=void 0,vt.propsData={data:[],unit:[],count:[]},vt.setDefaultData=function(tt,ut){var B=(0,re.Z)(vt),O=B.propsData,_=B.value,$=(0,E.Z)(_);if(tt==="color"){var gt;$[3]=(gt=$[3])!==null&&gt!==void 0?gt:1}O.type=tt,O.data=$.map(function(Ft){return!parseFloat(Ft)&&parseFloat(Ft)!==0?Ft:parseFloat(Ft)}),O.unit=$.map(function(Ft){return Ft.toString().replace(/[^a-z|%]/g,"")}),O.count=$.map(function(Ft){return Ft.toString().replace(/[^+|=|-]/g,"")}),ut&&(O.splitStr=ut)},vt.convertToMarksArray=function(tt,ut,B,O){var _=(B||"").toString().replace(/[^a-z|%]/g,""),$=typeof O=="number"?tt[O]:void 0;return _===$?parseFloat(B):!parseFloat(B)&&parseFloat(B)!==0?B:nt({target:vt.target,computedStyle:vt.computedStyle,style:ut,value:B,startUnit:_,endUnit:$,isOriginWidth:ut==="transformOrigin"&&!O})},vt.getAnimStart=function(){var tt,ut,B,O,_=(0,re.Z)(vt),$=_.startAt,gt=_.target,Ft=_.key,zt=_.propsData,te=_.computedStyle,_e=_.tweenVars,me=(tt=(ut=(B=$==null?void 0:$[Ft])!==null&&B!==void 0?B:te?(O=_e.style)===null||O===void 0?void 0:O[Ft]:_e[Ft])!==null&&ut!==void 0?ut:(te||gt)[Ft])!==null&&tt!==void 0?tt:"",Ue=zt.data.indexOf("inset"),fr;if(Ue!==-1&&!me.match("inset")&&zt.type==="shadow"&&(fr=me,me=""),(!me||me==="none"||me==="auto")&&(me=""),me=zt.type==="shadow"?(0,z.hy)(me,Ft):me,me=zt.type==="color"?(0,z.lu)(me):me,me=zt.type==="string"?me.split(/[\s|,]/):me,Ct[Ft]){var je,Lr,ln,Ve;me[1]=(je=me[1])!==null&&je!==void 0?je:me[0],me[2]=(Lr=me[2])!==null&&Lr!==void 0?Lr:me[0],me[3]=(ln=(Ve=me[3])!==null&&Ve!==void 0?Ve:me[1])!==null&&ln!==void 0?ln:me[0]}var or=zt.unit,Ar=me.map(function(Mr,ce){return parseFloat(Mr).toString()==="NaN"?Mr:vt.convertToMarksArray(or,Ft,Mr,ce)});return vt.start=Ar.concat(Ue>=0?"inset":[]),vt.start.oldShadow=fr,vt.start},vt.render=function(tt){var ut=(0,re.Z)(vt),B=ut.start,O=ut.propsData,_=O.type,$=O.splitStr,gt=O.data,Ft=O.count,zt=O.unit,te=gt.map(function(je,Lr){return typeof je=="string"?je:Q(B[Lr],je,tt,Ft[Lr],zt[Lr])});switch(_){case"string":te=te.join($);break;case"color":te=(0,z.Lq)(te);break;case"shadow":{var _e=te.indexOf("inset")>=0,me=_e?te.filter(function(je){return je!=="inset"}):te,Ue=me.slice(0,me.length-4).map(function(je){return typeof je=="number"?"".concat(je,"px"):je}),fr=(0,z.Lq)(me.slice(me.length-4,me.length));te="".concat(B.oldShadow?"".concat(B.oldShadow,","):"").concat(Ue.join(" ")," ").concat(fr," ").concat(_e?"inset":"").trim();break}default:break}return te},vt.value=Nt,vt.key=Ut;var Rt="",ae="";return typeof Nt=="string"&&(Ut.match(V)?(vt.value=(0,z.hy)(Nt,Ut),Rt="shadow"):Ut.match(/color|fill|stroke/i)||Nt.match(j)?(vt.value=(0,z.lu)(Nt),Rt="color"):(ae=Nt.replace(/[^\s|,]/g,"").replace(/\s+/g," "),vt.value=Nt.split(/[\s|,]/),Rt="string")),vt.setDefaultData(Rt,ae),vt}return(0,X.Z)(Mt)}(pe);Wt.className="ArrayPlugin";var Jt=Wt,$t={linear:{"to top":"0deg","to top right":"45deg","to right top":"45deg","to right":"90deg","to right bottom":"135deg","to bottom right":"135deg","to bottom":"180deg","to bottom left":"225deg","to left bottom":"225deg","to left":"270deg","to left top":"315deg","to top left":"315deg"},radial:{center:"50% 50%",top:"50% 0%","top right":"100% 0%","right top":"100% 0%",right:"100% 50%","right bottom":"100% 100%","bottom right":"100% 100%",bottom:"50% 100%","bottom left":"0% 100%","left bottom":"0% 100%",left:"0% 50%","left top":"0% 0%","top left":"0% 0%"}},Kt=["closest-side","closest-corner","farthest-side","farthest-corner"],ue=function(Qt,Mt,Nt){console.warn("Warning: The gradient ".concat(Qt,"(").concat(Mt," => ").concat(Nt,") is different, which has been automatically converted to animation gradient ").concat(Qt,"(").concat(Nt,")."))},Se=function(Qt){return Qt==="url"||Qt.indexOf("image")>=0||Qt==="paint"||Qt==="cross-fade"||Qt==="element"},Pt=function(Zt){(0,It.Z)(Mt,Zt);var Qt=(0,ne.Z)(Mt);function Mt(Nt){var Ut;return(0,W.Z)(this,Mt),Ut=Qt.call(this,Nt,"backgroundImage"),Ut.value=void 0,Ut.tweenVars={},Ut.vars=[],Ut.computedStyle=void 0,Ut.defaultStartVars=[],Ut.getPosition=function(vt){return vt.map(function(Rt){return{data:parseFloat(Rt),unit:Rt.replace(/[^a-z|%]/g,"")}})},Ut.getAngle=function(vt,Rt){var ae=vt.replace(/-|gradient|repeating]/g,""),tt,ut,B,O;switch(ae){case"linear":{B=Ut.getPosition(($t.linear[Rt]||Rt||$t.linear["to bottom"]).split(" "));break}case"radial":{var _=Rt.split(" ");tt=_.find(function(te){return Kt.indexOf(te)>=0})||Kt[3],ut=_.find(function(te){return te==="circle"||te==="ellipse"})||"ellipse";var $=new RegExp("".concat(tt,"|").concat(ut,"|at"),"g"),gt=Rt.replace($,"").trim();O=Ut.getPosition(($t.radial[gt]||gt||$t.radial.center).split(" "));break}case"conic":{var Ft=Rt.split("at").map(function(te){return te.trim()}),zt=(Ft[0]||"").split(" ");ut=zt[0]||"from",B=Ut.getPosition([zt[1]||"0deg"]),O=Ut.getPosition(($t.radial[Ft[1]]||Ft[1]||$t.radial.center).split(" "));break}default:break}return{extent:tt,shape:ut,angle:B,position:O}},Ut.valueToIValue=function(vt){if(!vt)return[];var Rt=vt.replace(/\),\s+?(url|radial|conic|linear|repeating|image|element|cross|paint)/,")#,#$1").split("#,#");return Rt.map(function(ae){var tt=ae.replace(/([a-z|-]+)\((.*)\)/,"$1").trim();if(tt==="url")return{type:tt,values:ae};var ut=ae.replace(/([a-z|-]+)\((.*)\)/,"$2").replace(/#([0-9a-f]{6}|[0-9a-f]{3})|(rgb[a]?|hsl)+\(\d+\,[\s+]?\d+[\%]?\,[\s+]?\d+[\%]?(\,\d+)?\)/gi,function($){return $.replace(/\s+/g,"")}).replace(/\,([a-z|#|\s+])/g,"#,#$1").split("#,#").map(function($){return $.trim()}),B=ut[0].match(j)?"":ut[0];B&&ut.splice(0,1);var O=Ut.getAngle(tt,B),_=ut.map(function($){var gt=$.trim().split(/\s+/),Ft,zt=(gt[0].match(j),gt[0]);return zt&&(gt.splice(0,1),Ft=(0,z.lu)(zt)),{color:Ft,positions:gt.map(function(te){return{data:parseFloat(te),unit:te.toString().replace(/[^a-z|%]/g,"")}})}});return{type:tt,angle:O,values:_}})},Ut.getAnimStart=function(){var vt,Rt=(0,re.Z)(Ut),ae=Rt.startAt,tt=Rt.key,ut=Rt.computedStyle,B=Rt.target,O=Rt.vars,_=Rt.tweenVars,$=(0,R.Z)({},ae),gt=(vt=_[tt])!==null&&vt!==void 0?vt:(ut||B)[tt];(!gt||gt==="none"||gt==="auto")&&(gt=""),$[tt]=$[tt]||gt,$[tt]=$[tt]?Ut.valueToIValue($[tt]):Ut.defaultStartVars;var Ft=Math.max(O.length,$[tt].length),zt=(Ft===$[tt].length?$[tt]:O).map(function(te,_e){var me,Ue,fr=$[tt][_e]||Ut.defaultStartVars[_e],je=O[_e]||fr;if((!fr||fr.type!==je.type)&&(fr.type!==je.type&&ue("type",fr.type,je.type),fr=Ut.defaultStartVars[_e]),Se(je.type)||typeof je.values=="string"||typeof fr.values=="string")return(0,R.Z)({},je);if(((me=je.angle)===null||me===void 0?void 0:me.extent)!==((Ue=fr.angle)===null||Ue===void 0?void 0:Ue.extent)){var Lr,ln;ue("extent keyword",(Lr=fr.angle)===null||Lr===void 0?void 0:Lr.extent,(ln=je.angle)===null||ln===void 0?void 0:ln.extent)}var Ve=Math.max(fr.values.length,je.values.length),or=Ve===fr.values.length?fr.values:je.values;return fr.values=or.map(function(Ar,Mr){var ce=fr.values[Mr],Xt=je.values[Mr]||ce;return(0,R.Z)((0,R.Z)({},ce),{},{positions:(Xt||ce).positions.map(function(he,Me){var be=ce?ce.positions[Me]||ce.positions[ce.positions.length-1]:Xt.positions[Xt.positions.length-1],Ne=he||be;return!be&&ce&&fr.values.length&&(be={data:100/(fr.values.length-1)*Mr,unit:"%"}),Ne.unit!==be.unit&&ue("units",be.unit,Ne.unit),{data:be.data,unit:Ne.unit}})})}),fr});return Ut.start=zt,Ut.start},Ut.render=function(vt){var Rt="",ae=Math.max(Ut.vars.length,Ut.start.length);return(ae===Ut.vars.length?Ut.vars:Ut.start).forEach(function(tt,ut){var B=Ut.start[ut],O=Ut.vars[ut]||B;if(Se(O.type)||typeof O.values=="string"||!O.angle){Rt+="".concat(Rt?",":""," ").concat(O.values).trim();return}var _=Math.max(B.values.length,O.values.length),$=(_===B.values.length?B.values:O.values).map(function(_e,me){var Ue=B.values[me],fr=O.values[me];fr||(fr=Ue);var je=Ue.color,Lr=Ue.positions;!je&&fr.color&&(je=(0,E.Z)(fr.color)),Lr||(Lr=fr.positions.map(function(or){return(0,R.Z)({},or)}));var ln=fr.color?fr.color.map(function(or,Ar){return Q(je[Ar],or,vt)}):fr.color,Ve=fr.positions.map(function(or,Ar){return"".concat(Q(Lr[Ar].data,or.data,vt)).concat(or.unit)}).join(" ");return"".concat(ln?(0,z.Lq)(ln):ln||""," ").concat(Ve).trim()}),gt=O.angle,Ft=gt.angle&&gt.angle.map(function(_e,me){return"".concat(Q(B.angle.angle[me].data,_e.data,vt)).concat(_e.unit)}).join(" "),zt=gt.position&&gt.position.map(function(_e,me){return"".concat(Q(B.angle.position[me].data,_e.data,vt)).concat(_e.unit)}).join(" "),te="".concat(gt.extent||""," ").concat(gt.shape||""," ").concat(Ft||""," ").concat(zt?"at ".concat(zt):"").trim();Rt+="".concat(Rt?",":""," ").concat(O.type,"(").concat(te?"".concat(te,","):"").concat($.join(","),")").trim()}),Rt},Ut.value=Nt,Ut.vars=Ut.valueToIValue(Nt),Ut.defaultStartVars=Ut.vars.map(function(vt){return Se(vt.type)||typeof vt.values=="string"?(0,R.Z)({},vt):(0,R.Z)((0,R.Z)({},vt),{},{values:vt.values.map(function(Rt){var ae;return Rt.color&&typeof Rt.color!="string"?(ae=(0,E.Z)(Rt.color),ae[3]=0):ae=Rt.color,{color:ae,positions:(0,E.Z)(Rt.positions)}})})}),Ut}return(0,X.Z)(Mt)}(pe);Pt.className="GradientsPlugin";var Fe=C(654087),vr=C.n(Fe),Tr=function(){function Zt(){var Qt=this;(0,W.Z)(this,Zt),this.lagThreshold=150,this.adjustedLag=33,this.emptyTime=0,this.elapsed=0,this.frameFPS=1e3/240,this.startTime=0,this.prevTime=0,this.useTimeout=!1,this.lastUpdate=this.startTime,this.nextTime=this.frameFPS,this.req=void 0,this.id=-1,this.tweenId=0,this.tickFn=[],this.state="sleep",this.time=0,this.frame=0,this.removeReq=function(Mt){return Qt.useTimeout?clearTimeout(Mt):(0,Fe.cancel)(Mt)},this.tick=function(){var Mt=Qt.tickFn;Qt.startTime||(Qt.startTime=q()-Qt.frameFPS,Qt.lastUpdate=Qt.startTime),Qt.elapsed=q()-Qt.lastUpdate,Qt.elapsed>Qt.lagThreshold&&(Qt.startTime+=Qt.elapsed-Qt.adjustedLag),Qt.lastUpdate+=Qt.elapsed,Qt.time=Qt.lastUpdate-Qt.startTime;var Nt=Qt.time-Qt.nextTime;if(Nt>0){Qt.frame++,Qt.nextTime+=Nt+(Nt>=Qt.frameFPS?4:Qt.frameFPS-Nt);for(var Ut=Qt.time-Qt.prevTime,vt=0;vt<Mt.length;vt++)Mt[vt].fn({time:Qt.time,elapsed:Ut<Qt.frameFPS?Qt.frameFPS:Ut});Qt.prevTime=Qt.time}if(!Qt.tickFn.length&&(Qt.emptyTime||(Qt.emptyTime=Qt.time+500),Qt.time>=Qt.emptyTime)){Qt.emptyTime=0,Qt.sleep();return}Qt.req&&(Qt.id=Qt.req(Qt.tick))},this.wake=function(){Qt.id&&Qt.sleep(),Qt.req=Qt.useTimeout?function(Mt){return setTimeout(Mt,Qt.frameFPS)}:vr(),Qt.tick(),Qt.state="wake"},this.sleep=function(){Qt.removeReq(Qt.id),Qt.id=-1,Qt.req=void 0,Qt.state="sleep"},this.add=function(Mt){var Nt="TweenOneTicker_".concat(Qt.tweenId);return Qt.tweenId+=1,Qt.tickFn.findIndex(function(Ut){return Ut.key===Nt})===-1&&Qt.tickFn.push({key:Nt,fn:Mt}),Qt.emptyTime=0,Qt.req||Qt.wake(),Nt},this.clear=function(Mt){Qt.tickFn=Qt.tickFn.filter(function(Nt){return Nt.key!==Mt&&Nt.fn!==Mt})},this.timeout=function(Mt,Nt){if(typeof Mt!="function")return console.warn("not function");var Ut=Qt.time,vt=Qt.add(function(){var Rt=Qt.time-Ut;Rt>=(Nt||0)&&(Qt.clear(vt),Mt())});return vt},this.interval=function(Mt,Nt){if(typeof Mt!="function")return console.warn("not function"),null;var Ut=Qt.time;return Qt.add(function(){var vt=Qt.time-Ut;vt>=(Nt||0)&&(Ut=Qt.time,Mt())})}}return(0,X.Z)(Zt,[{key:"fps",value:function(Mt,Nt){this.frameFPS=1e3/(Mt||240),this.nextTime=this.time+this.frameFPS,this.useTimeout=typeof Nt=="undefined"?this.useTimeout:Nt,this.useTimeout&&(this.req=function(Ut){return setTimeout(Ut,Mt)})}}]),Zt}(),Or=new Tr,Fr=Or,nn=function(){function Zt(){var Qt=this;(0,W.Z)(this,Zt),this.children=[],this.autoSleep=200,this.tickerKey=void 0,this.startTime=void 0,this.addChild=function(Mt){Qt.children.indexOf(Mt)===-1?(Qt.children.push(Mt),Qt.updateTickerState()):Qt.start()},this.removeChild=function(Mt){Qt.children=Qt.children.filter(function(Nt){return Nt!==Mt}),Qt.updateTickerState()},this.kill=function(Mt){Qt.children=Qt.children.filter(function(Nt){var Ut=Nt.root.targets,vt=Ut.map(function(ae,tt){if(Mt.indexOf(ae)===-1)return ae;delete ae._tweenOneVars});Nt.root.targets=vt;var Rt=!!vt.filter(function(ae){return ae}).length;return Rt||Nt.kill(),Rt}),Qt.updateTickerState()},this.killAll=function(Mt){Mt&&(Qt.children.forEach(function(Nt){Nt==null||Nt.root.targets.forEach(function(Ut){Ut&&delete Ut._tweenOneVars})}),Qt.children=[]),Fr.clear(Qt.tickerKey),Qt.tickerKey=void 0},this.getTotalTime=function(){for(var Mt=0,Nt=0;Nt<Qt.children.length;Nt++){var Ut=Qt.children[Nt],vt=Ut.pausedState?0:Ut.startTime+Ut.totalTime;Mt?Mt=Math.max(vt,Mt):Mt=vt}return Mt},this.updateTickerState=function(){!Qt.children.length||!Qt.children.some(function(Mt){return!(Mt!=null&&Mt.pausedState)&&(!(Mt!=null&&Mt.reverseState)&&Mt.progressTime<Mt.totalTime||(Mt==null?void 0:Mt.reverseState)&&Mt.progressTime>0)})?Qt.killAll(!Qt.children.length):Qt.start()},this.start=function(){Qt.tickerKey||(Qt.tickerKey=Fr.add(Qt.render))},this.render=function(Mt){for(var Nt=Mt.time,Ut=Mt.elapsed,vt=Ut===void 0?0:Ut,Rt=Qt.children,ae=Rt.length,tt=0;tt<ae;tt++){var ut=Rt[tt];if(ut){var B=ut.startTime-vt,O=ut.startTime+ut.totalTime+vt;Nt>B&&Nt<O&&!ut.pausedState&&ut.render({time:Nt,elapsed:vt})}}}}return(0,X.Z)(Zt,[{key:"totalTime",get:function(){return this.getTotalTime()}}]),Zt}(),an=nn,er=C(141e3),Rr=C.n(er);Rr().path=function(Zt,Qt){var Mt=Qt||{};if(J)return"linear";for(var Nt=et(Zt),Ut=Nt.getTotalLength(),vt=Mt.rect||100,Rt=Mt.lengthPixel||200,ae=[],tt=0;tt<Rt-1;tt++)ae.push(Nt.getPointAtLength(Ut/(Rt-1)*tt));return ae.push(Nt.getPointAtLength(Rt)),function(B,O,_,$){var gt=Rr().linear(B,O,_,$),Ft=vt*gt,zt=ae.filter(function(te){return te.x>=Ft})[0]||Nt.getPointAtLength(gt*Ut);return 1-zt.y/vt}};var qr=Rr(),xr=function(){function Zt(Qt){var Mt=this;(0,W.Z)(this,Zt),this.item=void 0,this.vars={},this.start=void 0,this.parent=void 0,this.root=void 0,this.startAt={},this.mode=void 0,this.appearTo=0,this.props={},this.index=void 0,this.register=void 0,this.reverseStart=void 0,this.repeatNum=0,this.prevMoment=void 0,this.easing=void 0,this.changeValueToVars=function(Rt,ae,tt){var ut=(Array.isArray(ae)||Rt.match(/color|fill|stroke/i)||Rt.match(V)&&typeof ae=="string"||typeof ae=="string"&&ae.split(/[\s|,]/).length>1)&&!(Rt in xt);if(Rt in xt||ut)return tt?ae:{value:ae,plugins:[],array:ut};var B=parseFloat(ae.toString().replace(/=/g,"")),O=ae.toString().replace(/[^a-z|%]/g,""),_=ae.toString().charAt(1)==="="?ae.toString().replace(/[^\+\=|\-\=]/gi,""):"";return{vars:B,unit:O,count:_}},this.setEase=function(Rt){if(typeof Rt=="function"){Mt.easing=Rt;return}else if(Rt.match(/,/g)){Mt.easing=qr.path(Rt);return}Mt.easing=qr[Rt]},this.getTotalTime=function(){var Rt=Mt.props,ae=Rt.duration,tt=ae===void 0?450:ae,ut=Rt.delay,B=ut===void 0?0:ut,O=Rt.repeat,_=O===void 0?0:O,$=Rt.repeatDelay,gt=$===void 0?0:$;return _===-1?Number.MAX_VALUE:B+tt*(_+1)+gt*_},this.getEaseToRatio=function(Rt,ae){var tt=Mt.props.ease,ut=tt===void 0?"":tt;return(Rt===0||Rt===1)&&!(typeof ut=="function"||ut.match(/,/g))?Rt:Mt.easing(ae?1-Rt:Rt,ae?1:0,ae?0:1,1)},this.setRatioToVars=function(Rt){for(var ae=Mt.vars,tt=Mt.root,ut=0;ut<tt.targets.length;ut++)if(tt.targets[ut])for(var B in ae){var O=ae[B];if(O.plugins){B==="PathMotion"?tt.vars[ut].style=O.plugins[ut].render(Rt):tt.vars[ut][B]=O.plugins[ut].render(Rt);continue}var _=O.vars,$=O.count,gt=O.unit,Ft=Mt.start[ut][B];tt.vars[ut][B]=Q(Ft,_,Rt,$,gt)}},this.onRegisterAnimate=function(){Mt.register=!0;for(var Rt=Mt.root,ae=Mt.parent,tt=Mt.startAt,ut=[],B=0;B<Rt.targets.length;B++){var O=Rt.targets[B],_=Rt.vars[B],$={};for(var gt in Mt.vars){var Ft=Mt.vars[gt];if(Ft.plugins){var zt=new xt[Ft.array?"ArrayPlugin":gt](Ft.value,gt);zt.target=O,zt.root=Rt,zt.parent=ae,zt.targetIndex=B,zt.tweenVars=_,zt.index=Mt.index,zt.startAt=tt,$[gt]=zt.getAnimStart(),Ft.plugins.push(zt)}else{var te,_e,me=(te=Rt.attr?O.getAttribute(gt):_[gt]||O[gt])!==null&&te!==void 0?te:wt(gt),Ue=(_e=tt[gt])!==null&&_e!==void 0?_e:me,fr=(0,m.Z)(Ue)==="object"&&"vars"in Ue&&"count"in Ue,je=fr?Ue.unit:"".concat(Ue).replace(/[^a-z|%]/g,""),Lr=Ft.unit;je&&je!==Lr&&console.warn("Different units, start unit ".concat(je,", to value unit ").concat(Lr,", remove start unit.")),$[gt]=fr?H(me,Ue):parseFloat(Ue)}}ut.push($)}Mt.start=ut},this.overflowRatio=function(Rt){var ae=Rt<0?0:Rt,tt=Mt.props.duration;return ae=ae>tt?tt:ae,ae},this.render=function(Rt){var ae=Rt.moment,tt=Rt.fps,ut=tt===void 0?0:tt,B=Rt.silence,O=Rt.render,_=Mt.parent,$=Mt.root,gt=Mt.props,Ft=Bt($.targets),zt=_.onChange,te=gt.repeat,_e=te===void 0?0:te,me=gt.type,Ue=me===void 0?"to":me,fr=gt.duration,je=fr===void 0?450:fr,Lr=gt.delay,ln=Lr===void 0?0:Lr,Ve=gt.repeatDelay,or=Ve===void 0?0:Ve,Ar=gt.yoyo;_e=_e===-1?Number.MAX_VALUE:_e;var Mr=ae-ln,ce=Math.floor(Mr/(je+or))||0;ce=ce>_e?_e:ce,ce=ce<0?0:ce,Mr=Mr-(je+or)*ce;var Xt=!!(Ar&&ce%2),he=Ue==="from",Me=Xt&&he?!1:Xt||he;Mr=Me?je-Mr:Mr;var be=he?0:ln,Ne=Me?1:0;if(!Mt.register&&ae>=be&&(Mt.onRegisterAnimate(),(Me&&Mr<=0||!Me&&Mr>=je&&je)&&(Mt.prevMoment=ae,Ne=Me?0:1),Mt.setRatioToVars(Ne),zt({index:Mt.index,vars:$.vars})),Mt.register&&ae>ln-ut&&ae<Mt.totalTime+ut){Mr=Mt.overflowRatio(Mr),Ne=Me?1:0,ae>=Mt.totalTime&&Mt.mode!=="onComplete"&&Mt.prevMoment!==void 0||Mt.prevMoment===void 0&&ae>=Mt.totalTime&&je?(Ne=Me?0:1,Mt.mode="onComplete",Mt.props.onComplete&&Mt.props.onComplete({mode:Mt.mode,index:Mt.index,moment:Mr,ratio:Ne,targets:Ft,vars:Bt($.vars)})):Mt.prevMoment===void 0||ae<=0&&ae>-ut&&Mt.mode!=="onStart"&&Mt.prevMoment>ae?(Mt.mode="onStart",Mt.props.onStart&&Mt.props.onStart({mode:Mt.mode,index:Mt.index,moment:Mr,ratio:Ne,targets:Ft,vars:Bt($.vars)})):(Ne=Mr&&je?Mr/je:0,Mt.mode="onUpdate",Mt.props.onUpdate&&Mt.props.onUpdate({mode:Mt.mode,index:Mt.index,moment:Mr,ratio:Ne,targets:Ft,vars:Bt($.vars)})),_e&&ce!==Mt.repeatNum&&ae&&Mt.mode==="onUpdate"&&(Mt.mode="onRepeat",Mt.props.onRepeat&&Mt.props.onRepeat({mode:Mt.mode,index:Mt.index,moment:Mr,ratio:Ne,targets:Ft,vars:Bt(Mt.root.vars)})),Mt.setRatioToVars(Mt.getEaseToRatio(Ne,he)),_e&&(Mt.repeatNum=ce);var ir={mode:Mt.mode,moment:Mr,repeat:ce,ratio:Ne,targets:$.targets,vars:$.vars,index:Mt.index};B&&(ir.silence=B),O&&(ir.render=O),zt(ir),Mt.prevMoment=ae}},this.item=Qt,this.startAt=(0,R.Z)({},Qt.startAt),Object.keys(this.startAt).forEach(function(Rt){Mt.startAt[Rt]=Mt.changeValueToVars(Rt,Mt.startAt[Rt],!0)});var Nt={};for(var Ut in Qt){var vt=Qt[Ut];Ut in st?Nt[Ut]=vt:this.vars[Ut]=this.changeValueToVars(Ut,vt)}this.props=(0,R.Z)((0,R.Z)({},st),Nt),this.setEase(this.props.ease)}return(0,X.Z)(Zt,[{key:"totalTime",get:function(){return this.getTotalTime()}}]),Zt}(),Gr=(0,X.Z)(function Zt(Qt){var Mt=this;(0,W.Z)(this,Zt),this.props=void 0,this.id=void 0,this.children=[],this.totalTime=0,this.totalTimeRegion=0,this.childTotalTime=0,this.childRegionTotalTime=0,this.prevMoment=void 0,this.progressTime=0,this.progressMoment=-1,this.startMoment=0,this.startTime=0,this.repeatNum=0,this.mode="onTimelineStart",this.pausedState=void 0,this.reverseState=void 0,this.root=void 0,this.parent=void 0,this.regionStartTime=0,this.regionEndTime=void 0,this.onChangeChild=void 0,this.onChangeTimeline=void 0,this.init=function(){for(var Rt=Mt.props,ae=Rt.reverse,tt=Rt.animation,ut=Rt.moment,B=ft(tt),O=0;O<B.length;O++){var _=B[O];_.type==="set"&&(_.duration=0);var $=new xr(_);$.index=O;var gt=O?St(_,B[O-1]):0;_.appearTo=gt,$.appearTo=gt,Mt.addChild($)}Mt.render({time:(ae?Mt.totalTime:0)+Mt.startTime,elapsed:16.67}),Mt.totalTime||Mt.render({time:(ae?Mt.totalTime:0)+Mt.startTime,elapsed:16.67}),ut?Mt.goto(ut):Mt.play()},this.addChild=function(Rt){Rt.parent=Mt,Rt.root=Mt.root,Mt.children.indexOf(Rt)===-1&&(Mt.children.push(Rt),Mt.setTotalTime())},this.setTotalTime=function(){Mt.childTotalTime=0,Mt.childRegionTotalTime=0;for(var Rt=0;Rt<Mt.children.length;Rt++){var ae=Mt.children[Rt];if(ae.appearTo!==Mt.childTotalTime){var tt=ae.appearTo+ae.totalTime;tt>Mt.childTotalTime&&(Mt.childTotalTime=tt,Mt.childRegionTotalTime=tt)}else Mt.childTotalTime+=ae.totalTime,Mt.childRegionTotalTime+=ae.totalTime}Mt.regionStartTime&&(Mt.childRegionTotalTime-=Mt.regionStartTime),Mt.regionEndTime&&(Mt.childRegionTotalTime=Mt.regionEndTime-Mt.regionStartTime);var ut=Mt.props,B=ut.repeat,O=B===void 0?0:B,_=ut.repeatDelay,$=_===void 0?0:_,gt=ut.delay;Mt.totalTime=O===-1?Number.MAX_VALUE:gt+Mt.childTotalTime*(O+1)+$*O,Mt.totalTimeRegion=O===-1?Number.MAX_VALUE:gt+Mt.childRegionTotalTime*(O+1)+$*O},this.setStartTimeOrMoment=function(Rt){Mt.startTime=Fr.time,Mt.startMoment=Rt||Mt.progressMoment},this.reRenderCall=function(){Mt.render({time:Mt.startTime,elapsed:Fr.elapsed||Fr.frameFPS})},this.play=function(Rt){if(Rt){var tt;(tt=Mt.parent)===null||tt===void 0||tt.updateTickerState()}else{var ae;(ae=Mt.parent)===null||ae===void 0||ae.addChild(Mt)}},this.paused=function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Mt.pausedState=Rt,Mt.setStartTimeOrMoment(),Mt.play(Rt)},this.reverse=function(Rt){Mt.reverseState=Rt,Mt.setStartTimeOrMoment(),Mt.play(Mt.pausedState)},this.goto=function(Rt,ae){var tt=Rt-Mt.regionStartTime;Mt.startTime=Fr.time,Mt.startMoment=tt>Mt.totalTime?Mt.totalTime:tt,Mt.progressMoment=Mt.startMoment,Mt.progressTime=tt,Mt.play(Mt.pausedState),Mt.reRenderCall(),!!ae!==Mt.pausedState&&Mt.paused(ae)},this.kill=function(Rt){if(typeof Rt=="number")Mt.paused(),delete Mt.children[Rt],Mt.setTotalTime(),Mt.paused(!1);else{var ae;Mt.children=[],(ae=Mt.parent)===null||ae===void 0||ae.removeChild(Mt)}},this.onChange=function(Rt){Rt.timelineMoment=Mt.progressMoment,Mt.onChangeChild(Rt)},this.render=function(Rt){var ae=Rt.time,tt=Rt.elapsed,ut=tt||Fr.frameFPS||0,B=Mt.totalTime,O=Mt.totalTimeRegion,_=Mt.childTotalTime,$=Mt.childRegionTotalTime,gt=Mt.children,Ft=Mt.props,zt=Mt.startTime,te=Mt.reverseState,_e=Mt.pausedState,me=Mt.startMoment,Ue=Mt.onChangeTimeline,fr=Mt.parent,je=Mt.root,Lr=Mt.prevMoment,ln=Mt.regionStartTime,Ve=Ft.repeatDelay,or=Ve===void 0?0:Ve,Ar=Ft.yoyo,Mr=Ft.delay,ce=Ft.repeat,Xt=ce===void 0?0:ce;Xt=Xt===-1?Number.MAX_VALUE:Xt;var he=ae-zt-Mr,Me=te?me-he:he+me;if(!(Me<-ut)){var be=Me<0?0:Me;be=be>B?B:be,be=me<ln?Me:be,be=me>O?me:be;var Ne=Xt?Math.floor(be/($+or)):0;Ne=Xt&&Ne>Xt?Xt:Ne;var ir=be-($+or)*Ne,cr=!!(Ar&&Ne%2);ir=cr?$-ir:ir,ir=ln+ir;var en=te?!cr:cr;if(Mt.mode="onTimelineUpdate",typeof Lr!="number"&&(Mt.mode="onTimelineStart"),be>=O-Mr&&typeof Lr=="number"&&(Mt.mode="onTimelineComplete"),Ne!==Mt.repeatNum&&(Mt.mode="onTimelineRepeat",be>_*Ne&&be<_*Ne+ut)){for(var Dn=en?0:gt.length-1;en?Dn<=gt.length-1:Dn>=0;en?Dn++:Dn--){var un=gt[Dn];en||(un.prevMoment=void 0),un.render({moment:en?un.totalTime:0,fps:ut})}Ue({moment:be,totalTime:B,repeat:Ne,mode:Mt.mode,targets:je.targets}),Mt.mode="onTimelineUpdate"}Xt&&(Mt.repeatNum=Ne),Mt.progressMoment=be,Mt.prevMoment=be,Mt.progressTime=he;for(var Fn=0;Fn<gt.length;Fn++){var sn=gt[Fn],Bn=sn.totalTime+sn.appearTo,qn=ir>=sn.appearTo-ut&&ir<Bn+ut;if((sn.mode!=="onComplete"&&ir>Bn+ut&&!cr&&sn.totalTime||typeof sn.mode=="undefined"&&!sn.totalTime)&&(sn.render({moment:sn.totalTime,fps:ut}),sn.prevMoment=void 0),ir<sn.appearTo-ut&&sn.mode&&sn.mode!=="onStart"&&(sn.render({moment:sn.appearTo,fps:ut,silence:!0}),sn.prevMoment=void 0,sn.mode=void 0),qn){var sa=ir<0?0:ir;if(ir>Bn&&sn.mode==="onComplete"&&!cr)return;sa=ir>Bn?Bn:ir,sn.render({moment:sa-sn.appearTo,fps:ut}),Bn||(sn.render({moment:sn.totalTime,fps:ut,render:!0}),sn.prevMoment=void 0)}}Ue({moment:be,totalTime:B,repeat:Ne,mode:Mt.mode,targets:je.targets}),(_e||O&&Me+Mr>=O&&!te||te&&Me+Mr<=0||!gt.length)&&(fr==null||fr.removeChild(Mt))}},this.props=Qt;var Nt=this.props,Ut=Nt.paused,vt=Nt.reverse;this.reverseState=vt,this.pausedState=Ut,this.regionStartTime=Qt.regionStartTime||0,this.regionEndTime=Qt.regionEndTime});xt.push(Jt),xt.push(Pt),xt.push(se);var Dr=0,We=new an,Je=function(){function Zt(Qt,Mt){var Nt=this;(0,W.Z)(this,Zt),this.targets=void 0,this.props=void 0,this.timeline=void 0,this.animate=void 0,this.$reverse=!1,this.vars=[],this.initTime=void 0,this.attr=void 0,this.init=function(){var Ut=(0,f.Z)(b().mark(function vt(Rt){var ae;return b().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:ae=mt(Rt),Nt.targets[0].tagName&&!Nt.attr&&(ae.animation=ft(ae.animation).map(function(B){var O={style:{}};for(var _ in B)_ in xt||_ in st?O[_]=B[_]:O.style[_]=B[_];return Object.keys(O.style).length||delete O.style,B.duration&&(B.duration=Math.round(B.duration)),B.delay&&(B.delay=Math.round(B.delay)),B.appearTo&&(B.appearTo=Math.round(B.appearTo)),B.repeatDelay&&(B.repeatDelay=Math.round(B.repeatDelay)),O})),Nt.animate=new Gr(ae),Nt.animate.id="TweenOne_".concat(Dr),Dr++,Nt.animate.startTime=Nt.initTime,Nt.animate.onChangeChild=Nt.onChange,Nt.animate.onChangeTimeline=Nt.onChangeTimeline,Nt.animate.root=Nt,Nt.animate.parent=Nt.timeline,Nt.animate.init();case 11:case"end":return ut.stop()}},vt)}));return function(vt){return Ut.apply(this,arguments)}}(),this.renderToDom=function(){for(var Ut=0;Ut<Nt.vars.length;Ut++){var vt=Nt.vars[Ut];for(var Rt in vt){var ae=vt[Rt],tt=Nt.targets[Ut];if(tt)if(Nt.props.attr&&tt.tagName&&tt.setAttribute){if(Rt==="style")for(var ut in ae)tt.style[ut]=ae[Rt];tt.setAttribute(Rt,ae)}else if(Rt in xt){var B=xt[Rt].key;if(typeof tt[B]=="function")tt[B](ae.attr,ae.path);else if((0,m.Z)(ae)==="object"&&(0,m.Z)(tt[B])==="object"&&B)for(var O in ae){var _=ae[O];B==="__self"?tt[O]=_:tt[B][O]=(0,m.Z)(_)==="object"&&_.text||_}else tt[B||Rt]=ae}else tt[Rt]=ae}}},this.onChange=function(Ut){Ut.mode==="onComplete"&&Ut.render&&Nt.renderToDom(),Ut.mode&&Nt.props.onChange&&!Ut.silence&&(Ut.targets=Bt(Ut.targets),Ut.vars=Bt(Ut.vars),Nt.props.onChange(Ut))},this.onChangeTimeline=function(Ut){if(Nt.renderToDom(),Ut.mode==="onTimelineComplete"){var vt;(vt=Ut.targets)===null||vt===void 0||vt.forEach(function(Rt){delete Rt._tweenOneVars})}Ut.mode&&Nt.props.onChangeTimeline&&(Ut.targets=Bt(Ut.targets),Ut.vars=Bt(Nt.vars),Nt.props.onChangeTimeline(Ut))},this.goto=function(Ut,vt){Nt.targets.forEach(function(Rt){Rt&&Object.keys(Rt._tweenOneVars||{}).forEach(function(ae){delete Rt._tweenOneVars[ae]})}),Nt.animate.goto(Ut,vt)},this.kill=function(Ut){Nt.animate.kill(Ut)},this.targets=Qt,this.props=Mt,this.timeline=We,this.initTime=Fr.time,this.attr=Mt.attr,Qt.forEach(function(Ut){Nt.vars.push(Ut._tweenOneVars)}),this.init(Mt)}return(0,X.Z)(Zt,[{key:"paused",get:function(){return this.animate.pausedState},set:function(Mt){this.animate.paused(Mt)}},{key:"reverse",get:function(){return this.$reverse},set:function(Mt){this.$reverse=Mt,this.animate.reverse(Mt)}},{key:"regionStartTime",get:function(){return this.animate.regionStartTime},set:function(Mt){this.animate.regionStartTime=Mt,this.animate.setTotalTime()}},{key:"regionEndTime",get:function(){return this.animate.regionEndTime||this.animate.totalTime},set:function(Mt){this.animate.regionEndTime=Mt,this.animate.setTotalTime()}}]),Zt}(),gn=function(Qt,Mt){if(!Qt){console.error("Error: targets is undefined.");return}Fr.state!=="wake"&&Fr.wake();var Nt=ft(Qt).map(function(ae){return ae._tweenOneVars=ae._tweenOneVars||{},ae}),Ut=Nt.filter(function(ae){return ae.tagName}),vt=Nt.filter(function(ae){return!ae.tagName}),Rt=[];return Ut.length&&Rt.push(new Je(Ut,Mt)),vt.length&&Rt.push(new Je(vt,Mt)),Bt(Rt)};gn.kill=function(Zt){typeof Zt=="undefined"?We.killAll(!0):We.kill(ft(Zt))},gn.plugins=xt;var rr=gn,jr=rr;function Nr(Zt){return!Zt&&Zt!==0?[]:Array.isArray(Zt)?Zt:[Zt]}function kn(Zt,Qt){if(!Zt||!Qt)return!1;var Mt=Object.keys(Zt),Nt=Object.keys(Qt);return Mt.length&&Nt.length&&Mt.length===Nt.length?!Mt.some(function(Ut){var vt=Zt[Ut],Rt=Qt[Ut];if(Array.isArray(vt)&&Array.isArray(Rt)){var ae=vt.join(),tt=Rt.join();ae===tt&&!ae.match(/\[object object\]/gi)&&(vt=ae,Rt=tt)}return vt!==Rt}):!1}function on(Zt,Qt){if(Zt===Qt||kn(Zt,Qt))return!0;if(!Zt||!Qt||Object.keys(Zt).length!==Object.keys(Qt).length)return!1;var Mt=!0,Nt=function(vt,Rt){var ae=Object.keys(vt).length>Object.keys(Rt).length?vt:Rt,tt=Object.keys(vt).length>Object.keys(Rt).length?Rt:vt;Object.keys(ae).forEach(function(ut){Mt&&(ut in tt||(Mt=!1),(0,m.Z)(ae[ut])==="object"&&(0,m.Z)(tt[ut])==="object"?Mt=on(ae[ut],tt[ut]):typeof ae[ut]=="function"&&typeof tt[ut]=="function"?ae[ut].toString().replace(/\s+/g,"")!==tt[ut].toString().replace(/\s+/g,"")&&(Mt=!1):ae[ut]!==tt[ut]&&(Mt=!1))})};return Array.isArray(Zt)&&Array.isArray(Qt)?Zt.forEach(function(Ut,vt){Nt(Ut,Qt[vt])}):Nt(Zt,Qt),Mt}var dn=["component","componentProps","animation","attr","paused","reverse","repeat","repeatDelay","yoyo","moment","onChange","onChangeTimeline","resetStyle","killPrevAnim"],En=L.forwardRef(function(Zt,Qt){var Mt=Zt.component,Nt=Mt===void 0?"div":Mt,Ut=Zt.componentProps,vt=Zt.animation,Rt=Zt.attr,ae=Zt.paused,tt=Zt.reverse,ut=Zt.repeat,B=Zt.repeatDelay,O=Zt.yoyo,_=Zt.moment,$=Zt.onChange,gt=Zt.onChangeTimeline,Ft=Zt.resetStyle,zt=Zt.killPrevAnim,te=zt===void 0?!0:zt,_e=(0,M.Z)(Zt,dn),me=_e||{},Ue=me.children,fr=me.className,je=me.style,Lr=je===void 0?{}:je,ln=(0,L.useRef)(),Ve=(0,L.useRef)(),or=(0,L.useRef)(),Ar=function(en,Dn){var un=or.current;if(un){if(en==="moment"){typeof Dn=="number"&&un.goto(Dn,ae);return}un[en]=!!Dn}};T(function(){Ar("paused",ae)},[ae]),T(function(){Ar("moment",_)},[_]),T(function(){Ar("reverse",tt)},[tt]),T(function(){if(!ln.current)return console.warn("Warning: TweenOne domRef is error.");if(!on(vt,Ve.current)){var cr=Nr(ln.current).map(function(un){return un instanceof Element||!(un instanceof L.Component)?un:(0,D.findDOMNode)(un)}).filter(function(un,Fn){return un instanceof Element?un:(console.warn("Warning: TweenOne tag[".concat(Fn,"] is not dom.")),!1)});if(or.current&&te&&or.current.kill(),Ft&&or.current){var en=Nt?Lr:(0,R.Z)((0,R.Z)({},Lr),Ue.props.style),Dn=Object.keys(en).map(function(un){return"".concat((0,z.Rs)(un),":").concat((0,z.YJ)(un,en[un]))}).join(";");cr.forEach(function(un){un.setAttribute("style",Dn),delete un._tweenOneVars})}or.current=vt&&jr(cr,{animation:vt,attr:Rt,yoyo:O,moment:_,repeat:ut,reverse:tt,paused:ae,repeatDelay:B,onChange:$,onChangeTimeline:gt}),Ve.current=vt}},[vt]),(0,L.useEffect)(function(){return function(){or.current&&or.current.kill&&or.current.kill()}},[]);var Mr=function(en){ln.current=en,Qt&&"current"in Qt?Qt.current=en:typeof Qt=="function"&&Qt(en)};if(!Nt&&Ue&&typeof Ue!="string"&&typeof Ue!="boolean"&&typeof Ue!="number"){var ce=Ue.props,Xt=ce||{},he=Xt.style,Me=Xt.className,be=Me===void 0?"":Me,Ne=(0,R.Z)((0,R.Z)({},he),Lr),ir=fr?"".concat(fr," ").concat(be).trim():be;return L.cloneElement(Ue,{style:Ne,ref:Mr,className:(0,E.Z)(new Set(ir.split(/\s+/))).join(" ").trim()||void 0})}return Nt?(0,L.createElement)(Nt,(0,R.Z)((0,R.Z)({ref:Mr},_e),Ut)):(console.warn("Warning: component is null, children must be ReactElement."),Ue)});En.isTweenOne=!0,En.displayName="TweenOne";var Pn=En,Nn=["component","componentProps","leave","enter","appear","resetStyle","animatingClassName","onEnd","exclusive"],at=L.forwardRef(function(Zt,Qt){var Mt=Zt.component,Nt=Mt===void 0?"div":Mt,Ut=Zt.componentProps,vt=Ut===void 0?{}:Ut,Rt=Zt.leave,ae=Rt===void 0?{x:-50,opacity:0}:Rt,tt=Zt.enter,ut=tt===void 0?{x:50,opacity:0,type:"from"}:tt,B=Zt.appear,O=B===void 0?!0:B,_=Zt.resetStyle,$=_===void 0?!0:_,gt=Zt.animatingClassName,Ft=gt===void 0?["tween-one-entering","tween-one-leaving"]:gt,zt=Zt.onEnd,te=zt===void 0?function(){}:zt,_e=Zt.exclusive,me=_e===void 0?!1:_e,Ue=(0,M.Z)(Zt,Nn),fr=(0,L.useRef)([]),je=(0,L.useRef)([]),Lr=(0,L.useRef)({}),ln=(0,L.useRef)(!1),Ve=(0,L.useRef)([]),or=(0,L.useRef)({}),Ar=P(x(Zt)),Mr=(0,L.useRef)(Ar),ce=(0,L.useState)(Ar),Xt=(0,S.Z)(ce,2),he=Xt[0],Me=Xt[1],be=function(sn){var Bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qn=sn.key;return Lr.current[qn]=L.createElement(Pn,(0,R.Z)((0,R.Z)({},Bn),{},{key:qn,component:null}),sn),Lr.current[qn]},Ne=function(sn,Bn){var qn=sn.replace(Ft[Bn?1:0],"").trim();return qn.indexOf(Ft[Bn?0:1])===-1&&(qn="".concat(qn," ").concat(Ft[Bn?0:1]).trim()),qn},ir=function(sn,Bn){var qn=g(Bn,sn);return fr.current=[],je.current=[],sn.forEach(function(sa){if(sa){var oa=sa.key,Ti=p(Bn,oa);oa&&Lr.current[oa]&&(Lr.current[oa]=L.cloneElement(Lr.current[oa],{},sa)),!Ti&&oa&&fr.current.push(oa)}}),Bn.forEach(function(sa){if(sa){var oa=sa.key,Ti=p(sn,oa);!Ti&&oa&&(je.current.push(oa),delete Lr.current[oa])}}),qn},cr=function(){if(!Object.keys(or.current).length&&Ve.current.length){var sn=ir(Ve.current[Ve.current.length-1],Mr.current);Me(sn),Ve.current=[]}},en=function(sn,Bn,qn){var sa=qn.targets,oa=(0,m.Z)(sa.className)==="object"&&"baseVal"in sa.className,Ti=Bn==="enter"||Bn==="appear";if(sn&&qn.mode==="onTimelineComplete"){if(delete or.current[sn],oa?sa.className.baseVal=sa.className.baseVal.replace(Ft[Ti?0:1],"").trim():sa.className=sa.className.replace(Ft[Ti?0:1],"").trim(),Ti)fr.current.splice(fr.current.indexOf(sn),1),fr.current.length||cr();else if(Bn==="leave"&&(je.current.splice(je.current.indexOf(sn),1),Mr.current=Mr.current.filter(function(Va){return sn!==Va.key}),!je.current.length)){var oi=Mr.current.map(function(Va){return Va.key});Object.keys(Lr.current).forEach(function(Va){oi.indexOf(Va)===-1&&delete Lr.current[Va]}),Me(Mr.current)}te({key:sn,type:Bn,target:qn.targets})}},Dn=function(sn,Bn,qn){var sa=qn==="leave"?ae:ut;if(qn==="appear"){var oa=w(O,sn.key,Bn);sa=oa&&ut||null}var Ti=w(sa,sn.key,Bn),oi=function(si){en(sn.key,qn,si)},Va=qn==="appear"&&!O?sn.props.className:Ne(sn.props.className||"",qn==="enter"||qn==="appear")||void 0,ti={key:sn.key,animation:Ti,onChangeTimeline:oi,resetStyle:$,className:Va};return(sn.key&&fr.current.concat(je.current).indexOf(sn.key)>=0||!ln.current&&sa)&&sn.key&&!Lr.current[sn.key]&&(or.current[sn.key]=qn),be(sn,ti)};T(function(){if(ln.current){var Fn=P(Zt.children).filter(function(Bn){return Bn}),sn=P(Mr.current);Object.keys(or.current).length&&!me?Ve.current.push(Fn):Me(ir(Fn,sn))}},[Zt.children]),T(function(){cr()}),(0,L.useEffect)(function(){ln.current=!0},[]),Mr.current=he;var un=he.map(function(Fn,sn){if(!Fn||!Fn.key)return Fn;var Bn=Fn.key;return je.current.indexOf(Bn)>=0?Dn(Fn,je.current.indexOf(Bn),"leave"):(fr.current.indexOf(Bn)>=0||or.current[Bn]&&je.current.indexOf(Bn)===-1)&&!(or.current[Bn]==="enter"&&Lr.current[Bn])?Dn(Fn,fr.current.indexOf(Bn),"enter"):ln.current?Lr.current[Bn]:Dn(Fn,sn,"appear")});return y?Nt?(0,L.createElement)(Nt,(0,R.Z)((0,R.Z)((0,R.Z)({},Ue),vt),{},{ref:Qt}),Zt.children):L.createElement(L.Fragment,null,Zt.children):Nt?(0,L.createElement)(Nt,(0,R.Z)((0,R.Z)((0,R.Z)({},Ue),vt),{},{ref:Qt}),un):un[0]?(0,L.cloneElement)(un[0],{ref:Qt}):null});at.displayName="TweenOneGroup",at.isTweenOneGroup=!0;var Xe=at},217857:function(ze,G,C){"use strict";var m;m={value:!0};var R=C(667294),S=C(308273);function M(et,st){var ot=et==null?null:typeof Symbol!="undefined"&&et[Symbol.iterator]||et["@@iterator"];if(ot!=null){var mt,ft,Bt,St,wt=[],H=!0,Q=!1;try{if(Bt=(ot=ot.call(et)).next,st===0){if(Object(ot)!==ot)return;H=!1}else for(;!(H=(mt=Bt.call(ot)).done)&&(wt.push(mt.value),wt.length!==st);H=!0);}catch(bt){Q=!0,ft=bt}finally{try{if(!H&&ot.return!=null&&(St=ot.return(),Object(St)!==St))return}finally{if(Q)throw ft}}return wt}}function L(et,st){var ot=Object.keys(et);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(et);st&&(mt=mt.filter(function(ft){return Object.getOwnPropertyDescriptor(et,ft).enumerable})),ot.push.apply(ot,mt)}return ot}function P(et){for(var st=1;st<arguments.length;st++){var ot=arguments[st]!=null?arguments[st]:{};st%2?L(Object(ot),!0).forEach(function(mt){p(et,mt,ot[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(ot)):L(Object(ot)).forEach(function(mt){Object.defineProperty(et,mt,Object.getOwnPropertyDescriptor(ot,mt))})}return et}function p(et,st,ot){return st=f(st),st in et?Object.defineProperty(et,st,{value:ot,enumerable:!0,configurable:!0,writable:!0}):et[st]=ot,et}function g(){return g=Object.assign?Object.assign.bind():function(et){for(var st=1;st<arguments.length;st++){var ot=arguments[st];for(var mt in ot)Object.prototype.hasOwnProperty.call(ot,mt)&&(et[mt]=ot[mt])}return et},g.apply(this,arguments)}function w(et,st){if(et==null)return{};var ot={},mt=Object.keys(et),ft,Bt;for(Bt=0;Bt<mt.length;Bt++)ft=mt[Bt],!(st.indexOf(ft)>=0)&&(ot[ft]=et[ft]);return ot}function x(et,st){if(et==null)return{};var ot=w(et,st),mt,ft;if(Object.getOwnPropertySymbols){var Bt=Object.getOwnPropertySymbols(et);for(ft=0;ft<Bt.length;ft++)mt=Bt[ft],!(st.indexOf(mt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,mt)&&(ot[mt]=et[mt])}return ot}function y(et,st){return T(et)||M(et,st)||E(et,st)||k()}function T(et){if(Array.isArray(et))return et}function E(et,st){if(et){if(typeof et=="string")return D(et,st);var ot=Object.prototype.toString.call(et).slice(8,-1);if(ot==="Object"&&et.constructor&&(ot=et.constructor.name),ot==="Map"||ot==="Set")return Array.from(et);if(ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ot))return D(et,st)}}function D(et,st){(st==null||st>et.length)&&(st=et.length);for(var ot=0,mt=new Array(st);ot<st;ot++)mt[ot]=et[ot];return mt}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(et,st){if(typeof et!="object"||et===null)return et;var ot=et[Symbol.toPrimitive];if(ot!==void 0){var mt=ot.call(et,st||"default");if(typeof mt!="object")return mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(st==="string"?String:Number)(et)}function f(et){var st=b(et,"string");return typeof st=="symbol"?st:String(st)}var W=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?R.useLayoutEffect:R.useEffect;function X(et){var st=R.useRef(et);return W(function(){st.current=et}),R.useCallback(function(){for(var ot=arguments.length,mt=new Array(ot),ft=0;ft<ot;ft++)mt[ft]=arguments[ft];return st.current.apply(void 0,mt)},[])}var z=function(st,ot){var mt=ot.decimal,ft=ot.decimals,Bt=ot.duration,St=ot.easingFn,wt=ot.end,H=ot.formattingFn,Q=ot.numerals,bt=ot.prefix,Ct=ot.separator,nt=ot.start,dt=ot.suffix,Tt=ot.useEasing,At=ot.useGrouping,xt=ot.useIndianSeparators,Dt=ot.enableScrollSpy,Ht=ot.scrollSpyDelay,se=ot.scrollSpyOnce;return new S.CountUp(st,wt,{startVal:nt,duration:Bt,decimal:mt,decimalPlaces:ft,easingFn:St,formattingFn:H,numerals:Q,separator:Ct,prefix:bt,suffix:dt,useEasing:Tt,useIndianSeparators:xt,useGrouping:At,enableScrollSpy:Dt,scrollSpyDelay:Ht,scrollSpyOnce:se})},U=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],j={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},V=function(st){var ot=Object.fromEntries(Object.entries(st).filter(function(Jt){var $t=y(Jt,2),Kt=$t[1];return Kt!==void 0})),mt=R.useMemo(function(){return P(P({},j),ot)},[st]),ft=mt.ref,Bt=mt.startOnMount,St=mt.enableReinitialize,wt=mt.delay,H=mt.onEnd,Q=mt.onStart,bt=mt.onPauseResume,Ct=mt.onReset,nt=mt.onUpdate,dt=x(mt,U),Tt=R.useRef(),At=R.useRef(),xt=R.useRef(!1),Dt=X(function(){return z(typeof ft=="string"?ft:ft.current,dt)}),Ht=X(function(Jt){var $t=Tt.current;if($t&&!Jt)return $t;var Kt=Dt();return Tt.current=Kt,Kt}),se=X(function(){var Jt=function(){return Ht(!0).start(function(){H==null||H({pauseResume:re,reset:It,start:pe,update:ne})})};wt&&wt>0?At.current=setTimeout(Jt,wt*1e3):Jt(),Q==null||Q({pauseResume:re,reset:It,update:ne})}),re=X(function(){Ht().pauseResume(),bt==null||bt({reset:It,start:pe,update:ne})}),It=X(function(){Ht().el&&(At.current&&clearTimeout(At.current),Ht().reset(),Ct==null||Ct({pauseResume:re,start:pe,update:ne}))}),ne=X(function(Jt){Ht().update(Jt),nt==null||nt({pauseResume:re,reset:It,start:pe})}),pe=X(function(){It(),se()}),Wt=X(function(Jt){Bt&&(Jt&&It(),se())});return R.useEffect(function(){xt.current?St&&Wt(!0):(xt.current=!0,Wt())},[St,xt,Wt,wt,st.start,st.suffix,st.prefix,st.duration,st.separator,st.decimals,st.decimal,st.formattingFn]),R.useEffect(function(){return function(){It()}},[It]),{start:pe,pauseResume:re,reset:It,update:ne,getCountUp:Ht}},J=["className","redraw","containerProps","children","style"],q=function(st){var ot=st.className,mt=st.redraw,ft=st.containerProps,Bt=st.children,St=st.style,wt=x(st,J),H=R.useRef(null),Q=R.useRef(!1),bt=V(P(P({},wt),{},{ref:H,startOnMount:typeof Bt!="function"||st.delay===0,enableReinitialize:!1})),Ct=bt.start,nt=bt.reset,dt=bt.update,Tt=bt.pauseResume,At=bt.getCountUp,xt=X(function(){Ct()}),Dt=X(function(re){st.preserveValue||nt(),dt(re)}),Ht=X(function(){if(typeof st.children=="function"&&!(H.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}At()});R.useEffect(function(){Ht()},[Ht]),R.useEffect(function(){Q.current&&Dt(st.end)},[st.end,Dt]);var se=mt&&st;return R.useEffect(function(){mt&&Q.current&&xt()},[xt,mt,se]),R.useEffect(function(){!mt&&Q.current&&xt()},[xt,mt,st.start,st.suffix,st.prefix,st.duration,st.separator,st.decimals,st.decimal,st.className,st.formattingFn]),R.useEffect(function(){Q.current=!0},[]),typeof Bt=="function"?Bt({countUpRef:H,start:Ct,reset:nt,update:dt,pauseResume:Tt,getCountUp:At}):R.createElement("span",g({className:ot,ref:H,style:St},ft),typeof st.start!="undefined"?At().formattingFn(st.start):"")};G.ZP=q,m=V},175668:function(ze,G,C){"use strict";function m(nt){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},m(nt)}Object.defineProperty(G,"__esModule",{value:!0}),Object.defineProperty(G,"DraggableCore",{enumerable:!0,get:function(){return w.default}}),G.default=void 0;var R=D(C(667294)),S=T(C(45697)),M=T(C(973935)),L=T(C(386010)),P=C(381825),p=C(102849),g=C(909280),w=T(C(180783)),x=T(C(955904)),y=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function T(nt){return nt&&nt.__esModule?nt:{default:nt}}function E(nt){if(typeof WeakMap!="function")return null;var dt=new WeakMap,Tt=new WeakMap;return(E=function(xt){return xt?Tt:dt})(nt)}function D(nt,dt){if(!dt&&nt&&nt.__esModule)return nt;if(nt===null||m(nt)!=="object"&&typeof nt!="function")return{default:nt};var Tt=E(dt);if(Tt&&Tt.has(nt))return Tt.get(nt);var At={},xt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Dt in nt)if(Dt!=="default"&&Object.prototype.hasOwnProperty.call(nt,Dt)){var Ht=xt?Object.getOwnPropertyDescriptor(nt,Dt):null;Ht&&(Ht.get||Ht.set)?Object.defineProperty(At,Dt,Ht):At[Dt]=nt[Dt]}return At.default=nt,Tt&&Tt.set(nt,At),At}function k(){return k=Object.assign||function(nt){for(var dt=1;dt<arguments.length;dt++){var Tt=arguments[dt];for(var At in Tt)Object.prototype.hasOwnProperty.call(Tt,At)&&(nt[At]=Tt[At])}return nt},k.apply(this,arguments)}function b(nt,dt){if(nt==null)return{};var Tt=f(nt,dt),At,xt;if(Object.getOwnPropertySymbols){var Dt=Object.getOwnPropertySymbols(nt);for(xt=0;xt<Dt.length;xt++)At=Dt[xt],!(dt.indexOf(At)>=0)&&Object.prototype.propertyIsEnumerable.call(nt,At)&&(Tt[At]=nt[At])}return Tt}function f(nt,dt){if(nt==null)return{};var Tt={},At=Object.keys(nt),xt,Dt;for(Dt=0;Dt<At.length;Dt++)xt=At[Dt],!(dt.indexOf(xt)>=0)&&(Tt[xt]=nt[xt]);return Tt}function W(nt,dt){var Tt=Object.keys(nt);if(Object.getOwnPropertySymbols){var At=Object.getOwnPropertySymbols(nt);dt&&(At=At.filter(function(xt){return Object.getOwnPropertyDescriptor(nt,xt).enumerable})),Tt.push.apply(Tt,At)}return Tt}function X(nt){for(var dt=1;dt<arguments.length;dt++){var Tt=arguments[dt]!=null?arguments[dt]:{};dt%2?W(Object(Tt),!0).forEach(function(At){bt(nt,At,Tt[At])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(Tt)):W(Object(Tt)).forEach(function(At){Object.defineProperty(nt,At,Object.getOwnPropertyDescriptor(Tt,At))})}return nt}function z(nt,dt){return q(nt)||J(nt,dt)||j(nt,dt)||U()}function U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(nt,dt){if(nt){if(typeof nt=="string")return V(nt,dt);var Tt=Object.prototype.toString.call(nt).slice(8,-1);if(Tt==="Object"&&nt.constructor&&(Tt=nt.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(nt);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return V(nt,dt)}}function V(nt,dt){(dt==null||dt>nt.length)&&(dt=nt.length);for(var Tt=0,At=new Array(dt);Tt<dt;Tt++)At[Tt]=nt[Tt];return At}function J(nt,dt){var Tt=nt==null?null:typeof Symbol!="undefined"&&nt[Symbol.iterator]||nt["@@iterator"];if(Tt!=null){var At=[],xt=!0,Dt=!1,Ht,se;try{for(Tt=Tt.call(nt);!(xt=(Ht=Tt.next()).done)&&(At.push(Ht.value),!(dt&&At.length===dt));xt=!0);}catch(re){Dt=!0,se=re}finally{try{!xt&&Tt.return!=null&&Tt.return()}finally{if(Dt)throw se}}return At}}function q(nt){if(Array.isArray(nt))return nt}function et(nt,dt){if(!(nt instanceof dt))throw new TypeError("Cannot call a class as a function")}function st(nt,dt){for(var Tt=0;Tt<dt.length;Tt++){var At=dt[Tt];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(nt,At.key,At)}}function ot(nt,dt,Tt){return dt&&st(nt.prototype,dt),Tt&&st(nt,Tt),Object.defineProperty(nt,"prototype",{writable:!1}),nt}function mt(nt,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Super expression must either be null or a function");nt.prototype=Object.create(dt&&dt.prototype,{constructor:{value:nt,writable:!0,configurable:!0}}),Object.defineProperty(nt,"prototype",{writable:!1}),dt&&ft(nt,dt)}function ft(nt,dt){return ft=Object.setPrototypeOf||function(At,xt){return At.__proto__=xt,At},ft(nt,dt)}function Bt(nt){var dt=H();return function(){var At=Q(nt),xt;if(dt){var Dt=Q(this).constructor;xt=Reflect.construct(At,arguments,Dt)}else xt=At.apply(this,arguments);return St(this,xt)}}function St(nt,dt){if(dt&&(m(dt)==="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wt(nt)}function wt(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}function H(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(nt){return!1}}function Q(nt){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(Tt){return Tt.__proto__||Object.getPrototypeOf(Tt)},Q(nt)}function bt(nt,dt,Tt){return dt in nt?Object.defineProperty(nt,dt,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):nt[dt]=Tt,nt}var Ct=function(nt){mt(Tt,nt);var dt=Bt(Tt);function Tt(At){var xt;return et(this,Tt),xt=dt.call(this,At),bt(wt(xt),"onDragStart",function(Dt,Ht){(0,x.default)("Draggable: onDragStart: %j",Ht);var se=xt.props.onStart(Dt,(0,p.createDraggableData)(wt(xt),Ht));if(se===!1)return!1;xt.setState({dragging:!0,dragged:!0})}),bt(wt(xt),"onDrag",function(Dt,Ht){if(!xt.state.dragging)return!1;(0,x.default)("Draggable: onDrag: %j",Ht);var se=(0,p.createDraggableData)(wt(xt),Ht),re={x:se.x,y:se.y};if(xt.props.bounds){var It=re.x,ne=re.y;re.x+=xt.state.slackX,re.y+=xt.state.slackY;var pe=(0,p.getBoundPosition)(wt(xt),re.x,re.y),Wt=z(pe,2),Jt=Wt[0],$t=Wt[1];re.x=Jt,re.y=$t,re.slackX=xt.state.slackX+(It-re.x),re.slackY=xt.state.slackY+(ne-re.y),se.x=re.x,se.y=re.y,se.deltaX=re.x-xt.state.x,se.deltaY=re.y-xt.state.y}var Kt=xt.props.onDrag(Dt,se);if(Kt===!1)return!1;xt.setState(re)}),bt(wt(xt),"onDragStop",function(Dt,Ht){if(!xt.state.dragging)return!1;var se=xt.props.onStop(Dt,(0,p.createDraggableData)(wt(xt),Ht));if(se===!1)return!1;(0,x.default)("Draggable: onDragStop: %j",Ht);var re={dragging:!1,slackX:0,slackY:0},It=Boolean(xt.props.position);if(It){var ne=xt.props.position,pe=ne.x,Wt=ne.y;re.x=pe,re.y=Wt}xt.setState(re)}),xt.state={dragging:!1,dragged:!1,x:At.position?At.position.x:At.defaultPosition.x,y:At.position?At.position.y:At.defaultPosition.y,prevPropsPosition:X({},At.position),slackX:0,slackY:0,isElementSVG:!1},At.position&&!(At.onDrag||At.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),xt}return ot(Tt,[{key:"componentDidMount",value:function(){typeof window.SVGElement!="undefined"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var xt,Dt,Ht;return(xt=(Dt=this.props)===null||Dt===void 0||(Ht=Dt.nodeRef)===null||Ht===void 0?void 0:Ht.current)!==null&&xt!==void 0?xt:M.default.findDOMNode(this)}},{key:"render",value:function(){var xt,Dt=this.props,Ht=Dt.axis,se=Dt.bounds,re=Dt.children,It=Dt.defaultPosition,ne=Dt.defaultClassName,pe=Dt.defaultClassNameDragging,Wt=Dt.defaultClassNameDragged,Jt=Dt.position,$t=Dt.positionOffset,Kt=Dt.scale,ue=b(Dt,y),Se={},Pt=null,Fe=Boolean(Jt),vr=!Fe||this.state.dragging,Tr=Jt||It,Or={x:(0,p.canDragX)(this)&&vr?this.state.x:Tr.x,y:(0,p.canDragY)(this)&&vr?this.state.y:Tr.y};this.state.isElementSVG?Pt=(0,P.createSVGTransform)(Or,$t):Se=(0,P.createCSSTransform)(Or,$t);var Fr=(0,L.default)(re.props.className||"",ne,(xt={},bt(xt,pe,this.state.dragging),bt(xt,Wt,this.state.dragged),xt));return R.createElement(w.default,k({},ue,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),R.cloneElement(R.Children.only(re),{className:Fr,style:X(X({},re.props.style),Se),transform:Pt}))}}],[{key:"getDerivedStateFromProps",value:function(xt,Dt){var Ht=xt.position,se=Dt.prevPropsPosition;return Ht&&(!se||Ht.x!==se.x||Ht.y!==se.y)?((0,x.default)("Draggable: getDerivedStateFromProps %j",{position:Ht,prevPropsPosition:se}),{x:Ht.x,y:Ht.y,prevPropsPosition:X({},Ht)}):null}}]),Tt}(R.Component);G.default=Ct,bt(Ct,"displayName","Draggable"),bt(Ct,"propTypes",X(X({},w.default.propTypes),{},{axis:S.default.oneOf(["both","x","y","none"]),bounds:S.default.oneOfType([S.default.shape({left:S.default.number,right:S.default.number,top:S.default.number,bottom:S.default.number}),S.default.string,S.default.oneOf([!1])]),defaultClassName:S.default.string,defaultClassNameDragging:S.default.string,defaultClassNameDragged:S.default.string,defaultPosition:S.default.shape({x:S.default.number,y:S.default.number}),positionOffset:S.default.shape({x:S.default.oneOfType([S.default.number,S.default.string]),y:S.default.oneOfType([S.default.number,S.default.string])}),position:S.default.shape({x:S.default.number,y:S.default.number}),className:g.dontSetMe,style:g.dontSetMe,transform:g.dontSetMe})),bt(Ct,"defaultProps",X(X({},w.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},180783:function(ze,G,C){"use strict";function m(St){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt},m(St)}Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var R=y(C(667294)),S=w(C(45697)),M=w(C(973935)),L=C(381825),P=C(102849),p=C(909280),g=w(C(955904));function w(St){return St&&St.__esModule?St:{default:St}}function x(St){if(typeof WeakMap!="function")return null;var wt=new WeakMap,H=new WeakMap;return(x=function(bt){return bt?H:wt})(St)}function y(St,wt){if(!wt&&St&&St.__esModule)return St;if(St===null||m(St)!=="object"&&typeof St!="function")return{default:St};var H=x(wt);if(H&&H.has(St))return H.get(St);var Q={},bt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ct in St)if(Ct!=="default"&&Object.prototype.hasOwnProperty.call(St,Ct)){var nt=bt?Object.getOwnPropertyDescriptor(St,Ct):null;nt&&(nt.get||nt.set)?Object.defineProperty(Q,Ct,nt):Q[Ct]=St[Ct]}return Q.default=St,H&&H.set(St,Q),Q}function T(St,wt){return f(St)||b(St,wt)||D(St,wt)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D(St,wt){if(St){if(typeof St=="string")return k(St,wt);var H=Object.prototype.toString.call(St).slice(8,-1);if(H==="Object"&&St.constructor&&(H=St.constructor.name),H==="Map"||H==="Set")return Array.from(St);if(H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return k(St,wt)}}function k(St,wt){(wt==null||wt>St.length)&&(wt=St.length);for(var H=0,Q=new Array(wt);H<wt;H++)Q[H]=St[H];return Q}function b(St,wt){var H=St==null?null:typeof Symbol!="undefined"&&St[Symbol.iterator]||St["@@iterator"];if(H!=null){var Q=[],bt=!0,Ct=!1,nt,dt;try{for(H=H.call(St);!(bt=(nt=H.next()).done)&&(Q.push(nt.value),!(wt&&Q.length===wt));bt=!0);}catch(Tt){Ct=!0,dt=Tt}finally{try{!bt&&H.return!=null&&H.return()}finally{if(Ct)throw dt}}return Q}}function f(St){if(Array.isArray(St))return St}function W(St,wt){if(!(St instanceof wt))throw new TypeError("Cannot call a class as a function")}function X(St,wt){for(var H=0;H<wt.length;H++){var Q=wt[H];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(St,Q.key,Q)}}function z(St,wt,H){return wt&&X(St.prototype,wt),H&&X(St,H),Object.defineProperty(St,"prototype",{writable:!1}),St}function U(St,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");St.prototype=Object.create(wt&&wt.prototype,{constructor:{value:St,writable:!0,configurable:!0}}),Object.defineProperty(St,"prototype",{writable:!1}),wt&&j(St,wt)}function j(St,wt){return j=Object.setPrototypeOf||function(Q,bt){return Q.__proto__=bt,Q},j(St,wt)}function V(St){var wt=et();return function(){var Q=st(St),bt;if(wt){var Ct=st(this).constructor;bt=Reflect.construct(Q,arguments,Ct)}else bt=Q.apply(this,arguments);return J(this,bt)}}function J(St,wt){if(wt&&(m(wt)==="object"||typeof wt=="function"))return wt;if(wt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(St)}function q(St){if(St===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return St}function et(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(St){return!1}}function st(St){return st=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)},st(St)}function ot(St,wt,H){return wt in St?Object.defineProperty(St,wt,{value:H,enumerable:!0,configurable:!0,writable:!0}):St[wt]=H,St}var mt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ft=mt.mouse,Bt=function(St){U(H,St);var wt=V(H);function H(){var Q;W(this,H);for(var bt=arguments.length,Ct=new Array(bt),nt=0;nt<bt;nt++)Ct[nt]=arguments[nt];return Q=wt.call.apply(wt,[this].concat(Ct)),ot(q(Q),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),ot(q(Q),"mounted",!1),ot(q(Q),"handleDragStart",function(dt){if(Q.props.onMouseDown(dt),!Q.props.allowAnyClick&&typeof dt.button=="number"&&dt.button!==0)return!1;var Tt=Q.findDOMNode();if(!Tt||!Tt.ownerDocument||!Tt.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var At=Tt.ownerDocument;if(!(Q.props.disabled||!(dt.target instanceof At.defaultView.Node)||Q.props.handle&&!(0,L.matchesSelectorAndParentsTo)(dt.target,Q.props.handle,Tt)||Q.props.cancel&&(0,L.matchesSelectorAndParentsTo)(dt.target,Q.props.cancel,Tt))){dt.type==="touchstart"&&dt.preventDefault();var xt=(0,L.getTouchIdentifier)(dt);Q.setState({touchIdentifier:xt});var Dt=(0,P.getControlPosition)(dt,xt,q(Q));if(Dt!=null){var Ht=Dt.x,se=Dt.y,re=(0,P.createCoreData)(q(Q),Ht,se);(0,g.default)("DraggableCore: handleDragStart: %j",re),(0,g.default)("calling",Q.props.onStart);var It=Q.props.onStart(dt,re);It===!1||Q.mounted===!1||(Q.props.enableUserSelectHack&&(0,L.addUserSelectStyles)(At),Q.setState({dragging:!0,lastX:Ht,lastY:se}),(0,L.addEvent)(At,ft.move,Q.handleDrag),(0,L.addEvent)(At,ft.stop,Q.handleDragStop))}}}),ot(q(Q),"handleDrag",function(dt){var Tt=(0,P.getControlPosition)(dt,Q.state.touchIdentifier,q(Q));if(Tt!=null){var At=Tt.x,xt=Tt.y;if(Array.isArray(Q.props.grid)){var Dt=At-Q.state.lastX,Ht=xt-Q.state.lastY,se=(0,P.snapToGrid)(Q.props.grid,Dt,Ht),re=T(se,2);if(Dt=re[0],Ht=re[1],!Dt&&!Ht)return;At=Q.state.lastX+Dt,xt=Q.state.lastY+Ht}var It=(0,P.createCoreData)(q(Q),At,xt);(0,g.default)("DraggableCore: handleDrag: %j",It);var ne=Q.props.onDrag(dt,It);if(ne===!1||Q.mounted===!1){try{Q.handleDragStop(new MouseEvent("mouseup"))}catch(Wt){var pe=document.createEvent("MouseEvents");pe.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Q.handleDragStop(pe)}return}Q.setState({lastX:At,lastY:xt})}}),ot(q(Q),"handleDragStop",function(dt){if(Q.state.dragging){var Tt=(0,P.getControlPosition)(dt,Q.state.touchIdentifier,q(Q));if(Tt!=null){var At=Tt.x,xt=Tt.y;if(Array.isArray(Q.props.grid)){var Dt=At-Q.state.lastX||0,Ht=xt-Q.state.lastY||0,se=(0,P.snapToGrid)(Q.props.grid,Dt,Ht),re=T(se,2);Dt=re[0],Ht=re[1],At=Q.state.lastX+Dt,xt=Q.state.lastY+Ht}var It=(0,P.createCoreData)(q(Q),At,xt),ne=Q.props.onStop(dt,It);if(ne===!1||Q.mounted===!1)return!1;var pe=Q.findDOMNode();pe&&Q.props.enableUserSelectHack&&(0,L.removeUserSelectStyles)(pe.ownerDocument),(0,g.default)("DraggableCore: handleDragStop: %j",It),Q.setState({dragging:!1,lastX:NaN,lastY:NaN}),pe&&((0,g.default)("DraggableCore: Removing handlers"),(0,L.removeEvent)(pe.ownerDocument,ft.move,Q.handleDrag),(0,L.removeEvent)(pe.ownerDocument,ft.stop,Q.handleDragStop))}}}),ot(q(Q),"onMouseDown",function(dt){return ft=mt.mouse,Q.handleDragStart(dt)}),ot(q(Q),"onMouseUp",function(dt){return ft=mt.mouse,Q.handleDragStop(dt)}),ot(q(Q),"onTouchStart",function(dt){return ft=mt.touch,Q.handleDragStart(dt)}),ot(q(Q),"onTouchEnd",function(dt){return ft=mt.touch,Q.handleDragStop(dt)}),Q}return z(H,[{key:"componentDidMount",value:function(){this.mounted=!0;var bt=this.findDOMNode();bt&&(0,L.addEvent)(bt,mt.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var bt=this.findDOMNode();if(bt){var Ct=bt.ownerDocument;(0,L.removeEvent)(Ct,mt.mouse.move,this.handleDrag),(0,L.removeEvent)(Ct,mt.touch.move,this.handleDrag),(0,L.removeEvent)(Ct,mt.mouse.stop,this.handleDragStop),(0,L.removeEvent)(Ct,mt.touch.stop,this.handleDragStop),(0,L.removeEvent)(bt,mt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,L.removeUserSelectStyles)(Ct)}}},{key:"findDOMNode",value:function(){var bt,Ct,nt;return(bt=this.props)!==null&&bt!==void 0&&bt.nodeRef?(Ct=this.props)===null||Ct===void 0||(nt=Ct.nodeRef)===null||nt===void 0?void 0:nt.current:M.default.findDOMNode(this)}},{key:"render",value:function(){return R.cloneElement(R.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),H}(R.Component);G.default=Bt,ot(Bt,"displayName","DraggableCore"),ot(Bt,"propTypes",{allowAnyClick:S.default.bool,disabled:S.default.bool,enableUserSelectHack:S.default.bool,offsetParent:function(wt,H){if(wt[H]&&wt[H].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:S.default.arrayOf(S.default.number),handle:S.default.string,cancel:S.default.string,nodeRef:S.default.object,onStart:S.default.func,onDrag:S.default.func,onStop:S.default.func,onMouseDown:S.default.func,scale:S.default.number,className:p.dontSetMe,style:p.dontSetMe,transform:p.dontSetMe}),ot(Bt,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},861193:function(ze,G,C){"use strict";var m=C(175668),R=m.default,S=m.DraggableCore;ze.exports=R,ze.exports.default=R,ze.exports.DraggableCore=S},381825:function(ze,G,C){"use strict";function m(ot){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(mt){return typeof mt}:function(mt){return mt&&typeof Symbol=="function"&&mt.constructor===Symbol&&mt!==Symbol.prototype?"symbol":typeof mt},m(ot)}Object.defineProperty(G,"__esModule",{value:!0}),G.addClassName=et,G.addEvent=T,G.addUserSelectStyles=J,G.createCSSTransform=X,G.createSVGTransform=z,G.getTouch=j,G.getTouchIdentifier=V,G.getTranslation=U,G.innerHeight=b,G.innerWidth=f,G.matchesSelector=x,G.matchesSelectorAndParentsTo=y,G.offsetXYFromParent=W,G.outerHeight=D,G.outerWidth=k,G.removeClassName=st,G.removeEvent=E,G.removeUserSelectStyles=q;var R=C(909280),S=L(C(138650));function M(ot){if(typeof WeakMap!="function")return null;var mt=new WeakMap,ft=new WeakMap;return(M=function(St){return St?ft:mt})(ot)}function L(ot,mt){if(!mt&&ot&&ot.__esModule)return ot;if(ot===null||m(ot)!=="object"&&typeof ot!="function")return{default:ot};var ft=M(mt);if(ft&&ft.has(ot))return ft.get(ot);var Bt={},St=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var wt in ot)if(wt!=="default"&&Object.prototype.hasOwnProperty.call(ot,wt)){var H=St?Object.getOwnPropertyDescriptor(ot,wt):null;H&&(H.get||H.set)?Object.defineProperty(Bt,wt,H):Bt[wt]=ot[wt]}return Bt.default=ot,ft&&ft.set(ot,Bt),Bt}function P(ot,mt){var ft=Object.keys(ot);if(Object.getOwnPropertySymbols){var Bt=Object.getOwnPropertySymbols(ot);mt&&(Bt=Bt.filter(function(St){return Object.getOwnPropertyDescriptor(ot,St).enumerable})),ft.push.apply(ft,Bt)}return ft}function p(ot){for(var mt=1;mt<arguments.length;mt++){var ft=arguments[mt]!=null?arguments[mt]:{};mt%2?P(Object(ft),!0).forEach(function(Bt){g(ot,Bt,ft[Bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(ft)):P(Object(ft)).forEach(function(Bt){Object.defineProperty(ot,Bt,Object.getOwnPropertyDescriptor(ft,Bt))})}return ot}function g(ot,mt,ft){return mt in ot?Object.defineProperty(ot,mt,{value:ft,enumerable:!0,configurable:!0,writable:!0}):ot[mt]=ft,ot}var w="";function x(ot,mt){return w||(w=(0,R.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(ft){return(0,R.isFunction)(ot[ft])})),(0,R.isFunction)(ot[w])?ot[w](mt):!1}function y(ot,mt,ft){var Bt=ot;do{if(x(Bt,mt))return!0;if(Bt===ft)return!1;Bt=Bt.parentNode}while(Bt);return!1}function T(ot,mt,ft,Bt){if(ot){var St=p({capture:!0},Bt);ot.addEventListener?ot.addEventListener(mt,ft,St):ot.attachEvent?ot.attachEvent("on"+mt,ft):ot["on"+mt]=ft}}function E(ot,mt,ft,Bt){if(ot){var St=p({capture:!0},Bt);ot.removeEventListener?ot.removeEventListener(mt,ft,St):ot.detachEvent?ot.detachEvent("on"+mt,ft):ot["on"+mt]=null}}function D(ot){var mt=ot.clientHeight,ft=ot.ownerDocument.defaultView.getComputedStyle(ot);return mt+=(0,R.int)(ft.borderTopWidth),mt+=(0,R.int)(ft.borderBottomWidth),mt}function k(ot){var mt=ot.clientWidth,ft=ot.ownerDocument.defaultView.getComputedStyle(ot);return mt+=(0,R.int)(ft.borderLeftWidth),mt+=(0,R.int)(ft.borderRightWidth),mt}function b(ot){var mt=ot.clientHeight,ft=ot.ownerDocument.defaultView.getComputedStyle(ot);return mt-=(0,R.int)(ft.paddingTop),mt-=(0,R.int)(ft.paddingBottom),mt}function f(ot){var mt=ot.clientWidth,ft=ot.ownerDocument.defaultView.getComputedStyle(ot);return mt-=(0,R.int)(ft.paddingLeft),mt-=(0,R.int)(ft.paddingRight),mt}function W(ot,mt,ft){var Bt=mt===mt.ownerDocument.body,St=Bt?{left:0,top:0}:mt.getBoundingClientRect(),wt=(ot.clientX+mt.scrollLeft-St.left)/ft,H=(ot.clientY+mt.scrollTop-St.top)/ft;return{x:wt,y:H}}function X(ot,mt){var ft=U(ot,mt,"px");return g({},(0,S.browserPrefixToKey)("transform",S.default),ft)}function z(ot,mt){var ft=U(ot,mt,"");return ft}function U(ot,mt,ft){var Bt=ot.x,St=ot.y,wt="translate(".concat(Bt).concat(ft,",").concat(St).concat(ft,")");if(mt){var H="".concat(typeof mt.x=="string"?mt.x:mt.x+ft),Q="".concat(typeof mt.y=="string"?mt.y:mt.y+ft);wt="translate(".concat(H,", ").concat(Q,")")+wt}return wt}function j(ot,mt){return ot.targetTouches&&(0,R.findInArray)(ot.targetTouches,function(ft){return mt===ft.identifier})||ot.changedTouches&&(0,R.findInArray)(ot.changedTouches,function(ft){return mt===ft.identifier})}function V(ot){if(ot.targetTouches&&ot.targetTouches[0])return ot.targetTouches[0].identifier;if(ot.changedTouches&&ot.changedTouches[0])return ot.changedTouches[0].identifier}function J(ot){if(ot){var mt=ot.getElementById("react-draggable-style-el");mt||(mt=ot.createElement("style"),mt.type="text/css",mt.id="react-draggable-style-el",mt.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,mt.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,ot.getElementsByTagName("head")[0].appendChild(mt)),ot.body&&et(ot.body,"react-draggable-transparent-selection")}}function q(ot){if(ot)try{if(ot.body&&st(ot.body,"react-draggable-transparent-selection"),ot.selection)ot.selection.empty();else{var mt=(ot.defaultView||window).getSelection();mt&&mt.type!=="Caret"&&mt.removeAllRanges()}}catch(ft){}}function et(ot,mt){ot.classList?ot.classList.add(mt):ot.className.match(new RegExp("(?:^|\\s)".concat(mt,"(?!\\S)")))||(ot.className+=" ".concat(mt))}function st(ot,mt){ot.classList?ot.classList.remove(mt):ot.className=ot.className.replace(new RegExp("(?:^|\\s)".concat(mt,"(?!\\S)"),"g"),"")}},138650:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.browserPrefixToKey=R,G.browserPrefixToStyle=S,G.default=void 0,G.getPrefix=m;var C=["Moz","Webkit","O","ms"];function m(){var P,p,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window=="undefined")return"";var w=(P=window.document)===null||P===void 0||(p=P.documentElement)===null||p===void 0?void 0:p.style;if(!w||g in w)return"";for(var x=0;x<C.length;x++)if(R(g,C[x])in w)return C[x];return""}function R(P,p){return p?"".concat(p).concat(M(P)):P}function S(P,p){return p?"-".concat(p.toLowerCase(),"-").concat(P):P}function M(P){for(var p="",g=!0,w=0;w<P.length;w++)g?(p+=P[w].toUpperCase(),g=!1):P[w]==="-"?g=!0:p+=P[w];return p}var L=m();G.default=L},955904:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.default=C;function C(){var m}},102849:function(ze,G,C){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.canDragX=L,G.canDragY=P,G.createCoreData=g,G.createDraggableData=w,G.getBoundPosition=S,G.getControlPosition=p,G.snapToGrid=M;var m=C(909280),R=C(381825);function S(T,E,D){if(!T.props.bounds)return[E,D];var k=T.props.bounds;k=typeof k=="string"?k:x(k);var b=y(T);if(typeof k=="string"){var f=b.ownerDocument,W=f.defaultView,X;if(k==="parent"?X=b.parentNode:X=f.querySelector(k),!(X instanceof W.HTMLElement))throw new Error('Bounds selector "'+k+'" could not find an element.');var z=X,U=W.getComputedStyle(b),j=W.getComputedStyle(z);k={left:-b.offsetLeft+(0,m.int)(j.paddingLeft)+(0,m.int)(U.marginLeft),top:-b.offsetTop+(0,m.int)(j.paddingTop)+(0,m.int)(U.marginTop),right:(0,R.innerWidth)(z)-(0,R.outerWidth)(b)-b.offsetLeft+(0,m.int)(j.paddingRight)-(0,m.int)(U.marginRight),bottom:(0,R.innerHeight)(z)-(0,R.outerHeight)(b)-b.offsetTop+(0,m.int)(j.paddingBottom)-(0,m.int)(U.marginBottom)}}return(0,m.isNum)(k.right)&&(E=Math.min(E,k.right)),(0,m.isNum)(k.bottom)&&(D=Math.min(D,k.bottom)),(0,m.isNum)(k.left)&&(E=Math.max(E,k.left)),(0,m.isNum)(k.top)&&(D=Math.max(D,k.top)),[E,D]}function M(T,E,D){var k=Math.round(E/T[0])*T[0],b=Math.round(D/T[1])*T[1];return[k,b]}function L(T){return T.props.axis==="both"||T.props.axis==="x"}function P(T){return T.props.axis==="both"||T.props.axis==="y"}function p(T,E,D){var k=typeof E=="number"?(0,R.getTouch)(T,E):null;if(typeof E=="number"&&!k)return null;var b=y(D),f=D.props.offsetParent||b.offsetParent||b.ownerDocument.body;return(0,R.offsetXYFromParent)(k||T,f,D.props.scale)}function g(T,E,D){var k=T.state,b=!(0,m.isNum)(k.lastX),f=y(T);return b?{node:f,deltaX:0,deltaY:0,lastX:E,lastY:D,x:E,y:D}:{node:f,deltaX:E-k.lastX,deltaY:D-k.lastY,lastX:k.lastX,lastY:k.lastY,x:E,y:D}}function w(T,E){var D=T.props.scale;return{node:E.node,x:T.state.x+E.deltaX/D,y:T.state.y+E.deltaY/D,deltaX:E.deltaX/D,deltaY:E.deltaY/D,lastX:T.state.x,lastY:T.state.y}}function x(T){return{left:T.left,top:T.top,right:T.right,bottom:T.bottom}}function y(T){var E=T.findDOMNode();if(!E)throw new Error("<DraggableCore>: Unmounted during event!");return E}},909280:function(ze,G){"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.dontSetMe=M,G.findInArray=C,G.int=S,G.isFunction=m,G.isNum=R;function C(L,P){for(var p=0,g=L.length;p<g;p++)if(P.apply(P,[L[p],p,L]))return L[p]}function m(L){return typeof L=="function"||Object.prototype.toString.call(L)==="[object Function]"}function R(L){return typeof L=="number"&&!isNaN(L)}function S(L){return parseInt(L,10)}function M(L,P,p){if(L[P])return new Error("Invalid prop ".concat(P," passed to ").concat(p," - do not set this, set it on the child."))}},797005:function(ze,G,C){var m;function R(g){if(!g||typeof window=="undefined")return;const w=document.createElement("style");return w.setAttribute("type","text/css"),w.innerHTML=g,document.head.appendChild(w),g}m={value:!0};var S=C(667294);function M(g){return g&&typeof g=="object"&&"default"in g?g:{default:g}}var L=M(S);var P=function(){return P=Object.assign||function(w){for(var x,y=1,T=arguments.length;y<T;y++){x=arguments[y];for(var E in x)Object.prototype.hasOwnProperty.call(x,E)&&(w[E]=x[E])}return w},P.apply(this,arguments)};R(`.marquee-container {
  overflow-x: hidden !important;
  display: flex !important;
  flex-direction: row !important;
  position: relative;
  width: 100%;
}
.marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.overlay::before, .overlay::after {
  background: linear-gradient(to right, var(--gradient-color));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
}
.overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.overlay::before {
  left: 0;
  top: 0;
}

.marquee {
  flex: 0 0 auto;
  min-width: 100%;
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}`);var p=function(g){var w,x,y,T,E=g.style,D=E===void 0?{}:E,k=g.className,b=k===void 0?"":k,f=g.play,W=f===void 0?!0:f,X=g.pauseOnHover,z=X===void 0?!1:X,U=g.pauseOnClick,j=U===void 0?!1:U,V=g.direction,J=V===void 0?"left":V,q=g.speed,et=q===void 0?20:q,st=g.delay,ot=st===void 0?0:st,mt=g.loop,ft=mt===void 0?0:mt,Bt=g.gradient,St=Bt===void 0?!0:Bt,wt=g.gradientColor,H=wt===void 0?[255,255,255]:wt,Q=g.gradientWidth,bt=Q===void 0?200:Q,Ct=g.onFinish,nt=g.onCycleComplete,dt=g.children,Tt=S.useState(0),At=Tt[0],xt=Tt[1],Dt=S.useState(0),Ht=Dt[0],se=Dt[1],re=S.useState(!1),It=re[0],ne=re[1],pe=S.useRef(null),Wt=S.useRef(null);S.useEffect(function(){if(It){var Kt=function(){Wt.current&&pe.current&&(xt(pe.current.getBoundingClientRect().width),se(Wt.current.getBoundingClientRect().width))};return Kt(),window.addEventListener("resize",Kt),function(){window.removeEventListener("resize",Kt)}}},[It]),S.useEffect(function(){ne(!0)},[]);var Jt="rgba("+H[0]+", "+H[1]+", "+H[2],$t=Ht<At?At/et:Ht/et;return L.default.createElement(S.Fragment,null,It?L.default.createElement("div",{ref:pe,style:P(P({},D),(w={},w["--pause-on-hover"]=!W||z?"paused":"running",w["--pause-on-click"]=!W||z&&!j||j?"paused":"running",w)),className:b+" marquee-container"},St&&L.default.createElement("div",{style:(x={},x["--gradient-color"]=Jt+", 1), "+Jt+", 0)",x["--gradient-width"]=typeof bt=="number"?bt+"px":bt,x),className:"overlay"}),L.default.createElement("div",{ref:Wt,style:(y={},y["--play"]=W?"running":"paused",y["--direction"]=J==="left"?"normal":"reverse",y["--duration"]=$t+"s",y["--delay"]=ot+"s",y["--iteration-count"]=ft?""+ft:"infinite",y),className:"marquee",onAnimationIteration:nt,onAnimationEnd:Ct},dt),L.default.createElement("div",{style:(T={},T["--play"]=W?"running":"paused",T["--direction"]=J==="left"?"normal":"reverse",T["--duration"]=$t+"s",T["--delay"]=ot+"s",T["--iteration-count"]=ft?""+ft:"infinite",T),className:"marquee","aria-hidden":"true"},dt)):null)};G.Z=p},537763:function(ze,G,C){ze.exports=function(m){var R={};function S(M){if(R[M])return R[M].exports;var L=R[M]={exports:{},id:M,loaded:!1};return m[M].call(L.exports,L,L.exports,S),L.loaded=!0,L.exports}return S.m=m,S.c=R,S.p="",S(0)}([function(m,R,S){m.exports=S(1)},function(m,R,S){"use strict";Object.defineProperty(R,"__esModule",{value:!0});function M(p){return p&&p.__esModule?p:{default:p}}var L=S(2),P=M(L);R.default=P.default,m.exports=R.default},function(m,R,S){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var M=Object.assign||function(D){for(var k=1;k<arguments.length;k++){var b=arguments[k];for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&(D[f]=b[f])}return D};R.default=E;function L(D){return D&&D.__esModule?D:{default:D}}function P(D,k){var b={};for(var f in D)k.indexOf(f)>=0||Object.prototype.hasOwnProperty.call(D,f)&&(b[f]=D[f]);return b}var p=S(3),g=S(4),w=L(g),x=S(14),y=S(15),T=L(y);E.propTypes={activeClassName:w.default.string,activeIndex:w.default.number,activeStyle:w.default.object,autoEscape:w.default.bool,className:w.default.string,findChunks:w.default.func,highlightClassName:w.default.oneOfType([w.default.object,w.default.string]),highlightStyle:w.default.object,highlightTag:w.default.oneOfType([w.default.node,w.default.func,w.default.string]),sanitize:w.default.func,searchWords:w.default.arrayOf(w.default.oneOfType([w.default.string,w.default.instanceOf(RegExp)])).isRequired,textToHighlight:w.default.string.isRequired,unhighlightTag:w.default.oneOfType([w.default.node,w.default.func,w.default.string]),unhighlightClassName:w.default.string,unhighlightStyle:w.default.object};function E(D){var k=D.activeClassName,b=k===void 0?"":k,f=D.activeIndex,W=f===void 0?-1:f,X=D.activeStyle,z=D.autoEscape,U=D.caseSensitive,j=U===void 0?!1:U,V=D.className,J=D.findChunks,q=D.highlightClassName,et=q===void 0?"":q,st=D.highlightStyle,ot=st===void 0?{}:st,mt=D.highlightTag,ft=mt===void 0?"mark":mt,Bt=D.sanitize,St=D.searchWords,wt=D.textToHighlight,H=D.unhighlightTag,Q=H===void 0?"span":H,bt=D.unhighlightClassName,Ct=bt===void 0?"":bt,nt=D.unhighlightStyle,dt=P(D,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),Tt=(0,p.findAll)({autoEscape:z,caseSensitive:j,findChunks:J,sanitize:Bt,searchWords:St,textToHighlight:wt}),At=ft,xt=-1,Dt="",Ht=void 0,se=function(ne){var pe={};for(var Wt in ne)pe[Wt.toLowerCase()]=ne[Wt];return pe},re=(0,T.default)(se);return(0,x.createElement)("span",M({className:V},dt,{children:Tt.map(function(It,ne){var pe=wt.substr(It.start,It.end-It.start);if(It.highlight){xt++;var Wt=void 0;typeof et=="object"?j?Wt=et[pe]:(et=re(et),Wt=et[pe.toLowerCase()]):Wt=et;var Jt=xt===+W;Dt=Wt+" "+(Jt?b:""),Ht=Jt===!0&&X!=null?Object.assign({},ot,X):ot;var $t={children:pe,className:Dt,key:ne,style:Ht};return typeof At!="string"&&($t.highlightIndex=xt),(0,x.createElement)(At,$t)}else return(0,x.createElement)(Q,{children:pe,className:Ct,key:ne,style:nt})})}))}m.exports=R.default},function(m,R){m.exports=function(S){var M={};function L(P){if(M[P])return M[P].exports;var p=M[P]={exports:{},id:P,loaded:!1};return S[P].call(p.exports,p,p.exports,L),p.loaded=!0,p.exports}return L.m=S,L.c=M,L.p="",L(0)}([function(S,M,L){S.exports=L(1)},function(S,M,L){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var P=L(2);Object.defineProperty(M,"combineChunks",{enumerable:!0,get:function(){return P.combineChunks}}),Object.defineProperty(M,"fillInChunks",{enumerable:!0,get:function(){return P.fillInChunks}}),Object.defineProperty(M,"findAll",{enumerable:!0,get:function(){return P.findAll}}),Object.defineProperty(M,"findChunks",{enumerable:!0,get:function(){return P.findChunks}})},function(S,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var L=M.findAll=function(T){var E=T.autoEscape,D=T.caseSensitive,k=D===void 0?!1:D,b=T.findChunks,f=b===void 0?p:b,W=T.sanitize,X=T.searchWords,z=T.textToHighlight;return g({chunksToHighlight:P({chunks:f({autoEscape:E,caseSensitive:k,sanitize:W,searchWords:X,textToHighlight:z})}),totalLength:z?z.length:0})},P=M.combineChunks=function(T){var E=T.chunks;return E=E.sort(function(D,k){return D.start-k.start}).reduce(function(D,k){if(D.length===0)return[k];var b=D.pop();if(k.start<=b.end){var f=Math.max(b.end,k.end);D.push({start:b.start,end:f})}else D.push(b,k);return D},[]),E},p=function(T){var E=T.autoEscape,D=T.caseSensitive,k=T.sanitize,b=k===void 0?w:k,f=T.searchWords,W=T.textToHighlight;return W=b(W),f.filter(function(X){return X}).reduce(function(X,z){z=b(z),E&&(z=x(z));for(var U=new RegExp(z,D?"g":"gi"),j=void 0;j=U.exec(W);){var V=j.index,J=U.lastIndex;J>V&&X.push({start:V,end:J}),j.index==U.lastIndex&&U.lastIndex++}return X},[])};M.findChunks=p;var g=M.fillInChunks=function(T){var E=T.chunksToHighlight,D=T.totalLength,k=[],b=function(X,z,U){z-X>0&&k.push({start:X,end:z,highlight:U})};if(E.length===0)b(0,D,!1);else{var f=0;E.forEach(function(W){b(f,W.start,!1),b(W.start,W.end,!0),f=W.end}),b(f,D,!1)}return k};function w(y){return y}function x(y){return y.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(m,R,S){(function(M){if(M.env.NODE_ENV!=="production"){var L=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,P=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===L},p=!0;m.exports=S(6)(P,p)}else m.exports=S(13)()}).call(R,S(5))},function(m,R){var S=m.exports={},M,L;function P(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?M=setTimeout:M=P}catch(W){M=P}try{typeof clearTimeout=="function"?L=clearTimeout:L=p}catch(W){L=p}})();function g(W){if(M===setTimeout)return setTimeout(W,0);if((M===P||!M)&&setTimeout)return M=setTimeout,setTimeout(W,0);try{return M(W,0)}catch(X){try{return M.call(null,W,0)}catch(z){return M.call(this,W,0)}}}function w(W){if(L===clearTimeout)return clearTimeout(W);if((L===p||!L)&&clearTimeout)return L=clearTimeout,clearTimeout(W);try{return L(W)}catch(X){try{return L.call(null,W)}catch(z){return L.call(this,W)}}}var x=[],y=!1,T,E=-1;function D(){!y||!T||(y=!1,T.length?x=T.concat(x):E=-1,x.length&&k())}function k(){if(!y){var W=g(D);y=!0;for(var X=x.length;X;){for(T=x,x=[];++E<X;)T&&T[E].run();E=-1,X=x.length}T=null,y=!1,w(W)}}S.nextTick=function(W){var X=new Array(arguments.length-1);if(arguments.length>1)for(var z=1;z<arguments.length;z++)X[z-1]=arguments[z];x.push(new b(W,X)),x.length===1&&!y&&g(k)};function b(W,X){this.fun=W,this.array=X}b.prototype.run=function(){this.fun.apply(null,this.array)},S.title="browser",S.browser=!0,S.env={},S.argv=[],S.version="",S.versions={};function f(){}S.on=f,S.addListener=f,S.once=f,S.off=f,S.removeListener=f,S.removeAllListeners=f,S.emit=f,S.prependListener=f,S.prependOnceListener=f,S.listeners=function(W){return[]},S.binding=function(W){throw new Error("process.binding is not supported")},S.cwd=function(){return"/"},S.chdir=function(W){throw new Error("process.chdir is not supported")},S.umask=function(){return 0}},function(m,R,S){(function(M){"use strict";var L=S(7),P=S(8),p=S(9),g=S(10),w=S(11),x=S(12);m.exports=function(y,T){var E=typeof Symbol=="function"&&Symbol.iterator,D="@@iterator";function k(nt){var dt=nt&&(E&&nt[E]||nt[D]);if(typeof dt=="function")return dt}var b="<<anonymous>>",f={array:U("array"),bool:U("boolean"),func:U("function"),number:U("number"),object:U("object"),string:U("string"),symbol:U("symbol"),any:j(),arrayOf:V,element:J(),instanceOf:q,node:mt(),objectOf:st,oneOf:et,oneOfType:ot,shape:ft,exact:Bt};function W(nt,dt){return nt===dt?nt!==0||1/nt===1/dt:nt!==nt&&dt!==dt}function X(nt){this.message=nt,this.stack=""}X.prototype=Error.prototype;function z(nt){if(M.env.NODE_ENV!=="production")var dt={},Tt=0;function At(Dt,Ht,se,re,It,ne,pe){if(re=re||b,ne=ne||se,pe!==w){if(T)P(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(M.env.NODE_ENV!=="production"&&typeof console!="undefined"){var Wt=re+":"+se;!dt[Wt]&&Tt<3&&(p(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",ne,re),dt[Wt]=!0,Tt++)}}return Ht[se]==null?Dt?Ht[se]===null?new X("The "+It+" `"+ne+"` is marked as required "+("in `"+re+"`, but its value is `null`.")):new X("The "+It+" `"+ne+"` is marked as required in "+("`"+re+"`, but its value is `undefined`.")):null:nt(Ht,se,re,It,ne)}var xt=At.bind(null,!1);return xt.isRequired=At.bind(null,!0),xt}function U(nt){function dt(Tt,At,xt,Dt,Ht,se){var re=Tt[At],It=H(re);if(It!==nt){var ne=Q(re);return new X("Invalid "+Dt+" `"+Ht+"` of type "+("`"+ne+"` supplied to `"+xt+"`, expected ")+("`"+nt+"`."))}return null}return z(dt)}function j(){return z(L.thatReturnsNull)}function V(nt){function dt(Tt,At,xt,Dt,Ht){if(typeof nt!="function")return new X("Property `"+Ht+"` of component `"+xt+"` has invalid PropType notation inside arrayOf.");var se=Tt[At];if(!Array.isArray(se)){var re=H(se);return new X("Invalid "+Dt+" `"+Ht+"` of type "+("`"+re+"` supplied to `"+xt+"`, expected an array."))}for(var It=0;It<se.length;It++){var ne=nt(se,It,xt,Dt,Ht+"["+It+"]",w);if(ne instanceof Error)return ne}return null}return z(dt)}function J(){function nt(dt,Tt,At,xt,Dt){var Ht=dt[Tt];if(!y(Ht)){var se=H(Ht);return new X("Invalid "+xt+" `"+Dt+"` of type "+("`"+se+"` supplied to `"+At+"`, expected a single ReactElement."))}return null}return z(nt)}function q(nt){function dt(Tt,At,xt,Dt,Ht){if(!(Tt[At]instanceof nt)){var se=nt.name||b,re=Ct(Tt[At]);return new X("Invalid "+Dt+" `"+Ht+"` of type "+("`"+re+"` supplied to `"+xt+"`, expected ")+("instance of `"+se+"`."))}return null}return z(dt)}function et(nt){if(!Array.isArray(nt))return M.env.NODE_ENV!=="production"&&p(!1,"Invalid argument supplied to oneOf, expected an instance of array."),L.thatReturnsNull;function dt(Tt,At,xt,Dt,Ht){for(var se=Tt[At],re=0;re<nt.length;re++)if(W(se,nt[re]))return null;var It=JSON.stringify(nt);return new X("Invalid "+Dt+" `"+Ht+"` of value `"+se+"` "+("supplied to `"+xt+"`, expected one of "+It+"."))}return z(dt)}function st(nt){function dt(Tt,At,xt,Dt,Ht){if(typeof nt!="function")return new X("Property `"+Ht+"` of component `"+xt+"` has invalid PropType notation inside objectOf.");var se=Tt[At],re=H(se);if(re!=="object")return new X("Invalid "+Dt+" `"+Ht+"` of type "+("`"+re+"` supplied to `"+xt+"`, expected an object."));for(var It in se)if(se.hasOwnProperty(It)){var ne=nt(se,It,xt,Dt,Ht+"."+It,w);if(ne instanceof Error)return ne}return null}return z(dt)}function ot(nt){if(!Array.isArray(nt))return M.env.NODE_ENV!=="production"&&p(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),L.thatReturnsNull;for(var dt=0;dt<nt.length;dt++){var Tt=nt[dt];if(typeof Tt!="function")return p(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",bt(Tt),dt),L.thatReturnsNull}function At(xt,Dt,Ht,se,re){for(var It=0;It<nt.length;It++){var ne=nt[It];if(ne(xt,Dt,Ht,se,re,w)==null)return null}return new X("Invalid "+se+" `"+re+"` supplied to "+("`"+Ht+"`."))}return z(At)}function mt(){function nt(dt,Tt,At,xt,Dt){return St(dt[Tt])?null:new X("Invalid "+xt+" `"+Dt+"` supplied to "+("`"+At+"`, expected a ReactNode."))}return z(nt)}function ft(nt){function dt(Tt,At,xt,Dt,Ht){var se=Tt[At],re=H(se);if(re!=="object")return new X("Invalid "+Dt+" `"+Ht+"` of type `"+re+"` "+("supplied to `"+xt+"`, expected `object`."));for(var It in nt){var ne=nt[It];if(ne){var pe=ne(se,It,xt,Dt,Ht+"."+It,w);if(pe)return pe}}return null}return z(dt)}function Bt(nt){function dt(Tt,At,xt,Dt,Ht){var se=Tt[At],re=H(se);if(re!=="object")return new X("Invalid "+Dt+" `"+Ht+"` of type `"+re+"` "+("supplied to `"+xt+"`, expected `object`."));var It=g({},Tt[At],nt);for(var ne in It){var pe=nt[ne];if(!pe)return new X("Invalid "+Dt+" `"+Ht+"` key `"+ne+"` supplied to `"+xt+"`.\nBad object: "+JSON.stringify(Tt[At],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(nt),null,"  "));var Wt=pe(se,ne,xt,Dt,Ht+"."+ne,w);if(Wt)return Wt}return null}return z(dt)}function St(nt){switch(typeof nt){case"number":case"string":case"undefined":return!0;case"boolean":return!nt;case"object":if(Array.isArray(nt))return nt.every(St);if(nt===null||y(nt))return!0;var dt=k(nt);if(dt){var Tt=dt.call(nt),At;if(dt!==nt.entries){for(;!(At=Tt.next()).done;)if(!St(At.value))return!1}else for(;!(At=Tt.next()).done;){var xt=At.value;if(xt&&!St(xt[1]))return!1}}else return!1;return!0;default:return!1}}function wt(nt,dt){return nt==="symbol"||dt["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&dt instanceof Symbol}function H(nt){var dt=typeof nt;return Array.isArray(nt)?"array":nt instanceof RegExp?"object":wt(dt,nt)?"symbol":dt}function Q(nt){if(typeof nt=="undefined"||nt===null)return""+nt;var dt=H(nt);if(dt==="object"){if(nt instanceof Date)return"date";if(nt instanceof RegExp)return"regexp"}return dt}function bt(nt){var dt=Q(nt);switch(dt){case"array":case"object":return"an "+dt;case"boolean":case"date":case"regexp":return"a "+dt;default:return dt}}function Ct(nt){return!nt.constructor||!nt.constructor.name?b:nt.constructor.name}return f.checkPropTypes=x,f.PropTypes=f,f}}).call(R,S(5))},function(m,R){"use strict";function S(L){return function(){return L}}var M=function(){};M.thatReturns=S,M.thatReturnsFalse=S(!1),M.thatReturnsTrue=S(!0),M.thatReturnsNull=S(null),M.thatReturnsThis=function(){return this},M.thatReturnsArgument=function(L){return L},m.exports=M},function(m,R,S){(function(M){"use strict";var L=function(g){};M.env.NODE_ENV!=="production"&&(L=function(g){if(g===void 0)throw new Error("invariant requires an error message argument")});function P(p,g,w,x,y,T,E,D){if(L(g),!p){var k;if(g===void 0)k=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var b=[w,x,y,T,E,D],f=0;k=new Error(g.replace(/%s/g,function(){return b[f++]})),k.name="Invariant Violation"}throw k.framesToPop=1,k}}m.exports=P}).call(R,S(5))},function(m,R,S){(function(M){"use strict";var L=S(7),P=L;if(M.env.NODE_ENV!=="production"){var p=function(w){for(var x=arguments.length,y=Array(x>1?x-1:0),T=1;T<x;T++)y[T-1]=arguments[T];var E=0,D="Warning: "+w.replace(/%s/g,function(){return y[E++]});typeof console!="undefined"&&console.error(D);try{throw new Error(D)}catch(k){}};P=function(w,x){if(x===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(x.indexOf("Failed Composite propType: ")!==0&&!w){for(var y=arguments.length,T=Array(y>2?y-2:0),E=2;E<y;E++)T[E-2]=arguments[E];p.apply(void 0,[x].concat(T))}}}m.exports=P}).call(R,S(5))},function(m,R){"use strict";var S=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;function P(g){if(g==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(g)}function p(){try{if(!Object.assign)return!1;var g=new String("abc");if(g[5]="de",Object.getOwnPropertyNames(g)[0]==="5")return!1;for(var w={},x=0;x<10;x++)w["_"+String.fromCharCode(x)]=x;var y=Object.getOwnPropertyNames(w).map(function(E){return w[E]});if(y.join("")!=="0123456789")return!1;var T={};return"abcdefghijklmnopqrst".split("").forEach(function(E){T[E]=E}),Object.keys(Object.assign({},T)).join("")==="abcdefghijklmnopqrst"}catch(E){return!1}}m.exports=p()?Object.assign:function(g,w){for(var x,y=P(g),T,E=1;E<arguments.length;E++){x=Object(arguments[E]);for(var D in x)M.call(x,D)&&(y[D]=x[D]);if(S){T=S(x);for(var k=0;k<T.length;k++)L.call(x,T[k])&&(y[T[k]]=x[T[k]])}}return y}},function(m,R){"use strict";var S="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";m.exports=S},function(m,R,S){(function(M){"use strict";if(M.env.NODE_ENV!=="production")var L=S(8),P=S(9),p=S(11),g={};function w(x,y,T,E,D){if(M.env.NODE_ENV!=="production"){for(var k in x)if(x.hasOwnProperty(k)){var b;try{L(typeof x[k]=="function","%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",E||"React class",T,k,typeof x[k]),b=x[k](y,k,E,T,null,p)}catch(W){b=W}if(P(!b||b instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",E||"React class",T,k,typeof b),b instanceof Error&&!(b.message in g)){g[b.message]=!0;var f=D?D():"";P(!1,"Failed %s type: %s%s",T,b.message,f!=null?f:"")}}}}m.exports=w}).call(R,S(5))},function(m,R,S){"use strict";var M=S(7),L=S(8),P=S(11);m.exports=function(){function p(x,y,T,E,D,k){k!==P&&L(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}p.isRequired=p;function g(){return p}var w={array:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:g,element:p,instanceOf:g,node:p,objectOf:g,oneOf:g,oneOfType:g,shape:g,exact:g};return w.checkPropTypes=M,w.PropTypes=w,w}},function(m,R){m.exports=C(667294)},function(m,R){"use strict";var S=function(P,p){return P===p};function M(L){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,p=void 0,g=[],w=void 0,x=!1,y=function(D,k){return P(D,g[k])},T=function(){for(var D=arguments.length,k=Array(D),b=0;b<D;b++)k[b]=arguments[b];return x&&p===this&&k.length===g.length&&k.every(y)||(x=!0,p=this,g=k,w=L.apply(this,k)),w};return T}m.exports=M}])},58533:function(ze,G,C){"use strict";var m=C(667294);var R=function(x,y){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,E){T.__proto__=E}||function(T,E){for(var D in E)E.hasOwnProperty(D)&&(T[D]=E[D])},R(x,y)};function S(x,y){R(x,y);function T(){this.constructor=x}x.prototype=y===null?Object.create(y):(T.prototype=y.prototype,new T)}var M=function(){return M=Object.assign||function(y){for(var T,E=1,D=arguments.length;E<D;E++){T=arguments[E];for(var k in T)Object.prototype.hasOwnProperty.call(T,k)&&(y[k]=T[k])}return y},M.apply(this,arguments)};function L(x,y,T,E){var D,k=!1,b=0;function f(){D&&clearTimeout(D)}function W(){f(),k=!0}typeof y!="boolean"&&(E=T,T=y,y=void 0);function X(){var z=this,U=Date.now()-b,j=arguments;if(k)return;function V(){b=Date.now(),T.apply(z,j)}function J(){D=void 0}E&&!D&&V(),f(),E===void 0&&U>x?V():y!==!0&&(D=setTimeout(E?J:V,E===void 0?x-U:x))}return X.cancel=W,X}var P={Pixel:"Pixel",Percent:"Percent"},p={unit:P.Percent,value:.8};function g(x){return typeof x=="number"?{unit:P.Percent,value:x*100}:typeof x=="string"?x.match(/^(\d*(\.\d+)?)px$/)?{unit:P.Pixel,value:parseFloat(x)}:x.match(/^(\d*(\.\d+)?)%$/)?{unit:P.Percent,value:parseFloat(x)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),p):(console.warn("scrollThreshold should be string or number"),p)}var w=function(x){S(y,x);function y(T){var E=x.call(this,T)||this;return E.lastScrollTop=0,E.actionTriggered=!1,E.startY=0,E.currentY=0,E.dragging=!1,E.maxPullDownDistance=0,E.getScrollableTarget=function(){return E.props.scrollableTarget instanceof HTMLElement?E.props.scrollableTarget:typeof E.props.scrollableTarget=="string"?document.getElementById(E.props.scrollableTarget):(E.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},E.onStart=function(D){E.lastScrollTop||(E.dragging=!0,D instanceof MouseEvent?E.startY=D.pageY:D instanceof TouchEvent&&(E.startY=D.touches[0].pageY),E.currentY=E.startY,E._infScroll&&(E._infScroll.style.willChange="transform",E._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},E.onMove=function(D){E.dragging&&(D instanceof MouseEvent?E.currentY=D.pageY:D instanceof TouchEvent&&(E.currentY=D.touches[0].pageY),!(E.currentY<E.startY)&&(E.currentY-E.startY>=Number(E.props.pullDownToRefreshThreshold)&&E.setState({pullToRefreshThresholdBreached:!0}),!(E.currentY-E.startY>E.maxPullDownDistance*1.5)&&E._infScroll&&(E._infScroll.style.overflow="visible",E._infScroll.style.transform="translate3d(0px, "+(E.currentY-E.startY)+"px, 0px)")))},E.onEnd=function(){E.startY=0,E.currentY=0,E.dragging=!1,E.state.pullToRefreshThresholdBreached&&(E.props.refreshFunction&&E.props.refreshFunction(),E.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){E._infScroll&&(E._infScroll.style.overflow="auto",E._infScroll.style.transform="none",E._infScroll.style.willChange="unset")})},E.onScrollListener=function(D){typeof E.props.onScroll=="function"&&setTimeout(function(){return E.props.onScroll&&E.props.onScroll(D)},0);var k=E.props.height||E._scrollableNode?D.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!E.actionTriggered){var b=E.props.inverse?E.isElementAtTop(k,E.props.scrollThreshold):E.isElementAtBottom(k,E.props.scrollThreshold);b&&E.props.hasMore&&(E.actionTriggered=!0,E.setState({showLoader:!0}),E.props.next&&E.props.next()),E.lastScrollTop=k.scrollTop}},E.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:T.dataLength},E.throttledOnScrollListener=L(150,E.onScrollListener).bind(E),E.onStart=E.onStart.bind(E),E.onMove=E.onMove.bind(E),E.onEnd=E.onEnd.bind(E),E}return y.prototype.componentDidMount=function(){if(typeof this.props.dataLength=="undefined")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},y.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},y.prototype.componentDidUpdate=function(T){this.props.dataLength!==T.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},y.getDerivedStateFromProps=function(T,E){var D=T.dataLength!==E.prevDataLength;return D?M(M({},E),{prevDataLength:T.dataLength}):null},y.prototype.isElementAtTop=function(T,E){E===void 0&&(E=.8);var D=T===document.body||T===document.documentElement?window.screen.availHeight:T.clientHeight,k=g(E);return k.unit===P.Pixel?T.scrollTop<=k.value+D-T.scrollHeight+1:T.scrollTop<=k.value/100+D-T.scrollHeight+1},y.prototype.isElementAtBottom=function(T,E){E===void 0&&(E=.8);var D=T===document.body||T===document.documentElement?window.screen.availHeight:T.clientHeight,k=g(E);return k.unit===P.Pixel?T.scrollTop+D>=T.scrollHeight-k.value:T.scrollTop+D>=k.value/100*T.scrollHeight},y.prototype.render=function(){var T=this,E=M({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),D=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),k=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return m.createElement("div",{style:k,className:"infinite-scroll-component__outerdiv"},m.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(b){return T._infScroll=b},style:E},this.props.pullDownToRefresh&&m.createElement("div",{style:{position:"relative"},ref:function(b){return T._pullDown=b}},m.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!D&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},y}(m.Component);G.Z=w},122827:function(ze,G,C){"use strict";G.__esModule=!0,G.default=void 0;var m=p(C(667294)),R=C(861193),S=C(459069),M=C(100448),L=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function P(W){if(typeof WeakMap!="function")return null;var X=new WeakMap,z=new WeakMap;return(P=function(j){return j?z:X})(W)}function p(W,X){if(!X&&W&&W.__esModule)return W;if(W===null||typeof W!="object"&&typeof W!="function")return{default:W};var z=P(X);if(z&&z.has(W))return z.get(W);var U={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in W)if(V!=="default"&&Object.prototype.hasOwnProperty.call(W,V)){var J=j?Object.getOwnPropertyDescriptor(W,V):null;J&&(J.get||J.set)?Object.defineProperty(U,V,J):U[V]=W[V]}return U.default=W,z&&z.set(W,U),U}function g(){return g=Object.assign?Object.assign.bind():function(W){for(var X=1;X<arguments.length;X++){var z=arguments[X];for(var U in z)Object.prototype.hasOwnProperty.call(z,U)&&(W[U]=z[U])}return W},g.apply(this,arguments)}function w(W,X){if(W==null)return{};var z={},U=Object.keys(W),j,V;for(V=0;V<U.length;V++)j=U[V],!(X.indexOf(j)>=0)&&(z[j]=W[j]);return z}function x(W,X){var z=Object.keys(W);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(W);X&&(U=U.filter(function(j){return Object.getOwnPropertyDescriptor(W,j).enumerable})),z.push.apply(z,U)}return z}function y(W){for(var X=1;X<arguments.length;X++){var z=arguments[X]!=null?arguments[X]:{};X%2?x(Object(z),!0).forEach(function(U){T(W,U,z[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(z)):x(Object(z)).forEach(function(U){Object.defineProperty(W,U,Object.getOwnPropertyDescriptor(z,U))})}return W}function T(W,X,z){return X=E(X),X in W?Object.defineProperty(W,X,{value:z,enumerable:!0,configurable:!0,writable:!0}):W[X]=z,W}function E(W){var X=D(W,"string");return typeof X=="symbol"?X:String(X)}function D(W,X){if(typeof W!="object"||W===null)return W;var z=W[Symbol.toPrimitive];if(z!==void 0){var U=z.call(W,X||"default");if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(W)}function k(W,X){W.prototype=Object.create(X.prototype),W.prototype.constructor=W,b(W,X)}function b(W,X){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,j){return U.__proto__=j,U},b(W,X)}var f=function(W){k(X,W);function X(){for(var U,j=arguments.length,V=new Array(j),J=0;J<j;J++)V[J]=arguments[J];return U=W.call.apply(W,[this].concat(V))||this,U.handleRefs={},U.lastHandleRect=null,U.slack=null,U}var z=X.prototype;return z.componentWillUnmount=function(){this.resetData()},z.resetData=function(){this.lastHandleRect=this.slack=null},z.runConstraints=function(j,V){var J=this.props,q=J.minConstraints,et=J.maxConstraints,st=J.lockAspectRatio;if(!q&&!et&&!st)return[j,V];if(st){var ot=this.props.width/this.props.height,mt=j-this.props.width,ft=V-this.props.height;Math.abs(mt)>Math.abs(ft*ot)?V=j/ot:j=V*ot}var Bt=j,St=V,wt=this.slack||[0,0],H=wt[0],Q=wt[1];return j+=H,V+=Q,q&&(j=Math.max(q[0],j),V=Math.max(q[1],V)),et&&(j=Math.min(et[0],j),V=Math.min(et[1],V)),this.slack=[H+(Bt-j),Q+(St-V)],[j,V]},z.resizeHandler=function(j,V){var J=this;return function(q,et){var st=et.node,ot=et.deltaX,mt=et.deltaY;j==="onResizeStart"&&J.resetData();var ft=(J.props.axis==="both"||J.props.axis==="x")&&V!=="n"&&V!=="s",Bt=(J.props.axis==="both"||J.props.axis==="y")&&V!=="e"&&V!=="w";if(!(!ft&&!Bt)){var St=V[0],wt=V[V.length-1],H=st.getBoundingClientRect();if(J.lastHandleRect!=null){if(wt==="w"){var Q=H.left-J.lastHandleRect.left;ot+=Q}if(St==="n"){var bt=H.top-J.lastHandleRect.top;mt+=bt}}J.lastHandleRect=H,wt==="w"&&(ot=-ot),St==="n"&&(mt=-mt);var Ct=J.props.width+(ft?ot/J.props.transformScale:0),nt=J.props.height+(Bt?mt/J.props.transformScale:0),dt=J.runConstraints(Ct,nt);Ct=dt[0],nt=dt[1];var Tt=Ct!==J.props.width||nt!==J.props.height,At=typeof J.props[j]=="function"?J.props[j]:null,xt=j==="onResize"&&!Tt;At&&!xt&&(q.persist==null||q.persist(),At(q,{node:st,size:{width:Ct,height:nt},handle:V})),j==="onResizeStop"&&J.resetData()}}},z.renderResizeHandle=function(j,V){var J=this.props.handle;if(!J)return m.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+j,ref:V});if(typeof J=="function")return J(j,V);var q=typeof J.type=="string",et=y({ref:V},q?{}:{handleAxis:j});return m.cloneElement(J,et)},z.render=function(){var j=this,V=this.props,J=V.children,q=V.className,et=V.draggableOpts,st=V.width,ot=V.height,mt=V.handle,ft=V.handleSize,Bt=V.lockAspectRatio,St=V.axis,wt=V.minConstraints,H=V.maxConstraints,Q=V.onResize,bt=V.onResizeStop,Ct=V.onResizeStart,nt=V.resizeHandles,dt=V.transformScale,Tt=w(V,L);return(0,S.cloneElement)(J,y(y({},Tt),{},{className:(q?q+" ":"")+"react-resizable",children:[].concat(J.props.children,nt.map(function(At){var xt,Dt=(xt=j.handleRefs[At])!=null?xt:j.handleRefs[At]=m.createRef();return m.createElement(R.DraggableCore,g({},et,{nodeRef:Dt,key:"resizableHandle-"+At,onStop:j.resizeHandler("onResizeStop",At),onStart:j.resizeHandler("onResizeStart",At),onDrag:j.resizeHandler("onResize",At)}),j.renderResizeHandle(At,Dt))}))}))},X}(m.Component);G.default=f,f.propTypes=M.resizableProps,f.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},808735:function(ze,G,C){"use strict";var m;m=!0,G.default=void 0;var R=w(C(667294)),S=p(C(45697)),M=p(C(122827)),L=C(100448),P=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function p(z){return z&&z.__esModule?z:{default:z}}function g(z){if(typeof WeakMap!="function")return null;var U=new WeakMap,j=new WeakMap;return(g=function(J){return J?j:U})(z)}function w(z,U){if(!U&&z&&z.__esModule)return z;if(z===null||typeof z!="object"&&typeof z!="function")return{default:z};var j=g(U);if(j&&j.has(z))return j.get(z);var V={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in z)if(q!=="default"&&Object.prototype.hasOwnProperty.call(z,q)){var et=J?Object.getOwnPropertyDescriptor(z,q):null;et&&(et.get||et.set)?Object.defineProperty(V,q,et):V[q]=z[q]}return V.default=z,j&&j.set(z,V),V}function x(){return x=Object.assign?Object.assign.bind():function(z){for(var U=1;U<arguments.length;U++){var j=arguments[U];for(var V in j)Object.prototype.hasOwnProperty.call(j,V)&&(z[V]=j[V])}return z},x.apply(this,arguments)}function y(z,U){var j=Object.keys(z);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(z);U&&(V=V.filter(function(J){return Object.getOwnPropertyDescriptor(z,J).enumerable})),j.push.apply(j,V)}return j}function T(z){for(var U=1;U<arguments.length;U++){var j=arguments[U]!=null?arguments[U]:{};U%2?y(Object(j),!0).forEach(function(V){E(z,V,j[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(j)):y(Object(j)).forEach(function(V){Object.defineProperty(z,V,Object.getOwnPropertyDescriptor(j,V))})}return z}function E(z,U,j){return U=D(U),U in z?Object.defineProperty(z,U,{value:j,enumerable:!0,configurable:!0,writable:!0}):z[U]=j,z}function D(z){var U=k(z,"string");return typeof U=="symbol"?U:String(U)}function k(z,U){if(typeof z!="object"||z===null)return z;var j=z[Symbol.toPrimitive];if(j!==void 0){var V=j.call(z,U||"default");if(typeof V!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(z)}function b(z,U){if(z==null)return{};var j={},V=Object.keys(z),J,q;for(q=0;q<V.length;q++)J=V[q],!(U.indexOf(J)>=0)&&(j[J]=z[J]);return j}function f(z,U){z.prototype=Object.create(U.prototype),z.prototype.constructor=z,W(z,U)}function W(z,U){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,J){return V.__proto__=J,V},W(z,U)}var X=function(z){f(U,z);function U(){for(var V,J=arguments.length,q=new Array(J),et=0;et<J;et++)q[et]=arguments[et];return V=z.call.apply(z,[this].concat(q))||this,V.state={width:V.props.width,height:V.props.height,propsWidth:V.props.width,propsHeight:V.props.height},V.onResize=function(st,ot){var mt=ot.size;V.props.onResize?(st.persist==null||st.persist(),V.setState(mt,function(){return V.props.onResize&&V.props.onResize(st,ot)})):V.setState(mt)},V}U.getDerivedStateFromProps=function(J,q){return q.propsWidth!==J.width||q.propsHeight!==J.height?{width:J.width,height:J.height,propsWidth:J.width,propsHeight:J.height}:null};var j=U.prototype;return j.render=function(){var J=this.props,q=J.handle,et=J.handleSize,st=J.onResize,ot=J.onResizeStart,mt=J.onResizeStop,ft=J.draggableOpts,Bt=J.minConstraints,St=J.maxConstraints,wt=J.lockAspectRatio,H=J.axis,Q=J.width,bt=J.height,Ct=J.resizeHandles,nt=J.style,dt=J.transformScale,Tt=b(J,P);return R.createElement(M.default,{axis:H,draggableOpts:ft,handle:q,handleSize:et,height:this.state.height,lockAspectRatio:wt,maxConstraints:St,minConstraints:Bt,onResizeStart:ot,onResize:this.onResize,onResizeStop:mt,resizeHandles:Ct,transformScale:dt,width:this.state.width},R.createElement("div",x({},Tt,{style:T(T({},nt),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},U}(R.Component);G.default=X,X.propTypes=T(T({},L.resizableProps),{},{children:S.default.element})},100448:function(ze,G,C){"use strict";G.__esModule=!0,G.resizableProps=void 0;var m=S(C(45697)),R=C(861193);function S(L){return L&&L.__esModule?L:{default:L}}var M={axis:m.default.oneOf(["both","x","y","none"]),className:m.default.string,children:m.default.element.isRequired,draggableOpts:m.default.shape({allowAnyClick:m.default.bool,cancel:m.default.string,children:m.default.node,disabled:m.default.bool,enableUserSelectHack:m.default.bool,offsetParent:m.default.node,grid:m.default.arrayOf(m.default.number),handle:m.default.string,nodeRef:m.default.object,onStart:m.default.func,onDrag:m.default.func,onStop:m.default.func,onMouseDown:m.default.func,scale:m.default.number}),height:function(){for(var P=arguments.length,p=new Array(P),g=0;g<P;g++)p[g]=arguments[g];var w=p[0];if(w.axis==="both"||w.axis==="y"){var x;return(x=m.default.number).isRequired.apply(x,p)}return m.default.number.apply(m.default,p)},handle:m.default.oneOfType([m.default.node,m.default.func]),handleSize:m.default.arrayOf(m.default.number),lockAspectRatio:m.default.bool,maxConstraints:m.default.arrayOf(m.default.number),minConstraints:m.default.arrayOf(m.default.number),onResizeStop:m.default.func,onResizeStart:m.default.func,onResize:m.default.func,resizeHandles:m.default.arrayOf(m.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:m.default.number,width:function(){for(var P=arguments.length,p=new Array(P),g=0;g<P;g++)p[g]=arguments[g];var w=p[0];if(w.axis==="both"||w.axis==="x"){var x;return(x=m.default.number).isRequired.apply(x,p)}return m.default.number.apply(m.default,p)}};G.resizableProps=M},459069:function(ze,G,C){"use strict";G.__esModule=!0,G.cloneElement=g;var m=R(C(667294));function R(w){return w&&w.__esModule?w:{default:w}}function S(w,x){var y=Object.keys(w);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(w);x&&(T=T.filter(function(E){return Object.getOwnPropertyDescriptor(w,E).enumerable})),y.push.apply(y,T)}return y}function M(w){for(var x=1;x<arguments.length;x++){var y=arguments[x]!=null?arguments[x]:{};x%2?S(Object(y),!0).forEach(function(T){L(w,T,y[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(y)):S(Object(y)).forEach(function(T){Object.defineProperty(w,T,Object.getOwnPropertyDescriptor(y,T))})}return w}function L(w,x,y){return x=P(x),x in w?Object.defineProperty(w,x,{value:y,enumerable:!0,configurable:!0,writable:!0}):w[x]=y,w}function P(w){var x=p(w,"string");return typeof x=="symbol"?x:String(x)}function p(w,x){if(typeof w!="object"||w===null)return w;var y=w[Symbol.toPrimitive];if(y!==void 0){var T=y.call(w,x||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(w)}function g(w,x){return x.style&&w.props.style&&(x.style=M(M({},w.props.style),x.style)),x.className&&w.props.className&&(x.className=w.props.className+" "+x.className),m.default.cloneElement(w,x)}},101706:function(ze,G,C){"use strict";ze.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},ze.exports.Resizable=C(122827).default,ze.exports.ResizableBox=C(808735).default},201314:function(ze,G,C){"use strict";C.d(G,{cd:function(){return Bt}});var m=C(487462),R=C(497326),S=C(894578),M=function(Kt,ue){return Kt===ue};function L($t,Kt){Kt===void 0&&(Kt=M);var ue,Se=[],Pt,Fe=!1,vr=function(Fr,nn){return Kt(Fr,Se[nn])},Tr=function(){for(var Fr=arguments.length,nn=new Array(Fr),an=0;an<Fr;an++)nn[an]=arguments[an];return Fe&&ue===this&&nn.length===Se.length&&nn.every(vr)||(Pt=$t.apply(this,nn),Fe=!0,ue=this,Se=nn),Pt};return Tr}var P=L,p=C(667294),g=typeof performance=="object"&&typeof performance.now=="function",w=g?function(){return performance.now()}:function(){return Date.now()};function x($t){cancelAnimationFrame($t.id)}function y($t,Kt){var ue=w();function Se(){w()-ue>=Kt?$t.call(null):Pt.id=requestAnimationFrame(Se)}var Pt={id:requestAnimationFrame(Se)};return Pt}var T=-1;function E($t){if($t===void 0&&($t=!1),T===-1||$t){var Kt=document.createElement("div"),ue=Kt.style;ue.width="50px",ue.height="50px",ue.overflow="scroll",document.body.appendChild(Kt),T=Kt.offsetWidth-Kt.clientWidth,document.body.removeChild(Kt)}return T}var D=null;function k($t){if($t===void 0&&($t=!1),D===null||$t){var Kt=document.createElement("div"),ue=Kt.style;ue.width="50px",ue.height="50px",ue.overflow="scroll",ue.direction="rtl";var Se=document.createElement("div"),Pt=Se.style;return Pt.width="100px",Pt.height="100px",Kt.appendChild(Se),document.body.appendChild(Kt),Kt.scrollLeft>0?D="positive-descending":(Kt.scrollLeft=1,Kt.scrollLeft===0?D="negative":D="positive-ascending"),document.body.removeChild(Kt),D}return D}var b=150,f=function(Kt){var ue=Kt.columnIndex,Se=Kt.data,Pt=Kt.rowIndex;return Pt+":"+ue},W=null,X=null,z=null;function U($t){var Kt,ue=$t.getColumnOffset,Se=$t.getColumnStartIndexForOffset,Pt=$t.getColumnStopIndexForStartIndex,Fe=$t.getColumnWidth,vr=$t.getEstimatedTotalHeight,Tr=$t.getEstimatedTotalWidth,Or=$t.getOffsetForColumnAndAlignment,Fr=$t.getOffsetForRowAndAlignment,nn=$t.getRowHeight,an=$t.getRowOffset,er=$t.getRowStartIndexForOffset,Rr=$t.getRowStopIndexForStartIndex,qr=$t.initInstanceProps,xr=$t.shouldResetStyleCacheOnItemSizeChange,Gr=$t.validateProps;return Kt=function(Dr){(0,S.Z)(We,Dr);function We(gn){var rr;return rr=Dr.call(this,gn)||this,rr._instanceProps=qr(rr.props,(0,R.Z)(rr)),rr._resetIsScrollingTimeoutId=null,rr._outerRef=void 0,rr.state={instance:(0,R.Z)(rr),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof rr.props.initialScrollLeft=="number"?rr.props.initialScrollLeft:0,scrollTop:typeof rr.props.initialScrollTop=="number"?rr.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},rr._callOnItemsRendered=void 0,rr._callOnItemsRendered=P(function(jr,Nr,kn,on,dn,En,Pn,Nn){return rr.props.onItemsRendered({overscanColumnStartIndex:jr,overscanColumnStopIndex:Nr,overscanRowStartIndex:kn,overscanRowStopIndex:on,visibleColumnStartIndex:dn,visibleColumnStopIndex:En,visibleRowStartIndex:Pn,visibleRowStopIndex:Nn})}),rr._callOnScroll=void 0,rr._callOnScroll=P(function(jr,Nr,kn,on,dn){return rr.props.onScroll({horizontalScrollDirection:kn,scrollLeft:jr,scrollTop:Nr,verticalScrollDirection:on,scrollUpdateWasRequested:dn})}),rr._getItemStyle=void 0,rr._getItemStyle=function(jr,Nr){var kn=rr.props,on=kn.columnWidth,dn=kn.direction,En=kn.rowHeight,Pn=rr._getItemStyleCache(xr&&on,xr&&dn,xr&&En),Nn=jr+":"+Nr,at;if(Pn.hasOwnProperty(Nn))at=Pn[Nn];else{var Xe=ue(rr.props,Nr,rr._instanceProps),Zt=dn==="rtl";Pn[Nn]=at={position:"absolute",left:Zt?void 0:Xe,right:Zt?Xe:void 0,top:an(rr.props,jr,rr._instanceProps),height:nn(rr.props,jr,rr._instanceProps),width:Fe(rr.props,Nr,rr._instanceProps)}}return at},rr._getItemStyleCache=void 0,rr._getItemStyleCache=P(function(jr,Nr,kn){return{}}),rr._onScroll=function(jr){var Nr=jr.currentTarget,kn=Nr.clientHeight,on=Nr.clientWidth,dn=Nr.scrollLeft,En=Nr.scrollTop,Pn=Nr.scrollHeight,Nn=Nr.scrollWidth;rr.setState(function(at){if(at.scrollLeft===dn&&at.scrollTop===En)return null;var Xe=rr.props.direction,Zt=dn;if(Xe==="rtl")switch(k()){case"negative":Zt=-dn;break;case"positive-descending":Zt=Nn-on-dn;break}Zt=Math.max(0,Math.min(Zt,Nn-on));var Qt=Math.max(0,Math.min(En,Pn-kn));return{isScrolling:!0,horizontalScrollDirection:at.scrollLeft<dn?"forward":"backward",scrollLeft:Zt,scrollTop:Qt,verticalScrollDirection:at.scrollTop<En?"forward":"backward",scrollUpdateWasRequested:!1}},rr._resetIsScrollingDebounced)},rr._outerRefSetter=function(jr){var Nr=rr.props.outerRef;rr._outerRef=jr,typeof Nr=="function"?Nr(jr):Nr!=null&&typeof Nr=="object"&&Nr.hasOwnProperty("current")&&(Nr.current=jr)},rr._resetIsScrollingDebounced=function(){rr._resetIsScrollingTimeoutId!==null&&x(rr._resetIsScrollingTimeoutId),rr._resetIsScrollingTimeoutId=y(rr._resetIsScrolling,b)},rr._resetIsScrolling=function(){rr._resetIsScrollingTimeoutId=null,rr.setState({isScrolling:!1},function(){rr._getItemStyleCache(-1)})},rr}We.getDerivedStateFromProps=function(rr,jr){return j(rr,jr),Gr(rr),null};var Je=We.prototype;return Je.scrollTo=function(rr){var jr=rr.scrollLeft,Nr=rr.scrollTop;jr!==void 0&&(jr=Math.max(0,jr)),Nr!==void 0&&(Nr=Math.max(0,Nr)),this.setState(function(kn){return jr===void 0&&(jr=kn.scrollLeft),Nr===void 0&&(Nr=kn.scrollTop),kn.scrollLeft===jr&&kn.scrollTop===Nr?null:{horizontalScrollDirection:kn.scrollLeft<jr?"forward":"backward",scrollLeft:jr,scrollTop:Nr,scrollUpdateWasRequested:!0,verticalScrollDirection:kn.scrollTop<Nr?"forward":"backward"}},this._resetIsScrollingDebounced)},Je.scrollToItem=function(rr){var jr=rr.align,Nr=jr===void 0?"auto":jr,kn=rr.columnIndex,on=rr.rowIndex,dn=this.props,En=dn.columnCount,Pn=dn.height,Nn=dn.rowCount,at=dn.width,Xe=this.state,Zt=Xe.scrollLeft,Qt=Xe.scrollTop,Mt=E();kn!==void 0&&(kn=Math.max(0,Math.min(kn,En-1))),on!==void 0&&(on=Math.max(0,Math.min(on,Nn-1)));var Nt=vr(this.props,this._instanceProps),Ut=Tr(this.props,this._instanceProps),vt=Ut>at?Mt:0,Rt=Nt>Pn?Mt:0;this.scrollTo({scrollLeft:kn!==void 0?Or(this.props,kn,Nr,Zt,this._instanceProps,Rt):Zt,scrollTop:on!==void 0?Fr(this.props,on,Nr,Qt,this._instanceProps,vt):Qt})},Je.componentDidMount=function(){var rr=this.props,jr=rr.initialScrollLeft,Nr=rr.initialScrollTop;if(this._outerRef!=null){var kn=this._outerRef;typeof jr=="number"&&(kn.scrollLeft=jr),typeof Nr=="number"&&(kn.scrollTop=Nr)}this._callPropsCallbacks()},Je.componentDidUpdate=function(){var rr=this.props.direction,jr=this.state,Nr=jr.scrollLeft,kn=jr.scrollTop,on=jr.scrollUpdateWasRequested;if(on&&this._outerRef!=null){var dn=this._outerRef;if(rr==="rtl")switch(k()){case"negative":dn.scrollLeft=-Nr;break;case"positive-ascending":dn.scrollLeft=Nr;break;default:var En=dn.clientWidth,Pn=dn.scrollWidth;dn.scrollLeft=Pn-En-Nr;break}else dn.scrollLeft=Math.max(0,Nr);dn.scrollTop=Math.max(0,kn)}this._callPropsCallbacks()},Je.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&x(this._resetIsScrollingTimeoutId)},Je.render=function(){var rr=this.props,jr=rr.children,Nr=rr.className,kn=rr.columnCount,on=rr.direction,dn=rr.height,En=rr.innerRef,Pn=rr.innerElementType,Nn=rr.innerTagName,at=rr.itemData,Xe=rr.itemKey,Zt=Xe===void 0?f:Xe,Qt=rr.outerElementType,Mt=rr.outerTagName,Nt=rr.rowCount,Ut=rr.style,vt=rr.useIsScrolling,Rt=rr.width,ae=this.state.isScrolling,tt=this._getHorizontalRangeToRender(),ut=tt[0],B=tt[1],O=this._getVerticalRangeToRender(),_=O[0],$=O[1],gt=[];if(kn>0&&Nt)for(var Ft=_;Ft<=$;Ft++)for(var zt=ut;zt<=B;zt++)gt.push((0,p.createElement)(jr,{columnIndex:zt,data:at,isScrolling:vt?ae:void 0,key:Zt({columnIndex:zt,data:at,rowIndex:Ft}),rowIndex:Ft,style:this._getItemStyle(Ft,zt)}));var te=vr(this.props,this._instanceProps),_e=Tr(this.props,this._instanceProps);return(0,p.createElement)(Qt||Mt||"div",{className:Nr,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,m.Z)({position:"relative",height:dn,width:Rt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:on},Ut)},(0,p.createElement)(Pn||Nn||"div",{children:gt,ref:En,style:{height:te,pointerEvents:ae?"none":void 0,width:_e}}))},Je._callPropsCallbacks=function(){var rr=this.props,jr=rr.columnCount,Nr=rr.onItemsRendered,kn=rr.onScroll,on=rr.rowCount;if(typeof Nr=="function"&&jr>0&&on>0){var dn=this._getHorizontalRangeToRender(),En=dn[0],Pn=dn[1],Nn=dn[2],at=dn[3],Xe=this._getVerticalRangeToRender(),Zt=Xe[0],Qt=Xe[1],Mt=Xe[2],Nt=Xe[3];this._callOnItemsRendered(En,Pn,Zt,Qt,Nn,at,Mt,Nt)}if(typeof kn=="function"){var Ut=this.state,vt=Ut.horizontalScrollDirection,Rt=Ut.scrollLeft,ae=Ut.scrollTop,tt=Ut.scrollUpdateWasRequested,ut=Ut.verticalScrollDirection;this._callOnScroll(Rt,ae,vt,ut,tt)}},Je._getHorizontalRangeToRender=function(){var rr=this.props,jr=rr.columnCount,Nr=rr.overscanColumnCount,kn=rr.overscanColumnsCount,on=rr.overscanCount,dn=rr.rowCount,En=this.state,Pn=En.horizontalScrollDirection,Nn=En.isScrolling,at=En.scrollLeft,Xe=Nr||kn||on||1;if(jr===0||dn===0)return[0,0,0,0];var Zt=Se(this.props,at,this._instanceProps),Qt=Pt(this.props,Zt,at,this._instanceProps),Mt=!Nn||Pn==="backward"?Math.max(1,Xe):1,Nt=!Nn||Pn==="forward"?Math.max(1,Xe):1;return[Math.max(0,Zt-Mt),Math.max(0,Math.min(jr-1,Qt+Nt)),Zt,Qt]},Je._getVerticalRangeToRender=function(){var rr=this.props,jr=rr.columnCount,Nr=rr.overscanCount,kn=rr.overscanRowCount,on=rr.overscanRowsCount,dn=rr.rowCount,En=this.state,Pn=En.isScrolling,Nn=En.verticalScrollDirection,at=En.scrollTop,Xe=kn||on||Nr||1;if(jr===0||dn===0)return[0,0,0,0];var Zt=er(this.props,at,this._instanceProps),Qt=Rr(this.props,Zt,at,this._instanceProps),Mt=!Pn||Nn==="backward"?Math.max(1,Xe):1,Nt=!Pn||Nn==="forward"?Math.max(1,Xe):1;return[Math.max(0,Zt-Mt),Math.max(0,Math.min(dn-1,Qt+Nt)),Zt,Qt]},We}(p.PureComponent),Kt.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},Kt}var j=function(Kt,ue){var Se=Kt.children,Pt=Kt.direction,Fe=Kt.height,vr=Kt.innerTagName,Tr=Kt.outerTagName,Or=Kt.overscanColumnsCount,Fr=Kt.overscanCount,nn=Kt.overscanRowsCount,an=Kt.width,er=ue.instance},V=50,J=function(Kt,ue){var Se=Kt.rowCount,Pt=ue.rowMetadataMap,Fe=ue.estimatedRowHeight,vr=ue.lastMeasuredRowIndex,Tr=0;if(vr>=Se&&(vr=Se-1),vr>=0){var Or=Pt[vr];Tr=Or.offset+Or.size}var Fr=Se-vr-1,nn=Fr*Fe;return Tr+nn},q=function(Kt,ue){var Se=Kt.columnCount,Pt=ue.columnMetadataMap,Fe=ue.estimatedColumnWidth,vr=ue.lastMeasuredColumnIndex,Tr=0;if(vr>=Se&&(vr=Se-1),vr>=0){var Or=Pt[vr];Tr=Or.offset+Or.size}var Fr=Se-vr-1,nn=Fr*Fe;return Tr+nn},et=function(Kt,ue,Se,Pt){var Fe,vr,Tr;if(Kt==="column"?(Fe=Pt.columnMetadataMap,vr=ue.columnWidth,Tr=Pt.lastMeasuredColumnIndex):(Fe=Pt.rowMetadataMap,vr=ue.rowHeight,Tr=Pt.lastMeasuredRowIndex),Se>Tr){var Or=0;if(Tr>=0){var Fr=Fe[Tr];Or=Fr.offset+Fr.size}for(var nn=Tr+1;nn<=Se;nn++){var an=vr(nn);Fe[nn]={offset:Or,size:an},Or+=an}Kt==="column"?Pt.lastMeasuredColumnIndex=Se:Pt.lastMeasuredRowIndex=Se}return Fe[Se]},st=function(Kt,ue,Se,Pt){var Fe,vr;Kt==="column"?(Fe=Se.columnMetadataMap,vr=Se.lastMeasuredColumnIndex):(Fe=Se.rowMetadataMap,vr=Se.lastMeasuredRowIndex);var Tr=vr>0?Fe[vr].offset:0;return Tr>=Pt?ot(Kt,ue,Se,vr,0,Pt):mt(Kt,ue,Se,Math.max(0,vr),Pt)},ot=function(Kt,ue,Se,Pt,Fe,vr){for(;Fe<=Pt;){var Tr=Fe+Math.floor((Pt-Fe)/2),Or=et(Kt,ue,Tr,Se).offset;if(Or===vr)return Tr;Or<vr?Fe=Tr+1:Or>vr&&(Pt=Tr-1)}return Fe>0?Fe-1:0},mt=function(Kt,ue,Se,Pt,Fe){for(var vr=Kt==="column"?ue.columnCount:ue.rowCount,Tr=1;Pt<vr&&et(Kt,ue,Pt,Se).offset<Fe;)Pt+=Tr,Tr*=2;return ot(Kt,ue,Se,Math.min(Pt,vr-1),Math.floor(Pt/2),Fe)},ft=function(Kt,ue,Se,Pt,Fe,vr,Tr){var Or=Kt==="column"?ue.width:ue.height,Fr=et(Kt,ue,Se,vr),nn=Kt==="column"?q(ue,vr):J(ue,vr),an=Math.max(0,Math.min(nn-Or,Fr.offset)),er=Math.max(0,Fr.offset-Or+Tr+Fr.size);switch(Pt==="smart"&&(Fe>=er-Or&&Fe<=an+Or?Pt="auto":Pt="center"),Pt){case"start":return an;case"end":return er;case"center":return Math.round(er+(an-er)/2);case"auto":default:return Fe>=er&&Fe<=an?Fe:er>an||Fe<er?er:an}},Bt=U({getColumnOffset:function(Kt,ue,Se){return et("column",Kt,ue,Se).offset},getColumnStartIndexForOffset:function(Kt,ue,Se){return st("column",Kt,Se,ue)},getColumnStopIndexForStartIndex:function(Kt,ue,Se,Pt){for(var Fe=Kt.columnCount,vr=Kt.width,Tr=et("column",Kt,ue,Pt),Or=Se+vr,Fr=Tr.offset+Tr.size,nn=ue;nn<Fe-1&&Fr<Or;)nn++,Fr+=et("column",Kt,nn,Pt).size;return nn},getColumnWidth:function(Kt,ue,Se){return Se.columnMetadataMap[ue].size},getEstimatedTotalHeight:J,getEstimatedTotalWidth:q,getOffsetForColumnAndAlignment:function(Kt,ue,Se,Pt,Fe,vr){return ft("column",Kt,ue,Se,Pt,Fe,vr)},getOffsetForRowAndAlignment:function(Kt,ue,Se,Pt,Fe,vr){return ft("row",Kt,ue,Se,Pt,Fe,vr)},getRowOffset:function(Kt,ue,Se){return et("row",Kt,ue,Se).offset},getRowHeight:function(Kt,ue,Se){return Se.rowMetadataMap[ue].size},getRowStartIndexForOffset:function(Kt,ue,Se){return st("row",Kt,Se,ue)},getRowStopIndexForStartIndex:function(Kt,ue,Se,Pt){for(var Fe=Kt.rowCount,vr=Kt.height,Tr=et("row",Kt,ue,Pt),Or=Se+vr,Fr=Tr.offset+Tr.size,nn=ue;nn<Fe-1&&Fr<Or;)nn++,Fr+=et("row",Kt,nn,Pt).size;return nn},initInstanceProps:function(Kt,ue){var Se=Kt,Pt=Se.estimatedColumnWidth,Fe=Se.estimatedRowHeight,vr={columnMetadataMap:{},estimatedColumnWidth:Pt||V,estimatedRowHeight:Fe||V,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return ue.resetAfterColumnIndex=function(Tr,Or){Or===void 0&&(Or=!0),ue.resetAfterIndices({columnIndex:Tr,shouldForceUpdate:Or})},ue.resetAfterRowIndex=function(Tr,Or){Or===void 0&&(Or=!0),ue.resetAfterIndices({rowIndex:Tr,shouldForceUpdate:Or})},ue.resetAfterIndices=function(Tr){var Or=Tr.columnIndex,Fr=Tr.rowIndex,nn=Tr.shouldForceUpdate,an=nn===void 0?!0:nn;typeof Or=="number"&&(vr.lastMeasuredColumnIndex=Math.min(vr.lastMeasuredColumnIndex,Or-1)),typeof Fr=="number"&&(vr.lastMeasuredRowIndex=Math.min(vr.lastMeasuredRowIndex,Fr-1)),ue._getItemStyleCache(-1),an&&ue.forceUpdate()},vr},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(Kt){var ue=Kt.columnWidth,Se=Kt.rowHeight}}),St=150,wt=function(Kt,ue){return Kt},H=null,Q=null;function bt($t){var Kt,ue=$t.getItemOffset,Se=$t.getEstimatedTotalSize,Pt=$t.getItemSize,Fe=$t.getOffsetForIndexAndAlignment,vr=$t.getStartIndexForOffset,Tr=$t.getStopIndexForStartIndex,Or=$t.initInstanceProps,Fr=$t.shouldResetStyleCacheOnItemSizeChange,nn=$t.validateProps;return Kt=function(an){(0,S.Z)(er,an);function er(qr){var xr;return xr=an.call(this,qr)||this,xr._instanceProps=Or(xr.props,(0,R.Z)(xr)),xr._outerRef=void 0,xr._resetIsScrollingTimeoutId=null,xr.state={instance:(0,R.Z)(xr),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof xr.props.initialScrollOffset=="number"?xr.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},xr._callOnItemsRendered=void 0,xr._callOnItemsRendered=P(function(Gr,Dr,We,Je){return xr.props.onItemsRendered({overscanStartIndex:Gr,overscanStopIndex:Dr,visibleStartIndex:We,visibleStopIndex:Je})}),xr._callOnScroll=void 0,xr._callOnScroll=P(function(Gr,Dr,We){return xr.props.onScroll({scrollDirection:Gr,scrollOffset:Dr,scrollUpdateWasRequested:We})}),xr._getItemStyle=void 0,xr._getItemStyle=function(Gr){var Dr=xr.props,We=Dr.direction,Je=Dr.itemSize,gn=Dr.layout,rr=xr._getItemStyleCache(Fr&&Je,Fr&&gn,Fr&&We),jr;if(rr.hasOwnProperty(Gr))jr=rr[Gr];else{var Nr=ue(xr.props,Gr,xr._instanceProps),kn=Pt(xr.props,Gr,xr._instanceProps),on=We==="horizontal"||gn==="horizontal",dn=We==="rtl",En=on?Nr:0;rr[Gr]=jr={position:"absolute",left:dn?void 0:En,right:dn?En:void 0,top:on?0:Nr,height:on?"100%":kn,width:on?kn:"100%"}}return jr},xr._getItemStyleCache=void 0,xr._getItemStyleCache=P(function(Gr,Dr,We){return{}}),xr._onScrollHorizontal=function(Gr){var Dr=Gr.currentTarget,We=Dr.clientWidth,Je=Dr.scrollLeft,gn=Dr.scrollWidth;xr.setState(function(rr){if(rr.scrollOffset===Je)return null;var jr=xr.props.direction,Nr=Je;if(jr==="rtl")switch(k()){case"negative":Nr=-Je;break;case"positive-descending":Nr=gn-We-Je;break}return Nr=Math.max(0,Math.min(Nr,gn-We)),{isScrolling:!0,scrollDirection:rr.scrollOffset<Je?"forward":"backward",scrollOffset:Nr,scrollUpdateWasRequested:!1}},xr._resetIsScrollingDebounced)},xr._onScrollVertical=function(Gr){var Dr=Gr.currentTarget,We=Dr.clientHeight,Je=Dr.scrollHeight,gn=Dr.scrollTop;xr.setState(function(rr){if(rr.scrollOffset===gn)return null;var jr=Math.max(0,Math.min(gn,Je-We));return{isScrolling:!0,scrollDirection:rr.scrollOffset<jr?"forward":"backward",scrollOffset:jr,scrollUpdateWasRequested:!1}},xr._resetIsScrollingDebounced)},xr._outerRefSetter=function(Gr){var Dr=xr.props.outerRef;xr._outerRef=Gr,typeof Dr=="function"?Dr(Gr):Dr!=null&&typeof Dr=="object"&&Dr.hasOwnProperty("current")&&(Dr.current=Gr)},xr._resetIsScrollingDebounced=function(){xr._resetIsScrollingTimeoutId!==null&&x(xr._resetIsScrollingTimeoutId),xr._resetIsScrollingTimeoutId=y(xr._resetIsScrolling,St)},xr._resetIsScrolling=function(){xr._resetIsScrollingTimeoutId=null,xr.setState({isScrolling:!1},function(){xr._getItemStyleCache(-1,null)})},xr}er.getDerivedStateFromProps=function(xr,Gr){return Ct(xr,Gr),nn(xr),null};var Rr=er.prototype;return Rr.scrollTo=function(xr){xr=Math.max(0,xr),this.setState(function(Gr){return Gr.scrollOffset===xr?null:{scrollDirection:Gr.scrollOffset<xr?"forward":"backward",scrollOffset:xr,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},Rr.scrollToItem=function(xr,Gr){Gr===void 0&&(Gr="auto");var Dr=this.props,We=Dr.itemCount,Je=Dr.layout,gn=this.state.scrollOffset;xr=Math.max(0,Math.min(xr,We-1));var rr=0;if(this._outerRef){var jr=this._outerRef;Je==="vertical"?rr=jr.scrollWidth>jr.clientWidth?E():0:rr=jr.scrollHeight>jr.clientHeight?E():0}this.scrollTo(Fe(this.props,xr,Gr,gn,this._instanceProps,rr))},Rr.componentDidMount=function(){var xr=this.props,Gr=xr.direction,Dr=xr.initialScrollOffset,We=xr.layout;if(typeof Dr=="number"&&this._outerRef!=null){var Je=this._outerRef;Gr==="horizontal"||We==="horizontal"?Je.scrollLeft=Dr:Je.scrollTop=Dr}this._callPropsCallbacks()},Rr.componentDidUpdate=function(){var xr=this.props,Gr=xr.direction,Dr=xr.layout,We=this.state,Je=We.scrollOffset,gn=We.scrollUpdateWasRequested;if(gn&&this._outerRef!=null){var rr=this._outerRef;if(Gr==="horizontal"||Dr==="horizontal")if(Gr==="rtl")switch(k()){case"negative":rr.scrollLeft=-Je;break;case"positive-ascending":rr.scrollLeft=Je;break;default:var jr=rr.clientWidth,Nr=rr.scrollWidth;rr.scrollLeft=Nr-jr-Je;break}else rr.scrollLeft=Je;else rr.scrollTop=Je}this._callPropsCallbacks()},Rr.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&x(this._resetIsScrollingTimeoutId)},Rr.render=function(){var xr=this.props,Gr=xr.children,Dr=xr.className,We=xr.direction,Je=xr.height,gn=xr.innerRef,rr=xr.innerElementType,jr=xr.innerTagName,Nr=xr.itemCount,kn=xr.itemData,on=xr.itemKey,dn=on===void 0?wt:on,En=xr.layout,Pn=xr.outerElementType,Nn=xr.outerTagName,at=xr.style,Xe=xr.useIsScrolling,Zt=xr.width,Qt=this.state.isScrolling,Mt=We==="horizontal"||En==="horizontal",Nt=Mt?this._onScrollHorizontal:this._onScrollVertical,Ut=this._getRangeToRender(),vt=Ut[0],Rt=Ut[1],ae=[];if(Nr>0)for(var tt=vt;tt<=Rt;tt++)ae.push((0,p.createElement)(Gr,{data:kn,key:dn(tt,kn),index:tt,isScrolling:Xe?Qt:void 0,style:this._getItemStyle(tt)}));var ut=Se(this.props,this._instanceProps);return(0,p.createElement)(Pn||Nn||"div",{className:Dr,onScroll:Nt,ref:this._outerRefSetter,style:(0,m.Z)({position:"relative",height:Je,width:Zt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:We},at)},(0,p.createElement)(rr||jr||"div",{children:ae,ref:gn,style:{height:Mt?"100%":ut,pointerEvents:Qt?"none":void 0,width:Mt?ut:"100%"}}))},Rr._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var xr=this.props.itemCount;if(xr>0){var Gr=this._getRangeToRender(),Dr=Gr[0],We=Gr[1],Je=Gr[2],gn=Gr[3];this._callOnItemsRendered(Dr,We,Je,gn)}}if(typeof this.props.onScroll=="function"){var rr=this.state,jr=rr.scrollDirection,Nr=rr.scrollOffset,kn=rr.scrollUpdateWasRequested;this._callOnScroll(jr,Nr,kn)}},Rr._getRangeToRender=function(){var xr=this.props,Gr=xr.itemCount,Dr=xr.overscanCount,We=this.state,Je=We.isScrolling,gn=We.scrollDirection,rr=We.scrollOffset;if(Gr===0)return[0,0,0,0];var jr=vr(this.props,rr,this._instanceProps),Nr=Tr(this.props,jr,rr,this._instanceProps),kn=!Je||gn==="backward"?Math.max(1,Dr):1,on=!Je||gn==="forward"?Math.max(1,Dr):1;return[Math.max(0,jr-kn),Math.max(0,Math.min(Gr-1,Nr+on)),jr,Nr]},er}(p.PureComponent),Kt.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},Kt}var Ct=function(Kt,ue){var Se=Kt.children,Pt=Kt.direction,Fe=Kt.height,vr=Kt.layout,Tr=Kt.innerTagName,Or=Kt.outerTagName,Fr=Kt.width,nn=ue.instance;if(!1)var an},nt=50,dt=function(Kt,ue,Se){var Pt=Kt,Fe=Pt.itemSize,vr=Se.itemMetadataMap,Tr=Se.lastMeasuredIndex;if(ue>Tr){var Or=0;if(Tr>=0){var Fr=vr[Tr];Or=Fr.offset+Fr.size}for(var nn=Tr+1;nn<=ue;nn++){var an=Fe(nn);vr[nn]={offset:Or,size:an},Or+=an}Se.lastMeasuredIndex=ue}return vr[ue]},Tt=function(Kt,ue,Se){var Pt=ue.itemMetadataMap,Fe=ue.lastMeasuredIndex,vr=Fe>0?Pt[Fe].offset:0;return vr>=Se?At(Kt,ue,Fe,0,Se):xt(Kt,ue,Math.max(0,Fe),Se)},At=function(Kt,ue,Se,Pt,Fe){for(;Pt<=Se;){var vr=Pt+Math.floor((Se-Pt)/2),Tr=dt(Kt,vr,ue).offset;if(Tr===Fe)return vr;Tr<Fe?Pt=vr+1:Tr>Fe&&(Se=vr-1)}return Pt>0?Pt-1:0},xt=function(Kt,ue,Se,Pt){for(var Fe=Kt.itemCount,vr=1;Se<Fe&&dt(Kt,Se,ue).offset<Pt;)Se+=vr,vr*=2;return At(Kt,ue,Math.min(Se,Fe-1),Math.floor(Se/2),Pt)},Dt=function(Kt,ue){var Se=Kt.itemCount,Pt=ue.itemMetadataMap,Fe=ue.estimatedItemSize,vr=ue.lastMeasuredIndex,Tr=0;if(vr>=Se&&(vr=Se-1),vr>=0){var Or=Pt[vr];Tr=Or.offset+Or.size}var Fr=Se-vr-1,nn=Fr*Fe;return Tr+nn},Ht=bt({getItemOffset:function(Kt,ue,Se){return dt(Kt,ue,Se).offset},getItemSize:function(Kt,ue,Se){return Se.itemMetadataMap[ue].size},getEstimatedTotalSize:Dt,getOffsetForIndexAndAlignment:function(Kt,ue,Se,Pt,Fe,vr){var Tr=Kt.direction,Or=Kt.height,Fr=Kt.layout,nn=Kt.width,an=Tr==="horizontal"||Fr==="horizontal",er=an?nn:Or,Rr=dt(Kt,ue,Fe),qr=Dt(Kt,Fe),xr=Math.max(0,Math.min(qr-er,Rr.offset)),Gr=Math.max(0,Rr.offset-er+Rr.size+vr);switch(Se==="smart"&&(Pt>=Gr-er&&Pt<=xr+er?Se="auto":Se="center"),Se){case"start":return xr;case"end":return Gr;case"center":return Math.round(Gr+(xr-Gr)/2);case"auto":default:return Pt>=Gr&&Pt<=xr?Pt:Pt<Gr?Gr:xr}},getStartIndexForOffset:function(Kt,ue,Se){return Tt(Kt,Se,ue)},getStopIndexForStartIndex:function(Kt,ue,Se,Pt){for(var Fe=Kt.direction,vr=Kt.height,Tr=Kt.itemCount,Or=Kt.layout,Fr=Kt.width,nn=Fe==="horizontal"||Or==="horizontal",an=nn?Fr:vr,er=dt(Kt,ue,Pt),Rr=Se+an,qr=er.offset+er.size,xr=ue;xr<Tr-1&&qr<Rr;)xr++,qr+=dt(Kt,xr,Pt).size;return xr},initInstanceProps:function(Kt,ue){var Se=Kt,Pt=Se.estimatedItemSize,Fe={itemMetadataMap:{},estimatedItemSize:Pt||nt,lastMeasuredIndex:-1};return ue.resetAfterIndex=function(vr,Tr){Tr===void 0&&(Tr=!0),Fe.lastMeasuredIndex=Math.min(Fe.lastMeasuredIndex,vr-1),ue._getItemStyleCache(-1),Tr&&ue.forceUpdate()},Fe},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(Kt){var ue=Kt.itemSize}}),se=U({getColumnOffset:function(Kt,ue){var Se=Kt.columnWidth;return ue*Se},getColumnWidth:function(Kt,ue){var Se=Kt.columnWidth;return Se},getRowOffset:function(Kt,ue){var Se=Kt.rowHeight;return ue*Se},getRowHeight:function(Kt,ue){var Se=Kt.rowHeight;return Se},getEstimatedTotalHeight:function(Kt){var ue=Kt.rowCount,Se=Kt.rowHeight;return Se*ue},getEstimatedTotalWidth:function(Kt){var ue=Kt.columnCount,Se=Kt.columnWidth;return Se*ue},getOffsetForColumnAndAlignment:function(Kt,ue,Se,Pt,Fe,vr){var Tr=Kt.columnCount,Or=Kt.columnWidth,Fr=Kt.width,nn=Math.max(0,Tr*Or-Fr),an=Math.min(nn,ue*Or),er=Math.max(0,ue*Or-Fr+vr+Or);switch(Se==="smart"&&(Pt>=er-Fr&&Pt<=an+Fr?Se="auto":Se="center"),Se){case"start":return an;case"end":return er;case"center":var Rr=Math.round(er+(an-er)/2);return Rr<Math.ceil(Fr/2)?0:Rr>nn+Math.floor(Fr/2)?nn:Rr;case"auto":default:return Pt>=er&&Pt<=an?Pt:er>an||Pt<er?er:an}},getOffsetForRowAndAlignment:function(Kt,ue,Se,Pt,Fe,vr){var Tr=Kt.rowHeight,Or=Kt.height,Fr=Kt.rowCount,nn=Math.max(0,Fr*Tr-Or),an=Math.min(nn,ue*Tr),er=Math.max(0,ue*Tr-Or+vr+Tr);switch(Se==="smart"&&(Pt>=er-Or&&Pt<=an+Or?Se="auto":Se="center"),Se){case"start":return an;case"end":return er;case"center":var Rr=Math.round(er+(an-er)/2);return Rr<Math.ceil(Or/2)?0:Rr>nn+Math.floor(Or/2)?nn:Rr;case"auto":default:return Pt>=er&&Pt<=an?Pt:er>an||Pt<er?er:an}},getColumnStartIndexForOffset:function(Kt,ue){var Se=Kt.columnWidth,Pt=Kt.columnCount;return Math.max(0,Math.min(Pt-1,Math.floor(ue/Se)))},getColumnStopIndexForStartIndex:function(Kt,ue,Se){var Pt=Kt.columnWidth,Fe=Kt.columnCount,vr=Kt.width,Tr=ue*Pt,Or=Math.ceil((vr+Se-Tr)/Pt);return Math.max(0,Math.min(Fe-1,ue+Or-1))},getRowStartIndexForOffset:function(Kt,ue){var Se=Kt.rowHeight,Pt=Kt.rowCount;return Math.max(0,Math.min(Pt-1,Math.floor(ue/Se)))},getRowStopIndexForStartIndex:function(Kt,ue,Se){var Pt=Kt.rowHeight,Fe=Kt.rowCount,vr=Kt.height,Tr=ue*Pt,Or=Math.ceil((vr+Se-Tr)/Pt);return Math.max(0,Math.min(Fe-1,ue+Or-1))},initInstanceProps:function(Kt){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(Kt){var ue=Kt.columnWidth,Se=Kt.rowHeight}}),re=bt({getItemOffset:function(Kt,ue){var Se=Kt.itemSize;return ue*Se},getItemSize:function(Kt,ue){var Se=Kt.itemSize;return Se},getEstimatedTotalSize:function(Kt){var ue=Kt.itemCount,Se=Kt.itemSize;return Se*ue},getOffsetForIndexAndAlignment:function(Kt,ue,Se,Pt,Fe,vr){var Tr=Kt.direction,Or=Kt.height,Fr=Kt.itemCount,nn=Kt.itemSize,an=Kt.layout,er=Kt.width,Rr=Tr==="horizontal"||an==="horizontal",qr=Rr?er:Or,xr=Math.max(0,Fr*nn-qr),Gr=Math.min(xr,ue*nn),Dr=Math.max(0,ue*nn-qr+nn+vr);switch(Se==="smart"&&(Pt>=Dr-qr&&Pt<=Gr+qr?Se="auto":Se="center"),Se){case"start":return Gr;case"end":return Dr;case"center":{var We=Math.round(Dr+(Gr-Dr)/2);return We<Math.ceil(qr/2)?0:We>xr+Math.floor(qr/2)?xr:We}case"auto":default:return Pt>=Dr&&Pt<=Gr?Pt:Pt<Dr?Dr:Gr}},getStartIndexForOffset:function(Kt,ue){var Se=Kt.itemCount,Pt=Kt.itemSize;return Math.max(0,Math.min(Se-1,Math.floor(ue/Pt)))},getStopIndexForStartIndex:function(Kt,ue,Se){var Pt=Kt.direction,Fe=Kt.height,vr=Kt.itemCount,Tr=Kt.itemSize,Or=Kt.layout,Fr=Kt.width,nn=Pt==="horizontal"||Or==="horizontal",an=ue*Tr,er=nn?Fr:Fe,Rr=Math.ceil((er+Se-an)/Tr);return Math.max(0,Math.min(vr-1,ue+Rr-1))},initInstanceProps:function(Kt){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(Kt){var ue=Kt.itemSize}});function It($t,Kt){for(var ue in $t)if(!(ue in Kt))return!0;for(var Se in Kt)if($t[Se]!==Kt[Se])return!0;return!1}var ne=null,pe=null;function Wt($t,Kt){var ue=$t.style,Se=_objectWithoutPropertiesLoose($t,ne),Pt=Kt.style,Fe=_objectWithoutPropertiesLoose(Kt,pe);return!It(ue,Pt)&&!It(Se,Fe)}function Jt($t,Kt){return!Wt(this.props,$t)||It(this.state,Kt)}},675251:function(ze,G,C){"use strict";var m=C(667294),R=Symbol.for("react.element"),S=Symbol.for("react.fragment"),M=Object.prototype.hasOwnProperty,L=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P={key:!0,ref:!0,__self:!0,__source:!0};function p(g,w,x){var y,T={},E=null,D=null;x!==void 0&&(E=""+x),w.key!==void 0&&(E=""+w.key),w.ref!==void 0&&(D=w.ref);for(y in w)M.call(w,y)&&!P.hasOwnProperty(y)&&(T[y]=w[y]);if(g&&g.defaultProps)for(y in w=g.defaultProps,w)T[y]===void 0&&(T[y]=w[y]);return{$$typeof:R,type:g,key:E,ref:D,props:T,_owner:L.current}}G.Fragment=S,G.jsx=p,G.jsxs=p},785893:function(ze,G,C){"use strict";ze.exports=C(675251)},481550:function(ze){(function(G,C){ze.exports=C()})(this,function(){"use strict";var G=function(Lt){return Lt instanceof Uint8Array||Lt instanceof Uint16Array||Lt instanceof Uint32Array||Lt instanceof Int8Array||Lt instanceof Int16Array||Lt instanceof Int32Array||Lt instanceof Float32Array||Lt instanceof Float64Array||Lt instanceof Uint8ClampedArray},C=function(Lt,we){for(var Ge=Object.keys(we),Pr=0;Pr<Ge.length;++Pr)Lt[Ge[Pr]]=we[Ge[Pr]];return Lt},m=`
`;function R(Lt){return typeof atob!="undefined"?atob(Lt):"base64:"+Lt}function S(Lt){var we=new Error("(regl) "+Lt);throw console.error(we),we}function M(Lt,we){Lt||S(we)}function L(Lt){return Lt?": "+Lt:""}function P(Lt,we,Ge){Lt in we||S("unknown parameter ("+Lt+")"+L(Ge)+". possible values: "+Object.keys(we).join())}function p(Lt,we){G(Lt)||S("invalid parameter type"+L(we)+". must be a typed array")}function g(Lt,we){switch(we){case"number":return typeof Lt=="number";case"object":return typeof Lt=="object";case"string":return typeof Lt=="string";case"boolean":return typeof Lt=="boolean";case"function":return typeof Lt=="function";case"undefined":return typeof Lt=="undefined";case"symbol":return typeof Lt=="symbol"}}function w(Lt,we,Ge){g(Lt,we)||S("invalid parameter type"+L(Ge)+". expected "+we+", got "+typeof Lt)}function x(Lt,we){Lt>=0&&(Lt|0)===Lt||S("invalid parameter type, ("+Lt+")"+L(we)+". must be a nonnegative integer")}function y(Lt,we,Ge){we.indexOf(Lt)<0&&S("invalid value"+L(Ge)+". must be one of: "+we)}var T=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function E(Lt){Object.keys(Lt).forEach(function(we){T.indexOf(we)<0&&S('invalid regl constructor argument "'+we+'". must be one of '+T)})}function D(Lt,we){for(Lt=Lt+"";Lt.length<we;)Lt=" "+Lt;return Lt}function k(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function b(Lt,we){this.number=Lt,this.line=we,this.errors=[]}function f(Lt,we,Ge){this.file=Lt,this.line=we,this.message=Ge}function W(){var Lt=new Error,we=(Lt.stack||Lt).toString(),Ge=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(we);if(Ge)return Ge[1];var Pr=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(we);return Pr?Pr[1]:"unknown"}function X(){var Lt=new Error,we=(Lt.stack||Lt).toString(),Ge=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(we);if(Ge)return Ge[1];var Pr=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(we);return Pr?Pr[1]:"unknown"}function z(Lt,we){var Ge=Lt.split(`
`),Pr=1,Jr=0,Ir={unknown:new k,0:new k};Ir.unknown.name=Ir[0].name=we||W(),Ir.unknown.lines.push(new b(0,""));for(var Ur=0;Ur<Ge.length;++Ur){var vn=Ge[Ur],yn=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(vn);if(yn)switch(yn[1]){case"line":var wn=/(\d+)(\s+\d+)?/.exec(yn[2]);wn&&(Pr=wn[1]|0,wn[2]&&(Jr=wn[2]|0,Jr in Ir||(Ir[Jr]=new k)));break;case"define":var bn=/SHADER_NAME(_B64)?\s+(.*)$/.exec(yn[2]);bn&&(Ir[Jr].name=bn[1]?R(bn[2]):bn[2]);break}Ir[Jr].lines.push(new b(Pr++,vn))}return Object.keys(Ir).forEach(function(_n){var v=Ir[_n];v.lines.forEach(function(N){v.index[N.number]=N})}),Ir}function U(Lt){var we=[];return Lt.split(`
`).forEach(function(Ge){if(!(Ge.length<5)){var Pr=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Ge);Pr?we.push(new f(Pr[1]|0,Pr[2]|0,Pr[3].trim())):Ge.length>0&&we.push(new f("unknown",0,Ge))}}),we}function j(Lt,we){we.forEach(function(Ge){var Pr=Lt[Ge.file];if(Pr){var Jr=Pr.index[Ge.line];if(Jr){Jr.errors.push(Ge),Pr.hasErrors=!0;return}}Lt.unknown.hasErrors=!0,Lt.unknown.lines[0].errors.push(Ge)})}function V(Lt,we,Ge,Pr,Jr){if(!Lt.getShaderParameter(we,Lt.COMPILE_STATUS)){var Ir=Lt.getShaderInfoLog(we),Ur=Pr===Lt.FRAGMENT_SHADER?"fragment":"vertex";ft(Ge,"string",Ur+" shader source must be a string",Jr);var vn=z(Ge,Jr),yn=U(Ir);j(vn,yn),Object.keys(vn).forEach(function(wn){var bn=vn[wn];if(!bn.hasErrors)return;var _n=[""],v=[""];function N(K,it){_n.push(K),v.push(it||"")}N("file number "+wn+": "+bn.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),bn.lines.forEach(function(K){if(K.errors.length>0){N(D(K.number,4)+"|  ","background-color:yellow; font-weight:bold"),N(K.line+m,"color:red; background-color:yellow; font-weight:bold");var it=0;K.errors.forEach(function(ht){var yt=ht.message,Ot=/^\s*'(.*)'\s*:\s*(.*)$/.exec(yt);if(Ot){var kt=Ot[1];switch(yt=Ot[2],kt){case"assign":kt="=";break}it=Math.max(K.line.indexOf(kt,it),0)}else it=0;N(D("| ",6)),N(D("^^^",it+3)+m,"font-weight:bold"),N(D("| ",6)),N(yt+m,"font-weight:bold")}),N(D("| ",6)+m)}else N(D(K.number,4)+"|  "),N(K.line+m,"color:red")}),typeof document!="undefined"&&!window.chrome?(v[0]=_n.join("%c"),console.log.apply(console,v)):console.log(_n.join(""))}),M.raise("Error compiling "+Ur+" shader, "+vn[0].name)}}function J(Lt,we,Ge,Pr,Jr){if(!Lt.getProgramParameter(we,Lt.LINK_STATUS)){var Ir=Lt.getProgramInfoLog(we),Ur=z(Ge,Jr),vn=z(Pr,Jr),yn='Error linking program with vertex shader, "'+vn[0].name+'", and fragment shader "'+Ur[0].name+'"';typeof document!="undefined"?console.log("%c"+yn+m+"%c"+Ir,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(yn+m+Ir),M.raise(yn)}}function q(Lt){Lt._commandRef=W()}function et(Lt,we,Ge,Pr){q(Lt);function Jr(yn){return yn?Pr.id(yn):0}Lt._fragId=Jr(Lt.static.frag),Lt._vertId=Jr(Lt.static.vert);function Ir(yn,wn){Object.keys(wn).forEach(function(bn){yn[Pr.id(bn)]=!0})}var Ur=Lt._uniformSet={};Ir(Ur,we.static),Ir(Ur,we.dynamic);var vn=Lt._attributeSet={};Ir(vn,Ge.static),Ir(vn,Ge.dynamic),Lt._hasCount="count"in Lt.static||"count"in Lt.dynamic||"elements"in Lt.static||"elements"in Lt.dynamic}function st(Lt,we){var Ge=X();S(Lt+" in command "+(we||W())+(Ge==="unknown"?"":" called from "+Ge))}function ot(Lt,we,Ge){Lt||st(we,Ge||W())}function mt(Lt,we,Ge,Pr){Lt in we||st("unknown parameter ("+Lt+")"+L(Ge)+". possible values: "+Object.keys(we).join(),Pr||W())}function ft(Lt,we,Ge,Pr){g(Lt,we)||st("invalid parameter type"+L(Ge)+". expected "+we+", got "+typeof Lt,Pr||W())}function Bt(Lt){Lt()}function St(Lt,we,Ge){Lt.texture?y(Lt.texture._texture.internalformat,we,"unsupported texture format for attachment"):y(Lt.renderbuffer._renderbuffer.format,Ge,"unsupported renderbuffer format for attachment")}var wt=33071,H=9728,Q=9984,bt=9985,Ct=9986,nt=9987,dt=5120,Tt=5121,At=5122,xt=5123,Dt=5124,Ht=5125,se=5126,re=32819,It=32820,ne=33635,pe=34042,Wt=36193,Jt={};Jt[dt]=Jt[Tt]=1,Jt[At]=Jt[xt]=Jt[Wt]=Jt[ne]=Jt[re]=Jt[It]=2,Jt[Dt]=Jt[Ht]=Jt[se]=Jt[pe]=4;function $t(Lt,we){return Lt===It||Lt===re||Lt===ne?2:Lt===pe?4:Jt[Lt]*we}function Kt(Lt){return!(Lt&Lt-1)&&!!Lt}function ue(Lt,we,Ge){var Pr,Jr=we.width,Ir=we.height,Ur=we.channels;M(Jr>0&&Jr<=Ge.maxTextureSize&&Ir>0&&Ir<=Ge.maxTextureSize,"invalid texture shape"),(Lt.wrapS!==wt||Lt.wrapT!==wt)&&M(Kt(Jr)&&Kt(Ir),"incompatible wrap mode for texture, both width and height must be power of 2"),we.mipmask===1?Jr!==1&&Ir!==1&&M(Lt.minFilter!==Q&&Lt.minFilter!==Ct&&Lt.minFilter!==bt&&Lt.minFilter!==nt,"min filter requires mipmap"):(M(Kt(Jr)&&Kt(Ir),"texture must be a square power of 2 to support mipmapping"),M(we.mipmask===(Jr<<1)-1,"missing or incomplete mipmap data")),we.type===se&&(Ge.extensions.indexOf("oes_texture_float_linear")<0&&M(Lt.minFilter===H&&Lt.magFilter===H,"filter not supported, must enable oes_texture_float_linear"),M(!Lt.genMipmaps,"mipmap generation not supported with float textures"));var vn=we.images;for(Pr=0;Pr<16;++Pr)if(vn[Pr]){var yn=Jr>>Pr,wn=Ir>>Pr;M(we.mipmask&1<<Pr,"missing mipmap data");var bn=vn[Pr];if(M(bn.width===yn&&bn.height===wn,"invalid shape for mip images"),M(bn.format===we.format&&bn.internalformat===we.internalformat&&bn.type===we.type,"incompatible type for mip image"),!bn.compressed)if(bn.data){var _n=Math.ceil($t(bn.type,Ur)*yn/bn.unpackAlignment)*bn.unpackAlignment;M(bn.data.byteLength===_n*wn,"invalid data for image, buffer size is inconsistent with image format")}else bn.element||bn.copy}else Lt.genMipmaps||M((we.mipmask&1<<Pr)===0,"extra mipmap data");we.compressed&&M(!Lt.genMipmaps,"mipmap generation for compressed images not supported")}function Se(Lt,we,Ge,Pr){var Jr=Lt.width,Ir=Lt.height,Ur=Lt.channels;M(Jr>0&&Jr<=Pr.maxTextureSize&&Ir>0&&Ir<=Pr.maxTextureSize,"invalid texture shape"),M(Jr===Ir,"cube map must be square"),M(we.wrapS===wt&&we.wrapT===wt,"wrap mode not supported by cube map");for(var vn=0;vn<Ge.length;++vn){var yn=Ge[vn];M(yn.width===Jr&&yn.height===Ir,"inconsistent cube map face shape"),we.genMipmaps&&(M(!yn.compressed,"can not generate mipmap for compressed textures"),M(yn.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var wn=yn.images,bn=0;bn<16;++bn){var _n=wn[bn];if(_n){var v=Jr>>bn,N=Ir>>bn;M(yn.mipmask&1<<bn,"missing mipmap data"),M(_n.width===v&&_n.height===N,"invalid shape for mip images"),M(_n.format===Lt.format&&_n.internalformat===Lt.internalformat&&_n.type===Lt.type,"incompatible type for mip image"),_n.compressed||(_n.data?M(_n.data.byteLength===v*N*Math.max($t(_n.type,Ur),_n.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):_n.element||_n.copy)}}}}var Pt=C(M,{optional:Bt,raise:S,commandRaise:st,command:ot,parameter:P,commandParameter:mt,constructor:E,type:w,commandType:ft,isTypedArray:p,nni:x,oneOf:y,shaderError:V,linkError:J,callSite:X,saveCommandRef:q,saveDrawInfo:et,framebufferFormat:St,guessCommand:W,texture2D:ue,textureCube:Se}),Fe=0,vr=0,Tr=5,Or=6;function Fr(Lt,we){this.id=Fe++,this.type=Lt,this.data=we}function nn(Lt){return Lt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function an(Lt){if(Lt.length===0)return[];var we=Lt.charAt(0),Ge=Lt.charAt(Lt.length-1);if(Lt.length>1&&we===Ge&&(we==='"'||we==="'"))return['"'+nn(Lt.substr(1,Lt.length-2))+'"'];var Pr=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Lt);if(Pr)return an(Lt.substr(0,Pr.index)).concat(an(Pr[1])).concat(an(Lt.substr(Pr.index+Pr[0].length)));var Jr=Lt.split(".");if(Jr.length===1)return['"'+nn(Lt)+'"'];for(var Ir=[],Ur=0;Ur<Jr.length;++Ur)Ir=Ir.concat(an(Jr[Ur]));return Ir}function er(Lt){return"["+an(Lt).join("][")+"]"}function Rr(Lt,we){return new Fr(Lt,er(we+""))}function qr(Lt){return typeof Lt=="function"&&!Lt._reglType||Lt instanceof Fr}function xr(Lt,we){if(typeof Lt=="function")return new Fr(vr,Lt);if(typeof Lt=="number"||typeof Lt=="boolean")return new Fr(Tr,Lt);if(Array.isArray(Lt))return new Fr(Or,Lt.map((Ge,Pr)=>xr(Ge,we+"["+Pr+"]")));if(Lt instanceof Fr)return Lt;Pt(!1,"invalid option type in uniform "+we)}var Gr={DynamicVariable:Fr,define:Rr,isDynamic:qr,unbox:xr,accessor:er},Dr={next:typeof requestAnimationFrame=="function"?function(Lt){return requestAnimationFrame(Lt)}:function(Lt){return setTimeout(Lt,16)},cancel:typeof cancelAnimationFrame=="function"?function(Lt){return cancelAnimationFrame(Lt)}:clearTimeout},We=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Je(){var Lt={"":0},we=[""];return{id:function(Ge){var Pr=Lt[Ge];return Pr||(Pr=Lt[Ge]=we.length,we.push(Ge),Pr)},str:function(Ge){return we[Ge]}}}function gn(Lt,we,Ge){var Pr=document.createElement("canvas");C(Pr.style,{border:0,margin:0,padding:0,top:0,left:0}),Lt.appendChild(Pr),Lt===document.body&&(Pr.style.position="absolute",C(Lt.style,{margin:0,padding:0}));function Jr(){var vn=window.innerWidth,yn=window.innerHeight;if(Lt!==document.body){var wn=Lt.getBoundingClientRect();vn=wn.right-wn.left,yn=wn.bottom-wn.top}Pr.width=Ge*vn,Pr.height=Ge*yn,C(Pr.style,{width:vn+"px",height:yn+"px"})}var Ir;Lt!==document.body&&typeof ResizeObserver=="function"?(Ir=new ResizeObserver(function(){setTimeout(Jr)}),Ir.observe(Lt)):window.addEventListener("resize",Jr,!1);function Ur(){Ir?Ir.disconnect():window.removeEventListener("resize",Jr),Lt.removeChild(Pr)}return Jr(),{canvas:Pr,onDestroy:Ur}}function rr(Lt,we){function Ge(Pr){try{return Lt.getContext(Pr,we)}catch(Jr){return null}}return Ge("webgl")||Ge("experimental-webgl")||Ge("webgl-experimental")}function jr(Lt){return typeof Lt.nodeName=="string"&&typeof Lt.appendChild=="function"&&typeof Lt.getBoundingClientRect=="function"}function Nr(Lt){return typeof Lt.drawArrays=="function"||typeof Lt.drawElements=="function"}function kn(Lt){return typeof Lt=="string"?Lt.split():(Pt(Array.isArray(Lt),"invalid extension array"),Lt)}function on(Lt){return typeof Lt=="string"?(Pt(typeof document!="undefined","not supported outside of DOM"),document.querySelector(Lt)):Lt}function dn(Lt){var we=Lt||{},Ge,Pr,Jr,Ir,Ur={},vn=[],yn=[],wn=typeof window=="undefined"?1:window.devicePixelRatio,bn=!1,_n=function(K){K&&Pt.raise(K)},v=function(){};if(typeof we=="string"?(Pt(typeof document!="undefined","selector queries only supported in DOM enviroments"),Ge=document.querySelector(we),Pt(Ge,"invalid query string for element")):typeof we=="object"?jr(we)?Ge=we:Nr(we)?(Ir=we,Jr=Ir.canvas):(Pt.constructor(we),"gl"in we?Ir=we.gl:"canvas"in we?Jr=on(we.canvas):"container"in we&&(Pr=on(we.container)),"attributes"in we&&(Ur=we.attributes,Pt.type(Ur,"object","invalid context attributes")),"extensions"in we&&(vn=kn(we.extensions)),"optionalExtensions"in we&&(yn=kn(we.optionalExtensions)),"onDone"in we&&(Pt.type(we.onDone,"function","invalid or missing onDone callback"),_n=we.onDone),"profile"in we&&(bn=!!we.profile),"pixelRatio"in we&&(wn=+we.pixelRatio,Pt(wn>0,"invalid pixel ratio"))):Pt.raise("invalid arguments to regl"),Ge&&(Ge.nodeName.toLowerCase()==="canvas"?Jr=Ge:Pr=Ge),!Ir){if(!Jr){Pt(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var N=gn(Pr||document.body,_n,wn);if(!N)return null;Jr=N.canvas,v=N.onDestroy}Ur.premultipliedAlpha===void 0&&(Ur.premultipliedAlpha=!0),Ir=rr(Jr,Ur)}return Ir?{gl:Ir,canvas:Jr,container:Pr,extensions:vn,optionalExtensions:yn,pixelRatio:wn,profile:bn,onDone:_n,onDestroy:v}:(v(),_n("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function En(Lt,we){var Ge={};function Pr(Ur){Pt.type(Ur,"string","extension name must be string");var vn=Ur.toLowerCase(),yn;try{yn=Ge[vn]=Lt.getExtension(vn)}catch(wn){}return!!yn}for(var Jr=0;Jr<we.extensions.length;++Jr){var Ir=we.extensions[Jr];if(!Pr(Ir))return we.onDestroy(),we.onDone('"'+Ir+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return we.optionalExtensions.forEach(Pr),{extensions:Ge,restore:function(){Object.keys(Ge).forEach(function(Ur){if(Ge[Ur]&&!Pr(Ur))throw new Error("(regl): error restoring extension "+Ur)})}}}function Pn(Lt,we){for(var Ge=Array(Lt),Pr=0;Pr<Lt;++Pr)Ge[Pr]=we(Pr);return Ge}var Nn=5120,at=5121,Xe=5122,Zt=5123,Qt=5124,Mt=5125,Nt=5126;function Ut(Lt){for(var we=16;we<=1<<28;we*=16)if(Lt<=we)return we;return 0}function vt(Lt){var we,Ge;return we=(Lt>65535)<<4,Lt>>>=we,Ge=(Lt>255)<<3,Lt>>>=Ge,we|=Ge,Ge=(Lt>15)<<2,Lt>>>=Ge,we|=Ge,Ge=(Lt>3)<<1,Lt>>>=Ge,we|=Ge,we|Lt>>1}function Rt(){var Lt=Pn(8,function(){return[]});function we(Ir){var Ur=Ut(Ir),vn=Lt[vt(Ur)>>2];return vn.length>0?vn.pop():new ArrayBuffer(Ur)}function Ge(Ir){Lt[vt(Ir.byteLength)>>2].push(Ir)}function Pr(Ir,Ur){var vn=null;switch(Ir){case Nn:vn=new Int8Array(we(Ur),0,Ur);break;case at:vn=new Uint8Array(we(Ur),0,Ur);break;case Xe:vn=new Int16Array(we(2*Ur),0,Ur);break;case Zt:vn=new Uint16Array(we(2*Ur),0,Ur);break;case Qt:vn=new Int32Array(we(4*Ur),0,Ur);break;case Mt:vn=new Uint32Array(we(4*Ur),0,Ur);break;case Nt:vn=new Float32Array(we(4*Ur),0,Ur);break;default:return null}return vn.length!==Ur?vn.subarray(0,Ur):vn}function Jr(Ir){Ge(Ir.buffer)}return{alloc:we,free:Ge,allocType:Pr,freeType:Jr}}var ae=Rt();ae.zero=Rt();var tt=3408,ut=3410,B=3411,O=3412,_=3413,$=3414,gt=3415,Ft=33901,zt=33902,te=3379,_e=3386,me=34921,Ue=36347,fr=36348,je=35661,Lr=35660,ln=34930,Ve=36349,or=34076,Ar=34024,Mr=7936,ce=7937,Xt=7938,he=35724,Me=34047,be=36063,Ne=34852,ir=3553,cr=34067,en=34069,Dn=33984,un=6408,Fn=5126,sn=5121,Bn=36160,qn=36053,sa=36064,oa=16384,Ti=function(Lt,we){var Ge=1;we.ext_texture_filter_anisotropic&&(Ge=Lt.getParameter(Me));var Pr=1,Jr=1;we.webgl_draw_buffers&&(Pr=Lt.getParameter(Ne),Jr=Lt.getParameter(be));var Ir=!!we.oes_texture_float;if(Ir){var Ur=Lt.createTexture();Lt.bindTexture(ir,Ur),Lt.texImage2D(ir,0,un,1,1,0,un,Fn,null);var vn=Lt.createFramebuffer();if(Lt.bindFramebuffer(Bn,vn),Lt.framebufferTexture2D(Bn,sa,ir,Ur,0),Lt.bindTexture(ir,null),Lt.checkFramebufferStatus(Bn)!==qn)Ir=!1;else{Lt.viewport(0,0,1,1),Lt.clearColor(1,0,0,1),Lt.clear(oa);var yn=ae.allocType(Fn,4);Lt.readPixels(0,0,1,1,un,Fn,yn),Lt.getError()?Ir=!1:(Lt.deleteFramebuffer(vn),Lt.deleteTexture(Ur),Ir=yn[0]===1),ae.freeType(yn)}}var wn=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),bn=!0;if(!wn){var _n=Lt.createTexture(),v=ae.allocType(sn,36);Lt.activeTexture(Dn),Lt.bindTexture(cr,_n),Lt.texImage2D(en,0,un,3,3,0,un,sn,v),ae.freeType(v),Lt.bindTexture(cr,null),Lt.deleteTexture(_n),bn=!Lt.getError()}return{colorBits:[Lt.getParameter(ut),Lt.getParameter(B),Lt.getParameter(O),Lt.getParameter(_)],depthBits:Lt.getParameter($),stencilBits:Lt.getParameter(gt),subpixelBits:Lt.getParameter(tt),extensions:Object.keys(we).filter(function(N){return!!we[N]}),maxAnisotropic:Ge,maxDrawbuffers:Pr,maxColorAttachments:Jr,pointSizeDims:Lt.getParameter(Ft),lineWidthDims:Lt.getParameter(zt),maxViewportDims:Lt.getParameter(_e),maxCombinedTextureUnits:Lt.getParameter(je),maxCubeMapSize:Lt.getParameter(or),maxRenderbufferSize:Lt.getParameter(Ar),maxTextureUnits:Lt.getParameter(ln),maxTextureSize:Lt.getParameter(te),maxAttributes:Lt.getParameter(me),maxVertexUniforms:Lt.getParameter(Ue),maxVertexTextureUnits:Lt.getParameter(Lr),maxVaryingVectors:Lt.getParameter(fr),maxFragmentUniforms:Lt.getParameter(Ve),glsl:Lt.getParameter(he),renderer:Lt.getParameter(ce),vendor:Lt.getParameter(Mr),version:Lt.getParameter(Xt),readFloat:Ir,npotTextureCube:bn}};function oi(Lt){return!!Lt&&typeof Lt=="object"&&Array.isArray(Lt.shape)&&Array.isArray(Lt.stride)&&typeof Lt.offset=="number"&&Lt.shape.length===Lt.stride.length&&(Array.isArray(Lt.data)||G(Lt.data))}var Va=function(Lt){return Object.keys(Lt).map(function(we){return Lt[we]})},ti={shape:Co,flatten:qi};function zi(Lt,we,Ge){for(var Pr=0;Pr<we;++Pr)Ge[Pr]=Lt[Pr]}function si(Lt,we,Ge,Pr){for(var Jr=0,Ir=0;Ir<we;++Ir)for(var Ur=Lt[Ir],vn=0;vn<Ge;++vn)Pr[Jr++]=Ur[vn]}function ui(Lt,we,Ge,Pr,Jr,Ir){for(var Ur=Ir,vn=0;vn<we;++vn)for(var yn=Lt[vn],wn=0;wn<Ge;++wn)for(var bn=yn[wn],_n=0;_n<Pr;++_n)Jr[Ur++]=bn[_n]}function ba(Lt,we,Ge,Pr,Jr){for(var Ir=1,Ur=Ge+1;Ur<we.length;++Ur)Ir*=we[Ur];var vn=we[Ge];if(we.length-Ge===4){var yn=we[Ge+1],wn=we[Ge+2],bn=we[Ge+3];for(Ur=0;Ur<vn;++Ur)ui(Lt[Ur],yn,wn,bn,Pr,Jr),Jr+=Ir}else for(Ur=0;Ur<vn;++Ur)ba(Lt[Ur],we,Ge+1,Pr,Jr),Jr+=Ir}function qi(Lt,we,Ge,Pr){var Jr=1;if(we.length)for(var Ir=0;Ir<we.length;++Ir)Jr*=we[Ir];else Jr=0;var Ur=Pr||ae.allocType(Ge,Jr);switch(we.length){case 0:break;case 1:zi(Lt,we[0],Ur);break;case 2:si(Lt,we[0],we[1],Ur);break;case 3:ui(Lt,we[0],we[1],we[2],Ur,0);break;default:ba(Lt,we,0,Ur,0)}return Ur}function Co(Lt){for(var we=[],Ge=Lt;Ge.length;Ge=Ge[0])we.push(Ge.length);return we}var Ba={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ji=5120,uo=5122,to=5124,gi=5121,Si=5123,Po=5125,bo=5126,Za=5126,Mi={int8:Ji,int16:uo,int32:to,uint8:gi,uint16:Si,uint32:Po,float:bo,float32:Za},Hn=35048,ee=35040,fe={dynamic:Hn,stream:ee,static:35044},Pe=ti.flatten,nr=ti.shape,_r=35044,Sr=35040,br=5121,Kr=5126,cn=[];cn[5120]=1,cn[5122]=2,cn[5124]=4,cn[5121]=1,cn[5123]=2,cn[5125]=4,cn[5126]=4;function Mn(Lt){return Ba[Object.prototype.toString.call(Lt)]|0}function Kn(Lt,we){for(var Ge=0;Ge<we.length;++Ge)Lt[Ge]=we[Ge]}function Wn(Lt,we,Ge,Pr,Jr,Ir,Ur){for(var vn=0,yn=0;yn<Ge;++yn)for(var wn=0;wn<Pr;++wn)Lt[vn++]=we[Jr*yn+Ir*wn+Ur]}function ra(Lt,we,Ge,Pr){var Jr=0,Ir={};function Ur(it){this.id=Jr++,this.buffer=Lt.createBuffer(),this.type=it,this.usage=_r,this.byteLength=0,this.dimension=1,this.dtype=br,this.persistentData=null,Ge.profile&&(this.stats={size:0})}Ur.prototype.bind=function(){Lt.bindBuffer(this.type,this.buffer)},Ur.prototype.destroy=function(){v(this)};var vn=[];function yn(it,ht){var yt=vn.pop();return yt||(yt=new Ur(it)),yt.bind(),_n(yt,ht,Sr,0,1,!1),yt}function wn(it){vn.push(it)}function bn(it,ht,yt){it.byteLength=ht.byteLength,Lt.bufferData(it.type,ht,yt)}function _n(it,ht,yt,Ot,kt,Vt){var le;if(it.usage=yt,Array.isArray(ht)){if(it.dtype=Ot||Kr,ht.length>0){var xe;if(Array.isArray(ht[0])){le=nr(ht);for(var ge=1,Be=1;Be<le.length;++Be)ge*=le[Be];it.dimension=ge,xe=Pe(ht,le,it.dtype),bn(it,xe,yt),Vt?it.persistentData=xe:ae.freeType(xe)}else if(typeof ht[0]=="number"){it.dimension=kt;var ar=ae.allocType(it.dtype,ht.length);Kn(ar,ht),bn(it,ar,yt),Vt?it.persistentData=ar:ae.freeType(ar)}else G(ht[0])?(it.dimension=ht[0].length,it.dtype=Ot||Mn(ht[0])||Kr,xe=Pe(ht,[ht.length,ht[0].length],it.dtype),bn(it,xe,yt),Vt?it.persistentData=xe:ae.freeType(xe)):Pt.raise("invalid buffer data")}}else if(G(ht))it.dtype=Ot||Mn(ht),it.dimension=kt,bn(it,ht,yt),Vt&&(it.persistentData=new Uint8Array(new Uint8Array(ht.buffer)));else if(oi(ht)){le=ht.shape;var Yr=ht.stride,dr=ht.offset,pr=0,gr=0,xn=0,Ln=0;le.length===1?(pr=le[0],gr=1,xn=Yr[0],Ln=0):le.length===2?(pr=le[0],gr=le[1],xn=Yr[0],Ln=Yr[1]):Pt.raise("invalid shape"),it.dtype=Ot||Mn(ht.data)||Kr,it.dimension=gr;var Cn=ae.allocType(it.dtype,pr*gr);Wn(Cn,ht.data,pr,gr,xn,Ln,dr),bn(it,Cn,yt),Vt?it.persistentData=Cn:ae.freeType(Cn)}else ht instanceof ArrayBuffer?(it.dtype=br,it.dimension=kt,bn(it,ht,yt),Vt&&(it.persistentData=new Uint8Array(new Uint8Array(ht)))):Pt.raise("invalid buffer data")}function v(it){we.bufferCount--,Pr(it);var ht=it.buffer;Pt(ht,"buffer must not be deleted already"),Lt.deleteBuffer(ht),it.buffer=null,delete Ir[it.id]}function N(it,ht,yt,Ot){we.bufferCount++;var kt=new Ur(ht);Ir[kt.id]=kt;function Vt(ge){var Be=_r,ar=null,Yr=0,dr=0,pr=1;return Array.isArray(ge)||G(ge)||oi(ge)||ge instanceof ArrayBuffer?ar=ge:typeof ge=="number"?Yr=ge|0:ge&&(Pt.type(ge,"object","buffer arguments must be an object, a number or an array"),"data"in ge&&(Pt(ar===null||Array.isArray(ar)||G(ar)||oi(ar),"invalid data for buffer"),ar=ge.data),"usage"in ge&&(Pt.parameter(ge.usage,fe,"invalid buffer usage"),Be=fe[ge.usage]),"type"in ge&&(Pt.parameter(ge.type,Mi,"invalid buffer type"),dr=Mi[ge.type]),"dimension"in ge&&(Pt.type(ge.dimension,"number","invalid dimension"),pr=ge.dimension|0),"length"in ge&&(Pt.nni(Yr,"buffer length must be a nonnegative integer"),Yr=ge.length|0)),kt.bind(),ar?_n(kt,ar,Be,dr,pr,Ot):(Yr&&Lt.bufferData(kt.type,Yr,Be),kt.dtype=dr||br,kt.usage=Be,kt.dimension=pr,kt.byteLength=Yr),Ge.profile&&(kt.stats.size=kt.byteLength*cn[kt.dtype]),Vt}function le(ge,Be){Pt(Be+ge.byteLength<=kt.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ge.byteLength+" starting from offset "+Be+" to a buffer of size "+kt.byteLength),Lt.bufferSubData(kt.type,Be,ge)}function xe(ge,Be){var ar=(Be||0)|0,Yr;if(kt.bind(),G(ge)||ge instanceof ArrayBuffer)le(ge,ar);else if(Array.isArray(ge)){if(ge.length>0)if(typeof ge[0]=="number"){var dr=ae.allocType(kt.dtype,ge.length);Kn(dr,ge),le(dr,ar),ae.freeType(dr)}else if(Array.isArray(ge[0])||G(ge[0])){Yr=nr(ge);var pr=Pe(ge,Yr,kt.dtype);le(pr,ar),ae.freeType(pr)}else Pt.raise("invalid buffer data")}else if(oi(ge)){Yr=ge.shape;var gr=ge.stride,xn=0,Ln=0,Cn=0,Jn=0;Yr.length===1?(xn=Yr[0],Ln=1,Cn=gr[0],Jn=0):Yr.length===2?(xn=Yr[0],Ln=Yr[1],Cn=gr[0],Jn=gr[1]):Pt.raise("invalid shape");var $n=Array.isArray(ge.data)?kt.dtype:Mn(ge.data),aa=ae.allocType($n,xn*Ln);Wn(aa,ge.data,xn,Ln,Cn,Jn,ge.offset),le(aa,ar),ae.freeType(aa)}else Pt.raise("invalid data for buffer subdata");return Vt}return yt||Vt(it),Vt._reglType="buffer",Vt._buffer=kt,Vt.subdata=xe,Ge.profile&&(Vt.stats=kt.stats),Vt.destroy=function(){v(kt)},Vt}function K(){Va(Ir).forEach(function(it){it.buffer=Lt.createBuffer(),Lt.bindBuffer(it.type,it.buffer),Lt.bufferData(it.type,it.persistentData||it.byteLength,it.usage)})}return Ge.profile&&(we.getTotalBufferSize=function(){var it=0;return Object.keys(Ir).forEach(function(ht){it+=Ir[ht].stats.size}),it}),{create:N,createStream:yn,destroyStream:wn,clear:function(){Va(Ir).forEach(v),vn.forEach(v)},getBuffer:function(it){return it&&it._buffer instanceof Ur?it._buffer:null},restore:K,_initBuffer:_n}}var na=0,Ua=0,ua=1,Qn=1,Fa=4,Da=4,xa={points:na,point:Ua,lines:ua,line:Qn,triangles:Fa,triangle:Da,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},li=0,Qa=1,Na=4,_a=5120,va=5121,di=5122,ni=5123,hi=5124,Ri=5125,Ii=34963,Gi=35040,Ao=35044;function Oo(Lt,we,Ge,Pr){var Jr={},Ir=0,Ur={uint8:va,uint16:ni};we.oes_element_index_uint&&(Ur.uint32=Ri);function vn(K){this.id=Ir++,Jr[this.id]=this,this.buffer=K,this.primType=Na,this.vertCount=0,this.type=0}vn.prototype.bind=function(){this.buffer.bind()};var yn=[];function wn(K){var it=yn.pop();return it||(it=new vn(Ge.create(null,Ii,!0,!1)._buffer)),_n(it,K,Gi,-1,-1,0,0),it}function bn(K){yn.push(K)}function _n(K,it,ht,yt,Ot,kt,Vt){K.buffer.bind();var le;if(it){var xe=Vt;!Vt&&(!G(it)||oi(it)&&!G(it.data))&&(xe=we.oes_element_index_uint?Ri:ni),Ge._initBuffer(K.buffer,it,ht,xe,3)}else Lt.bufferData(Ii,kt,ht),K.buffer.dtype=le||va,K.buffer.usage=ht,K.buffer.dimension=3,K.buffer.byteLength=kt;if(le=Vt,!Vt){switch(K.buffer.dtype){case va:case _a:le=va;break;case ni:case di:le=ni;break;case Ri:case hi:le=Ri;break;default:Pt.raise("unsupported type for element array")}K.buffer.dtype=le}K.type=le,Pt(le!==Ri||!!we.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ge=Ot;ge<0&&(ge=K.buffer.byteLength,le===ni?ge>>=1:le===Ri&&(ge>>=2)),K.vertCount=ge;var Be=yt;if(yt<0){Be=Na;var ar=K.buffer.dimension;ar===1&&(Be=li),ar===2&&(Be=Qa),ar===3&&(Be=Na)}K.primType=Be}function v(K){Pr.elementsCount--,Pt(K.buffer!==null,"must not double destroy elements"),delete Jr[K.id],K.buffer.destroy(),K.buffer=null}function N(K,it){var ht=Ge.create(null,Ii,!0),yt=new vn(ht._buffer);Pr.elementsCount++;function Ot(kt){if(!kt)ht(),yt.primType=Na,yt.vertCount=0,yt.type=va;else if(typeof kt=="number")ht(kt),yt.primType=Na,yt.vertCount=kt|0,yt.type=va;else{var Vt=null,le=Ao,xe=-1,ge=-1,Be=0,ar=0;Array.isArray(kt)||G(kt)||oi(kt)?Vt=kt:(Pt.type(kt,"object","invalid arguments for elements"),"data"in kt&&(Vt=kt.data,Pt(Array.isArray(Vt)||G(Vt)||oi(Vt),"invalid data for element buffer")),"usage"in kt&&(Pt.parameter(kt.usage,fe,"invalid element buffer usage"),le=fe[kt.usage]),"primitive"in kt&&(Pt.parameter(kt.primitive,xa,"invalid element buffer primitive"),xe=xa[kt.primitive]),"count"in kt&&(Pt(typeof kt.count=="number"&&kt.count>=0,"invalid vertex count for elements"),ge=kt.count|0),"type"in kt&&(Pt.parameter(kt.type,Ur,"invalid buffer type"),ar=Ur[kt.type]),"length"in kt?Be=kt.length|0:(Be=ge,ar===ni||ar===di?Be*=2:(ar===Ri||ar===hi)&&(Be*=4))),_n(yt,Vt,le,xe,ge,Be,ar)}return Ot}return Ot(K),Ot._reglType="elements",Ot._elements=yt,Ot.subdata=function(kt,Vt){return ht.subdata(kt,Vt),Ot},Ot.destroy=function(){v(yt)},Ot}return{create:N,createStream:wn,destroyStream:bn,getElements:function(K){return typeof K=="function"&&K._elements instanceof vn?K._elements:null},clear:function(){Va(Jr).forEach(v)}}}var Ni=new Float32Array(1),Ra=new Uint32Array(Ni.buffer),mi=5123;function ki(Lt){for(var we=ae.allocType(mi,Lt.length),Ge=0;Ge<Lt.length;++Ge)if(isNaN(Lt[Ge]))we[Ge]=65535;else if(Lt[Ge]===1/0)we[Ge]=31744;else if(Lt[Ge]===-1/0)we[Ge]=64512;else{Ni[0]=Lt[Ge];var Pr=Ra[0],Jr=Pr>>>31<<15,Ir=(Pr<<1>>>24)-127,Ur=Pr>>13&(1<<10)-1;if(Ir<-24)we[Ge]=Jr;else if(Ir<-14){var vn=-14-Ir;we[Ge]=Jr+(Ur+(1<<10)>>vn)}else Ir>15?we[Ge]=Jr+31744:we[Ge]=Jr+(Ir+15<<10)+Ur}return we}function Sa(Lt){return Array.isArray(Lt)||G(Lt)}var Ui=function(Lt){return!(Lt&Lt-1)&&!!Lt},lo=34467,Ai=3553,Lo=34067,yi=34069,co=6408,Go=6406,ts=6407,Wi=6409,Uo=6410,Wo=32854,fs=32855,ha=36194,Yt=32819,Le=32820,qe=33635,mr=34042,Zr=6402,fn=34041,zn=35904,Ia=35906,vi=36193,eo=33776,xo=33777,ds=33778,Di=33779,ro=35986,Yo=35987,hs=34798,qo=35840,Es=35841,As=35842,ws=35843,nu=36196,Ko=5121,is=5123,vs=5125,No=5126,xu=10242,Eu=10243,Yi=10497,Eo=33071,Ro=33648,h=10240,Y=10241,Et=9728,Gt=9729,qt=9984,de=9985,ve=9986,Ce=9987,De=33170,Ye=4352,sr=4353,Br=4354,Wr=34046,zr=3317,mn=37440,In=37441,Qr=37443,Vn=37444,Ta=33984,Oa=[qt,ve,de,Ce],Ea=[0,Wi,Uo,ts,co],ca={};ca[Wi]=ca[Go]=ca[Zr]=1,ca[fn]=ca[Uo]=2,ca[ts]=ca[zn]=3,ca[co]=ca[Ia]=4;function ga(Lt){return"[object "+Lt+"]"}var no=ga("HTMLCanvasElement"),Hi=ga("OffscreenCanvas"),Xi=ga("CanvasRenderingContext2D"),Zi=ga("ImageBitmap"),Ki=ga("HTMLImageElement"),fo=ga("HTMLVideoElement"),wo=Object.keys(Ba).concat([no,Hi,Xi,Zi,Ki,fo]),Wa=[];Wa[Ko]=1,Wa[No]=4,Wa[vi]=2,Wa[is]=2,Wa[vs]=4;var pi=[];pi[Wo]=2,pi[fs]=2,pi[ha]=2,pi[fn]=4,pi[eo]=.5,pi[xo]=.5,pi[ds]=1,pi[Di]=1,pi[ro]=.5,pi[Yo]=1,pi[hs]=1,pi[qo]=.5,pi[Es]=.25,pi[As]=.5,pi[ws]=.25,pi[nu]=.5;function Os(Lt){return Array.isArray(Lt)&&(Lt.length===0||typeof Lt[0]=="number")}function ps(Lt){if(!Array.isArray(Lt))return!1;var we=Lt.length;return!(we===0||!Sa(Lt[0]))}function es(Lt){return Object.prototype.toString.call(Lt)}function au(Lt){return es(Lt)===no}function xc(Lt){return es(Lt)===Hi}function sf(Lt){return es(Lt)===Xi}function uf(Lt){return es(Lt)===Zi}function Ec(Lt){return es(Lt)===Ki}function rd(Lt){return es(Lt)===fo}function wc(Lt){if(!Lt)return!1;var we=es(Lt);return wo.indexOf(we)>=0?!0:Os(Lt)||ps(Lt)||oi(Lt)}function Ju(Lt){return Ba[Object.prototype.toString.call(Lt)]|0}function lf(Lt,we){var Ge=we.length;switch(Lt.type){case Ko:case is:case vs:case No:var Pr=ae.allocType(Lt.type,Ge);Pr.set(we),Lt.data=Pr;break;case vi:Lt.data=ki(we);break;default:Pt.raise("unsupported texture type, must specify a typed array")}}function Sc(Lt,we){return ae.allocType(Lt.type===vi?No:Lt.type,we)}function cf(Lt,we){Lt.type===vi?(Lt.data=ki(we),ae.freeType(we)):Lt.data=we}function nd(Lt,we,Ge,Pr,Jr,Ir){for(var Ur=Lt.width,vn=Lt.height,yn=Lt.channels,wn=Ur*vn*yn,bn=Sc(Lt,wn),_n=0,v=0;v<vn;++v)for(var N=0;N<Ur;++N)for(var K=0;K<yn;++K)bn[_n++]=we[Ge*N+Pr*v+Jr*K+Ir];cf(Lt,bn)}function iu(Lt,we,Ge,Pr,Jr,Ir){var Ur;if(typeof pi[Lt]!="undefined"?Ur=pi[Lt]:Ur=ca[Lt]*Wa[we],Ir&&(Ur*=6),Jr){for(var vn=0,yn=Ge;yn>=1;)vn+=Ur*yn*yn,yn/=2;return vn}else return Ur*Ge*Pr}function ff(Lt,we,Ge,Pr,Jr,Ir,Ur){var vn={"don't care":Ye,"dont care":Ye,nice:Br,fast:sr},yn={repeat:Yi,clamp:Eo,mirror:Ro},wn={nearest:Et,linear:Gt},bn=C({mipmap:Ce,"nearest mipmap nearest":qt,"linear mipmap nearest":de,"nearest mipmap linear":ve,"linear mipmap linear":Ce},wn),_n={none:0,browser:Vn},v={uint8:Ko,rgba4:Yt,rgb565:qe,"rgb5 a1":Le},N={alpha:Go,luminance:Wi,"luminance alpha":Uo,rgb:ts,rgba:co,rgba4:Wo,"rgb5 a1":fs,rgb565:ha},K={};we.ext_srgb&&(N.srgb=zn,N.srgba=Ia),we.oes_texture_float&&(v.float32=v.float=No),we.oes_texture_half_float&&(v.float16=v["half float"]=vi),we.webgl_depth_texture&&(C(N,{depth:Zr,"depth stencil":fn}),C(v,{uint16:is,uint32:vs,"depth stencil":mr})),we.webgl_compressed_texture_s3tc&&C(K,{"rgb s3tc dxt1":eo,"rgba s3tc dxt1":xo,"rgba s3tc dxt3":ds,"rgba s3tc dxt5":Di}),we.webgl_compressed_texture_atc&&C(K,{"rgb atc":ro,"rgba atc explicit alpha":Yo,"rgba atc interpolated alpha":hs}),we.webgl_compressed_texture_pvrtc&&C(K,{"rgb pvrtc 4bppv1":qo,"rgb pvrtc 2bppv1":Es,"rgba pvrtc 4bppv1":As,"rgba pvrtc 2bppv1":ws}),we.webgl_compressed_texture_etc1&&(K["rgb etc1"]=nu);var it=Array.prototype.slice.call(Lt.getParameter(lo));Object.keys(K).forEach(function(ke){var kr=K[ke];it.indexOf(kr)>=0&&(N[ke]=kr)});var ht=Object.keys(N);Ge.textureFormats=ht;var yt=[];Object.keys(N).forEach(function(ke){var kr=N[ke];yt[kr]=ke});var Ot=[];Object.keys(v).forEach(function(ke){var kr=v[ke];Ot[kr]=ke});var kt=[];Object.keys(wn).forEach(function(ke){var kr=wn[ke];kt[kr]=ke});var Vt=[];Object.keys(bn).forEach(function(ke){var kr=bn[ke];Vt[kr]=ke});var le=[];Object.keys(yn).forEach(function(ke){var kr=yn[ke];le[kr]=ke});var xe=ht.reduce(function(ke,kr){var Cr=N[kr];return Cr===Wi||Cr===Go||Cr===Wi||Cr===Uo||Cr===Zr||Cr===fn||we.ext_srgb&&(Cr===zn||Cr===Ia)?ke[Cr]=Cr:Cr===fs||kr.indexOf("rgba")>=0?ke[Cr]=co:ke[Cr]=ts,ke},{});function ge(){this.internalformat=co,this.format=co,this.type=Ko,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Vn,this.width=0,this.height=0,this.channels=0}function Be(ke,kr){ke.internalformat=kr.internalformat,ke.format=kr.format,ke.type=kr.type,ke.compressed=kr.compressed,ke.premultiplyAlpha=kr.premultiplyAlpha,ke.flipY=kr.flipY,ke.unpackAlignment=kr.unpackAlignment,ke.colorSpace=kr.colorSpace,ke.width=kr.width,ke.height=kr.height,ke.channels=kr.channels}function ar(ke,kr){if(!(typeof kr!="object"||!kr)){if("premultiplyAlpha"in kr&&(Pt.type(kr.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),ke.premultiplyAlpha=kr.premultiplyAlpha),"flipY"in kr&&(Pt.type(kr.flipY,"boolean","invalid texture flip"),ke.flipY=kr.flipY),"alignment"in kr&&(Pt.oneOf(kr.alignment,[1,2,4,8],"invalid texture unpack alignment"),ke.unpackAlignment=kr.alignment),"colorSpace"in kr&&(Pt.parameter(kr.colorSpace,_n,"invalid colorSpace"),ke.colorSpace=_n[kr.colorSpace]),"type"in kr){var Cr=kr.type;Pt(we.oes_texture_float||!(Cr==="float"||Cr==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),Pt(we.oes_texture_half_float||!(Cr==="half float"||Cr==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),Pt(we.webgl_depth_texture||!(Cr==="uint16"||Cr==="uint32"||Cr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Pt.parameter(Cr,v,"invalid texture type"),ke.type=v[Cr]}var Xn=ke.width,Pa=ke.height,Oe=ke.channels,ye=!1;"shape"in kr?(Pt(Array.isArray(kr.shape)&&kr.shape.length>=2,"shape must be an array"),Xn=kr.shape[0],Pa=kr.shape[1],kr.shape.length===3&&(Oe=kr.shape[2],Pt(Oe>0&&Oe<=4,"invalid number of channels"),ye=!0),Pt(Xn>=0&&Xn<=Ge.maxTextureSize,"invalid width"),Pt(Pa>=0&&Pa<=Ge.maxTextureSize,"invalid height")):("radius"in kr&&(Xn=Pa=kr.radius,Pt(Xn>=0&&Xn<=Ge.maxTextureSize,"invalid radius")),"width"in kr&&(Xn=kr.width,Pt(Xn>=0&&Xn<=Ge.maxTextureSize,"invalid width")),"height"in kr&&(Pa=kr.height,Pt(Pa>=0&&Pa<=Ge.maxTextureSize,"invalid height")),"channels"in kr&&(Oe=kr.channels,Pt(Oe>0&&Oe<=4,"invalid number of channels"),ye=!0)),ke.width=Xn|0,ke.height=Pa|0,ke.channels=Oe|0;var Ze=!1;if("format"in kr){var yr=kr.format;Pt(we.webgl_depth_texture||!(yr==="depth"||yr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Pt.parameter(yr,N,"invalid texture format");var Er=ke.internalformat=N[yr];ke.format=xe[Er],yr in v&&("type"in kr||(ke.type=v[yr])),yr in K&&(ke.compressed=!0),Ze=!0}!ye&&Ze?ke.channels=ca[ke.format]:ye&&!Ze?ke.channels!==Ea[ke.format]&&(ke.format=ke.internalformat=Ea[ke.channels]):Ze&&ye&&Pt(ke.channels===ca[ke.format],"number of channels inconsistent with specified format")}}function Yr(ke){Lt.pixelStorei(mn,ke.flipY),Lt.pixelStorei(In,ke.premultiplyAlpha),Lt.pixelStorei(Qr,ke.colorSpace),Lt.pixelStorei(zr,ke.unpackAlignment)}function dr(){ge.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function pr(ke,kr){var Cr=null;if(wc(kr)?Cr=kr:kr&&(Pt.type(kr,"object","invalid pixel data type"),ar(ke,kr),"x"in kr&&(ke.xOffset=kr.x|0),"y"in kr&&(ke.yOffset=kr.y|0),wc(kr.data)&&(Cr=kr.data)),Pt(!ke.compressed||Cr instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),kr.copy){Pt(!Cr,"can not specify copy and data field for the same texture");var Xn=Jr.viewportWidth,Pa=Jr.viewportHeight;ke.width=ke.width||Xn-ke.xOffset,ke.height=ke.height||Pa-ke.yOffset,ke.needsCopy=!0,Pt(ke.xOffset>=0&&ke.xOffset<Xn&&ke.yOffset>=0&&ke.yOffset<Pa&&ke.width>0&&ke.width<=Xn&&ke.height>0&&ke.height<=Pa,"copy texture read out of bounds")}else if(!Cr)ke.width=ke.width||1,ke.height=ke.height||1,ke.channels=ke.channels||4;else if(G(Cr))ke.channels=ke.channels||4,ke.data=Cr,!("type"in kr)&&ke.type===Ko&&(ke.type=Ju(Cr));else if(Os(Cr))ke.channels=ke.channels||4,lf(ke,Cr),ke.alignment=1,ke.needsFree=!0;else if(oi(Cr)){var Oe=Cr.data;!Array.isArray(Oe)&&ke.type===Ko&&(ke.type=Ju(Oe));var ye=Cr.shape,Ze=Cr.stride,yr,Er,tr,Qe,lr,Ie;ye.length===3?(tr=ye[2],Ie=Ze[2]):(Pt(ye.length===2,"invalid ndarray pixel data, must be 2 or 3D"),tr=1,Ie=1),yr=ye[0],Er=ye[1],Qe=Ze[0],lr=Ze[1],ke.alignment=1,ke.width=yr,ke.height=Er,ke.channels=tr,ke.format=ke.internalformat=Ea[tr],ke.needsFree=!0,nd(ke,Oe,Qe,lr,Ie,Cr.offset)}else if(au(Cr)||xc(Cr)||sf(Cr))au(Cr)||xc(Cr)?ke.element=Cr:ke.element=Cr.canvas,ke.width=ke.element.width,ke.height=ke.element.height,ke.channels=4;else if(uf(Cr))ke.element=Cr,ke.width=Cr.width,ke.height=Cr.height,ke.channels=4;else if(Ec(Cr))ke.element=Cr,ke.width=Cr.naturalWidth,ke.height=Cr.naturalHeight,ke.channels=4;else if(rd(Cr))ke.element=Cr,ke.width=Cr.videoWidth,ke.height=Cr.videoHeight,ke.channels=4;else if(ps(Cr)){var Ke=ke.width||Cr[0].length,Te=ke.height||Cr.length,hr=ke.channels;Sa(Cr[0][0])?hr=hr||Cr[0][0].length:hr=hr||1;for(var wr=ti.shape(Cr),$r=1,rn=0;rn<wr.length;++rn)$r*=wr[rn];var Xr=Sc(ke,$r);ti.flatten(Cr,wr,"",Xr),cf(ke,Xr),ke.alignment=1,ke.width=Ke,ke.height=Te,ke.channels=hr,ke.format=ke.internalformat=Ea[hr],ke.needsFree=!0}ke.type===No?Pt(Ge.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):ke.type===vi&&Pt(Ge.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function gr(ke,kr,Cr){var Xn=ke.element,Pa=ke.data,Oe=ke.internalformat,ye=ke.format,Ze=ke.type,yr=ke.width,Er=ke.height;Yr(ke),Xn?Lt.texImage2D(kr,Cr,ye,ye,Ze,Xn):ke.compressed?Lt.compressedTexImage2D(kr,Cr,Oe,yr,Er,0,Pa):ke.needsCopy?(Pr(),Lt.copyTexImage2D(kr,Cr,ye,ke.xOffset,ke.yOffset,yr,Er,0)):Lt.texImage2D(kr,Cr,ye,yr,Er,0,ye,Ze,Pa||null)}function xn(ke,kr,Cr,Xn,Pa){var Oe=ke.element,ye=ke.data,Ze=ke.internalformat,yr=ke.format,Er=ke.type,tr=ke.width,Qe=ke.height;Yr(ke),Oe?Lt.texSubImage2D(kr,Pa,Cr,Xn,yr,Er,Oe):ke.compressed?Lt.compressedTexSubImage2D(kr,Pa,Cr,Xn,Ze,tr,Qe,ye):ke.needsCopy?(Pr(),Lt.copyTexSubImage2D(kr,Pa,Cr,Xn,ke.xOffset,ke.yOffset,tr,Qe)):Lt.texSubImage2D(kr,Pa,Cr,Xn,tr,Qe,yr,Er,ye)}var Ln=[];function Cn(){return Ln.pop()||new dr}function Jn(ke){ke.needsFree&&ae.freeType(ke.data),dr.call(ke),Ln.push(ke)}function $n(){ge.call(this),this.genMipmaps=!1,this.mipmapHint=Ye,this.mipmask=0,this.images=Array(16)}function aa(ke,kr,Cr){var Xn=ke.images[0]=Cn();ke.mipmask=1,Xn.width=ke.width=kr,Xn.height=ke.height=Cr,Xn.channels=ke.channels=4}function pa(ke,kr){var Cr=null;if(wc(kr))Cr=ke.images[0]=Cn(),Be(Cr,ke),pr(Cr,kr),ke.mipmask=1;else if(ar(ke,kr),Array.isArray(kr.mipmap))for(var Xn=kr.mipmap,Pa=0;Pa<Xn.length;++Pa)Cr=ke.images[Pa]=Cn(),Be(Cr,ke),Cr.width>>=Pa,Cr.height>>=Pa,pr(Cr,Xn[Pa]),ke.mipmask|=1<<Pa;else Cr=ke.images[0]=Cn(),Be(Cr,ke),pr(Cr,kr),ke.mipmask=1;Be(ke,ke.images[0]),ke.compressed&&(ke.internalformat===eo||ke.internalformat===xo||ke.internalformat===ds||ke.internalformat===Di)&&Pt(ke.width%4===0&&ke.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function da(ke,kr){for(var Cr=ke.images,Xn=0;Xn<Cr.length;++Xn){if(!Cr[Xn])return;gr(Cr[Xn],kr,Xn)}}var Pi=[];function ma(){var ke=Pi.pop()||new $n;ge.call(ke),ke.mipmask=0;for(var kr=0;kr<16;++kr)ke.images[kr]=null;return ke}function $i(ke){for(var kr=ke.images,Cr=0;Cr<kr.length;++Cr)kr[Cr]&&Jn(kr[Cr]),kr[Cr]=null;Pi.push(ke)}function xi(){this.minFilter=Et,this.magFilter=Et,this.wrapS=Eo,this.wrapT=Eo,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Ye}function za(ke,kr){if("min"in kr){var Cr=kr.min;Pt.parameter(Cr,bn),ke.minFilter=bn[Cr],Oa.indexOf(ke.minFilter)>=0&&!("faces"in kr)&&(ke.genMipmaps=!0)}if("mag"in kr){var Xn=kr.mag;Pt.parameter(Xn,wn),ke.magFilter=wn[Xn]}var Pa=ke.wrapS,Oe=ke.wrapT;if("wrap"in kr){var ye=kr.wrap;typeof ye=="string"?(Pt.parameter(ye,yn),Pa=Oe=yn[ye]):Array.isArray(ye)&&(Pt.parameter(ye[0],yn),Pt.parameter(ye[1],yn),Pa=yn[ye[0]],Oe=yn[ye[1]])}else{if("wrapS"in kr){var Ze=kr.wrapS;Pt.parameter(Ze,yn),Pa=yn[Ze]}if("wrapT"in kr){var yr=kr.wrapT;Pt.parameter(yr,yn),Oe=yn[yr]}}if(ke.wrapS=Pa,ke.wrapT=Oe,"anisotropic"in kr){var Er=kr.anisotropic;Pt(typeof Er=="number"&&Er>=1&&Er<=Ge.maxAnisotropic,"aniso samples must be between 1 and "),ke.anisotropic=kr.anisotropic}if("mipmap"in kr){var tr=!1;switch(typeof kr.mipmap){case"string":Pt.parameter(kr.mipmap,vn,"invalid mipmap hint"),ke.mipmapHint=vn[kr.mipmap],ke.genMipmaps=!0,tr=!0;break;case"boolean":tr=ke.genMipmaps=kr.mipmap;break;case"object":Pt(Array.isArray(kr.mipmap),"invalid mipmap type"),ke.genMipmaps=!1,tr=!0;break;default:Pt.raise("invalid mipmap type")}tr&&!("min"in kr)&&(ke.minFilter=qt)}}function Oi(ke,kr){Lt.texParameteri(kr,Y,ke.minFilter),Lt.texParameteri(kr,h,ke.magFilter),Lt.texParameteri(kr,xu,ke.wrapS),Lt.texParameteri(kr,Eu,ke.wrapT),we.ext_texture_filter_anisotropic&&Lt.texParameteri(kr,Wr,ke.anisotropic),ke.genMipmaps&&(Lt.hint(De,ke.mipmapHint),Lt.generateMipmap(kr))}var Qi=0,Mo={},Do=Ge.maxTextureUnits,go=Array(Do).map(function(){return null});function Ca(ke){ge.call(this),this.mipmask=0,this.internalformat=co,this.id=Qi++,this.refCount=1,this.target=ke,this.texture=Lt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new xi,Ur.profile&&(this.stats={size:0})}function Bo(ke){Lt.activeTexture(Ta),Lt.bindTexture(ke.target,ke.texture)}function Ka(){var ke=go[0];ke?Lt.bindTexture(ke.target,ke.texture):Lt.bindTexture(Ai,null)}function ia(ke){var kr=ke.texture;Pt(kr,"must not double destroy texture");var Cr=ke.unit,Xn=ke.target;Cr>=0&&(Lt.activeTexture(Ta+Cr),Lt.bindTexture(Xn,null),go[Cr]=null),Lt.deleteTexture(kr),ke.texture=null,ke.params=null,ke.pixels=null,ke.refCount=0,delete Mo[ke.id],Ir.textureCount--}C(Ca.prototype,{bind:function(){var ke=this;ke.bindCount+=1;var kr=ke.unit;if(kr<0){for(var Cr=0;Cr<Do;++Cr){var Xn=go[Cr];if(Xn){if(Xn.bindCount>0)continue;Xn.unit=-1}go[Cr]=ke,kr=Cr;break}kr>=Do&&Pt.raise("insufficient number of texture units"),Ur.profile&&Ir.maxTextureUnits<kr+1&&(Ir.maxTextureUnits=kr+1),ke.unit=kr,Lt.activeTexture(Ta+kr),Lt.bindTexture(ke.target,ke.texture)}return kr},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&ia(this)}});function ka(ke,kr){var Cr=new Ca(Ai);Mo[Cr.id]=Cr,Ir.textureCount++;function Xn(ye,Ze){var yr=Cr.texInfo;xi.call(yr);var Er=ma();return typeof ye=="number"?typeof Ze=="number"?aa(Er,ye|0,Ze|0):aa(Er,ye|0,ye|0):ye?(Pt.type(ye,"object","invalid arguments to regl.texture"),za(yr,ye),pa(Er,ye)):aa(Er,1,1),yr.genMipmaps&&(Er.mipmask=(Er.width<<1)-1),Cr.mipmask=Er.mipmask,Be(Cr,Er),Pt.texture2D(yr,Er,Ge),Cr.internalformat=Er.internalformat,Xn.width=Er.width,Xn.height=Er.height,Bo(Cr),da(Er,Ai),Oi(yr,Ai),Ka(),$i(Er),Ur.profile&&(Cr.stats.size=iu(Cr.internalformat,Cr.type,Er.width,Er.height,yr.genMipmaps,!1)),Xn.format=yt[Cr.internalformat],Xn.type=Ot[Cr.type],Xn.mag=kt[yr.magFilter],Xn.min=Vt[yr.minFilter],Xn.wrapS=le[yr.wrapS],Xn.wrapT=le[yr.wrapT],Xn}function Pa(ye,Ze,yr,Er){Pt(!!ye,"must specify image data");var tr=Ze|0,Qe=yr|0,lr=Er|0,Ie=Cn();return Be(Ie,Cr),Ie.width=0,Ie.height=0,pr(Ie,ye),Ie.width=Ie.width||(Cr.width>>lr)-tr,Ie.height=Ie.height||(Cr.height>>lr)-Qe,Pt(Cr.type===Ie.type&&Cr.format===Ie.format&&Cr.internalformat===Ie.internalformat,"incompatible format for texture.subimage"),Pt(tr>=0&&Qe>=0&&tr+Ie.width<=Cr.width&&Qe+Ie.height<=Cr.height,"texture.subimage write out of bounds"),Pt(Cr.mipmask&1<<lr,"missing mipmap data"),Pt(Ie.data||Ie.element||Ie.needsCopy,"missing image data"),Bo(Cr),xn(Ie,Ai,tr,Qe,lr),Ka(),Jn(Ie),Xn}function Oe(ye,Ze){var yr=ye|0,Er=Ze|0||yr;if(yr===Cr.width&&Er===Cr.height)return Xn;Xn.width=Cr.width=yr,Xn.height=Cr.height=Er,Bo(Cr);for(var tr=0;Cr.mipmask>>tr;++tr){var Qe=yr>>tr,lr=Er>>tr;if(!Qe||!lr)break;Lt.texImage2D(Ai,tr,Cr.format,Qe,lr,0,Cr.format,Cr.type,null)}return Ka(),Ur.profile&&(Cr.stats.size=iu(Cr.internalformat,Cr.type,yr,Er,!1,!1)),Xn}return Xn(ke,kr),Xn.subimage=Pa,Xn.resize=Oe,Xn._reglType="texture2d",Xn._texture=Cr,Ur.profile&&(Xn.stats=Cr.stats),Xn.destroy=function(){Cr.decRef()},Xn}function Ha(ke,kr,Cr,Xn,Pa,Oe){var ye=new Ca(Lo);Mo[ye.id]=ye,Ir.cubeCount++;var Ze=new Array(6);function yr(Qe,lr,Ie,Ke,Te,hr){var wr,$r=ye.texInfo;for(xi.call($r),wr=0;wr<6;++wr)Ze[wr]=ma();if(typeof Qe=="number"||!Qe){var rn=Qe|0||1;for(wr=0;wr<6;++wr)aa(Ze[wr],rn,rn)}else if(typeof Qe=="object")if(lr)pa(Ze[0],Qe),pa(Ze[1],lr),pa(Ze[2],Ie),pa(Ze[3],Ke),pa(Ze[4],Te),pa(Ze[5],hr);else if(za($r,Qe),ar(ye,Qe),"faces"in Qe){var Xr=Qe.faces;for(Pt(Array.isArray(Xr)&&Xr.length===6,"cube faces must be a length 6 array"),wr=0;wr<6;++wr)Pt(typeof Xr[wr]=="object"&&!!Xr[wr],"invalid input for cube map face"),Be(Ze[wr],ye),pa(Ze[wr],Xr[wr])}else for(wr=0;wr<6;++wr)pa(Ze[wr],Qe);else Pt.raise("invalid arguments to cube map");for(Be(ye,Ze[0]),Ge.npotTextureCube||Pt(Ui(ye.width)&&Ui(ye.height),"your browser does not support non power or two texture dimensions"),$r.genMipmaps?ye.mipmask=(Ze[0].width<<1)-1:ye.mipmask=Ze[0].mipmask,Pt.textureCube(ye,$r,Ze,Ge),ye.internalformat=Ze[0].internalformat,yr.width=Ze[0].width,yr.height=Ze[0].height,Bo(ye),wr=0;wr<6;++wr)da(Ze[wr],yi+wr);for(Oi($r,Lo),Ka(),Ur.profile&&(ye.stats.size=iu(ye.internalformat,ye.type,yr.width,yr.height,$r.genMipmaps,!0)),yr.format=yt[ye.internalformat],yr.type=Ot[ye.type],yr.mag=kt[$r.magFilter],yr.min=Vt[$r.minFilter],yr.wrapS=le[$r.wrapS],yr.wrapT=le[$r.wrapT],wr=0;wr<6;++wr)$i(Ze[wr]);return yr}function Er(Qe,lr,Ie,Ke,Te){Pt(!!lr,"must specify image data"),Pt(typeof Qe=="number"&&Qe===(Qe|0)&&Qe>=0&&Qe<6,"invalid face");var hr=Ie|0,wr=Ke|0,$r=Te|0,rn=Cn();return Be(rn,ye),rn.width=0,rn.height=0,pr(rn,lr),rn.width=rn.width||(ye.width>>$r)-hr,rn.height=rn.height||(ye.height>>$r)-wr,Pt(ye.type===rn.type&&ye.format===rn.format&&ye.internalformat===rn.internalformat,"incompatible format for texture.subimage"),Pt(hr>=0&&wr>=0&&hr+rn.width<=ye.width&&wr+rn.height<=ye.height,"texture.subimage write out of bounds"),Pt(ye.mipmask&1<<$r,"missing mipmap data"),Pt(rn.data||rn.element||rn.needsCopy,"missing image data"),Bo(ye),xn(rn,yi+Qe,hr,wr,$r),Ka(),Jn(rn),yr}function tr(Qe){var lr=Qe|0;if(lr!==ye.width){yr.width=ye.width=lr,yr.height=ye.height=lr,Bo(ye);for(var Ie=0;Ie<6;++Ie)for(var Ke=0;ye.mipmask>>Ke;++Ke)Lt.texImage2D(yi+Ie,Ke,ye.format,lr>>Ke,lr>>Ke,0,ye.format,ye.type,null);return Ka(),Ur.profile&&(ye.stats.size=iu(ye.internalformat,ye.type,yr.width,yr.height,!1,!0)),yr}}return yr(ke,kr,Cr,Xn,Pa,Oe),yr.subimage=Er,yr.resize=tr,yr._reglType="textureCube",yr._texture=ye,Ur.profile&&(yr.stats=ye.stats),yr.destroy=function(){ye.decRef()},yr}function mo(){for(var ke=0;ke<Do;++ke)Lt.activeTexture(Ta+ke),Lt.bindTexture(Ai,null),go[ke]=null;Va(Mo).forEach(ia),Ir.cubeCount=0,Ir.textureCount=0}Ur.profile&&(Ir.getTotalTextureSize=function(){var ke=0;return Object.keys(Mo).forEach(function(kr){ke+=Mo[kr].stats.size}),ke});function Ks(){for(var ke=0;ke<Do;++ke){var kr=go[ke];kr&&(kr.bindCount=0,kr.unit=-1,go[ke]=null)}Va(Mo).forEach(function(Cr){Cr.texture=Lt.createTexture(),Lt.bindTexture(Cr.target,Cr.texture);for(var Xn=0;Xn<32;++Xn)if(Cr.mipmask&1<<Xn)if(Cr.target===Ai)Lt.texImage2D(Ai,Xn,Cr.internalformat,Cr.width>>Xn,Cr.height>>Xn,0,Cr.internalformat,Cr.type,null);else for(var Pa=0;Pa<6;++Pa)Lt.texImage2D(yi+Pa,Xn,Cr.internalformat,Cr.width>>Xn,Cr.height>>Xn,0,Cr.internalformat,Cr.type,null);Oi(Cr.texInfo,Cr.target)})}function cc(){for(var ke=0;ke<Do;++ke){var kr=go[ke];kr&&(kr.bindCount=0,kr.unit=-1,go[ke]=null),Lt.activeTexture(Ta+ke),Lt.bindTexture(Ai,null),Lt.bindTexture(Lo,null)}}return{create2D:ka,createCube:Ha,clear:mo,getTexture:function(ke){return null},restore:Ks,refresh:cc}}var Yn=36161,wu=32854,Ya=32855,Mc=36194,Pl=33189,ou=36168,_c=34041,Cc=35907,Ll=34836,df=34842,hf=34843,gs=[];gs[wu]=2,gs[Ya]=2,gs[Mc]=2,gs[Pl]=2,gs[ou]=1,gs[_c]=4,gs[Cc]=4,gs[Ll]=16,gs[df]=8,gs[hf]=6;function Tc(Lt,we,Ge){return gs[Lt]*we*Ge}var Ws=function(Lt,we,Ge,Pr,Jr){var Ir={rgba4:wu,rgb565:Mc,"rgb5 a1":Ya,depth:Pl,stencil:ou,"depth stencil":_c};we.ext_srgb&&(Ir.srgba=Cc),we.ext_color_buffer_half_float&&(Ir.rgba16f=df,Ir.rgb16f=hf),we.webgl_color_buffer_float&&(Ir.rgba32f=Ll);var Ur=[];Object.keys(Ir).forEach(function(N){var K=Ir[N];Ur[K]=N});var vn=0,yn={};function wn(N){this.id=vn++,this.refCount=1,this.renderbuffer=N,this.format=wu,this.width=0,this.height=0,Jr.profile&&(this.stats={size:0})}wn.prototype.decRef=function(){--this.refCount<=0&&bn(this)};function bn(N){var K=N.renderbuffer;Pt(K,"must not double destroy renderbuffer"),Lt.bindRenderbuffer(Yn,null),Lt.deleteRenderbuffer(K),N.renderbuffer=null,N.refCount=0,delete yn[N.id],Pr.renderbufferCount--}function _n(N,K){var it=new wn(Lt.createRenderbuffer());yn[it.id]=it,Pr.renderbufferCount++;function ht(Ot,kt){var Vt=0,le=0,xe=wu;if(typeof Ot=="object"&&Ot){var ge=Ot;if("shape"in ge){var Be=ge.shape;Pt(Array.isArray(Be)&&Be.length>=2,"invalid renderbuffer shape"),Vt=Be[0]|0,le=Be[1]|0}else"radius"in ge&&(Vt=le=ge.radius|0),"width"in ge&&(Vt=ge.width|0),"height"in ge&&(le=ge.height|0);"format"in ge&&(Pt.parameter(ge.format,Ir,"invalid renderbuffer format"),xe=Ir[ge.format])}else typeof Ot=="number"?(Vt=Ot|0,typeof kt=="number"?le=kt|0:le=Vt):Ot?Pt.raise("invalid arguments to renderbuffer constructor"):Vt=le=1;if(Pt(Vt>0&&le>0&&Vt<=Ge.maxRenderbufferSize&&le<=Ge.maxRenderbufferSize,"invalid renderbuffer size"),!(Vt===it.width&&le===it.height&&xe===it.format))return ht.width=it.width=Vt,ht.height=it.height=le,it.format=xe,Lt.bindRenderbuffer(Yn,it.renderbuffer),Lt.renderbufferStorage(Yn,xe,Vt,le),Pt(Lt.getError()===0,"invalid render buffer format"),Jr.profile&&(it.stats.size=Tc(it.format,it.width,it.height)),ht.format=Ur[it.format],ht}function yt(Ot,kt){var Vt=Ot|0,le=kt|0||Vt;return Vt===it.width&&le===it.height||(Pt(Vt>0&&le>0&&Vt<=Ge.maxRenderbufferSize&&le<=Ge.maxRenderbufferSize,"invalid renderbuffer size"),ht.width=it.width=Vt,ht.height=it.height=le,Lt.bindRenderbuffer(Yn,it.renderbuffer),Lt.renderbufferStorage(Yn,it.format,Vt,le),Pt(Lt.getError()===0,"invalid render buffer format"),Jr.profile&&(it.stats.size=Tc(it.format,it.width,it.height))),ht}return ht(N,K),ht.resize=yt,ht._reglType="renderbuffer",ht._renderbuffer=it,Jr.profile&&(ht.stats=it.stats),ht.destroy=function(){it.decRef()},ht}Jr.profile&&(Pr.getTotalRenderbufferSize=function(){var N=0;return Object.keys(yn).forEach(function(K){N+=yn[K].stats.size}),N});function v(){Va(yn).forEach(function(N){N.renderbuffer=Lt.createRenderbuffer(),Lt.bindRenderbuffer(Yn,N.renderbuffer),Lt.renderbufferStorage(Yn,N.format,N.width,N.height)}),Lt.bindRenderbuffer(Yn,null)}return{create:_n,clear:function(){Va(yn).forEach(bn)},restore:v}},po=36160,Ys=36161,Is=3553,Nl=34069,Ac=36064,vf=36096,pf=36128,gf=33306,Rl=36053,mf=36054,kl=36055,yf=36057,Oc=36061,tl=36193,Ic=5121,os=5126,Dc=6407,el=6408,bf=6402,ad=[Dc,el],Pc=[];Pc[el]=4,Pc[Dc]=3;var rl=[];rl[Ic]=1,rl[os]=4,rl[tl]=2;var id=32854,Lc=32855,Nc=36194,xf=33189,nl=36168,Su=34041,su=35907,Mu=34836,al=34842,Ss=34843,Ef=[id,Lc,Nc,su,al,Ss,Mu],_u={};_u[Rl]="complete",_u[mf]="incomplete attachment",_u[yf]="incomplete dimensions",_u[kl]="incomplete, missing attachment",_u[Oc]="unsupported";function od(Lt,we,Ge,Pr,Jr,Ir){var Ur={cur:null,next:null,dirty:!1,setFBO:null},vn=["rgba"],yn=["rgba4","rgb565","rgb5 a1"];we.ext_srgb&&yn.push("srgba"),we.ext_color_buffer_half_float&&yn.push("rgba16f","rgb16f"),we.webgl_color_buffer_float&&yn.push("rgba32f");var wn=["uint8"];we.oes_texture_half_float&&wn.push("half float","float16"),we.oes_texture_float&&wn.push("float","float32");function bn(dr,pr,gr){this.target=dr,this.texture=pr,this.renderbuffer=gr;var xn=0,Ln=0;pr?(xn=pr.width,Ln=pr.height):gr&&(xn=gr.width,Ln=gr.height),this.width=xn,this.height=Ln}function _n(dr){dr&&(dr.texture&&dr.texture._texture.decRef(),dr.renderbuffer&&dr.renderbuffer._renderbuffer.decRef())}function v(dr,pr,gr){if(dr)if(dr.texture){var xn=dr.texture._texture,Ln=Math.max(1,xn.width),Cn=Math.max(1,xn.height);Pt(Ln===pr&&Cn===gr,"inconsistent width/height for supplied texture"),xn.refCount+=1}else{var Jn=dr.renderbuffer._renderbuffer;Pt(Jn.width===pr&&Jn.height===gr,"inconsistent width/height for renderbuffer"),Jn.refCount+=1}}function N(dr,pr){pr&&(pr.texture?Lt.framebufferTexture2D(po,dr,pr.target,pr.texture._texture.texture,0):Lt.framebufferRenderbuffer(po,dr,Ys,pr.renderbuffer._renderbuffer.renderbuffer))}function K(dr){var pr=Is,gr=null,xn=null,Ln=dr;typeof dr=="object"&&(Ln=dr.data,"target"in dr&&(pr=dr.target|0)),Pt.type(Ln,"function","invalid attachment data");var Cn=Ln._reglType;return Cn==="texture2d"?(gr=Ln,Pt(pr===Is)):Cn==="textureCube"?(gr=Ln,Pt(pr>=Nl&&pr<Nl+6,"invalid cube map target")):Cn==="renderbuffer"?(xn=Ln,pr=Ys):Pt.raise("invalid regl object for attachment"),new bn(pr,gr,xn)}function it(dr,pr,gr,xn,Ln){if(gr){var Cn=Pr.create2D({width:dr,height:pr,format:xn,type:Ln});return Cn._texture.refCount=0,new bn(Is,Cn,null)}else{var Jn=Jr.create({width:dr,height:pr,format:xn});return Jn._renderbuffer.refCount=0,new bn(Ys,null,Jn)}}function ht(dr){return dr&&(dr.texture||dr.renderbuffer)}function yt(dr,pr,gr){dr&&(dr.texture?dr.texture.resize(pr,gr):dr.renderbuffer&&dr.renderbuffer.resize(pr,gr),dr.width=pr,dr.height=gr)}var Ot=0,kt={};function Vt(){this.id=Ot++,kt[this.id]=this,this.framebuffer=Lt.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function le(dr){dr.colorAttachments.forEach(_n),_n(dr.depthAttachment),_n(dr.stencilAttachment),_n(dr.depthStencilAttachment)}function xe(dr){var pr=dr.framebuffer;Pt(pr,"must not double destroy framebuffer"),Lt.deleteFramebuffer(pr),dr.framebuffer=null,Ir.framebufferCount--,delete kt[dr.id]}function ge(dr){var pr;Lt.bindFramebuffer(po,dr.framebuffer);var gr=dr.colorAttachments;for(pr=0;pr<gr.length;++pr)N(Ac+pr,gr[pr]);for(pr=gr.length;pr<Ge.maxColorAttachments;++pr)Lt.framebufferTexture2D(po,Ac+pr,Is,null,0);Lt.framebufferTexture2D(po,gf,Is,null,0),Lt.framebufferTexture2D(po,vf,Is,null,0),Lt.framebufferTexture2D(po,pf,Is,null,0),N(vf,dr.depthAttachment),N(pf,dr.stencilAttachment),N(gf,dr.depthStencilAttachment);var xn=Lt.checkFramebufferStatus(po);!Lt.isContextLost()&&xn!==Rl&&Pt.raise("framebuffer configuration not supported, status = "+_u[xn]),Lt.bindFramebuffer(po,Ur.next?Ur.next.framebuffer:null),Ur.cur=Ur.next,Lt.getError()}function Be(dr,pr){var gr=new Vt;Ir.framebufferCount++;function xn(Cn,Jn){var $n;Pt(Ur.next!==gr,"can not update framebuffer which is currently in use");var aa=0,pa=0,da=!0,Pi=!0,ma=null,$i=!0,xi="rgba",za="uint8",Oi=1,Qi=null,Mo=null,Do=null,go=!1;if(typeof Cn=="number")aa=Cn|0,pa=Jn|0||aa;else if(!Cn)aa=pa=1;else{Pt.type(Cn,"object","invalid arguments for framebuffer");var Ca=Cn;if("shape"in Ca){var Bo=Ca.shape;Pt(Array.isArray(Bo)&&Bo.length>=2,"invalid shape for framebuffer"),aa=Bo[0],pa=Bo[1]}else"radius"in Ca&&(aa=pa=Ca.radius),"width"in Ca&&(aa=Ca.width),"height"in Ca&&(pa=Ca.height);("color"in Ca||"colors"in Ca)&&(ma=Ca.color||Ca.colors,Array.isArray(ma)&&Pt(ma.length===1||we.webgl_draw_buffers,"multiple render targets not supported")),ma||("colorCount"in Ca&&(Oi=Ca.colorCount|0,Pt(Oi>0,"invalid color buffer count")),"colorTexture"in Ca&&($i=!!Ca.colorTexture,xi="rgba4"),"colorType"in Ca&&(za=Ca.colorType,$i?(Pt(we.oes_texture_float||!(za==="float"||za==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),Pt(we.oes_texture_half_float||!(za==="half float"||za==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):za==="half float"||za==="float16"?(Pt(we.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),xi="rgba16f"):(za==="float"||za==="float32")&&(Pt(we.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),xi="rgba32f"),Pt.oneOf(za,wn,"invalid color type")),"colorFormat"in Ca&&(xi=Ca.colorFormat,vn.indexOf(xi)>=0?$i=!0:yn.indexOf(xi)>=0?$i=!1:$i?Pt.oneOf(Ca.colorFormat,vn,"invalid color format for texture"):Pt.oneOf(Ca.colorFormat,yn,"invalid color format for renderbuffer"))),("depthTexture"in Ca||"depthStencilTexture"in Ca)&&(go=!!(Ca.depthTexture||Ca.depthStencilTexture),Pt(!go||we.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Ca&&(typeof Ca.depth=="boolean"?da=Ca.depth:(Qi=Ca.depth,Pi=!1)),"stencil"in Ca&&(typeof Ca.stencil=="boolean"?Pi=Ca.stencil:(Mo=Ca.stencil,da=!1)),"depthStencil"in Ca&&(typeof Ca.depthStencil=="boolean"?da=Pi=Ca.depthStencil:(Do=Ca.depthStencil,da=!1,Pi=!1))}var Ka=null,ia=null,ka=null,Ha=null;if(Array.isArray(ma))Ka=ma.map(K);else if(ma)Ka=[K(ma)];else for(Ka=new Array(Oi),$n=0;$n<Oi;++$n)Ka[$n]=it(aa,pa,$i,xi,za);Pt(we.webgl_draw_buffers||Ka.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),Pt(Ka.length<=Ge.maxColorAttachments,"too many color attachments, not supported"),aa=aa||Ka[0].width,pa=pa||Ka[0].height,Qi?ia=K(Qi):da&&!Pi&&(ia=it(aa,pa,go,"depth","uint32")),Mo?ka=K(Mo):Pi&&!da&&(ka=it(aa,pa,!1,"stencil","uint8")),Do?Ha=K(Do):!Qi&&!Mo&&Pi&&da&&(Ha=it(aa,pa,go,"depth stencil","depth stencil")),Pt(!!Qi+!!Mo+!!Do<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var mo=null;for($n=0;$n<Ka.length;++$n)if(v(Ka[$n],aa,pa),Pt(!Ka[$n]||Ka[$n].texture&&ad.indexOf(Ka[$n].texture._texture.format)>=0||Ka[$n].renderbuffer&&Ef.indexOf(Ka[$n].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+$n+" is invalid"),Ka[$n]&&Ka[$n].texture){var Ks=Pc[Ka[$n].texture._texture.format]*rl[Ka[$n].texture._texture.type];mo===null?mo=Ks:Pt(mo===Ks,"all color attachments much have the same number of bits per pixel.")}return v(ia,aa,pa),Pt(!ia||ia.texture&&ia.texture._texture.format===bf||ia.renderbuffer&&ia.renderbuffer._renderbuffer.format===xf,"invalid depth attachment for framebuffer object"),v(ka,aa,pa),Pt(!ka||ka.renderbuffer&&ka.renderbuffer._renderbuffer.format===nl,"invalid stencil attachment for framebuffer object"),v(Ha,aa,pa),Pt(!Ha||Ha.texture&&Ha.texture._texture.format===Su||Ha.renderbuffer&&Ha.renderbuffer._renderbuffer.format===Su,"invalid depth-stencil attachment for framebuffer object"),le(gr),gr.width=aa,gr.height=pa,gr.colorAttachments=Ka,gr.depthAttachment=ia,gr.stencilAttachment=ka,gr.depthStencilAttachment=Ha,xn.color=Ka.map(ht),xn.depth=ht(ia),xn.stencil=ht(ka),xn.depthStencil=ht(Ha),xn.width=gr.width,xn.height=gr.height,ge(gr),xn}function Ln(Cn,Jn){Pt(Ur.next!==gr,"can not resize a framebuffer which is currently in use");var $n=Math.max(Cn|0,1),aa=Math.max(Jn|0||$n,1);if($n===gr.width&&aa===gr.height)return xn;for(var pa=gr.colorAttachments,da=0;da<pa.length;++da)yt(pa[da],$n,aa);return yt(gr.depthAttachment,$n,aa),yt(gr.stencilAttachment,$n,aa),yt(gr.depthStencilAttachment,$n,aa),gr.width=xn.width=$n,gr.height=xn.height=aa,ge(gr),xn}return xn(dr,pr),C(xn,{resize:Ln,_reglType:"framebuffer",_framebuffer:gr,destroy:function(){xe(gr),le(gr)},use:function(Cn){Ur.setFBO({framebuffer:xn},Cn)}})}function ar(dr){var pr=Array(6);function gr(Ln){var Cn;Pt(pr.indexOf(Ur.next)<0,"can not update framebuffer which is currently in use");var Jn={color:null},$n=0,aa=null,pa="rgba",da="uint8",Pi=1;if(typeof Ln=="number")$n=Ln|0;else if(!Ln)$n=1;else{Pt.type(Ln,"object","invalid arguments for framebuffer");var ma=Ln;if("shape"in ma){var $i=ma.shape;Pt(Array.isArray($i)&&$i.length>=2,"invalid shape for framebuffer"),Pt($i[0]===$i[1],"cube framebuffer must be square"),$n=$i[0]}else"radius"in ma&&($n=ma.radius|0),"width"in ma?($n=ma.width|0,"height"in ma&&Pt(ma.height===$n,"must be square")):"height"in ma&&($n=ma.height|0);("color"in ma||"colors"in ma)&&(aa=ma.color||ma.colors,Array.isArray(aa)&&Pt(aa.length===1||we.webgl_draw_buffers,"multiple render targets not supported")),aa||("colorCount"in ma&&(Pi=ma.colorCount|0,Pt(Pi>0,"invalid color buffer count")),"colorType"in ma&&(Pt.oneOf(ma.colorType,wn,"invalid color type"),da=ma.colorType),"colorFormat"in ma&&(pa=ma.colorFormat,Pt.oneOf(ma.colorFormat,vn,"invalid color format for texture"))),"depth"in ma&&(Jn.depth=ma.depth),"stencil"in ma&&(Jn.stencil=ma.stencil),"depthStencil"in ma&&(Jn.depthStencil=ma.depthStencil)}var xi;if(aa)if(Array.isArray(aa))for(xi=[],Cn=0;Cn<aa.length;++Cn)xi[Cn]=aa[Cn];else xi=[aa];else{xi=Array(Pi);var za={radius:$n,format:pa,type:da};for(Cn=0;Cn<Pi;++Cn)xi[Cn]=Pr.createCube(za)}for(Jn.color=Array(xi.length),Cn=0;Cn<xi.length;++Cn){var Oi=xi[Cn];Pt(typeof Oi=="function"&&Oi._reglType==="textureCube","invalid cube map"),$n=$n||Oi.width,Pt(Oi.width===$n&&Oi.height===$n,"invalid cube map shape"),Jn.color[Cn]={target:Nl,data:xi[Cn]}}for(Cn=0;Cn<6;++Cn){for(var Qi=0;Qi<xi.length;++Qi)Jn.color[Qi].target=Nl+Cn;Cn>0&&(Jn.depth=pr[0].depth,Jn.stencil=pr[0].stencil,Jn.depthStencil=pr[0].depthStencil),pr[Cn]?pr[Cn](Jn):pr[Cn]=Be(Jn)}return C(gr,{width:$n,height:$n,color:xi})}function xn(Ln){var Cn,Jn=Ln|0;if(Pt(Jn>0&&Jn<=Ge.maxCubeMapSize,"invalid radius for cube fbo"),Jn===gr.width)return gr;var $n=gr.color;for(Cn=0;Cn<$n.length;++Cn)$n[Cn].resize(Jn);for(Cn=0;Cn<6;++Cn)pr[Cn].resize(Jn);return gr.width=gr.height=Jn,gr}return gr(dr),C(gr,{faces:pr,resize:xn,_reglType:"framebufferCube",destroy:function(){pr.forEach(function(Ln){Ln.destroy()})}})}function Yr(){Ur.cur=null,Ur.next=null,Ur.dirty=!0,Va(kt).forEach(function(dr){dr.framebuffer=Lt.createFramebuffer(),ge(dr)})}return C(Ur,{getFramebuffer:function(dr){if(typeof dr=="function"&&dr._reglType==="framebuffer"){var pr=dr._framebuffer;if(pr instanceof Vt)return pr}return null},create:Be,createCube:ar,clear:function(){Va(kt).forEach(xe)},restore:Yr})}var sd=5126,Bl=34962;function Rc(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=sd,this.offset=0,this.stride=0,this.divisor=0}function ud(Lt,we,Ge,Pr,Jr){for(var Ir=Ge.maxAttributes,Ur=new Array(Ir),vn=0;vn<Ir;++vn)Ur[vn]=new Rc;var yn=0,wn={},bn={Record:Rc,scope:{},state:Ur,currentVAO:null,targetVAO:null,restore:v()?kt:function(){},createVAO:Vt,getVAO:K,destroyBuffer:_n,setVAO:v()?it:ht,clear:v()?yt:function(){}};function _n(le){for(var xe=0;xe<Ur.length;++xe){var ge=Ur[xe];ge.buffer===le&&(Lt.disableVertexAttribArray(xe),ge.buffer=null)}}function v(){return we.oes_vertex_array_object}function N(){return we.angle_instanced_arrays}function K(le){return typeof le=="function"&&le._vao?le._vao:null}function it(le){if(le!==bn.currentVAO){var xe=v();le?xe.bindVertexArrayOES(le.vao):xe.bindVertexArrayOES(null),bn.currentVAO=le}}function ht(le){if(le!==bn.currentVAO){if(le)le.bindAttrs();else for(var xe=N(),ge=0;ge<Ur.length;++ge){var Be=Ur[ge];Be.buffer?(Lt.enableVertexAttribArray(ge),Lt.vertexAttribPointer(ge,Be.size,Be.type,Be.normalized,Be.stride,Be.offfset),xe&&Be.divisor&&xe.vertexAttribDivisorANGLE(ge,Be.divisor)):(Lt.disableVertexAttribArray(ge),Lt.vertexAttrib4f(ge,Be.x,Be.y,Be.z,Be.w))}bn.currentVAO=le}}function yt(){Va(wn).forEach(function(le){le.destroy()})}function Ot(){this.id=++yn,this.attributes=[];var le=v();le?this.vao=le.createVertexArrayOES():this.vao=null,wn[this.id]=this,this.buffers=[]}Ot.prototype.bindAttrs=function(){for(var le=N(),xe=this.attributes,ge=0;ge<xe.length;++ge){var Be=xe[ge];Be.buffer?(Lt.enableVertexAttribArray(ge),Lt.bindBuffer(Bl,Be.buffer.buffer),Lt.vertexAttribPointer(ge,Be.size,Be.type,Be.normalized,Be.stride,Be.offset),le&&Be.divisor&&le.vertexAttribDivisorANGLE(ge,Be.divisor)):(Lt.disableVertexAttribArray(ge),Lt.vertexAttrib4f(ge,Be.x,Be.y,Be.z,Be.w))}for(var ar=xe.length;ar<Ir;++ar)Lt.disableVertexAttribArray(ar)},Ot.prototype.refresh=function(){var le=v();le&&(le.bindVertexArrayOES(this.vao),this.bindAttrs(),bn.currentVAO=this)},Ot.prototype.destroy=function(){if(this.vao){var le=v();this===bn.currentVAO&&(bn.currentVAO=null,le.bindVertexArrayOES(null)),le.deleteVertexArrayOES(this.vao),this.vao=null}wn[this.id]&&(delete wn[this.id],Pr.vaoCount-=1)};function kt(){var le=v();le&&Va(wn).forEach(function(xe){xe.refresh()})}function Vt(le){var xe=new Ot;Pr.vaoCount+=1;function ge(Be){Pt(Array.isArray(Be),"arguments to vertex array constructor must be an array"),Pt(Be.length<Ir,"too many attributes"),Pt(Be.length>0,"must specify at least one attribute");var ar={},Yr=xe.attributes;Yr.length=Be.length;for(var dr=0;dr<Be.length;++dr){var pr=Be[dr],gr=Yr[dr]=new Rc,xn=pr.data||pr;if(Array.isArray(xn)||G(xn)||oi(xn)){var Ln;xe.buffers[dr]&&(Ln=xe.buffers[dr],G(xn)&&Ln._buffer.byteLength>=xn.byteLength?Ln.subdata(xn):(Ln.destroy(),xe.buffers[dr]=null)),xe.buffers[dr]||(Ln=xe.buffers[dr]=Jr.create(pr,Bl,!1,!0)),gr.buffer=Jr.getBuffer(Ln),gr.size=gr.buffer.dimension|0,gr.normalized=!1,gr.type=gr.buffer.dtype,gr.offset=0,gr.stride=0,gr.divisor=0,gr.state=1,ar[dr]=1}else Jr.getBuffer(pr)?(gr.buffer=Jr.getBuffer(pr),gr.size=gr.buffer.dimension|0,gr.normalized=!1,gr.type=gr.buffer.dtype,gr.offset=0,gr.stride=0,gr.divisor=0,gr.state=1):Jr.getBuffer(pr.buffer)?(gr.buffer=Jr.getBuffer(pr.buffer),gr.size=(+pr.size||gr.buffer.dimension)|0,gr.normalized=!!pr.normalized||!1,"type"in pr?(Pt.parameter(pr.type,Mi,"invalid buffer type"),gr.type=Mi[pr.type]):gr.type=gr.buffer.dtype,gr.offset=(pr.offset||0)|0,gr.stride=(pr.stride||0)|0,gr.divisor=(pr.divisor||0)|0,gr.state=1,Pt(gr.size>=1&&gr.size<=4,"size must be between 1 and 4"),Pt(gr.offset>=0,"invalid offset"),Pt(gr.stride>=0&&gr.stride<=255,"stride must be between 0 and 255"),Pt(gr.divisor>=0,"divisor must be positive"),Pt(!gr.divisor||!!we.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in pr?(Pt(dr>0,"first attribute must not be a constant"),gr.x=+pr.x||0,gr.y=+pr.y||0,gr.z=+pr.z||0,gr.w=+pr.w||0,gr.state=2):Pt(!1,"invalid attribute spec for location "+dr)}for(var Cn=0;Cn<xe.buffers.length;++Cn)!ar[Cn]&&xe.buffers[Cn]&&(xe.buffers[Cn].destroy(),xe.buffers[Cn]=null);return xe.refresh(),ge}return ge.destroy=function(){for(var Be=0;Be<xe.buffers.length;++Be)xe.buffers[Be]&&xe.buffers[Be].destroy();xe.buffers.length=0,xe.destroy()},ge._vao=xe,ge._reglType="vao",ge(le)}return bn}var il=35632,wf=35633,ld=35718,Sf=35721;function Mf(Lt,we,Ge,Pr){var Jr={},Ir={};function Ur(it,ht,yt,Ot){this.name=it,this.id=ht,this.location=yt,this.info=Ot}function vn(it,ht){for(var yt=0;yt<it.length;++yt)if(it[yt].id===ht.id){it[yt].location=ht.location;return}it.push(ht)}function yn(it,ht,yt){var Ot=it===il?Jr:Ir,kt=Ot[ht];if(!kt){var Vt=we.str(ht);kt=Lt.createShader(it),Lt.shaderSource(kt,Vt),Lt.compileShader(kt),Pt.shaderError(Lt,kt,Vt,it,yt),Ot[ht]=kt}return kt}var wn={},bn=[],_n=0;function v(it,ht){this.id=_n++,this.fragId=it,this.vertId=ht,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Pr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function N(it,ht,yt){var Ot,kt,Vt=yn(il,it.fragId),le=yn(wf,it.vertId),xe=it.program=Lt.createProgram();if(Lt.attachShader(xe,Vt),Lt.attachShader(xe,le),yt)for(Ot=0;Ot<yt.length;++Ot){var ge=yt[Ot];Lt.bindAttribLocation(xe,ge[0],ge[1])}Lt.linkProgram(xe),Pt.linkError(Lt,xe,we.str(it.fragId),we.str(it.vertId),ht);var Be=Lt.getProgramParameter(xe,ld);Pr.profile&&(it.stats.uniformsCount=Be);var ar=it.uniforms;for(Ot=0;Ot<Be;++Ot)if(kt=Lt.getActiveUniform(xe,Ot),kt)if(kt.size>1)for(var Yr=0;Yr<kt.size;++Yr){var dr=kt.name.replace("[0]","["+Yr+"]");vn(ar,new Ur(dr,we.id(dr),Lt.getUniformLocation(xe,dr),kt))}else vn(ar,new Ur(kt.name,we.id(kt.name),Lt.getUniformLocation(xe,kt.name),kt));var pr=Lt.getProgramParameter(xe,Sf);Pr.profile&&(it.stats.attributesCount=pr);var gr=it.attributes;for(Ot=0;Ot<pr;++Ot)kt=Lt.getActiveAttrib(xe,Ot),kt&&vn(gr,new Ur(kt.name,we.id(kt.name),Lt.getAttribLocation(xe,kt.name),kt))}Pr.profile&&(Ge.getMaxUniformsCount=function(){var it=0;return bn.forEach(function(ht){ht.stats.uniformsCount>it&&(it=ht.stats.uniformsCount)}),it},Ge.getMaxAttributesCount=function(){var it=0;return bn.forEach(function(ht){ht.stats.attributesCount>it&&(it=ht.stats.attributesCount)}),it});function K(){Jr={},Ir={};for(var it=0;it<bn.length;++it)N(bn[it],null,bn[it].attributes.map(function(ht){return[ht.location,ht.name]}))}return{clear:function(){var it=Lt.deleteShader.bind(Lt);Va(Jr).forEach(it),Jr={},Va(Ir).forEach(it),Ir={},bn.forEach(function(ht){Lt.deleteProgram(ht.program)}),bn.length=0,wn={},Ge.shaderCount=0},program:function(it,ht,yt,Ot){Pt.command(it>=0,"missing vertex shader",yt),Pt.command(ht>=0,"missing fragment shader",yt);var kt=wn[ht];kt||(kt=wn[ht]={});var Vt=kt[it];if(Vt&&(Vt.refCount++,!Ot))return Vt;var le=new v(ht,it);return Ge.shaderCount++,N(le,yt,Ot),Vt||(kt[it]=le),bn.push(le),C(le,{destroy:function(){if(le.refCount--,le.refCount<=0){Lt.deleteProgram(le.program);var xe=bn.indexOf(le);bn.splice(xe,1),Ge.shaderCount--}kt[le.vertId].refCount<=0&&(Lt.deleteShader(Ir[le.vertId]),delete Ir[le.vertId],delete wn[le.fragId][le.vertId]),Object.keys(wn[le.fragId]).length||(Lt.deleteShader(Jr[le.fragId]),delete Jr[le.fragId],delete wn[le.fragId])}})},restore:K,shader:yn,frag:-1,vert:-1}}var ol=6408,Cu=5121,Tu=3333,Fl=5126;function zl(Lt,we,Ge,Pr,Jr,Ir,Ur){function vn(bn){var _n;we.next===null?(Pt(Jr.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),_n=Cu):(Pt(we.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),_n=we.next.colorAttachments[0].texture._texture.type,Ir.oes_texture_float?(Pt(_n===Cu||_n===Fl,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),_n===Fl&&Pt(Ur.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):Pt(_n===Cu,"Reading from a framebuffer is only allowed for the type 'uint8'"));var v=0,N=0,K=Pr.framebufferWidth,it=Pr.framebufferHeight,ht=null;G(bn)?ht=bn:bn&&(Pt.type(bn,"object","invalid arguments to regl.read()"),v=bn.x|0,N=bn.y|0,Pt(v>=0&&v<Pr.framebufferWidth,"invalid x offset for regl.read"),Pt(N>=0&&N<Pr.framebufferHeight,"invalid y offset for regl.read"),K=(bn.width||Pr.framebufferWidth-v)|0,it=(bn.height||Pr.framebufferHeight-N)|0,ht=bn.data||null),ht&&(_n===Cu?Pt(ht instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):_n===Fl&&Pt(ht instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),Pt(K>0&&K+v<=Pr.framebufferWidth,"invalid width for read pixels"),Pt(it>0&&it+N<=Pr.framebufferHeight,"invalid height for read pixels"),Ge();var yt=K*it*4;return ht||(_n===Cu?ht=new Uint8Array(yt):_n===Fl&&(ht=ht||new Float32Array(yt))),Pt.isTypedArray(ht,"data buffer for regl.read() must be a typedarray"),Pt(ht.byteLength>=yt,"data buffer for regl.read() too small"),Lt.pixelStorei(Tu,4),Lt.readPixels(v,N,K,it,ol,_n,ht),ht}function yn(bn){var _n;return we.setFBO({framebuffer:bn.framebuffer},function(){_n=vn(bn)}),_n}function wn(bn){return!bn||!("framebuffer"in bn)?vn(bn):yn(bn)}return wn}function To(Lt){return Array.prototype.slice.call(Lt)}function uu(Lt){return To(Lt).join("")}function _f(){var Lt=0,we=[],Ge=[];function Pr(_n){for(var v=0;v<Ge.length;++v)if(Ge[v]===_n)return we[v];var N="g"+Lt++;return we.push(N),Ge.push(_n),N}function Jr(){var _n=[];function v(){_n.push.apply(_n,To(arguments))}var N=[];function K(){var it="v"+Lt++;return N.push(it),arguments.length>0&&(_n.push(it,"="),_n.push.apply(_n,To(arguments)),_n.push(";")),it}return C(v,{def:K,toString:function(){return uu([N.length>0?"var "+N.join(",")+";":"",uu(_n)])}})}function Ir(){var _n=Jr(),v=Jr(),N=_n.toString,K=v.toString;function it(ht,yt){v(ht,yt,"=",_n.def(ht,yt),";")}return C(function(){_n.apply(_n,To(arguments))},{def:_n.def,entry:_n,exit:v,save:it,set:function(ht,yt,Ot){it(ht,yt),_n(ht,yt,"=",Ot,";")},toString:function(){return N()+K()}})}function Ur(){var _n=uu(arguments),v=Ir(),N=Ir(),K=v.toString,it=N.toString;return C(v,{then:function(){return v.apply(v,To(arguments)),this},else:function(){return N.apply(N,To(arguments)),this},toString:function(){var ht=it();return ht&&(ht="else{"+ht+"}"),uu(["if(",_n,"){",K(),"}",ht])}})}var vn=Jr(),yn={};function wn(_n,v){var N=[];function K(){var kt="a"+N.length;return N.push(kt),kt}v=v||0;for(var it=0;it<v;++it)K();var ht=Ir(),yt=ht.toString,Ot=yn[_n]=C(ht,{arg:K,toString:function(){return uu(["function(",N.join(),"){",yt(),"}"])}});return Ot}function bn(){var _n=['"use strict";',vn,"return {"];Object.keys(yn).forEach(function(K){_n.push('"',K,'":',yn[K].toString(),",")}),_n.push("}");var v=uu(_n).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),N=Function.apply(null,we.concat(v));return N.apply(null,Ge)}return{global:vn,link:Pr,block:Jr,proc:wn,scope:Ir,cond:Ur,compile:bn}}var lu="xyzw".split(""),sl=5121,ss=1,Ds=2,Gl=0,Ul=1,kc=2,rs=3,ul=4,ll=5,Wl=6,Bc="dither",Cf="blend.enable",Tf="blend.color",cl="blend.equation",Yl="blend.func",Af="depth.enable",cd="depth.func",Of="depth.range",Au="depth.mask",Xl="colorMask",$e="cull.enable",fd="cull.face",fl="frontFace",dl="lineWidth",Fc="polygonOffset.enable",zc="polygonOffset.offset",Gc="sample.alpha",If="sample.enable",cu="sample.coverage",jl="stencil.enable",hl="stencil.mask",Ou="stencil.func",So="stencil.opFront",Iu="stencil.opBack",Uc="scissor.enable",Xs="scissor.box",Ms="viewport",Du="profile",fu="framebuffer",Ps="vert",Pu="frag",du="elements",js="primitive",Ls="count",Vl="offset",Hl="instances",Lu="vao",Zl="Width",Kl="Height",Nu=fu+Zl,us=fu+Kl,$l=Ms+Zl,Ns=Ms+Kl,Ql="drawingBuffer",Wc=Ql+Zl,ql=Ql+Kl,Df=[Yl,cl,Ou,So,Iu,cu,Ms,Xs,zc],hu=34962,Yc=34963,Jl=35632,dd=35633,Pf=3553,Lf=34067,hd=2884,Nf=3042,Rf=3024,vd=2960,kf=2929,vl=3089,Bf=32823,Ru=32926,Xc=32928,vu=5126,tc=35664,ec=35665,pl=35666,Vs=5124,ku=35667,Bu=35668,gl=35669,rc=35670,nc=35671,ml=35672,ac=35673,ic=35674,yl=35675,Fu=35676,zu=35678,Gu=35680,Ff=4,bl=1028,pu=1029,zf=2304,xl=2305,pd=32775,Gf=32776,Ud=519,Rs=7680,Uf=0,Wf=1,Yf=32774,Xf=513,jc=36160,gd=36064,ko={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Vc=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Uu={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ks={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},jf={frag:Jl,vert:dd},oc={cw:zf,ccw:xl};function El(Lt){return Array.isArray(Lt)||G(Lt)||oi(Lt)}function ms(Lt){return Lt.sort(function(we,Ge){return we===Ms?-1:Ge===Ms?1:we<Ge?-1:1})}function Xo(Lt,we,Ge,Pr){this.thisDep=Lt,this.contextDep=we,this.propDep=Ge,this.append=Pr}function Bs(Lt){return Lt&&!(Lt.thisDep||Lt.contextDep||Lt.propDep)}function ao(Lt){return new Xo(!1,!1,!1,Lt)}function bi(Lt,we){var Ge=Lt.type;if(Ge===Gl){var Pr=Lt.data.length;return new Xo(!0,Pr>=1,Pr>=2,we)}else if(Ge===ul){var Jr=Lt.data;return new Xo(Jr.thisDep,Jr.contextDep,Jr.propDep,we)}else{if(Ge===ll)return new Xo(!1,!1,!1,we);if(Ge===Wl){for(var Ir=!1,Ur=!1,vn=!1,yn=0;yn<Lt.data.length;++yn){var wn=Lt.data[yn];if(wn.type===Ul)vn=!0;else if(wn.type===kc)Ur=!0;else if(wn.type===rs)Ir=!0;else if(wn.type===Gl){Ir=!0;var bn=wn.data;bn>=1&&(Ur=!0),bn>=2&&(vn=!0)}else wn.type===ul&&(Ir=Ir||wn.data.thisDep,Ur=Ur||wn.data.contextDep,vn=vn||wn.data.propDep)}return new Xo(Ir,Ur,vn,we)}else return new Xo(Ge===rs,Ge===kc,Ge===Ul,we)}}var gu=new Xo(!1,!1,!1,function(){});function Wu(Lt,we,Ge,Pr,Jr,Ir,Ur,vn,yn,wn,bn,_n,v,N,K){var it=wn.Record,ht={add:32774,subtract:32778,"reverse subtract":32779};Ge.ext_blend_minmax&&(ht.min=pd,ht.max=Gf);var yt=Ge.angle_instanced_arrays,Ot=Ge.webgl_draw_buffers,kt={dirty:!0,profile:K.profile},Vt={},le=[],xe={},ge={};function Be(Oe){return Oe.replace(".","_")}function ar(Oe,ye,Ze){var yr=Be(Oe);le.push(Oe),Vt[yr]=kt[yr]=!!Ze,xe[yr]=ye}function Yr(Oe,ye,Ze){var yr=Be(Oe);le.push(Oe),Array.isArray(Ze)?(kt[yr]=Ze.slice(),Vt[yr]=Ze.slice()):kt[yr]=Vt[yr]=Ze,ge[yr]=ye}ar(Bc,Rf),ar(Cf,Nf),Yr(Tf,"blendColor",[0,0,0,0]),Yr(cl,"blendEquationSeparate",[Yf,Yf]),Yr(Yl,"blendFuncSeparate",[Wf,Uf,Wf,Uf]),ar(Af,kf,!0),Yr(cd,"depthFunc",Xf),Yr(Of,"depthRange",[0,1]),Yr(Au,"depthMask",!0),Yr(Xl,Xl,[!0,!0,!0,!0]),ar($e,hd),Yr(fd,"cullFace",pu),Yr(fl,fl,xl),Yr(dl,dl,1),ar(Fc,Bf),Yr(zc,"polygonOffset",[0,0]),ar(Gc,Ru),ar(If,Xc),Yr(cu,"sampleCoverage",[1,!1]),ar(jl,vd),Yr(hl,"stencilMask",-1),Yr(Ou,"stencilFunc",[Ud,0,-1]),Yr(So,"stencilOpSeparate",[bl,Rs,Rs,Rs]),Yr(Iu,"stencilOpSeparate",[pu,Rs,Rs,Rs]),ar(Uc,vl),Yr(Xs,"scissor",[0,0,Lt.drawingBufferWidth,Lt.drawingBufferHeight]),Yr(Ms,Ms,[0,0,Lt.drawingBufferWidth,Lt.drawingBufferHeight]);var dr={gl:Lt,context:v,strings:we,next:Vt,current:kt,draw:_n,elements:Ir,buffer:Jr,shader:bn,attributes:wn.state,vao:wn,uniforms:yn,framebuffer:vn,extensions:Ge,timer:N,isBufferArgs:El},pr={primTypes:xa,compareFuncs:Uu,blendFuncs:ko,blendEquations:ht,stencilOps:ks,glTypes:Mi,orientationType:oc};Pt.optional(function(){dr.isArrayLike=Sa}),Ot&&(pr.backBuffer=[pu],pr.drawBuffer=Pn(Pr.maxDrawbuffers,function(Oe){return Oe===0?[0]:Pn(Oe,function(ye){return gd+ye})}));var gr=0;function xn(){var Oe=_f(),ye=Oe.link,Ze=Oe.global;Oe.id=gr++,Oe.batchId="0";var yr=ye(dr),Er=Oe.shared={props:"a0"};Object.keys(dr).forEach(function(Ke){Er[Ke]=Ze.def(yr,".",Ke)}),Pt.optional(function(){Oe.CHECK=ye(Pt),Oe.commandStr=Pt.guessCommand(),Oe.command=ye(Oe.commandStr),Oe.assert=function(Ke,Te,hr){Ke("if(!(",Te,"))",this.CHECK,".commandRaise(",ye(hr),",",this.command,");")},pr.invalidBlendCombinations=Vc});var tr=Oe.next={},Qe=Oe.current={};Object.keys(ge).forEach(function(Ke){Array.isArray(kt[Ke])&&(tr[Ke]=Ze.def(Er.next,".",Ke),Qe[Ke]=Ze.def(Er.current,".",Ke))});var lr=Oe.constants={};Object.keys(pr).forEach(function(Ke){lr[Ke]=Ze.def(JSON.stringify(pr[Ke]))}),Oe.invoke=function(Ke,Te){switch(Te.type){case Gl:var hr=["this",Er.context,Er.props,Oe.batchId];return Ke.def(ye(Te.data),".call(",hr.slice(0,Math.max(Te.data.length+1,4)),")");case Ul:return Ke.def(Er.props,Te.data);case kc:return Ke.def(Er.context,Te.data);case rs:return Ke.def("this",Te.data);case ul:return Te.data.append(Oe,Ke),Te.data.ref;case ll:return Te.data.toString();case Wl:return Te.data.map(function(wr){return Oe.invoke(Ke,wr)})}},Oe.attribCache={};var Ie={};return Oe.scopeAttrib=function(Ke){var Te=we.id(Ke);if(Te in Ie)return Ie[Te];var hr=wn.scope[Te];hr||(hr=wn.scope[Te]=new it);var wr=Ie[Te]=ye(hr);return wr},Oe}function Ln(Oe){var ye=Oe.static,Ze=Oe.dynamic,yr;if(Du in ye){var Er=!!ye[Du];yr=ao(function(Qe,lr){return Er}),yr.enable=Er}else if(Du in Ze){var tr=Ze[Du];yr=bi(tr,function(Qe,lr){return Qe.invoke(lr,tr)})}return yr}function Cn(Oe,ye){var Ze=Oe.static,yr=Oe.dynamic;if(fu in Ze){var Er=Ze[fu];return Er?(Er=vn.getFramebuffer(Er),Pt.command(Er,"invalid framebuffer object"),ao(function(Qe,lr){var Ie=Qe.link(Er),Ke=Qe.shared;lr.set(Ke.framebuffer,".next",Ie);var Te=Ke.context;return lr.set(Te,"."+Nu,Ie+".width"),lr.set(Te,"."+us,Ie+".height"),Ie})):ao(function(Qe,lr){var Ie=Qe.shared;lr.set(Ie.framebuffer,".next","null");var Ke=Ie.context;return lr.set(Ke,"."+Nu,Ke+"."+Wc),lr.set(Ke,"."+us,Ke+"."+ql),"null"})}else if(fu in yr){var tr=yr[fu];return bi(tr,function(Qe,lr){var Ie=Qe.invoke(lr,tr),Ke=Qe.shared,Te=Ke.framebuffer,hr=lr.def(Te,".getFramebuffer(",Ie,")");Pt.optional(function(){Qe.assert(lr,"!"+Ie+"||"+hr,"invalid framebuffer object")}),lr.set(Te,".next",hr);var wr=Ke.context;return lr.set(wr,"."+Nu,hr+"?"+hr+".width:"+wr+"."+Wc),lr.set(wr,"."+us,hr+"?"+hr+".height:"+wr+"."+ql),hr})}else return null}function Jn(Oe,ye,Ze){var yr=Oe.static,Er=Oe.dynamic;function tr(Ie){if(Ie in yr){var Ke=yr[Ie];Pt.commandType(Ke,"object","invalid "+Ie,Ze.commandStr);var Te=!0,hr=Ke.x|0,wr=Ke.y|0,$r,rn;return"width"in Ke?($r=Ke.width|0,Pt.command($r>=0,"invalid "+Ie,Ze.commandStr)):Te=!1,"height"in Ke?(rn=Ke.height|0,Pt.command(rn>=0,"invalid "+Ie,Ze.commandStr)):Te=!1,new Xo(!Te&&ye&&ye.thisDep,!Te&&ye&&ye.contextDep,!Te&&ye&&ye.propDep,function(ea,Aa){var Zn=ea.shared.context,la=$r;"width"in Ke||(la=Aa.def(Zn,".",Nu,"-",hr));var Ma=rn;return"height"in Ke||(Ma=Aa.def(Zn,".",us,"-",wr)),[hr,wr,la,Ma]})}else if(Ie in Er){var Xr=Er[Ie],Sn=bi(Xr,function(ea,Aa){var Zn=ea.invoke(Aa,Xr);Pt.optional(function(){ea.assert(Aa,Zn+"&&typeof "+Zn+'==="object"',"invalid "+Ie)});var la=ea.shared.context,Ma=Aa.def(Zn,".x|0"),ei=Aa.def(Zn,".y|0"),ji=Aa.def('"width" in ',Zn,"?",Zn,".width|0:","(",la,".",Nu,"-",Ma,")"),ns=Aa.def('"height" in ',Zn,"?",Zn,".height|0:","(",la,".",us,"-",ei,")");return Pt.optional(function(){ea.assert(Aa,ji+">=0&&"+ns+">=0","invalid "+Ie)}),[Ma,ei,ji,ns]});return ye&&(Sn.thisDep=Sn.thisDep||ye.thisDep,Sn.contextDep=Sn.contextDep||ye.contextDep,Sn.propDep=Sn.propDep||ye.propDep),Sn}else return ye?new Xo(ye.thisDep,ye.contextDep,ye.propDep,function(ea,Aa){var Zn=ea.shared.context;return[0,0,Aa.def(Zn,".",Nu),Aa.def(Zn,".",us)]}):null}var Qe=tr(Ms);if(Qe){var lr=Qe;Qe=new Xo(Qe.thisDep,Qe.contextDep,Qe.propDep,function(Ie,Ke){var Te=lr.append(Ie,Ke),hr=Ie.shared.context;return Ke.set(hr,"."+$l,Te[2]),Ke.set(hr,"."+Ns,Te[3]),Te})}return{viewport:Qe,scissor_box:tr(Xs)}}function $n(Oe,ye){var Ze=Oe.static,yr=typeof Ze[Pu]=="string"&&typeof Ze[Ps]=="string";if(yr){if(Object.keys(ye.dynamic).length>0)return null;var Er=ye.static,tr=Object.keys(Er);if(tr.length>0&&typeof Er[tr[0]]=="number"){for(var Qe=[],lr=0;lr<tr.length;++lr)Pt(typeof Er[tr[lr]]=="number","must specify all vertex attribute locations when using vaos"),Qe.push([Er[tr[lr]]|0,tr[lr]]);return Qe}}return null}function aa(Oe,ye,Ze){var yr=Oe.static,Er=Oe.dynamic;function tr(Te){if(Te in yr){var hr=we.id(yr[Te]);Pt.optional(function(){bn.shader(jf[Te],hr,Pt.guessCommand())});var wr=ao(function(){return hr});return wr.id=hr,wr}else if(Te in Er){var $r=Er[Te];return bi($r,function(rn,Xr){var Sn=rn.invoke(Xr,$r),ea=Xr.def(rn.shared.strings,".id(",Sn,")");return Pt.optional(function(){Xr(rn.shared.shader,".shader(",jf[Te],",",ea,",",rn.command,");")}),ea})}return null}var Qe=tr(Pu),lr=tr(Ps),Ie=null,Ke;return Bs(Qe)&&Bs(lr)?(Ie=bn.program(lr.id,Qe.id,null,Ze),Ke=ao(function(Te,hr){return Te.link(Ie)})):Ke=new Xo(Qe&&Qe.thisDep||lr&&lr.thisDep,Qe&&Qe.contextDep||lr&&lr.contextDep,Qe&&Qe.propDep||lr&&lr.propDep,function(Te,hr){var wr=Te.shared.shader,$r;Qe?$r=Qe.append(Te,hr):$r=hr.def(wr,".",Pu);var rn;lr?rn=lr.append(Te,hr):rn=hr.def(wr,".",Ps);var Xr=wr+".program("+rn+","+$r;return Pt.optional(function(){Xr+=","+Te.command}),hr.def(Xr+")")}),{frag:Qe,vert:lr,progVar:Ke,program:Ie}}function pa(Oe,ye){var Ze=Oe.static,yr=Oe.dynamic;function Er(){if(du in Ze){var Te=Ze[du];El(Te)?Te=Ir.getElements(Ir.create(Te,!0)):Te&&(Te=Ir.getElements(Te),Pt.command(Te,"invalid elements",ye.commandStr));var hr=ao(function($r,rn){if(Te){var Xr=$r.link(Te);return $r.ELEMENTS=Xr,Xr}return $r.ELEMENTS=null,null});return hr.value=Te,hr}else if(du in yr){var wr=yr[du];return bi(wr,function($r,rn){var Xr=$r.shared,Sn=Xr.isBufferArgs,ea=Xr.elements,Aa=$r.invoke(rn,wr),Zn=rn.def("null"),la=rn.def(Sn,"(",Aa,")"),Ma=$r.cond(la).then(Zn,"=",ea,".createStream(",Aa,");").else(Zn,"=",ea,".getElements(",Aa,");");return Pt.optional(function(){$r.assert(Ma.else,"!"+Aa+"||"+Zn,"invalid elements")}),rn.entry(Ma),rn.exit($r.cond(la).then(ea,".destroyStream(",Zn,");")),$r.ELEMENTS=Zn,Zn})}return null}var tr=Er();function Qe(){if(js in Ze){var Te=Ze[js];return Pt.commandParameter(Te,xa,"invalid primitve",ye.commandStr),ao(function(wr,$r){return xa[Te]})}else if(js in yr){var hr=yr[js];return bi(hr,function(wr,$r){var rn=wr.constants.primTypes,Xr=wr.invoke($r,hr);return Pt.optional(function(){wr.assert($r,Xr+" in "+rn,"invalid primitive, must be one of "+Object.keys(xa))}),$r.def(rn,"[",Xr,"]")})}else if(tr)return Bs(tr)?tr.value?ao(function(wr,$r){return $r.def(wr.ELEMENTS,".primType")}):ao(function(){return Ff}):new Xo(tr.thisDep,tr.contextDep,tr.propDep,function(wr,$r){var rn=wr.ELEMENTS;return $r.def(rn,"?",rn,".primType:",Ff)});return null}function lr(Te,hr){if(Te in Ze){var wr=Ze[Te]|0;return Pt.command(!hr||wr>=0,"invalid "+Te,ye.commandStr),ao(function(rn,Xr){return hr&&(rn.OFFSET=wr),wr})}else if(Te in yr){var $r=yr[Te];return bi($r,function(rn,Xr){var Sn=rn.invoke(Xr,$r);return hr&&(rn.OFFSET=Sn,Pt.optional(function(){rn.assert(Xr,Sn+">=0","invalid "+Te)})),Sn})}else if(hr&&tr)return ao(function(rn,Xr){return rn.OFFSET="0",0});return null}var Ie=lr(Vl,!0);function Ke(){if(Ls in Ze){var Te=Ze[Ls]|0;return Pt.command(typeof Te=="number"&&Te>=0,"invalid vertex count",ye.commandStr),ao(function(){return Te})}else if(Ls in yr){var hr=yr[Ls];return bi(hr,function(rn,Xr){var Sn=rn.invoke(Xr,hr);return Pt.optional(function(){rn.assert(Xr,"typeof "+Sn+'==="number"&&'+Sn+">=0&&"+Sn+"===("+Sn+"|0)","invalid vertex count")}),Sn})}else if(tr)if(Bs(tr)){if(tr)return Ie?new Xo(Ie.thisDep,Ie.contextDep,Ie.propDep,function(rn,Xr){var Sn=Xr.def(rn.ELEMENTS,".vertCount-",rn.OFFSET);return Pt.optional(function(){rn.assert(Xr,Sn+">=0","invalid vertex offset/element buffer too small")}),Sn}):ao(function(rn,Xr){return Xr.def(rn.ELEMENTS,".vertCount")});var wr=ao(function(){return-1});return Pt.optional(function(){wr.MISSING=!0}),wr}else{var $r=new Xo(tr.thisDep||Ie.thisDep,tr.contextDep||Ie.contextDep,tr.propDep||Ie.propDep,function(rn,Xr){var Sn=rn.ELEMENTS;return rn.OFFSET?Xr.def(Sn,"?",Sn,".vertCount-",rn.OFFSET,":-1"):Xr.def(Sn,"?",Sn,".vertCount:-1")});return Pt.optional(function(){$r.DYNAMIC=!0}),$r}return null}return{elements:tr,primitive:Qe(),count:Ke(),instances:lr(Hl,!1),offset:Ie}}function da(Oe,ye){var Ze=Oe.static,yr=Oe.dynamic,Er={};return le.forEach(function(tr){var Qe=Be(tr);function lr(Ie,Ke){if(tr in Ze){var Te=Ie(Ze[tr]);Er[Qe]=ao(function(){return Te})}else if(tr in yr){var hr=yr[tr];Er[Qe]=bi(hr,function(wr,$r){return Ke(wr,$r,wr.invoke($r,hr))})}}switch(tr){case $e:case Cf:case Bc:case jl:case Af:case Uc:case Fc:case Gc:case If:case Au:return lr(function(Ie){return Pt.commandType(Ie,"boolean",tr,ye.commandStr),Ie},function(Ie,Ke,Te){return Pt.optional(function(){Ie.assert(Ke,"typeof "+Te+'==="boolean"',"invalid flag "+tr,Ie.commandStr)}),Te});case cd:return lr(function(Ie){return Pt.commandParameter(Ie,Uu,"invalid "+tr,ye.commandStr),Uu[Ie]},function(Ie,Ke,Te){var hr=Ie.constants.compareFuncs;return Pt.optional(function(){Ie.assert(Ke,Te+" in "+hr,"invalid "+tr+", must be one of "+Object.keys(Uu))}),Ke.def(hr,"[",Te,"]")});case Of:return lr(function(Ie){return Pt.command(Sa(Ie)&&Ie.length===2&&typeof Ie[0]=="number"&&typeof Ie[1]=="number"&&Ie[0]<=Ie[1],"depth range is 2d array",ye.commandStr),Ie},function(Ie,Ke,Te){Pt.optional(function(){Ie.assert(Ke,Ie.shared.isArrayLike+"("+Te+")&&"+Te+".length===2&&typeof "+Te+'[0]==="number"&&typeof '+Te+'[1]==="number"&&'+Te+"[0]<="+Te+"[1]","depth range must be a 2d array")});var hr=Ke.def("+",Te,"[0]"),wr=Ke.def("+",Te,"[1]");return[hr,wr]});case Yl:return lr(function(Ie){Pt.commandType(Ie,"object","blend.func",ye.commandStr);var Ke="srcRGB"in Ie?Ie.srcRGB:Ie.src,Te="srcAlpha"in Ie?Ie.srcAlpha:Ie.src,hr="dstRGB"in Ie?Ie.dstRGB:Ie.dst,wr="dstAlpha"in Ie?Ie.dstAlpha:Ie.dst;return Pt.commandParameter(Ke,ko,Qe+".srcRGB",ye.commandStr),Pt.commandParameter(Te,ko,Qe+".srcAlpha",ye.commandStr),Pt.commandParameter(hr,ko,Qe+".dstRGB",ye.commandStr),Pt.commandParameter(wr,ko,Qe+".dstAlpha",ye.commandStr),Pt.command(Vc.indexOf(Ke+", "+hr)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Ke+", "+hr+")",ye.commandStr),[ko[Ke],ko[hr],ko[Te],ko[wr]]},function(Ie,Ke,Te){var hr=Ie.constants.blendFuncs;Pt.optional(function(){Ie.assert(Ke,Te+"&&typeof "+Te+'==="object"',"invalid blend func, must be an object")});function wr(Zn,la){var Ma=Ke.def('"',Zn,la,'" in ',Te,"?",Te,".",Zn,la,":",Te,".",Zn);return Pt.optional(function(){Ie.assert(Ke,Ma+" in "+hr,"invalid "+tr+"."+Zn+la+", must be one of "+Object.keys(ko))}),Ma}var $r=wr("src","RGB"),rn=wr("dst","RGB");Pt.optional(function(){var Zn=Ie.constants.invalidBlendCombinations;Ie.assert(Ke,Zn+".indexOf("+$r+'+", "+'+rn+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Xr=Ke.def(hr,"[",$r,"]"),Sn=Ke.def(hr,"[",wr("src","Alpha"),"]"),ea=Ke.def(hr,"[",rn,"]"),Aa=Ke.def(hr,"[",wr("dst","Alpha"),"]");return[Xr,ea,Sn,Aa]});case cl:return lr(function(Ie){if(typeof Ie=="string")return Pt.commandParameter(Ie,ht,"invalid "+tr,ye.commandStr),[ht[Ie],ht[Ie]];if(typeof Ie=="object")return Pt.commandParameter(Ie.rgb,ht,tr+".rgb",ye.commandStr),Pt.commandParameter(Ie.alpha,ht,tr+".alpha",ye.commandStr),[ht[Ie.rgb],ht[Ie.alpha]];Pt.commandRaise("invalid blend.equation",ye.commandStr)},function(Ie,Ke,Te){var hr=Ie.constants.blendEquations,wr=Ke.def(),$r=Ke.def(),rn=Ie.cond("typeof ",Te,'==="string"');return Pt.optional(function(){function Xr(Sn,ea,Aa){Ie.assert(Sn,Aa+" in "+hr,"invalid "+ea+", must be one of "+Object.keys(ht))}Xr(rn.then,tr,Te),Ie.assert(rn.else,Te+"&&typeof "+Te+'==="object"',"invalid "+tr),Xr(rn.else,tr+".rgb",Te+".rgb"),Xr(rn.else,tr+".alpha",Te+".alpha")}),rn.then(wr,"=",$r,"=",hr,"[",Te,"];"),rn.else(wr,"=",hr,"[",Te,".rgb];",$r,"=",hr,"[",Te,".alpha];"),Ke(rn),[wr,$r]});case Tf:return lr(function(Ie){return Pt.command(Sa(Ie)&&Ie.length===4,"blend.color must be a 4d array",ye.commandStr),Pn(4,function(Ke){return+Ie[Ke]})},function(Ie,Ke,Te){return Pt.optional(function(){Ie.assert(Ke,Ie.shared.isArrayLike+"("+Te+")&&"+Te+".length===4","blend.color must be a 4d array")}),Pn(4,function(hr){return Ke.def("+",Te,"[",hr,"]")})});case hl:return lr(function(Ie){return Pt.commandType(Ie,"number",Qe,ye.commandStr),Ie|0},function(Ie,Ke,Te){return Pt.optional(function(){Ie.assert(Ke,"typeof "+Te+'==="number"',"invalid stencil.mask")}),Ke.def(Te,"|0")});case Ou:return lr(function(Ie){Pt.commandType(Ie,"object",Qe,ye.commandStr);var Ke=Ie.cmp||"keep",Te=Ie.ref||0,hr="mask"in Ie?Ie.mask:-1;return Pt.commandParameter(Ke,Uu,tr+".cmp",ye.commandStr),Pt.commandType(Te,"number",tr+".ref",ye.commandStr),Pt.commandType(hr,"number",tr+".mask",ye.commandStr),[Uu[Ke],Te,hr]},function(Ie,Ke,Te){var hr=Ie.constants.compareFuncs;Pt.optional(function(){function Xr(){Ie.assert(Ke,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Xr(Te+"&&typeof ",Te,'==="object"'),Xr('!("cmp" in ',Te,")||(",Te,".cmp in ",hr,")")});var wr=Ke.def('"cmp" in ',Te,"?",hr,"[",Te,".cmp]",":",Rs),$r=Ke.def(Te,".ref|0"),rn=Ke.def('"mask" in ',Te,"?",Te,".mask|0:-1");return[wr,$r,rn]});case So:case Iu:return lr(function(Ie){Pt.commandType(Ie,"object",Qe,ye.commandStr);var Ke=Ie.fail||"keep",Te=Ie.zfail||"keep",hr=Ie.zpass||"keep";return Pt.commandParameter(Ke,ks,tr+".fail",ye.commandStr),Pt.commandParameter(Te,ks,tr+".zfail",ye.commandStr),Pt.commandParameter(hr,ks,tr+".zpass",ye.commandStr),[tr===Iu?pu:bl,ks[Ke],ks[Te],ks[hr]]},function(Ie,Ke,Te){var hr=Ie.constants.stencilOps;Pt.optional(function(){Ie.assert(Ke,Te+"&&typeof "+Te+'==="object"',"invalid "+tr)});function wr($r){return Pt.optional(function(){Ie.assert(Ke,'!("'+$r+'" in '+Te+")||("+Te+"."+$r+" in "+hr+")","invalid "+tr+"."+$r+", must be one of "+Object.keys(ks))}),Ke.def('"',$r,'" in ',Te,"?",hr,"[",Te,".",$r,"]:",Rs)}return[tr===Iu?pu:bl,wr("fail"),wr("zfail"),wr("zpass")]});case zc:return lr(function(Ie){Pt.commandType(Ie,"object",Qe,ye.commandStr);var Ke=Ie.factor|0,Te=Ie.units|0;return Pt.commandType(Ke,"number",Qe+".factor",ye.commandStr),Pt.commandType(Te,"number",Qe+".units",ye.commandStr),[Ke,Te]},function(Ie,Ke,Te){Pt.optional(function(){Ie.assert(Ke,Te+"&&typeof "+Te+'==="object"',"invalid "+tr)});var hr=Ke.def(Te,".factor|0"),wr=Ke.def(Te,".units|0");return[hr,wr]});case fd:return lr(function(Ie){var Ke=0;return Ie==="front"?Ke=bl:Ie==="back"&&(Ke=pu),Pt.command(!!Ke,Qe,ye.commandStr),Ke},function(Ie,Ke,Te){return Pt.optional(function(){Ie.assert(Ke,Te+'==="front"||'+Te+'==="back"',"invalid cull.face")}),Ke.def(Te,'==="front"?',bl,":",pu)});case dl:return lr(function(Ie){return Pt.command(typeof Ie=="number"&&Ie>=Pr.lineWidthDims[0]&&Ie<=Pr.lineWidthDims[1],"invalid line width, must be a positive number between "+Pr.lineWidthDims[0]+" and "+Pr.lineWidthDims[1],ye.commandStr),Ie},function(Ie,Ke,Te){return Pt.optional(function(){Ie.assert(Ke,"typeof "+Te+'==="number"&&'+Te+">="+Pr.lineWidthDims[0]+"&&"+Te+"<="+Pr.lineWidthDims[1],"invalid line width")}),Te});case fl:return lr(function(Ie){return Pt.commandParameter(Ie,oc,Qe,ye.commandStr),oc[Ie]},function(Ie,Ke,Te){return Pt.optional(function(){Ie.assert(Ke,Te+'==="cw"||'+Te+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Ke.def(Te+'==="cw"?'+zf+":"+xl)});case Xl:return lr(function(Ie){return Pt.command(Sa(Ie)&&Ie.length===4,"color.mask must be length 4 array",ye.commandStr),Ie.map(function(Ke){return!!Ke})},function(Ie,Ke,Te){return Pt.optional(function(){Ie.assert(Ke,Ie.shared.isArrayLike+"("+Te+")&&"+Te+".length===4","invalid color.mask")}),Pn(4,function(hr){return"!!"+Te+"["+hr+"]"})});case cu:return lr(function(Ie){Pt.command(typeof Ie=="object"&&Ie,Qe,ye.commandStr);var Ke="value"in Ie?Ie.value:1,Te=!!Ie.invert;return Pt.command(typeof Ke=="number"&&Ke>=0&&Ke<=1,"sample.coverage.value must be a number between 0 and 1",ye.commandStr),[Ke,Te]},function(Ie,Ke,Te){Pt.optional(function(){Ie.assert(Ke,Te+"&&typeof "+Te+'==="object"',"invalid sample.coverage")});var hr=Ke.def('"value" in ',Te,"?+",Te,".value:1"),wr=Ke.def("!!",Te,".invert");return[hr,wr]})}}),Er}function Pi(Oe,ye){var Ze=Oe.static,yr=Oe.dynamic,Er={};return Object.keys(Ze).forEach(function(tr){var Qe=Ze[tr],lr;if(typeof Qe=="number"||typeof Qe=="boolean")lr=ao(function(){return Qe});else if(typeof Qe=="function"){var Ie=Qe._reglType;Ie==="texture2d"||Ie==="textureCube"?lr=ao(function(Ke){return Ke.link(Qe)}):Ie==="framebuffer"||Ie==="framebufferCube"?(Pt.command(Qe.color.length>0,'missing color attachment for framebuffer sent to uniform "'+tr+'"',ye.commandStr),lr=ao(function(Ke){return Ke.link(Qe.color[0])})):Pt.commandRaise('invalid data for uniform "'+tr+'"',ye.commandStr)}else Sa(Qe)?lr=ao(function(Ke){var Te=Ke.global.def("[",Pn(Qe.length,function(hr){return Pt.command(typeof Qe[hr]=="number"||typeof Qe[hr]=="boolean","invalid uniform "+tr,Ke.commandStr),Qe[hr]}),"]");return Te}):Pt.commandRaise('invalid or missing data for uniform "'+tr+'"',ye.commandStr);lr.value=Qe,Er[tr]=lr}),Object.keys(yr).forEach(function(tr){var Qe=yr[tr];Er[tr]=bi(Qe,function(lr,Ie){return lr.invoke(Ie,Qe)})}),Er}function ma(Oe,ye){var Ze=Oe.static,yr=Oe.dynamic,Er={};return Object.keys(Ze).forEach(function(tr){var Qe=Ze[tr],lr=we.id(tr),Ie=new it;if(El(Qe))Ie.state=ss,Ie.buffer=Jr.getBuffer(Jr.create(Qe,hu,!1,!0)),Ie.type=0;else{var Ke=Jr.getBuffer(Qe);if(Ke)Ie.state=ss,Ie.buffer=Ke,Ie.type=0;else if(Pt.command(typeof Qe=="object"&&Qe,"invalid data for attribute "+tr,ye.commandStr),"constant"in Qe){var Te=Qe.constant;Ie.buffer="null",Ie.state=Ds,typeof Te=="number"?Ie.x=Te:(Pt.command(Sa(Te)&&Te.length>0&&Te.length<=4,"invalid constant for attribute "+tr,ye.commandStr),lu.forEach(function(ea,Aa){Aa<Te.length&&(Ie[ea]=Te[Aa])}))}else{El(Qe.buffer)?Ke=Jr.getBuffer(Jr.create(Qe.buffer,hu,!1,!0)):Ke=Jr.getBuffer(Qe.buffer),Pt.command(!!Ke,'missing buffer for attribute "'+tr+'"',ye.commandStr);var hr=Qe.offset|0;Pt.command(hr>=0,'invalid offset for attribute "'+tr+'"',ye.commandStr);var wr=Qe.stride|0;Pt.command(wr>=0&&wr<256,'invalid stride for attribute "'+tr+'", must be integer betweeen [0, 255]',ye.commandStr);var $r=Qe.size|0;Pt.command(!("size"in Qe)||$r>0&&$r<=4,'invalid size for attribute "'+tr+'", must be 1,2,3,4',ye.commandStr);var rn=!!Qe.normalized,Xr=0;"type"in Qe&&(Pt.commandParameter(Qe.type,Mi,"invalid type for attribute "+tr,ye.commandStr),Xr=Mi[Qe.type]);var Sn=Qe.divisor|0;"divisor"in Qe&&(Pt.command(Sn===0||yt,'cannot specify divisor for attribute "'+tr+'", instancing not supported',ye.commandStr),Pt.command(Sn>=0,'invalid divisor for attribute "'+tr+'"',ye.commandStr)),Pt.optional(function(){var ea=ye.commandStr,Aa=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Qe).forEach(function(Zn){Pt.command(Aa.indexOf(Zn)>=0,'unknown parameter "'+Zn+'" for attribute pointer "'+tr+'" (valid parameters are '+Aa+")",ea)})}),Ie.buffer=Ke,Ie.state=ss,Ie.size=$r,Ie.normalized=rn,Ie.type=Xr||Ke.dtype,Ie.offset=hr,Ie.stride=wr,Ie.divisor=Sn}}Er[tr]=ao(function(ea,Aa){var Zn=ea.attribCache;if(lr in Zn)return Zn[lr];var la={isStream:!1};return Object.keys(Ie).forEach(function(Ma){la[Ma]=Ie[Ma]}),Ie.buffer&&(la.buffer=ea.link(Ie.buffer),la.type=la.type||la.buffer+".dtype"),Zn[lr]=la,la})}),Object.keys(yr).forEach(function(tr){var Qe=yr[tr];function lr(Ie,Ke){var Te=Ie.invoke(Ke,Qe),hr=Ie.shared,wr=Ie.constants,$r=hr.isBufferArgs,rn=hr.buffer;Pt.optional(function(){Ie.assert(Ke,Te+"&&(typeof "+Te+'==="object"||typeof '+Te+'==="function")&&('+$r+"("+Te+")||"+rn+".getBuffer("+Te+")||"+rn+".getBuffer("+Te+".buffer)||"+$r+"("+Te+'.buffer)||("constant" in '+Te+"&&(typeof "+Te+'.constant==="number"||'+hr.isArrayLike+"("+Te+".constant))))",'invalid dynamic attribute "'+tr+'"')});var Xr={isStream:Ke.def(!1)},Sn=new it;Sn.state=ss,Object.keys(Sn).forEach(function(la){Xr[la]=Ke.def(""+Sn[la])});var ea=Xr.buffer,Aa=Xr.type;Ke("if(",$r,"(",Te,")){",Xr.isStream,"=true;",ea,"=",rn,".createStream(",hu,",",Te,");",Aa,"=",ea,".dtype;","}else{",ea,"=",rn,".getBuffer(",Te,");","if(",ea,"){",Aa,"=",ea,".dtype;",'}else if("constant" in ',Te,"){",Xr.state,"=",Ds,";","if(typeof "+Te+'.constant === "number"){',Xr[lu[0]],"=",Te,".constant;",lu.slice(1).map(function(la){return Xr[la]}).join("="),"=0;","}else{",lu.map(function(la,Ma){return Xr[la]+"="+Te+".constant.length>"+Ma+"?"+Te+".constant["+Ma+"]:0;"}).join(""),"}}else{","if(",$r,"(",Te,".buffer)){",ea,"=",rn,".createStream(",hu,",",Te,".buffer);","}else{",ea,"=",rn,".getBuffer(",Te,".buffer);","}",Aa,'="type" in ',Te,"?",wr.glTypes,"[",Te,".type]:",ea,".dtype;",Xr.normalized,"=!!",Te,".normalized;");function Zn(la){Ke(Xr[la],"=",Te,".",la,"|0;")}return Zn("size"),Zn("offset"),Zn("stride"),Zn("divisor"),Ke("}}"),Ke.exit("if(",Xr.isStream,"){",rn,".destroyStream(",ea,");","}"),Xr}Er[tr]=bi(Qe,lr)}),Er}function $i(Oe,ye){var Ze=Oe.static,yr=Oe.dynamic;if(Lu in Ze){var Er=Ze[Lu];return Er!==null&&wn.getVAO(Er)===null&&(Er=wn.createVAO(Er)),ao(function(Qe){return Qe.link(wn.getVAO(Er))})}else if(Lu in yr){var tr=yr[Lu];return bi(tr,function(Qe,lr){var Ie=Qe.invoke(lr,tr);return lr.def(Qe.shared.vao+".getVAO("+Ie+")")})}return null}function xi(Oe){var ye=Oe.static,Ze=Oe.dynamic,yr={};return Object.keys(ye).forEach(function(Er){var tr=ye[Er];yr[Er]=ao(function(Qe,lr){return typeof tr=="number"||typeof tr=="boolean"?""+tr:Qe.link(tr)})}),Object.keys(Ze).forEach(function(Er){var tr=Ze[Er];yr[Er]=bi(tr,function(Qe,lr){return Qe.invoke(lr,tr)})}),yr}function za(Oe,ye,Ze,yr,Er){var tr=Oe.static,Qe=Oe.dynamic;Pt.optional(function(){var Zn=[fu,Ps,Pu,du,js,Vl,Ls,Hl,Du,Lu].concat(le);function la(Ma){Object.keys(Ma).forEach(function(ei){Pt.command(Zn.indexOf(ei)>=0,'unknown parameter "'+ei+'"',Er.commandStr)})}la(tr),la(Qe)});var lr=$n(Oe,ye),Ie=Cn(Oe,Er),Ke=Jn(Oe,Ie,Er),Te=pa(Oe,Er),hr=da(Oe,Er),wr=aa(Oe,Er,lr);function $r(Zn){var la=Ke[Zn];la&&(hr[Zn]=la)}$r(Ms),$r(Be(Xs));var rn=Object.keys(hr).length>0,Xr={framebuffer:Ie,draw:Te,shader:wr,state:hr,dirty:rn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Xr.profile=Ln(Oe,Er),Xr.uniforms=Pi(Ze,Er),Xr.drawVAO=Xr.scopeVAO=$i(Oe,Er),!Xr.drawVAO&&wr.program&&!lr&&Ge.angle_instanced_arrays){var Sn=!0,ea=wr.program.attributes.map(function(Zn){var la=ye.static[Zn];return Sn=Sn&&!!la,la});if(Sn&&ea.length>0){var Aa=wn.getVAO(wn.createVAO(ea));Xr.drawVAO=new Xo(null,null,null,function(Zn,la){return Zn.link(Aa)}),Xr.useVAO=!0}}return lr?Xr.useVAO=!0:Xr.attributes=ma(ye,Er),Xr.context=xi(yr,Er),Xr}function Oi(Oe,ye,Ze){var yr=Oe.shared,Er=yr.context,tr=Oe.scope();Object.keys(Ze).forEach(function(Qe){ye.save(Er,"."+Qe);var lr=Ze[Qe],Ie=lr.append(Oe,ye);Array.isArray(Ie)?tr(Er,".",Qe,"=[",Ie.join(),"];"):tr(Er,".",Qe,"=",Ie,";")}),ye(tr)}function Qi(Oe,ye,Ze,yr){var Er=Oe.shared,tr=Er.gl,Qe=Er.framebuffer,lr;Ot&&(lr=ye.def(Er.extensions,".webgl_draw_buffers"));var Ie=Oe.constants,Ke=Ie.drawBuffer,Te=Ie.backBuffer,hr;Ze?hr=Ze.append(Oe,ye):hr=ye.def(Qe,".next"),yr||ye("if(",hr,"!==",Qe,".cur){"),ye("if(",hr,"){",tr,".bindFramebuffer(",jc,",",hr,".framebuffer);"),Ot&&ye(lr,".drawBuffersWEBGL(",Ke,"[",hr,".colorAttachments.length]);"),ye("}else{",tr,".bindFramebuffer(",jc,",null);"),Ot&&ye(lr,".drawBuffersWEBGL(",Te,");"),ye("}",Qe,".cur=",hr,";"),yr||ye("}")}function Mo(Oe,ye,Ze){var yr=Oe.shared,Er=yr.gl,tr=Oe.current,Qe=Oe.next,lr=yr.current,Ie=yr.next,Ke=Oe.cond(lr,".dirty");le.forEach(function(Te){var hr=Be(Te);if(!(hr in Ze.state)){var wr,$r;if(hr in Qe){wr=Qe[hr],$r=tr[hr];var rn=Pn(kt[hr].length,function(Sn){return Ke.def(wr,"[",Sn,"]")});Ke(Oe.cond(rn.map(function(Sn,ea){return Sn+"!=="+$r+"["+ea+"]"}).join("||")).then(Er,".",ge[hr],"(",rn,");",rn.map(function(Sn,ea){return $r+"["+ea+"]="+Sn}).join(";"),";"))}else{wr=Ke.def(Ie,".",hr);var Xr=Oe.cond(wr,"!==",lr,".",hr);Ke(Xr),hr in xe?Xr(Oe.cond(wr).then(Er,".enable(",xe[hr],");").else(Er,".disable(",xe[hr],");"),lr,".",hr,"=",wr,";"):Xr(Er,".",ge[hr],"(",wr,");",lr,".",hr,"=",wr,";")}}}),Object.keys(Ze.state).length===0&&Ke(lr,".dirty=false;"),ye(Ke)}function Do(Oe,ye,Ze,yr){var Er=Oe.shared,tr=Oe.current,Qe=Er.current,lr=Er.gl;ms(Object.keys(Ze)).forEach(function(Ie){var Ke=Ze[Ie];if(!(yr&&!yr(Ke))){var Te=Ke.append(Oe,ye);if(xe[Ie]){var hr=xe[Ie];Bs(Ke)?Te?ye(lr,".enable(",hr,");"):ye(lr,".disable(",hr,");"):ye(Oe.cond(Te).then(lr,".enable(",hr,");").else(lr,".disable(",hr,");")),ye(Qe,".",Ie,"=",Te,";")}else if(Sa(Te)){var wr=tr[Ie];ye(lr,".",ge[Ie],"(",Te,");",Te.map(function($r,rn){return wr+"["+rn+"]="+$r}).join(";"),";")}else ye(lr,".",ge[Ie],"(",Te,");",Qe,".",Ie,"=",Te,";")}})}function go(Oe,ye){yt&&(Oe.instancing=ye.def(Oe.shared.extensions,".angle_instanced_arrays"))}function Ca(Oe,ye,Ze,yr,Er){var tr=Oe.shared,Qe=Oe.stats,lr=tr.current,Ie=tr.timer,Ke=Ze.profile;function Te(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var hr,wr;function $r(Zn){hr=ye.def(),Zn(hr,"=",Te(),";"),typeof Er=="string"?Zn(Qe,".count+=",Er,";"):Zn(Qe,".count++;"),N&&(yr?(wr=ye.def(),Zn(wr,"=",Ie,".getNumPendingQueries();")):Zn(Ie,".beginQuery(",Qe,");"))}function rn(Zn){Zn(Qe,".cpuTime+=",Te(),"-",hr,";"),N&&(yr?Zn(Ie,".pushScopeStats(",wr,",",Ie,".getNumPendingQueries(),",Qe,");"):Zn(Ie,".endQuery();"))}function Xr(Zn){var la=ye.def(lr,".profile");ye(lr,".profile=",Zn,";"),ye.exit(lr,".profile=",la,";")}var Sn;if(Ke){if(Bs(Ke)){Ke.enable?($r(ye),rn(ye.exit),Xr("true")):Xr("false");return}Sn=Ke.append(Oe,ye),Xr(Sn)}else Sn=ye.def(lr,".profile");var ea=Oe.block();$r(ea),ye("if(",Sn,"){",ea,"}");var Aa=Oe.block();rn(Aa),ye.exit("if(",Sn,"){",Aa,"}")}function Bo(Oe,ye,Ze,yr,Er){var tr=Oe.shared;function Qe(Ie){switch(Ie){case tc:case ku:case nc:return 2;case ec:case Bu:case ml:return 3;case pl:case gl:case ac:return 4;default:return 1}}function lr(Ie,Ke,Te){var hr=tr.gl,wr=ye.def(Ie,".location"),$r=ye.def(tr.attributes,"[",wr,"]"),rn=Te.state,Xr=Te.buffer,Sn=[Te.x,Te.y,Te.z,Te.w],ea=["buffer","normalized","offset","stride"];function Aa(){ye("if(!",$r,".buffer){",hr,".enableVertexAttribArray(",wr,");}");var la=Te.type,Ma;if(Te.size?Ma=ye.def(Te.size,"||",Ke):Ma=Ke,ye("if(",$r,".type!==",la,"||",$r,".size!==",Ma,"||",ea.map(function(ji){return $r+"."+ji+"!=="+Te[ji]}).join("||"),"){",hr,".bindBuffer(",hu,",",Xr,".buffer);",hr,".vertexAttribPointer(",[wr,Ma,la,Te.normalized,Te.stride,Te.offset],");",$r,".type=",la,";",$r,".size=",Ma,";",ea.map(function(ji){return $r+"."+ji+"="+Te[ji]+";"}).join(""),"}"),yt){var ei=Te.divisor;ye("if(",$r,".divisor!==",ei,"){",Oe.instancing,".vertexAttribDivisorANGLE(",[wr,ei],");",$r,".divisor=",ei,";}")}}function Zn(){ye("if(",$r,".buffer){",hr,".disableVertexAttribArray(",wr,");",$r,".buffer=null;","}if(",lu.map(function(la,Ma){return $r+"."+la+"!=="+Sn[Ma]}).join("||"),"){",hr,".vertexAttrib4f(",wr,",",Sn,");",lu.map(function(la,Ma){return $r+"."+la+"="+Sn[Ma]+";"}).join(""),"}")}rn===ss?Aa():rn===Ds?Zn():(ye("if(",rn,"===",ss,"){"),Aa(),ye("}else{"),Zn(),ye("}"))}yr.forEach(function(Ie){var Ke=Ie.name,Te=Ze.attributes[Ke],hr;if(Te){if(!Er(Te))return;hr=Te.append(Oe,ye)}else{if(!Er(gu))return;var wr=Oe.scopeAttrib(Ke);Pt.optional(function(){Oe.assert(ye,wr+".state","missing attribute "+Ke)}),hr={},Object.keys(new it).forEach(function($r){hr[$r]=ye.def(wr,".",$r)})}lr(Oe.link(Ie),Qe(Ie.info.type),hr)})}function Ka(Oe,ye,Ze,yr,Er){for(var tr=Oe.shared,Qe=tr.gl,lr,Ie=0;Ie<yr.length;++Ie){var Ke=yr[Ie],Te=Ke.name,hr=Ke.info.type,wr=Ze.uniforms[Te],$r=Oe.link(Ke),rn=$r+".location",Xr;if(wr){if(!Er(wr))continue;if(Bs(wr)){var Sn=wr.value;if(Pt.command(Sn!==null&&typeof Sn!="undefined",'missing uniform "'+Te+'"',Oe.commandStr),hr===zu||hr===Gu){Pt.command(typeof Sn=="function"&&(hr===zu&&(Sn._reglType==="texture2d"||Sn._reglType==="framebuffer")||hr===Gu&&(Sn._reglType==="textureCube"||Sn._reglType==="framebufferCube")),"invalid texture for uniform "+Te,Oe.commandStr);var ea=Oe.link(Sn._texture||Sn.color[0]._texture);ye(Qe,".uniform1i(",rn,",",ea+".bind());"),ye.exit(ea,".unbind();")}else if(hr===ic||hr===yl||hr===Fu){Pt.optional(function(){Pt.command(Sa(Sn),"invalid matrix for uniform "+Te,Oe.commandStr),Pt.command(hr===ic&&Sn.length===4||hr===yl&&Sn.length===9||hr===Fu&&Sn.length===16,"invalid length for matrix uniform "+Te,Oe.commandStr)});var Aa=Oe.global.def("new Float32Array(["+Array.prototype.slice.call(Sn)+"])"),Zn=2;hr===yl?Zn=3:hr===Fu&&(Zn=4),ye(Qe,".uniformMatrix",Zn,"fv(",rn,",false,",Aa,");")}else{switch(hr){case vu:Pt.commandType(Sn,"number","uniform "+Te,Oe.commandStr),lr="1f";break;case tc:Pt.command(Sa(Sn)&&Sn.length===2,"uniform "+Te,Oe.commandStr),lr="2f";break;case ec:Pt.command(Sa(Sn)&&Sn.length===3,"uniform "+Te,Oe.commandStr),lr="3f";break;case pl:Pt.command(Sa(Sn)&&Sn.length===4,"uniform "+Te,Oe.commandStr),lr="4f";break;case rc:Pt.commandType(Sn,"boolean","uniform "+Te,Oe.commandStr),lr="1i";break;case Vs:Pt.commandType(Sn,"number","uniform "+Te,Oe.commandStr),lr="1i";break;case nc:Pt.command(Sa(Sn)&&Sn.length===2,"uniform "+Te,Oe.commandStr),lr="2i";break;case ku:Pt.command(Sa(Sn)&&Sn.length===2,"uniform "+Te,Oe.commandStr),lr="2i";break;case ml:Pt.command(Sa(Sn)&&Sn.length===3,"uniform "+Te,Oe.commandStr),lr="3i";break;case Bu:Pt.command(Sa(Sn)&&Sn.length===3,"uniform "+Te,Oe.commandStr),lr="3i";break;case ac:Pt.command(Sa(Sn)&&Sn.length===4,"uniform "+Te,Oe.commandStr),lr="4i";break;case gl:Pt.command(Sa(Sn)&&Sn.length===4,"uniform "+Te,Oe.commandStr),lr="4i";break}ye(Qe,".uniform",lr,"(",rn,",",Sa(Sn)?Array.prototype.slice.call(Sn):Sn,");")}continue}else Xr=wr.append(Oe,ye)}else{if(!Er(gu))continue;Xr=ye.def(tr.uniforms,"[",we.id(Te),"]")}hr===zu?(Pt(!Array.isArray(Xr),"must specify a scalar prop for textures"),ye("if(",Xr,"&&",Xr,'._reglType==="framebuffer"){',Xr,"=",Xr,".color[0];","}")):hr===Gu&&(Pt(!Array.isArray(Xr),"must specify a scalar prop for cube maps"),ye("if(",Xr,"&&",Xr,'._reglType==="framebufferCube"){',Xr,"=",Xr,".color[0];","}")),Pt.optional(function(){function ns(Fs,Kf){Oe.assert(ye,Fs,'bad data or missing for uniform "'+Te+'".  '+Kf)}function bd(Fs){Pt(!Array.isArray(Xr),"must not specify an array type for uniform"),ns("typeof "+Xr+'==="'+Fs+'"',"invalid type, expected "+Fs)}function _s(Fs,Kf){Array.isArray(Xr)?Pt(Xr.length===Fs,"must have length "+Fs):ns(tr.isArrayLike+"("+Xr+")&&"+Xr+".length==="+Fs,"invalid vector, should have length "+Fs,Oe.commandStr)}function Th(Fs){Pt(!Array.isArray(Xr),"must not specify a value type"),ns("typeof "+Xr+'==="function"&&'+Xr+'._reglType==="texture'+(Fs===Pf?"2d":"Cube")+'"',"invalid texture type",Oe.commandStr)}switch(hr){case Vs:bd("number");break;case ku:_s(2,"number");break;case Bu:_s(3,"number");break;case gl:_s(4,"number");break;case vu:bd("number");break;case tc:_s(2,"number");break;case ec:_s(3,"number");break;case pl:_s(4,"number");break;case rc:bd("boolean");break;case nc:_s(2,"boolean");break;case ml:_s(3,"boolean");break;case ac:_s(4,"boolean");break;case ic:_s(4,"number");break;case yl:_s(9,"number");break;case Fu:_s(16,"number");break;case zu:Th(Pf);break;case Gu:Th(Lf);break}});var la=1;switch(hr){case zu:case Gu:var Ma=ye.def(Xr,"._texture");ye(Qe,".uniform1i(",rn,",",Ma,".bind());"),ye.exit(Ma,".unbind();");continue;case Vs:case rc:lr="1i";break;case ku:case nc:lr="2i",la=2;break;case Bu:case ml:lr="3i",la=3;break;case gl:case ac:lr="4i",la=4;break;case vu:lr="1f";break;case tc:lr="2f",la=2;break;case ec:lr="3f",la=3;break;case pl:lr="4f",la=4;break;case ic:lr="Matrix2fv";break;case yl:lr="Matrix3fv";break;case Fu:lr="Matrix4fv";break}if(ye(Qe,".uniform",lr,"(",rn,","),lr.charAt(0)==="M"){var ei=Math.pow(hr-ic+2,2),ji=Oe.global.def("new Float32Array(",ei,")");Array.isArray(Xr)?ye("false,(",Pn(ei,function(ns){return ji+"["+ns+"]="+Xr[ns]}),",",ji,")"):ye("false,(Array.isArray(",Xr,")||",Xr," instanceof Float32Array)?",Xr,":(",Pn(ei,function(ns){return ji+"["+ns+"]="+Xr+"["+ns+"]"}),",",ji,")")}else la>1?ye(Pn(la,function(ns){return Array.isArray(Xr)?Xr[ns]:Xr+"["+ns+"]"})):(Pt(!Array.isArray(Xr),"uniform value must not be an array"),ye(Xr));ye(");")}}function ia(Oe,ye,Ze,yr){var Er=Oe.shared,tr=Er.gl,Qe=Er.draw,lr=yr.draw;function Ie(){var Ma=lr.elements,ei,ji=ye;return Ma?((Ma.contextDep&&yr.contextDynamic||Ma.propDep)&&(ji=Ze),ei=Ma.append(Oe,ji)):ei=ji.def(Qe,".",du),ei&&ji("if("+ei+")"+tr+".bindBuffer("+Yc+","+ei+".buffer.buffer);"),ei}function Ke(){var Ma=lr.count,ei,ji=ye;return Ma?((Ma.contextDep&&yr.contextDynamic||Ma.propDep)&&(ji=Ze),ei=Ma.append(Oe,ji),Pt.optional(function(){Ma.MISSING&&Oe.assert(ye,"false","missing vertex count"),Ma.DYNAMIC&&Oe.assert(ji,ei+">=0","missing vertex count")})):(ei=ji.def(Qe,".",Ls),Pt.optional(function(){Oe.assert(ji,ei+">=0","missing vertex count")})),ei}var Te=Ie();function hr(Ma){var ei=lr[Ma];return ei?ei.contextDep&&yr.contextDynamic||ei.propDep?ei.append(Oe,Ze):ei.append(Oe,ye):ye.def(Qe,".",Ma)}var wr=hr(js),$r=hr(Vl),rn=Ke();if(typeof rn=="number"){if(rn===0)return}else Ze("if(",rn,"){"),Ze.exit("}");var Xr,Sn;yt&&(Xr=hr(Hl),Sn=Oe.instancing);var ea=Te+".type",Aa=lr.elements&&Bs(lr.elements);function Zn(){function Ma(){Ze(Sn,".drawElementsInstancedANGLE(",[wr,rn,ea,$r+"<<(("+ea+"-"+sl+")>>1)",Xr],");")}function ei(){Ze(Sn,".drawArraysInstancedANGLE(",[wr,$r,rn,Xr],");")}Te?Aa?Ma():(Ze("if(",Te,"){"),Ma(),Ze("}else{"),ei(),Ze("}")):ei()}function la(){function Ma(){Ze(tr+".drawElements("+[wr,rn,ea,$r+"<<(("+ea+"-"+sl+")>>1)"]+");")}function ei(){Ze(tr+".drawArrays("+[wr,$r,rn]+");")}Te?Aa?Ma():(Ze("if(",Te,"){"),Ma(),Ze("}else{"),ei(),Ze("}")):ei()}yt&&(typeof Xr!="number"||Xr>=0)?typeof Xr=="string"?(Ze("if(",Xr,">0){"),Zn(),Ze("}else if(",Xr,"<0){"),la(),Ze("}")):Zn():la()}function ka(Oe,ye,Ze,yr,Er){var tr=xn(),Qe=tr.proc("body",Er);return Pt.optional(function(){tr.commandStr=ye.commandStr,tr.command=tr.link(ye.commandStr)}),yt&&(tr.instancing=Qe.def(tr.shared.extensions,".angle_instanced_arrays")),Oe(tr,Qe,Ze,yr),tr.compile().body}function Ha(Oe,ye,Ze,yr){go(Oe,ye),Ze.useVAO?Ze.drawVAO?ye(Oe.shared.vao,".setVAO(",Ze.drawVAO.append(Oe,ye),");"):ye(Oe.shared.vao,".setVAO(",Oe.shared.vao,".targetVAO);"):(ye(Oe.shared.vao,".setVAO(null);"),Bo(Oe,ye,Ze,yr.attributes,function(){return!0})),Ka(Oe,ye,Ze,yr.uniforms,function(){return!0}),ia(Oe,ye,ye,Ze)}function mo(Oe,ye){var Ze=Oe.proc("draw",1);go(Oe,Ze),Oi(Oe,Ze,ye.context),Qi(Oe,Ze,ye.framebuffer),Mo(Oe,Ze,ye),Do(Oe,Ze,ye.state),Ca(Oe,Ze,ye,!1,!0);var yr=ye.shader.progVar.append(Oe,Ze);if(Ze(Oe.shared.gl,".useProgram(",yr,".program);"),ye.shader.program)Ha(Oe,Ze,ye,ye.shader.program);else{Ze(Oe.shared.vao,".setVAO(null);");var Er=Oe.global.def("{}"),tr=Ze.def(yr,".id"),Qe=Ze.def(Er,"[",tr,"]");Ze(Oe.cond(Qe).then(Qe,".call(this,a0);").else(Qe,"=",Er,"[",tr,"]=",Oe.link(function(lr){return ka(Ha,Oe,ye,lr,1)}),"(",yr,");",Qe,".call(this,a0);"))}Object.keys(ye.state).length>0&&Ze(Oe.shared.current,".dirty=true;")}function Ks(Oe,ye,Ze,yr){Oe.batchId="a1",go(Oe,ye);function Er(){return!0}Bo(Oe,ye,Ze,yr.attributes,Er),Ka(Oe,ye,Ze,yr.uniforms,Er),ia(Oe,ye,ye,Ze)}function cc(Oe,ye,Ze,yr){go(Oe,ye);var Er=Ze.contextDep,tr=ye.def(),Qe="a0",lr="a1",Ie=ye.def();Oe.shared.props=Ie,Oe.batchId=tr;var Ke=Oe.scope(),Te=Oe.scope();ye(Ke.entry,"for(",tr,"=0;",tr,"<",lr,";++",tr,"){",Ie,"=",Qe,"[",tr,"];",Te,"}",Ke.exit);function hr(ea){return ea.contextDep&&Er||ea.propDep}function wr(ea){return!hr(ea)}if(Ze.needsContext&&Oi(Oe,Te,Ze.context),Ze.needsFramebuffer&&Qi(Oe,Te,Ze.framebuffer),Do(Oe,Te,Ze.state,hr),Ze.profile&&hr(Ze.profile)&&Ca(Oe,Te,Ze,!1,!0),yr)Ze.useVAO?Ze.drawVAO?hr(Ze.drawVAO)?Te(Oe.shared.vao,".setVAO(",Ze.drawVAO.append(Oe,Te),");"):Ke(Oe.shared.vao,".setVAO(",Ze.drawVAO.append(Oe,Ke),");"):Ke(Oe.shared.vao,".setVAO(",Oe.shared.vao,".targetVAO);"):(Ke(Oe.shared.vao,".setVAO(null);"),Bo(Oe,Ke,Ze,yr.attributes,wr),Bo(Oe,Te,Ze,yr.attributes,hr)),Ka(Oe,Ke,Ze,yr.uniforms,wr),Ka(Oe,Te,Ze,yr.uniforms,hr),ia(Oe,Ke,Te,Ze);else{var $r=Oe.global.def("{}"),rn=Ze.shader.progVar.append(Oe,Te),Xr=Te.def(rn,".id"),Sn=Te.def($r,"[",Xr,"]");Te(Oe.shared.gl,".useProgram(",rn,".program);","if(!",Sn,"){",Sn,"=",$r,"[",Xr,"]=",Oe.link(function(ea){return ka(Ks,Oe,Ze,ea,2)}),"(",rn,");}",Sn,".call(this,a0[",tr,"],",tr,");")}}function ke(Oe,ye){var Ze=Oe.proc("batch",2);Oe.batchId="0",go(Oe,Ze);var yr=!1,Er=!0;Object.keys(ye.context).forEach(function($r){yr=yr||ye.context[$r].propDep}),yr||(Oi(Oe,Ze,ye.context),Er=!1);var tr=ye.framebuffer,Qe=!1;tr?(tr.propDep?yr=Qe=!0:tr.contextDep&&yr&&(Qe=!0),Qe||Qi(Oe,Ze,tr)):Qi(Oe,Ze,null),ye.state.viewport&&ye.state.viewport.propDep&&(yr=!0);function lr($r){return $r.contextDep&&yr||$r.propDep}Mo(Oe,Ze,ye),Do(Oe,Ze,ye.state,function($r){return!lr($r)}),(!ye.profile||!lr(ye.profile))&&Ca(Oe,Ze,ye,!1,"a1"),ye.contextDep=yr,ye.needsContext=Er,ye.needsFramebuffer=Qe;var Ie=ye.shader.progVar;if(Ie.contextDep&&yr||Ie.propDep)cc(Oe,Ze,ye,null);else{var Ke=Ie.append(Oe,Ze);if(Ze(Oe.shared.gl,".useProgram(",Ke,".program);"),ye.shader.program)cc(Oe,Ze,ye,ye.shader.program);else{Ze(Oe.shared.vao,".setVAO(null);");var Te=Oe.global.def("{}"),hr=Ze.def(Ke,".id"),wr=Ze.def(Te,"[",hr,"]");Ze(Oe.cond(wr).then(wr,".call(this,a0,a1);").else(wr,"=",Te,"[",hr,"]=",Oe.link(function($r){return ka(cc,Oe,ye,$r,2)}),"(",Ke,");",wr,".call(this,a0,a1);"))}}Object.keys(ye.state).length>0&&Ze(Oe.shared.current,".dirty=true;")}function kr(Oe,ye){var Ze=Oe.proc("scope",3);Oe.batchId="a2";var yr=Oe.shared,Er=yr.current;Oi(Oe,Ze,ye.context),ye.framebuffer&&ye.framebuffer.append(Oe,Ze),ms(Object.keys(ye.state)).forEach(function(Qe){var lr=ye.state[Qe],Ie=lr.append(Oe,Ze);Sa(Ie)?Ie.forEach(function(Ke,Te){Ze.set(Oe.next[Qe],"["+Te+"]",Ke)}):Ze.set(yr.next,"."+Qe,Ie)}),Ca(Oe,Ze,ye,!0,!0),[du,Vl,Ls,Hl,js].forEach(function(Qe){var lr=ye.draw[Qe];lr&&Ze.set(yr.draw,"."+Qe,""+lr.append(Oe,Ze))}),Object.keys(ye.uniforms).forEach(function(Qe){var lr=ye.uniforms[Qe].append(Oe,Ze);Array.isArray(lr)&&(lr="["+lr.join()+"]"),Ze.set(yr.uniforms,"["+we.id(Qe)+"]",lr)}),Object.keys(ye.attributes).forEach(function(Qe){var lr=ye.attributes[Qe].append(Oe,Ze),Ie=Oe.scopeAttrib(Qe);Object.keys(new it).forEach(function(Ke){Ze.set(Ie,"."+Ke,lr[Ke])})}),ye.scopeVAO&&Ze.set(yr.vao,".targetVAO",ye.scopeVAO.append(Oe,Ze));function tr(Qe){var lr=ye.shader[Qe];lr&&Ze.set(yr.shader,"."+Qe,lr.append(Oe,Ze))}tr(Ps),tr(Pu),Object.keys(ye.state).length>0&&(Ze(Er,".dirty=true;"),Ze.exit(Er,".dirty=true;")),Ze("a1(",Oe.shared.context,",a0,",Oe.batchId,");")}function Cr(Oe){if(!(typeof Oe!="object"||Sa(Oe))){for(var ye=Object.keys(Oe),Ze=0;Ze<ye.length;++Ze)if(Gr.isDynamic(Oe[ye[Ze]]))return!0;return!1}}function Xn(Oe,ye,Ze){var yr=ye.static[Ze];if(!yr||!Cr(yr))return;var Er=Oe.global,tr=Object.keys(yr),Qe=!1,lr=!1,Ie=!1,Ke=Oe.global.def("{}");tr.forEach(function(hr){var wr=yr[hr];if(Gr.isDynamic(wr)){typeof wr=="function"&&(wr=yr[hr]=Gr.unbox(wr));var $r=bi(wr,null);Qe=Qe||$r.thisDep,Ie=Ie||$r.propDep,lr=lr||$r.contextDep}else{switch(Er(Ke,".",hr,"="),typeof wr){case"number":Er(wr);break;case"string":Er('"',wr,'"');break;case"object":Array.isArray(wr)&&Er("[",wr.join(),"]");break;default:Er(Oe.link(wr));break}Er(";")}});function Te(hr,wr){tr.forEach(function($r){var rn=yr[$r];if(Gr.isDynamic(rn)){var Xr=hr.invoke(wr,rn);wr(Ke,".",$r,"=",Xr,";")}})}ye.dynamic[Ze]=new Gr.DynamicVariable(ul,{thisDep:Qe,contextDep:lr,propDep:Ie,ref:Ke,append:Te}),delete ye.static[Ze]}function Pa(Oe,ye,Ze,yr,Er){var tr=xn();tr.stats=tr.link(Er),Object.keys(ye.static).forEach(function(lr){Xn(tr,ye,lr)}),Df.forEach(function(lr){Xn(tr,Oe,lr)});var Qe=za(Oe,ye,Ze,yr,tr);return mo(tr,Qe),kr(tr,Qe),ke(tr,Qe),C(tr.compile(),{destroy:function(){Qe.shader.program.destroy()}})}return{next:Vt,current:kt,procs:function(){var Oe=xn(),ye=Oe.proc("poll"),Ze=Oe.proc("refresh"),yr=Oe.block();ye(yr),Ze(yr);var Er=Oe.shared,tr=Er.gl,Qe=Er.next,lr=Er.current;yr(lr,".dirty=false;"),Qi(Oe,ye),Qi(Oe,Ze,null,!0);var Ie;yt&&(Ie=Oe.link(yt)),Ge.oes_vertex_array_object&&Ze(Oe.link(Ge.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Ke=0;Ke<Pr.maxAttributes;++Ke){var Te=Ze.def(Er.attributes,"[",Ke,"]"),hr=Oe.cond(Te,".buffer");hr.then(tr,".enableVertexAttribArray(",Ke,");",tr,".bindBuffer(",hu,",",Te,".buffer.buffer);",tr,".vertexAttribPointer(",Ke,",",Te,".size,",Te,".type,",Te,".normalized,",Te,".stride,",Te,".offset);").else(tr,".disableVertexAttribArray(",Ke,");",tr,".vertexAttrib4f(",Ke,",",Te,".x,",Te,".y,",Te,".z,",Te,".w);",Te,".buffer=null;"),Ze(hr),yt&&Ze(Ie,".vertexAttribDivisorANGLE(",Ke,",",Te,".divisor);")}return Ze(Oe.shared.vao,".currentVAO=null;",Oe.shared.vao,".setVAO(",Oe.shared.vao,".targetVAO);"),Object.keys(xe).forEach(function(wr){var $r=xe[wr],rn=yr.def(Qe,".",wr),Xr=Oe.block();Xr("if(",rn,"){",tr,".enable(",$r,")}else{",tr,".disable(",$r,")}",lr,".",wr,"=",rn,";"),Ze(Xr),ye("if(",rn,"!==",lr,".",wr,"){",Xr,"}")}),Object.keys(ge).forEach(function(wr){var $r=ge[wr],rn=kt[wr],Xr,Sn,ea=Oe.block();if(ea(tr,".",$r,"("),Sa(rn)){var Aa=rn.length;Xr=Oe.global.def(Qe,".",wr),Sn=Oe.global.def(lr,".",wr),ea(Pn(Aa,function(Zn){return Xr+"["+Zn+"]"}),");",Pn(Aa,function(Zn){return Sn+"["+Zn+"]="+Xr+"["+Zn+"];"}).join("")),ye("if(",Pn(Aa,function(Zn){return Xr+"["+Zn+"]!=="+Sn+"["+Zn+"]"}).join("||"),"){",ea,"}")}else Xr=yr.def(Qe,".",wr),Sn=yr.def(lr,".",wr),ea(Xr,");",lr,".",wr,"=",Xr,";"),ye("if(",Xr,"!==",Sn,"){",ea,"}");Ze(ea)}),Oe.compile()}(),compile:Pa}}function md(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var sc=34918,Io=34919,Vf=35007,Hf=function(Lt,we){if(!we.ext_disjoint_timer_query)return null;var Ge=[];function Pr(){return Ge.pop()||we.ext_disjoint_timer_query.createQueryEXT()}function Jr(yt){Ge.push(yt)}var Ir=[];function Ur(yt){var Ot=Pr();we.ext_disjoint_timer_query.beginQueryEXT(Vf,Ot),Ir.push(Ot),N(Ir.length-1,Ir.length,yt)}function vn(){we.ext_disjoint_timer_query.endQueryEXT(Vf)}function yn(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var wn=[];function bn(){return wn.pop()||new yn}function _n(yt){wn.push(yt)}var v=[];function N(yt,Ot,kt){var Vt=bn();Vt.startQueryIndex=yt,Vt.endQueryIndex=Ot,Vt.sum=0,Vt.stats=kt,v.push(Vt)}var K=[],it=[];function ht(){var yt,Ot,kt=Ir.length;if(kt!==0){it.length=Math.max(it.length,kt+1),K.length=Math.max(K.length,kt+1),K[0]=0,it[0]=0;var Vt=0;for(yt=0,Ot=0;Ot<Ir.length;++Ot){var le=Ir[Ot];we.ext_disjoint_timer_query.getQueryObjectEXT(le,Io)?(Vt+=we.ext_disjoint_timer_query.getQueryObjectEXT(le,sc),Jr(le)):Ir[yt++]=le,K[Ot+1]=Vt,it[Ot+1]=yt}for(Ir.length=yt,yt=0,Ot=0;Ot<v.length;++Ot){var xe=v[Ot],ge=xe.startQueryIndex,Be=xe.endQueryIndex;xe.sum+=K[Be]-K[ge];var ar=it[ge],Yr=it[Be];Yr===ar?(xe.stats.gpuTime+=xe.sum/1e6,_n(xe)):(xe.startQueryIndex=ar,xe.endQueryIndex=Yr,v[yt++]=xe)}v.length=yt}}return{beginQuery:Ur,endQuery:vn,pushScopeStats:N,update:ht,getNumPendingQueries:function(){return Ir.length},clear:function(){Ge.push.apply(Ge,Ir);for(var yt=0;yt<Ge.length;yt++)we.ext_disjoint_timer_query.deleteQueryEXT(Ge[yt]);Ir.length=0,Ge.length=0},restore:function(){Ir.length=0,Ge.length=0}}},yd=16384,Hs=256,Zf=1024,Hc=34962,uc="webglcontextlost",Yu="webglcontextrestored",Zc=1,Zs=2,Kc=3;function lc(Lt,we){for(var Ge=0;Ge<Lt.length;++Ge)if(Lt[Ge]===we)return Ge;return-1}function wl(Lt){var we=dn(Lt);if(!we)return null;var Ge=we.gl,Pr=Ge.getContextAttributes(),Jr=Ge.isContextLost(),Ir=En(Ge,we);if(!Ir)return null;var Ur=Je(),vn=md(),yn=Ir.extensions,wn=Hf(Ge,yn),bn=We(),_n=Ge.drawingBufferWidth,v=Ge.drawingBufferHeight,N={tick:0,time:0,viewportWidth:_n,viewportHeight:v,framebufferWidth:_n,framebufferHeight:v,drawingBufferWidth:_n,drawingBufferHeight:v,pixelRatio:we.pixelRatio},K={},it={elements:null,primitive:4,count:-1,offset:0,instances:-1},ht=Ti(Ge,yn),yt=ra(Ge,vn,we,kt),Ot=ud(Ge,yn,ht,vn,yt);function kt(ia){return Ot.destroyBuffer(ia)}var Vt=Oo(Ge,yn,yt,vn),le=Mf(Ge,Ur,vn,we),xe=ff(Ge,yn,ht,function(){ar.procs.poll()},N,vn,we),ge=Ws(Ge,yn,ht,vn,we),Be=od(Ge,yn,ht,xe,ge,vn),ar=Wu(Ge,Ur,yn,ht,yt,Vt,xe,Be,K,Ot,le,it,N,wn,we),Yr=zl(Ge,Be,ar.procs.poll,N,Pr,yn,ht),dr=ar.next,pr=Ge.canvas,gr=[],xn=[],Ln=[],Cn=[we.onDestroy],Jn=null;function $n(){if(gr.length===0){wn&&wn.update(),Jn=null;return}Jn=Dr.next($n),Do();for(var ia=gr.length-1;ia>=0;--ia){var ka=gr[ia];ka&&ka(N,null,0)}Ge.flush(),wn&&wn.update()}function aa(){!Jn&&gr.length>0&&(Jn=Dr.next($n))}function pa(){Jn&&(Dr.cancel($n),Jn=null)}function da(ia){ia.preventDefault(),Jr=!0,pa(),xn.forEach(function(ka){ka()})}function Pi(ia){Ge.getError(),Jr=!1,Ir.restore(),le.restore(),yt.restore(),xe.restore(),ge.restore(),Be.restore(),Ot.restore(),wn&&wn.restore(),ar.procs.refresh(),aa(),Ln.forEach(function(ka){ka()})}pr&&(pr.addEventListener(uc,da,!1),pr.addEventListener(Yu,Pi,!1));function ma(){gr.length=0,pa(),pr&&(pr.removeEventListener(uc,da),pr.removeEventListener(Yu,Pi)),le.clear(),Be.clear(),ge.clear(),xe.clear(),Vt.clear(),yt.clear(),Ot.clear(),wn&&wn.clear(),Cn.forEach(function(ia){ia()})}function $i(ia){Pt(!!ia,"invalid args to regl({...})"),Pt.type(ia,"object","invalid args to regl({...})");function ka(Er){var tr=C({},Er);delete tr.uniforms,delete tr.attributes,delete tr.context,delete tr.vao,"stencil"in tr&&tr.stencil.op&&(tr.stencil.opBack=tr.stencil.opFront=tr.stencil.op,delete tr.stencil.op);function Qe(lr){if(lr in tr){var Ie=tr[lr];delete tr[lr],Object.keys(Ie).forEach(function(Ke){tr[lr+"."+Ke]=Ie[Ke]})}}return Qe("blend"),Qe("depth"),Qe("cull"),Qe("stencil"),Qe("polygonOffset"),Qe("scissor"),Qe("sample"),"vao"in Er&&(tr.vao=Er.vao),tr}function Ha(Er,tr){var Qe={},lr={};return Object.keys(Er).forEach(function(Ie){var Ke=Er[Ie];if(Gr.isDynamic(Ke)){lr[Ie]=Gr.unbox(Ke,Ie);return}else if(tr&&Array.isArray(Ke)){for(var Te=0;Te<Ke.length;++Te)if(Gr.isDynamic(Ke[Te])){lr[Ie]=Gr.unbox(Ke,Ie);return}}Qe[Ie]=Ke}),{dynamic:lr,static:Qe}}var mo=Ha(ia.context||{},!0),Ks=Ha(ia.uniforms||{},!0),cc=Ha(ia.attributes||{},!1),ke=Ha(ka(ia),!1),kr={gpuTime:0,cpuTime:0,count:0},Cr=ar.compile(ke,cc,Ks,mo,kr),Xn=Cr.draw,Pa=Cr.batch,Oe=Cr.scope,ye=[];function Ze(Er){for(;ye.length<Er;)ye.push(null);return ye}function yr(Er,tr){var Qe;if(Jr&&Pt.raise("context lost"),typeof Er=="function")return Oe.call(this,null,Er,0);if(typeof tr=="function")if(typeof Er=="number")for(Qe=0;Qe<Er;++Qe)Oe.call(this,null,tr,Qe);else if(Array.isArray(Er))for(Qe=0;Qe<Er.length;++Qe)Oe.call(this,Er[Qe],tr,Qe);else return Oe.call(this,Er,tr,0);else if(typeof Er=="number"){if(Er>0)return Pa.call(this,Ze(Er|0),Er|0)}else if(Array.isArray(Er)){if(Er.length)return Pa.call(this,Er,Er.length)}else return Xn.call(this,Er)}return C(yr,{stats:kr,destroy:function(){Cr.destroy()}})}var xi=Be.setFBO=$i({framebuffer:Gr.define.call(null,Zc,"framebuffer")});function za(ia,ka){var Ha=0;ar.procs.poll();var mo=ka.color;mo&&(Ge.clearColor(+mo[0]||0,+mo[1]||0,+mo[2]||0,+mo[3]||0),Ha|=yd),"depth"in ka&&(Ge.clearDepth(+ka.depth),Ha|=Hs),"stencil"in ka&&(Ge.clearStencil(ka.stencil|0),Ha|=Zf),Pt(!!Ha,"called regl.clear with no buffer specified"),Ge.clear(Ha)}function Oi(ia){if(Pt(typeof ia=="object"&&ia,"regl.clear() takes an object as input"),"framebuffer"in ia)if(ia.framebuffer&&ia.framebuffer_reglType==="framebufferCube")for(var ka=0;ka<6;++ka)xi(C({framebuffer:ia.framebuffer.faces[ka]},ia),za);else xi(ia,za);else za(null,ia)}function Qi(ia){Pt.type(ia,"function","regl.frame() callback must be a function"),gr.push(ia);function ka(){var Ha=lc(gr,ia);Pt(Ha>=0,"cannot cancel a frame twice");function mo(){var Ks=lc(gr,mo);gr[Ks]=gr[gr.length-1],gr.length-=1,gr.length<=0&&pa()}gr[Ha]=mo}return aa(),{cancel:ka}}function Mo(){var ia=dr.viewport,ka=dr.scissor_box;ia[0]=ia[1]=ka[0]=ka[1]=0,N.viewportWidth=N.framebufferWidth=N.drawingBufferWidth=ia[2]=ka[2]=Ge.drawingBufferWidth,N.viewportHeight=N.framebufferHeight=N.drawingBufferHeight=ia[3]=ka[3]=Ge.drawingBufferHeight}function Do(){N.tick+=1,N.time=Ca(),Mo(),ar.procs.poll()}function go(){xe.refresh(),Mo(),ar.procs.refresh(),wn&&wn.update()}function Ca(){return(We()-bn)/1e3}go();function Bo(ia,ka){Pt.type(ka,"function","listener callback must be a function");var Ha;switch(ia){case"frame":return Qi(ka);case"lost":Ha=xn;break;case"restore":Ha=Ln;break;case"destroy":Ha=Cn;break;default:Pt.raise("invalid event, must be one of frame,lost,restore,destroy")}return Ha.push(ka),{cancel:function(){for(var mo=0;mo<Ha.length;++mo)if(Ha[mo]===ka){Ha[mo]=Ha[Ha.length-1],Ha.pop();return}}}}var Ka=C($i,{clear:Oi,prop:Gr.define.bind(null,Zc),context:Gr.define.bind(null,Zs),this:Gr.define.bind(null,Kc),draw:$i({}),buffer:function(ia){return yt.create(ia,Hc,!1,!1)},elements:function(ia){return Vt.create(ia,!1)},texture:xe.create2D,cube:xe.createCube,renderbuffer:ge.create,framebuffer:Be.create,framebufferCube:Be.createCube,vao:Ot.createVAO,attributes:Pr,frame:Qi,on:Bo,limits:ht,hasExtension:function(ia){return ht.extensions.indexOf(ia.toLowerCase())>=0},read:Yr,destroy:ma,_gl:Ge,_refresh:go,poll:function(){Do(),wn&&wn.update()},now:Ca,stats:vn});return we.onDone(null,Ka),Ka}return wl})},937478:function(ze,G,C){"use strict";var m=C(340210),R=C(921924),S=C(470631),M=m("%TypeError%"),L=m("%WeakMap%",!0),P=m("%Map%",!0),p=R("WeakMap.prototype.get",!0),g=R("WeakMap.prototype.set",!0),w=R("WeakMap.prototype.has",!0),x=R("Map.prototype.get",!0),y=R("Map.prototype.set",!0),T=R("Map.prototype.has",!0),E=function(f,W){for(var X=f,z;(z=X.next)!==null;X=z)if(z.key===W)return X.next=z.next,z.next=f.next,f.next=z,z},D=function(f,W){var X=E(f,W);return X&&X.value},k=function(f,W,X){var z=E(f,W);z?z.value=X:f.next={key:W,next:f.next,value:X}},b=function(f,W){return!!E(f,W)};ze.exports=function(){var W,X,z,U={assert:function(j){if(!U.has(j))throw new M("Side channel does not contain "+S(j))},get:function(j){if(L&&j&&(typeof j=="object"||typeof j=="function")){if(W)return p(W,j)}else if(P){if(X)return x(X,j)}else if(z)return D(z,j)},has:function(j){if(L&&j&&(typeof j=="object"||typeof j=="function")){if(W)return w(W,j)}else if(P){if(X)return T(X,j)}else if(z)return b(z,j);return!1},set:function(j,V){L&&j&&(typeof j=="object"||typeof j=="function")?(W||(W=new L),g(W,j,V)):P?(X||(X=new P),y(X,j,V)):(z||(z={key:{},next:null}),k(z,j,V))}};return U}},952191:function(ze,G){"use strict";var C;C={value:!0},C=b,G.Rs=f,C=W,C=X,G.Yf=z,G.Lo=U,G.lu=V,G.hy=J,G.Lq=q,C=et,G.dt=st,G.GX=ot,C=mt,G.Ck=Bt,G.YJ=St,C=wt,C=H,C=Q,C=bt;var m={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R=["Webkit","ms","Moz","O"];function S(Ct,nt){return Ct+nt.charAt(0).toUpperCase()+nt.substring(1)}Object.keys(m).forEach(function(Ct){R.forEach(function(nt){m[S(nt,Ct)]=m[Ct]})});var M=/^(normal|none|(\b(url\([^)]*\)|chapter_counter|attr\([^)]*\)|(no-)?(open|close)-quote|inherit)((\b\s*)|$|\s+))+)$/,L=function(){return typeof document=="undefined"?!1:!!(navigator&&(navigator.userAgent.indexOf("MSIE 8.0")>0||navigator.userAgent.indexOf("MSIE 9.0")>0))}(),P=1e5,p={aqua:[0,255,255,1],lime:[0,255,0,1],silver:[192,192,192,1],black:[0,0,0,1],maroon:[128,0,0,1],teal:[0,128,128,1],blue:[0,0,255,1],navy:[0,0,128,1],white:[255,255,255,1],fuchsia:[255,0,255,1],olive:[128,128,0,1],yellow:[255,255,0,1],orange:[255,165,0,1],gray:[128,128,128,1],purple:[128,0,128,1],green:[0,128,0,1],red:[255,0,0,1],pink:[255,192,203,1],cyan:[0,255,255,1],transparent:[255,255,255,0]},g=Math.PI/180,w=180/Math.PI,x={_lists:{transformsBase:["translate","translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ","rotate"],transforms3D:["translate3d","translateZ","scaleZ","rotateX","rotateY","perspective"]},transformGroup:{translate:1,translate3d:1,scale:1,scale3d:1,rotate:1,rotate3d:1,skew:1},filter:["grayScale","sepia","hueRotate","invert","brightness","contrast","blur"],filterConvert:{grayScale:"grayscale",hueRotate:"hue-rotate"}};x._lists.transformsBase=L?x._lists.transformsBase:x._lists.transformsBase.concat(x._lists.transforms3D);var y=C=/#([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{3})/,T=C=/((rgb|hsl)[a]?)+\((?:\d|\.\d)+(?:(deg|\%|)),[\s+]?(?:\d|\.\d)+(?:(deg|\%|)),[\s+]?(?:\d|\.\d)+(?:(deg|%|))(,[\s+]?(?:\d|\.\d)+(?:(deg|\%|)))?\)/,E=G.rV=/#([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{3})|((rgb|hsl)[a]?)+\((?:\d|\.\d)+(?:(deg|\%)?),[\s+]?(?:\d|\.\d)+(?:(deg|\%)?),[\s+]?(?:\d|\.\d)+(?:(deg|%)?)(,[\s+]?(?:\d|\.\d)+(?:(deg|\%)?))?\)/,D=C=/(?:\d|\.\d)+(%?)/g,k=G._T=x;function b(Ct){return Ct.replace(/[A-Z]/,function(nt){return"-"+nt.toLocaleLowerCase()})}function f(Ct){return Ct.replace(/-(.?)/g,function(nt){return nt.replace("-","").toLocaleUpperCase()})}function W(Ct,nt){var dt=nt?Math.pow(10,nt):P,Tt=Ct|0,At=Ct-Tt,xt=Ct;if(At){var Dt=(At*dt+(Ct<0?-.5:.5)|0)/dt,Ht=Dt|0,se=Dt.toString(),re=se.split(".")[1]||"";xt=(Ct<0&&!(Tt+Ht)?"-":"")+(Tt+Ht)+"."+re}return parseFloat(xt)}function X(Ct){if(typeof document=="undefined")return null;var nt=["WebKitCSS","MozCSS","DOM","MsCSS","MSCSS","OCSS","CSS"].filter(function(dt){return dt+"Matrix"in window});return nt.length?new window[nt[0]+"Matrix"](Ct):(console.warn("Browsers do not support matrix."),"")}function z(Ct){if(typeof document=="undefined")return null;var nt=["O","Moz","ms","Ms","Webkit"];if(Ct!=="filter"&&Ct in document.body.style)return Ct;var dt=Ct.charAt(0).toUpperCase()+Ct.substr(1),Tt=nt.filter(function(At){return""+At+dt in document.body.style});return Tt[0]?""+Tt[0]+dt:null}function U(Ct){var nt=Ct;return nt=nt==="x"?"translateX":nt,nt=nt==="y"?"translateY":nt,nt=nt==="z"?"translateZ":nt,nt}var j=function(nt,dt,Tt){return Tt<0&&(Tt+=6),Tt>=6&&(Tt-=6),Tt<1?(dt-nt)*Tt+nt:Tt<3?dt:Tt<4?(dt-nt)*(4-Tt)+nt:nt};function V(Ct){var nt=p.transparent,dt=Ct,Tt=void 0,At=void 0,xt=void 0;if(!dt)nt=p.transparent;else if(p[dt])nt=p[dt];else if(typeof dt=="number")nt=[dt>>16,dt>>8&255,dt&255];else if(dt.charAt(dt.length-1)===","&&(dt=dt.substr(0,dt.length-1)),dt.match(y))dt=dt.substr(1),dt.length===3&&(Tt=dt.charAt(0),At=dt.charAt(1),xt=dt.charAt(2),dt=""+Tt+Tt+At+At+xt+xt+"ff"),dt.length===6&&(dt+="ff"),dt=parseInt(dt,16),nt=[dt>>24&255,dt>>16&255,dt>>8&255,parseFloat(((dt&255)/255).toFixed(2))];else if(dt.match(/^hsl/)){nt=dt.match(D);var Dt=nt[3];Dt=typeof Dt=="string"&&Dt.match("%")?parseFloat(Dt)/100:parseFloat(""+(Dt||"1"));var Ht=parseFloat(nt[0])/60,se=parseFloat(nt[1])/100,re=parseFloat(nt[2])/100,It=re<=.5?re*(se+1):re+se-re*se,ne=re*2-It;Tt=Math.round(j(ne,It,Ht+2)*255),At=Math.round(j(ne,It,Ht)*255),xt=Math.round(j(ne,It,Ht-2)*255),nt=[Tt,At,xt,Dt]}else nt=dt.match(D)||p.transparent,nt=nt.map(function(pe){return parseFloat(pe)}),nt.length===3&&nt.push(1);return nt}function J(Ct,nt){var dt=nt&&f(nt);if(!Ct)return dt==="boxShadow"?[0,0,0,0,0,0,0,0]:[0,0,0,0,0,0,0];var Tt=Ct.replace(/,\s+/gi,",").split(/\s+/).filter(function(se){return se}),At=Tt.indexOf("inset");At>=0&&Tt.splice(At,1);var xt=Tt.find(function(se){return p[se]||se.match(/#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})|(rgb|hsl)+(?:a)?\((.*)\)/i)})||"black",Dt=Tt.indexOf(xt);Tt.splice(Dt,1);var Ht=V(xt);return Ht[3]=typeof Ht[3]=="number"?Ht[3]:1,dt==="boxShadow"&&Tt.length<4&&Tt.push(0),Tt.concat(Ht,At>=0?["inset"]:[])}function q(Ct){var nt=Ct.length===4?"rgba":"rgb",dt=Ct.map(function(Tt,At){return At<3?Math.round(Tt):Tt});return nt+"("+dt.join(",")+")"}function et(Ct){return k._lists.transformsBase.indexOf(Ct)>=0?"transform":Ct}function st(Ct){var nt=et(Ct);return k.filter.indexOf(nt)>=0?"filter":nt}function ot(Ct){if(Ct==="none"||!Ct||Ct==="")return null;var nt=Ct.replace(/\s+/g,"").split(")").filter(function(Tt){return Tt}),dt={};return nt.forEach(function(Tt){var At=Tt.split("(");dt[At[0]]=At[1]}),dt}function mt(Ct){var nt=Ct.match(/(?:\-|\b)[\d\-\.e]+\b/gi),dt={};return nt.length===6?(dt.m11=parseFloat(nt[0]),dt.m12=parseFloat(nt[1]),dt.m13=0,dt.m14=0,dt.m21=parseFloat(nt[2]),dt.m22=parseFloat(nt[3]),dt.m23=0,dt.m24=0,dt.m31=0,dt.m32=0,dt.m33=1,dt.m34=0,dt.m41=parseFloat(nt[4]),dt.m42=parseFloat(nt[5]),dt.m43=0,dt.m44=0):nt.forEach(function(Tt,At){var xt=At%4+1,Dt=Math.floor(At/4)+1;dt["m"+Dt+xt]=parseFloat(Tt)}),dt}function ft(Ct){var nt={};return nt.translateX=0,nt.translateY=0,nt.translateZ=0,nt.rotate=0,nt.rotateX=0,nt.rotateY=0,nt.scaleX=1,nt.scaleY=1,nt.scaleZ=1,nt.skewX=0,nt.skewY=0,nt.perspective=0,(Ct.trim().match(/(\w+)\([^\)]+\)/ig)||[]).forEach(function(dt){var Tt=dt.split("("),At=Tt[0].trim(),xt=Tt[1].replace(")","").trim();xt.match(/%|em|rem/ig)&&console.warn("value("+xt+") must be absolute, not relative, has been converted to absolute."),xt=xt.replace(/px|deg|\)/ig,""),k.transformGroup[At]&&At!=="rotate"?(xt=xt.split(",").map(function(Dt){return parseFloat(Dt)}),At==="scale3d"||At==="translate3d"?["X","Y","Z"].forEach(function(Dt,Ht){var se=At.substring(0,At.length-2);nt[""+se+Dt]=xt[Ht]||nt[""+se+Dt]}):At==="rotate3d"?(nt.rotateX=xt[0]&&xt[3]||nt.rotateX,nt.rotateY=xt[1]&&xt[3]||nt.rotateY,nt.rotate=xt[2]&&xt[3]||nt.rotate):["X","Y"].forEach(function(Dt,Ht){nt[""+At+Dt]=xt[Ht]||nt[""+At+Dt]})):At==="rotateZ"?nt.rotate=parseFloat(xt)||nt.rotate:nt[At]=parseFloat(xt)||nt[At]}),nt}function Bt(Ct){var nt=!Ct||Ct==="none"||Ct===""?"matrix(1, 0, 0, 1, 0, 0)":Ct;if(!nt.match("matrix"))return ft(Ct);var dt=mt(nt),Tt=dt.m11,At=dt.m12,xt=dt.m13,Dt=dt.m14,Ht=dt.m21,se=dt.m22,re=dt.m23,It=dt.m24,ne=dt.m31,pe=dt.m32,Wt=dt.m33,Jt=dt.m34,$t=dt.m43,Kt=void 0,ue=void 0,Se=void 0,Pt={},Fe=Math.atan2(re,Wt),vr=Math.tan(Ht),Tr=Math.tan(At),Or=void 0,Fr=void 0;return Pt.rotateX=W(Fe*w)||0,Fe&&(Or=Math.cos(-Fe),Fr=Math.sin(-Fe),Kt=Ht*Or+ne*Fr,ue=se*Or+pe*Fr,Se=re*Or+Wt*Fr,ne=Ht*-Fr+ne*Or,pe=se*-Fr+pe*Or,Wt=re*-Fr+Wt*Or,Jt=It*-Fr+Jt*Or,Ht=Kt,se=ue,re=Se),Fe=Math.atan2(-xt,Wt),Pt.rotateY=W(Fe*w)||0,Fe&&(Or=Math.cos(-Fe),Fr=Math.sin(-Fe),Kt=Tt*Or-ne*Fr,ue=At*Or-pe*Fr,Se=xt*Or-Wt*Fr,pe=At*Fr+pe*Or,Wt=xt*Fr+Wt*Or,Jt=Dt*Fr+Jt*Or,Tt=Kt,At=ue,xt=Se),Fe=Math.atan2(At,Tt),Pt.rotate=W(Fe*w)||0,Fe&&(Or=Math.cos(Fe),Fr=Math.sin(Fe),Kt=Tt*Or+At*Fr,ue=Ht*Or+se*Fr,Se=ne*Or+pe*Fr,At=At*Or-Tt*Fr,se=se*Or-Ht*Fr,pe=pe*Or-ne*Fr,Tt=Kt,Ht=ue,ne=Se),Pt.rotateX&&Math.abs(Pt.rotateX)+Math.abs(Pt.rotate)>359.9&&(Pt.rotateX=Pt.rotate=0,Pt.rotateY=180-Pt.rotateY||0),Pt.scaleX=W(Math.sqrt(Tt*Tt+At*At+xt*xt)),Pt.scaleY=W(Math.sqrt(se*se+re*re)),Pt.scaleZ=W(Math.sqrt(ne*ne+pe*pe+Wt*Wt)),Pt.skewX=vr===-Tr?0:vr,Pt.skewY=Tr===-vr?0:Tr,Pt.perspective=Jt?1/(Jt<0?-Jt:Jt):0,Pt.translateX=dt.m41,Pt.translateY=dt.m42,Pt.translateZ=$t,Pt}function St(Ct,nt){var dt=void 0;return!m[Ct]&&typeof nt=="number"?dt=" "+nt+"px":Ct==="content"&&!M.test(nt)&&(dt="'"+nt.replace(/'/g,"\\'")+"'"),dt||nt}function wt(Ct,nt){var dt=nt&&nt.toString().replace(/[^a-z|%]/ig,""),Tt="";return Ct.indexOf("translate")>=0||Ct.indexOf("perspective")>=0||Ct.indexOf("blur")>=0?Tt="px":(Ct.indexOf("skew")>=0||Ct.indexOf("rotate")>=0)&&(Tt="deg"),dt||Tt}function H(Ct,nt,dt){return Ct+"("+nt+(dt||"")+")"}function Q(Ct,nt){var dt=null;return Ct&&Ct.forEach(function(Tt){if(!dt){var At=Tt.split("(")[0],xt=At in k.transformGroup&&nt.substring(0,nt.length-1).indexOf(At)>=0,Dt=nt in k.transformGroup&&At.substring(0,At.length-1).indexOf(nt)>=0,Ht=At in k.transformGroup&&nt in k.transformGroup&&(At.substring(0,At.length-2)===nt||nt.substring(0,nt.length-2)===At);(At===nt||xt||Dt||Ht)&&(dt=Tt)}}),dt}function bt(Ct,nt){if(!Ct||Ct==="")return nt;if(!nt||nt==="")return Ct;var dt=Ct.replace(/\s/g,"").split(")").filter(function(At){return At!==""&&At}).map(function(At){return At+")"}),Tt=nt.replace(/\s/g,"").split(")").filter(function(At){return At!==""&&At});return Tt.forEach(function(At){var xt=At.split("("),Dt=xt[0],Ht=Q(dt,Dt);if(!Ht)dt.push(At+")");else{var se=dt.indexOf(Ht);dt[se]=At+")"}}),dt.forEach(function(At,xt){At.indexOf("perspective")>=0&&xt&&(dt.splice(xt,1),dt.unshift(At))}),dt.join(" ").trim()}},141e3:function(ze){"use strict";var G={linear:function(C,m,R,S){var M=R-m;return M*C/S+m},easeInQuad:function(C,m,R,S){var M=R-m;return M*(C/=S)*C+m},easeOutQuad:function(C,m,R,S){var M=R-m;return-M*(C/=S)*(C-2)+m},easeInOutQuad:function(C,m,R,S){var M=R-m;return(C/=S/2)<1?M/2*C*C+m:-M/2*(--C*(C-2)-1)+m},easeInCubic:function(C,m,R,S){var M=R-m;return M*(C/=S)*C*C+m},easeOutCubic:function(C,m,R,S){var M=R-m;return M*((C=C/S-1)*C*C+1)+m},easeInOutCubic:function(C,m,R,S){var M=R-m;return(C/=S/2)<1?M/2*C*C*C+m:M/2*((C-=2)*C*C+2)+m},easeInQuart:function(C,m,R,S){var M=R-m;return M*(C/=S)*C*C*C+m},easeOutQuart:function(C,m,R,S){var M=R-m;return-M*((C=C/S-1)*C*C*C-1)+m},easeInOutQuart:function(C,m,R,S){var M=R-m;return(C/=S/2)<1?M/2*C*C*C*C+m:-M/2*((C-=2)*C*C*C-2)+m},easeInQuint:function(C,m,R,S){var M=R-m;return M*(C/=S)*C*C*C*C+m},easeOutQuint:function(C,m,R,S){var M=R-m;return M*((C=C/S-1)*C*C*C*C+1)+m},easeInOutQuint:function(C,m,R,S){var M=R-m;return(C/=S/2)<1?M/2*C*C*C*C*C+m:M/2*((C-=2)*C*C*C*C+2)+m},easeInSine:function(C,m,R,S){var M=R-m;return-M*Math.cos(C/S*(Math.PI/2))+M+m},easeOutSine:function(C,m,R,S){var M=R-m;return M*Math.sin(C/S*(Math.PI/2))+m},easeInOutSine:function(C,m,R,S){var M=R-m;return-M/2*(Math.cos(Math.PI*C/S)-1)+m},easeInExpo:function(C,m,R,S){var M=R-m;return C==0?m:M*Math.pow(2,10*(C/S-1))+m},easeOutExpo:function(C,m,R,S){var M=R-m;return C==S?m+M:M*(-Math.pow(2,-10*C/S)+1)+m},easeInOutExpo:function(C,m,R,S){var M=R-m;return C===0?m:C===S?m+M:(C/=S/2)<1?M/2*Math.pow(2,10*(C-1))+m:M/2*(-Math.pow(2,-10*--C)+2)+m},easeInCirc:function(C,m,R,S){var M=R-m;return-M*(Math.sqrt(1-(C/=S)*C)-1)+m},easeOutCirc:function(C,m,R,S){var M=R-m;return M*Math.sqrt(1-(C=C/S-1)*C)+m},easeInOutCirc:function(C,m,R,S){var M=R-m;return(C/=S/2)<1?-M/2*(Math.sqrt(1-C*C)-1)+m:M/2*(Math.sqrt(1-(C-=2)*C)+1)+m},easeInElastic:function(C,m,R,S){var M=R-m,L,P,p;return p=1.70158,P=0,L=M,C===0?m:(C/=S)===1?m+M:(P||(P=S*.3),L<Math.abs(M)?(L=M,p=P/4):p=P/(2*Math.PI)*Math.asin(M/L),-(L*Math.pow(2,10*(C-=1))*Math.sin((C*S-p)*(2*Math.PI)/P))+m)},easeOutElastic:function(C,m,R,S){var M=R-m,L,P,p;return p=1.70158,P=0,L=M,C===0?m:(C/=S)===1?m+M:(P||(P=S*.3),L<Math.abs(M)?(L=M,p=P/4):p=P/(2*Math.PI)*Math.asin(M/L),L*Math.pow(2,-10*C)*Math.sin((C*S-p)*(2*Math.PI)/P)+M+m)},easeInOutElastic:function(C,m,R,S){var M=R-m,L,P,p;return p=1.70158,P=0,L=M,C===0?m:(C/=S/2)===2?m+M:(P||(P=S*.44999999999999996),L<Math.abs(M)?(L=M,p=P/4):p=P/(2*Math.PI)*Math.asin(M/L),C<1?-.5*(L*Math.pow(2,10*(C-=1))*Math.sin((C*S-p)*(2*Math.PI)/P))+m:L*Math.pow(2,-10*(C-=1))*Math.sin((C*S-p)*(2*Math.PI)/P)*.5+M+m)},easeInBack:function(C,m,R,S,M){var L=R-m;return M===void 0&&(M=1.70158),L*(C/=S)*C*((M+1)*C-M)+m},easeOutBack:function(C,m,R,S,M){var L=R-m;return M===void 0&&(M=1.70158),L*((C=C/S-1)*C*((M+1)*C+M)+1)+m},easeInOutBack:function(C,m,R,S,M){var L=R-m;return M===void 0&&(M=1.70158),(C/=S/2)<1?L/2*(C*C*(((M*=1.525)+1)*C-M))+m:L/2*((C-=2)*C*(((M*=1.525)+1)*C+M)+2)+m},easeInBounce:function(C,m,R,S){var M=R-m,L;return L=G.easeOutBounce(S-C,0,M,S),M-L+m},easeOutBounce:function(C,m,R,S){var M=R-m;return(C/=S)<.36363636363636365?M*(7.5625*C*C)+m:C<.7272727272727273?M*(7.5625*(C-=.5454545454545454)*C+.75)+m:C<.9090909090909091?M*(7.5625*(C-=.8181818181818182)*C+.9375)+m:M*(7.5625*(C-=.9545454545454546)*C+.984375)+m},easeInOutBounce:function(C,m,R,S){var M=R-m,L;return C<S/2?(L=G.easeInBounce(C*2,0,M,S),L*.5+m):(L=G.easeOutBounce(C*2-S,0,M,S),L*.5+M*.5+m)}};ze.exports=G},364687:function(ze,G,C){var m=C(817061)();ze.exports=m;try{regeneratorRuntime=m}catch(R){typeof globalThis=="object"?globalThis.regeneratorRuntime=m:Function("r","regeneratorRuntime = r")(m)}},577134:function(ze,G,C){"use strict";C.d(G,{Z:function(){return D}});var m=C(667294),R=C(785893),S=k=>{let b=k;for(;b=b.parentElement;){const f=getComputedStyle(b,null).getPropertyValue("overflow-y");if(b===document.body)return window;if(f==="auto"||f==="scroll")return b}return window},M=k=>k.firstChild?k.firstChild.offsetParent===k:!0,L=(k,b)=>{let f=k,W=0;M(b)||(W+=k.offsetTop-b.offsetTop,b=k.offsetParent,W+=-k.offsetTop);do W+=f.offsetTop,f=f.offsetParent;while(f&&f!==b);return W},P=k=>{let b=k.parentElement;for(;b&&getComputedStyle(b,null).getPropertyValue("display")==="contents";)b=b.parentElement;return b||window},p=null;typeof CSS!="undefined"&&CSS.supports&&(CSS.supports("position","sticky")?p="sticky":CSS.supports("position","-webkit-sticky")&&(p="-webkit-sticky"));var g=!1;try{const k=Object.defineProperty({},"passive",{get(){g={passive:!0}}}),b=()=>{};window.addEventListener("testPassive",b,k),window.removeEventListener("testPassive",b,k)}catch(k){}var w=k=>{const{el:b,onChange:f,unsubs:W,measure:X}=k;if(b===window){const z=()=>({top:0,left:0,height:window.innerHeight,width:window.innerWidth}),U=X(z()),j=()=>{Object.assign(U,X(z())),f()};return window.addEventListener("resize",j,g),W.push(()=>window.addEventListener("resize",j,g)),U}else{const z=X(b.getBoundingClientRect()),U=()=>{Object.assign(z,X(b.getBoundingClientRect())),f()},j=new ResizeObserver(U);return j.observe(b),W.push(()=>j.disconnect()),z}},x=k=>{const b=getComputedStyle(k,null),f=parseInt(b.getPropertyValue("padding-top"),10),W=parseInt(b.getPropertyValue("padding-bottom"),10);return{top:f,bottom:W}},y=(k,b,f)=>{const{bottom:W,offsetBottom:X,offsetTop:z}=f,U=S(k);let j=!1;const V=()=>{j||requestAnimationFrame(()=>{const nt=et();nt!==H&&Q(nt),j=!1}),j=!0};let J=U===window?window.scrollY:U.scrollTop;const q=nt=>{const{offsetTop:dt,height:Tt}=ot,{naturalTop:At}=Bt,{height:xt}=St;return nt+dt+Tt>=At+xt+wt+X},et=()=>{const{height:nt}=ot,{height:dt}=St;return dt+z+X<=nt?3:q(J)?1:2},st=U!==window&&M(U),ot=w({el:U,onChange:V,unsubs:b,measure:({height:nt,top:dt})=>({height:nt,offsetTop:st?dt:0})}),mt=P(k),ft=mt===window?{top:0,bottom:0}:x(mt),Bt=w({el:mt,onChange:V,unsubs:b,measure:({height:nt})=>({height:nt-ft.top-ft.bottom,naturalTop:mt===window?0:L(mt,U)+ft.top+ot.offsetTop})}),St=w({el:k,onChange:V,unsubs:b,measure:({height:nt})=>({height:nt})});let wt=0,H=et();const Q=nt=>{const dt=H;if(H=nt,dt===2&&(wt=-1),nt===3){k.style.position=p,W?k.style.bottom=`${X}px`:k.style.top=`${z}px`;return}const{height:Tt,offsetTop:At}=ot,{height:xt,naturalTop:Dt}=Bt,{height:Ht}=St;if(nt===2)if(k.style.position="relative",wt=dt===0?Math.max(0,At+J-Dt+z):Math.max(0,At+J+Tt-(Dt+Ht+X)),W){const se=Math.max(0,xt-Ht-wt);k.style.bottom=`${se}px`}else k.style.top=`${wt}px`;else k.style.position=p,nt===1?W?k.style.bottom=`${X}px`:k.style.top=`${Tt-Ht-X}px`:W?k.style.bottom=`${Tt-Ht-X}px`:k.style.top=`${z}px`};Q(H);const bt=nt=>{if(nt===J)return;const dt=nt-J;if(J=nt,H===3)return;const{offsetTop:Tt,height:At}=ot,{naturalTop:xt,height:Dt}=Bt,{height:Ht}=St;if(dt>0)if(H===0){if(nt+Tt+z>xt){const se=Math.max(0,Tt+J-xt+z);nt+Tt+At<=xt+Ht+se+X?Q(2):Q(1)}}else H===2&&q(nt)&&Q(1);else if(H===1){if(Tt+nt+At<xt+Dt+X){const se=Math.max(0,Tt+J+At-(xt+Ht+X));Tt+nt+z>=xt+se?Q(2):Q(0)}}else H===2&&Tt+nt+z<xt+wt&&Q(0)},Ct=U===window?()=>bt(window.scrollY):()=>bt(U.scrollTop);U.addEventListener("scroll",Ct,g),U.addEventListener("mousewheel",Ct,g),b.push(()=>U.removeEventListener("scroll",Ct),()=>U.removeEventListener("mousewheel",Ct))},T=({offsetTop:k=0,offsetBottom:b=0,bottom:f=!1}={})=>{const[W,X]=(0,m.useState)(null);return(0,m.useEffect)(()=>{if(!W||!p)return;const z=[];return y(W,z,{offsetBottom:b,offsetTop:k,bottom:f}),()=>{z.forEach(U=>U())}},[W,b,k,f]),X},E=k=>{const{offsetTop:b,offsetBottom:f,bottom:W,children:X,className:z,style:U}=k,j=T({offsetTop:b,offsetBottom:f,bottom:W});return(0,R.jsx)("div",{className:z,style:U,ref:j,children:X})},D=E}}]);
